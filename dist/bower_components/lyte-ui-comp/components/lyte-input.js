function _lyteInput(t){for(var e=window._lyteUiUtils.input,a=Object.keys(e||{}),i=0;i<a.length;i++){var o=e[a[i]].component;"click"==t.type?o.calenderClickHide.call(o,t):o.scrollFunc.call(o,t)}}Lyte.Component.register("lyte-input",{_template:'<template tag-name="lyte-input">\n     <template is="switch" value="{{ltPropType}}">\n       <template case="password">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                    <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n               </template></template> \n            <div class="lyteField {{if(ltPropValue, \'ltIconShow\',\'\')}}" style="{{ltPropWrapperStyle}}">\n                 <input pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" type="{{ltPropType}}" value="{{lbind(ltPropValue)}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" style="{{ltPropStyle}}" readonly="{{ltPropReadonly}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" title="{{ltPropInputTitle}}" oninput="{{action(\'input\', event)}}">\n                 <template is="if" value="{{ltPropCloseIcon}}"><template case="true">\n                    <span class="inputCloseIcon" onclick="{{action(\'clsIcon\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                 </template></template>\n               </div>\n         </template>\n        <template case="number">\n            <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n            <div class="lyteField {{if(ltPropValue, \'ltIconShow\',\'\')}}" style="{{ltPropWrapperStyle}}">\n                 <input pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" type="number" value="{{lbind(ltPropValue)}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" style="{{ltPropStyle}}" onkeydown="{{action(\'numberKeydown\', event, this)}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" step="{{ltPropStep}}" max="{{ltPropMax}}" min="{{ltPropMin}}" title="{{ltPropInputTitle}}" onpaste="{{action(\'numberPaste\', event, this)}}" oninput="{{action(\'input\', event, this)}}">\n                 <template is="if" value="{{ltPropCloseIcon}}"><template case="true">\n                    <span class="inputCloseIcon" onclick="{{action(\'clsIcon\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                 </template></template>\n               </div>\n         </template>\n         <template case="textarea">\n                <template is="if" value="{{ltPropLabel}}"><template case="true">\n                     <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n                </template></template>  \n              <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                  <textarea autocomplete="{{ltPropAutocomplete}}" pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" id="{{ltPropId}}" class="{{ltPropClass}}" value="{{lbind(ltPropValue)}}" rows="{{ltPropRows}}" cols="{{ltPropCols}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" style="{{ltPropStyle}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" title="{{ltPropInputTitle}}" oninput="{{action(\'input\', event)}}"></textarea>\n                   <template is="if" value="{{resize}}"><template case="true">\n                    <span class="lyteTextareaResize"></span>  \n                    </template></template>\n              </div>\n             </template>\n          <template case="date">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n              <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" type="text" id="{{ltPropId}}" class="{{ltPropClass}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" value="{{lbind(ltPropCurrentDate)}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" onkeydown="{{action(\'calendarKeydown\', event, this)}}" onclick="{{action(\'calendarClick\', event, this)}}" onfocus="{{action(\'showcalendar\', event, this)}}" onblur="{{action(\'blurThrow\', event)}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}" oninput="{{action(\'input\', event)}}" ondragstart="{{action( \'preventDrag\', event )}}">\n              </div>\n              <template is="if" value="{{ltPropBindToBody}}"><template case="true">\n                  <lyte-wormhole on-before-append="{{method(\'wormholeAppend\')}}">\n                        <template is="registerYield" yield-name="lyte-content">\n                            <div id="lyteCalendar" class="lyteInputCalendar lyteCalendarHidden {{ltPropCalendarClass}}" onmousedown="{{action(\'calmsdown\', event, this)}}">\n                                <lyte-calendar lt-prop-fill-rows="{{ltPropFillRows}}" lt-prop-number-of-rows="{{ltPropNumberOfRows}}" lt-prop-yield="{{ltPropYield}}" lt-prop-format="{{ltPropFormat}}" lt-prop-end-date="{{lbind(ltPropEndDate)}}" lt-prop-start-date="{{lbind(ltPropStartDate)}}" lt-prop-current-date="{{lbind(ltPropCurrentDate)}}" lt-prop-year="{{lbind(ltPropYear)}}" lt-prop-month-header-format="{{ltPropMonthHeaderFormat}}" on-date-selected="{{method(\'on-dateselected\')}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-start-week-day="{{ltPropStartWeekDay}}" lt-prop-header-type="{{ltPropHeaderType}}" on-navigate="{{method(\'calendarNavigate\')}}" on-viewdate-change="{{method(\'viewDateChange\')}}" on-view-change="{{method(\'viewChange\')}}">\n                                   <template is="if" value="{{ltPropYield}}"><template case="true"> \n                                      <template is="registerYield" yield-name="footer">\n                                          <lyte-yield yield-name="footer"></lyte-yield>\n                                      </template>\n                                   </template></template>   \n                                </lyte-calendar> \n                            </div>\n                         </template>\n                </lyte-wormhole>\n              </template></template>\n          </template>\n         <template case="datetime">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n              <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" class="{{ltPropClass}}" id="date" placeholder="{{ltPropPlaceholder}}" value="{{lbind(ltPropCurrentDate)}}" onkeydown="{{action(\'calendarKeydown\', event, this)}}" onclick="{{action(\'calendarClick\', event, this)}}" onfocus="{{action(\'showcalendar\', event, this)}}" onblur="{{action(\'blurThrow\', event)}}" oninput="{{action(\'input\', event)}}" ondragstart="{{action( \'preventDrag\', event )}}" disabled="{{ltPropDisabled}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" placeholder="{{ltPropTimePlaceholder}}" class="{{ltPropTimeClass}}" value="{{ltPropDefaultTime}}" id="time" onblur="{{action(\'timeBlur\', event, this)}}" onfocus="{{action(\'timeFocus\', event, this)}}" onkeydown="{{action(\'timeKeydown\', event, this)}}" onclick="{{action(\'timeClick\', event, this)}}" style="{{ltPropStyle}}" ondragstart="{{action( \'preventDrag\', event )}}" disabled="{{ltPropDisabled}}">\n              </div>\n               <template is="if" value="{{ltPropBindToBody}}"><template case="true">\n                  <lyte-wormhole on-before-append="{{method(\'wormholeAppend\')}}">\n                        <template is="registerYield" yield-name="lyte-content">\n                            <div id="lyteCalendar" class="lyteInputCalendar lyteCalendarHidden {{ltPropCalendarClass}}" onmousedown="{{action(\'calmsdown\', event, this)}}">\n                                <lyte-calendar lt-prop-fill-rows="{{ltPropFillRows}}" lt-prop-number-of-rows="{{ltPropNumberOfRows}}" lt-prop-yield="{{ltPropYield}}" lt-prop-format="{{ltPropFormat}}" lt-prop-end-date="{{lbind(ltPropEndDate)}}" lt-prop-start-date="{{lbind(ltPropStartDate)}}" lt-prop-current-date="{{lbind(ltPropCurrentDate)}}" lt-prop-year="{{lbind(ltPropYear)}}" lt-prop-month-header-format="{{ltPropMonthHeaderFormat}}" on-date-selected="{{method(\'on-dateselected\')}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-start-week-day="{{ltPropStartWeekDay}}" lt-prop-header-type="{{ltPropHeaderType}}" on-navigate="{{method(\'calendarNavigate\')}}" on-viewdate-change="{{method(\'viewDateChange\')}}" on-view-change="{{method(\'viewChange\')}}">\n                                   <template is="if" value="{{ltPropYield}}"><template case="true"> \n                                      <template is="registerYield" yield-name="footer">\n                                          <lyte-yield yield-name="footer"></lyte-yield>\n                                      </template>\n                                   </template></template>   \n                                </lyte-calendar> \n                            </div>\n                         </template>\n                  </lyte-wormhole>\n                </template></template>\n             <lyte-dropdown style="display: none;" lt-prop-position="{{ltPropPosition}}" lt-prop-yield="true" lt-prop-disabled="{{ltPropDropdownDisabled}}" lt-prop-show="{{ltPropDropdownShow}}" lt-prop-callout="{{ltPropDropdownCallout}}" lt-prop-boundary="{{ltPropBoundary}}" lt-prop-freeze="{{ltPropDropdownFreeze}}" on-hide="{{method(\'hide\')}}" on-show="{{method(\'show\')}}" on-before-hide="{{method(\'beforeHide\')}}" on-before-show="{{method(\'beforeShow\')}}" on-option-selected="{{method(\'optionSelected\')}}" on-position-changed="{{method(\'positionChange\')}}" on-scroll="{{method(\'scroll\')}}" lt-prop-selected="{{ltPropDefaultTime}}" lt-prop-animate="{{ltPropAnimate}}">\n               <template is="registerYield" yield-name="yield">\n                  <lyte-drop-button style="display: none;"></lyte-drop-button>\n                  <lyte-drop-box id="{{ltPropDropdownId}}" class="{{ltPropDropdownClass}}">\n                    <lyte-drop-body>\n                      <template is="for" items="{{dropdownData}}" item="item" index="index">\n                          <lyte-drop-item data-value="{{item.time}}">\n                            <template is="if" value="{{ltPropYield}}"><template case="true">\n                                 <lyte-yield yield-name="yield" item-value="{{item}}"></lyte-yield>\n                            </template><template case="false">\n                                <span>{{item.time}}</span>\n                                <template is="if" value="{{ltPropShowInterval}}"><template case="true">\n                                   <span style="opacity: 0.5;float: right;margin-left: 5px; ">{{item.interval}}</span>\n                                 </template></template></template></template>\n                          </lyte-drop-item>\n                      </template>\n                    </lyte-drop-body>\n                  </lyte-drop-box>\n               </template>\n             </lyte-dropdown>\n          </template>\n         <template case="time">\n            <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n            <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" value="{{ltPropDefaultTime}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" onblur="{{action(\'timeBlur\', event, this)}}" onfocus="{{action(\'timeFocus\', event, this)}}" onkeydown="{{action(\'timeKeydown\', event, this)}}" onclick="{{action(\'timeClick\', event, this)}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}" ondragstart="{{action( \'preventDrag\', event )}}">\n              </div>\n              <template is="if" value="{{ltPropDropdown}}"><template case="true">\n                   <lyte-dropdown style="display: none;" lt-prop-position="{{ltPropPosition}}" lt-prop-yield="true" lt-prop-disabled="{{ltPropDropdownDisabled}}" lt-prop-show="{{ltPropDropdownShow}}" lt-prop-callout="{{ltPropDropdownShow}}" lt-prop-boundary="{{ltPropBoundary}}" lt-prop-freeze="{{ltPropDropdownFreeze}}" on-hide="{{method(\'hide\')}}" on-show="{{method(\'show\')}}" on-before-hide="{{method(\'beforeHide\')}}" on-before-show="{{method(\'beforeShow\')}}" on-option-selected="{{method(\'optionSelected\')}}" on-position-changed="{{method(\'positionChange\')}}" on-scroll="{{method(\'scroll\')}}" lt-prop-selected="{{ltPropDefaultTime}}" lt-prop-animate="{{ltPropAnimate}}">\n                     <template is="registerYield" yield-name="yield">\n                        <lyte-drop-button style="display: none;"></lyte-drop-button>\n                        <lyte-drop-box id="{{ltPropDropdownId}}" class="{{ltPropDropdownClass}}">\n                          <lyte-drop-body>\n                            <template is="for" items="{{dropdownData}}" item="item" index="index">\n                                <lyte-drop-item data-value="{{item.time}}">\n                                  <template is="if" value="{{ltPropYield}}"><template case="true">\n                                       <lyte-yield yield-name="yield" item-value="{{item}}"></lyte-yield>\n                                  </template><template case="false">\n                                      <span>{{item.time}}</span>\n                                      <template is="if" value="{{ltPropShowInterval}}"><template case="true">\n                                         <span style="opacity: 0.5;float: right;margin-left: 5px; ">{{item.interval}}</span>\n                                       </template></template></template></template>\n                                </lyte-drop-item>\n                            </template>\n                          </lyte-drop-body>\n                        </lyte-drop-box>\n                     </template>\n                   </lyte-dropdown> \n               </template></template>    \n            </template>\n         <template default="">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n              <div class="lyteField{{if(ltPropValue, \' ltIconShow\',\'\')}} {{isBox}}" style="{{ltPropWrapperStyle}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" value="{{lbind(ltPropValue)}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}" pattern="{{ltPropPattern}}" oninput="{{action(\'input\', event)}}">\n                 <template is="if" value="{{expHandlers(ltPropType,\'==\',&quot;search&quot;)}}"><template case="true">\n                    <span class="searchIcon"></span>\n                </template></template>\n                 <template is="if" value="{{ltPropCloseIcon}}"><template case="true">\n                    <span class="inputCloseIcon" onclick="{{action(\'clsIcon\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                 </template></template>\n              </div>\n          <template is="break"></template></template>      \n     </template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{password:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"},type:{name:"type",dynamicValue:"ltPropType"}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}}]},number:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"},value:{name:"value",dynamicValue:"ltPropValue",isLbind:!0}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}}]},textarea:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[]}},default:{}}]},date:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"insertYield",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]},datetime:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1]},{type:"attr",position:[3,3],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"insertYield",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[7]},{type:"registerYield",position:[7,1],dynamicNodes:[{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[7]}]},time:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[3,5]},{type:"if",position:[3,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}}]}}],_observedAttributes:["ltPropDisabled","ltPropAutofocus","ltPropAutocomplete","ltPropMaxlength","ltPropName","ltPropPlaceholder","ltPropReadonly","ltPropValue","ltPropWidth","ltPropTabIndex","ltPropType","ltPropAppearance","ltPropDirection","ltPropLabel","ltPropId","ltPropClass","ltPropStyle","ltPropWrapperStyle","ltPropHeight","ltPropPattern","ltPropInputTitle","ltPropRows","ltPropCols","ltPropTextAreaResize","ltPropMax","ltPropMin","ltPropStep","ltPropTimeFormat","ltPropHourInterval","ltPropDefaultTime","ltPropMinuteInterval","ltPropDropdown","ltPropShowInterval","ltPropStartTime","ltPropEndTime","ltPropConvertToNearest","ltPropFillRows","ltPropNumberOfRows","ltPropMinDate","ltPropMaxDate","ltPropStartWeekDay","ltPropMonthHeaderFormat","daysOfWeek","ltPropYear","ltPropFormat","viewDate","ltPropStartDate","ltPropEndDate","ltPropCurrentDate","ltPropBindToBody","ltPropCalendarClass","ltPropHeaderType","ltPropDropdownDisabled","ltPropDropdownShow","ltPropDropdownCallout","ltPropDropdownFreeze","ltPropDropdownId","ltPropDropdownClass","ltPropPosition","ltPropBoundary","ltPropWheel","ltPropYield","ltPropAnimate","ltPropPreventSelection","ltPropPreventKeys","ltPropUpdateDelay","ltPropAutoUpdate","ltPropCallbackDelay","ltPropCloseIcon","ltPropTimePlaceholder","ltPropTimeClass","ltPropAria","ltPropAriaAttributes","eventListeners","selectedField","endMinute","startMinute","dropdownData","originalData","dateRange","meridian","hour","min","selectedDateField","preventObs","resize","pos","isSearch","isBox","dateOrder","lyteUnbound"],init:function(){var t=this.data,e=t.ltPropType;"time"!=e&&"datetime"!=e||(this._prevent=!0,this.timeInValChange.call(this),this.startEndTimeObs.call(this),delete this._prevent,-1!=e.indexOf("time")&&t.ltPropDropdown&&(this.dropdownConstruct(),"time"==e&&(t.ltPropDefaultTime=t.ltPropDefaultTime||t.ltPropValue))),"date"!=e&&"datetime"!=e||("date"==e&&(t.ltPropCurrentDate=t.ltPropCurrentDate||t.ltPropValue),this.dateRegexFind()),this.$node.classList.add("lyteInput"),this.$node.classList.add("horizontal"),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){var t=this.data.ltPropType;this.$node,this.$node.querySelector(".lyteLabel"),this.$node.querySelector(".lyteField");if("date"!=t&&"datetime"!=t||(window._lyteUiUtils.input=window._lyteUiUtils.input||{},this.$node._random="LyteInput"+Date.now(),window._lyteUiUtils.input[this.$node._random]=this.$node),"time"!=t&&"datetime"!=t||this.getData("ltPropDropdown")&&(this.dropdown=this.$node.querySelector("lyte-dropdown"),this.dropbox=this.dropdown.component.childComp?this.dropdown.component.childComp:this.dropdown.querySelector("lyte-drop-box"),this.dropdown.element=this.$node.querySelector("input"+("datetime"==t?":last-of-type":""))),"time"==t||"date"==t||"datetime"==t){if(this.getData("ltPropWheel")){var e=this.handleWheel.bind(this);this.setData("eventListeners.timeWheel",e),this.$node.addEventListener("wheel",e)}this._manualset=!0,"time"==t?this.setData("ltPropValue",this.data.ltPropDefaultTime):"date"==t&&this.setData("ltPropValue",this.data.ltPropCurrentDate),delete this._manualset}t="textarea"==t?"textarea":"input",["focus","blur","click","select"].forEach(function(e){this.$node[e]=function(a){this.$node.querySelector(t)[e](a)}.bind(this)}.bind(this)),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){this._dir=_lyteUiUtils.getRTL(),this._dir&&$L.fastdom.mutate(function(){this.$node.classList.add("lyteRTL"),this.$node.calendarDiv&&this.$node.calendarDiv.classList.add("lyteRTL")}.bind(this))}.bind(this))},didDestroy:function(){this.$node.calendarComp&&(this.$node.calendarComp.remove(),delete this.$node.calendarComp,delete this.$node.calendarDiv,delete this._assCalendar,delete this.$node.revertToSelected);var t=this.getData("eventListeners"),e=this.getData("ltPropType");"date"!=e&&"datetime"!=e||delete window._lyteUiUtils.input[this.$node._random],"time"!=e&&"datetime"!=e||(delete this.dropdown,delete this.dropbox),t.hasOwnProperty("mouseup")&&document.removeEventListener("mouseup",t.mouseup)},rtlfunc:function(t,e,a){if(this._dir){if(e)return"left"==t?a-e.right:"clientX"==t?a-e.clientX:"offsetLeft"==t?a-e.width-e.offsetLeft:a-e.left;if("left"==t)return"right"}return e?e[t]:"left"},calenderClickHide:function(t){if(this.data.ltPropBindToBody){var e=this.$node.calendarDiv,a=t.target.correspondingElement||t.target;if(!e.classList.contains("lyteCalendarHidden")){if(a&&-1!=["LYTE-DROP-BOX","LYTE-DROP-ITEM","LYTE-DROP-BODY"].indexOf(a.tagName)){for(;"LYTE-DROP-BOX"!=a.tagName&&"BODY"!=a.tagName;)a=a.parentNode;"LYTE-DROP-BOX"==a.tagName&&(a=a.origindd)}this.$node.contains(a)||e.contains(a)?a&&!a.classList.contains("lyteCalDateSpan")&&!a.classList.contains("lyteCalCdate")&&e.contains(a)&&(this._byManual=!0,this.$node.focus()):this._hideCalendar(this.$node)}}},scrollFunc:function(t){if(!t||"resize"!=t.type||!_lyteUiUtils.isMobile){var e=this.$node.calendarDiv;$L.fastdom.mutate(function(){t&&"orientationchange"==t.type?setTimeout(this.setCss.bind(this),500):this.setCss(),$L.fastdom.measure(function(){var a=this.data.ltPropBoundary,i=this.$node.getBoundingClientRect(),o=window.innerWidth;e&&t&&"scroll"==t.type&&!e.classList.contains("lyteCalendarHidden")?(a.hasOwnProperty("left")&&this.rtlfunc.call(this,"left",i,o)<a.left||a.hasOwnProperty("right")&&this.rtlfunc.call(this,"right",i,o)>a.right||a.hasOwnProperty("top")&&i.top<a.top||a.hasOwnProperty("bottom")&&i.bottom>a.bottom)&&this._hideCalendar(this.$node,!0):this._closedbyscrl&&(void 0==a.left||this.rtlfunc.call(this,"left",i,o)>=a.left)&&(void 0==a.right||this.rtlfunc.call(this,"right",i,o)<=a.right)&&(void 0==a.top||i.top>=a.top)&&(void 0==a.bottom||i.bottom<=a.bottom)&&(this._byManual=!0,this.$node.focus(),delete this._byManual,this.showCalendar({},this.$node.querySelector("input")),delete this._closedbyscrl)}.bind(this))}.bind(this))}},textareaFuncObs:function(){if("textarea"==this.getData("ltPropType")){var t=this.getData("ltPropTextAreaResize");t.horizontal||t.vertical?(this.setData("resize",!0),this._resizeBinded||(this.textareaFunc(),this._resizeBinded=!0)):this.setData("resize",!1)}}.observes("ltPropTextAreaResize","ltPropTextAreaResize.{}").on("didConnect"),btobody:function(t){t.newValue||delete this.$node.revertToToday}.observes("ltPropBindToBody"),disAbs:function(){this.$node.classList[this.data.ltPropDisabled?"add":"remove"]("lyteInputDisabled")}.observes("ltPropDisabled").on("didConnect"),readAbs:function(){this.$node.classList[this.data.ltPropReadonly?"add":"remove"]("lyteInputReadonly")}.observes("ltPropReadonly").on("didConnect"),rsizefun:function(t){var e="touchstart"==t.type,a=t;if(!e||1==t.touches.length){e&&(a=t.touches[0]);var i=this.$node.querySelector("textarea"),o=this.getData("ltPropTextAreaResize")||{};t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),document.addEventListener("mousemove",this.data.eventListeners.resizeFunc,!0),document.addEventListener("mouseup",this.data.eventListeners.mouseup,!0);var l,n,s,r,d,p,h,c,u,m,y,f,P,v=this.$node.querySelector("label");this.data.ltPropDirection;$L.fastdom.measure(function(){v&&(c=v.getBoundingClientRect()),f=window.getComputedStyle(i),y=i.getBoundingClientRect(),m=window.getComputedStyle(i.parentElement),u=this.$node.getBoundingClientRect(),this._resizeDirection=f.resize,r=f.minWidth,d=f.maxWidth,p=f.minHeight,h=f.maxHeight,l=m.height,n=m.width,s=m.paddingLeft,this._ww=P=window.innerWidth}.bind(this)),$L.fastdom.mutate(function(){o.horizontal&&(this.$node.style.width=u.width+"px",v&&(v.style.width=c.width+"px",v.style.minWidth=c.width+"px"),i.style.width=y.width+"px",i.parentElement.style.width="auto",this._iniLeft=this.rtlfunc.call(this,"left",y,P),this._offLeft=this.rtlfunc.call(this,"right",y,P)-this.rtlfunc.call(this,"clientX",a,P),this._minWidth=(-1!=r.indexOf("%")?parseInt(n)*parseInt(r)/100:parseFloat(r))+parseInt(s),this._maxWidth=-1!=d.indexOf("%")?parseInt(n)*parseInt(d)/100:parseFloat(d)),o.vertical&&(this.$node.style.height=u.height+"px",v&&(v.style.height=c.height+"px"),i.style.height=y.height+"px",i.parentElement.style.height="auto",i.parentElement.style.minWidth="auto",this._iniTop=y.top,this._offTop=y.bottom-a.clientY,this._minHeight=-1!=p.indexOf("%")?parseInt(l)*parseInt(p)/100:parseFloat(p),this._maxHeight=-1!=h.indexOf("%")?parseInt(l)*parseInt(h)/100:parseFloat(h)),this.$node.classList.add("resizeStart")}.bind(this))}},textareaFunc:function(){var t=this.textareaResize.bind(this),e=this.mouseup.bind(this);if(this.setData("eventListeners.resizeFunc",t),this.setData("eventListeners.mouseup",e),this.getData("ltPropTextAreaResize")){var a=this.$node.querySelector(".lyteTextareaResize");a.addEventListener("mousedown",this.rsizefun.bind(this),!0),a.addEventListener("touchstart",this.rsizefun.bind(this),!0)}},mouseup:function(t){this.$node.classList.remove("resizeStart");var e=this.getData("eventListeners"),a="touchend"==t.type;document.removeEventListener(a?"touchmove":"mousemove",e.resizeFunc,!0),document.removeEventListener(a?"touchend":"mouseup",e.mouseup,!0),delete this._iniLeft,delete this._iniTop,delete this._offLeft,delete this._offTop,delete this._ww,delete this._minHeight,delete this._maxHeight,delete this._minWidth,delete this._maxWidth},textareaResize:function(t){var e=this.$node.querySelector("textarea"),a=t;if("touchmove"==t.type){if(1!=a.touches.length)return;a.preventDefault(),a=a.touches[0]}$L.fastdom.measure(function(){var t=e.getBoundingClientRect();if(this._iniLeft){var i=this.rtlfunc.call(this,"clientX",a,this._ww),o=(i>this._iniLeft?i:this._iniLeft)-this._iniLeft+this._offLeft,l=parseFloat(this.$node.style.width)+o-t.width;o>=this._minWidth&&(isNaN(this._maxWidth)||!isNaN(this._maxWidth)&&o<=this._maxWidth)&&(e.style.width=o+"px",this.$node.style.width=l+"px",this._prevent=!0,this.$node.ltProp("width",l),delete this._prevent)}if(this._iniTop){var n=(a.clientY>this._iniTop?a.clientY:this._iniTop)-this._iniTop+this._offTop;l=parseFloat(this.$node.style.height)+n-t.height;n>=this._minHeight&&(isNaN(this._maxHeight)||!isNaN(this._maxHeight)&&n<=this._maxHeight)&&(e.style.height=n+"px",this.$node.style.height=l+"px",this._prevent=!0,this.$node.ltProp("height",n),delete this._prevent)}}.bind(this))},heightFuncObs:function(){this.heightFunc.call(this,arguments[0])}.observes("ltPropHeight").on("didConnect"),heightFunc:function(t){var e=this.getData("ltPropHeight");e&&!this._prevent&&$L.fastdom.mutate(function(){if("textarea"!=this.getData("ltPropType")){var t=this.$node.querySelector("input");this.$node.querySelector(".lyteField");t.style.height=e}else this.$node.querySelector("textarea").style.height=e}.bind(this))},widthfunObs:function(){this.widthfun.call(this)}.observes("ltPropWidth").on("didConnect"),widthfun:function(){var t=this.getData("ltPropWidth");t&&!this._prevent&&$L.fastdom.mutate(function(){this.$node.style.width=t}.bind(this))},appearanceFunObs:function(){this.appearanceFun.call(this)}.observes("ltPropAppearance").on("didConnect"),appearanceFun:function(){var t=this.data.ltPropType,e=this.$node.querySelector(".lyteField");if("box"==this.getData("ltPropAppearance")){"search"==t&&e.classList.add("lyteInputBoxSearch");var a=this.$node;a&&(a.classList.add("lyteInputBox"),a.classList.remove("lyteInput"))}else{"search"==t&&e.classList.remove("lyteInputBoxSearch");var i=this.$node;i&&(i.classList.add("lyteInput"),i.classList.remove("lyteInputBox"))}},directionfunObs:function(){this.directionfun.call(this)}.observes("ltPropDirection").on("didConnect"),directionfun:function(){var t=this.$node;t&&("vertical"==this.data.ltPropDirection?(t.classList.add("vertical"),t.classList.remove("horizontal")):(t.classList.add("horizontal"),t.classList.remove("vertical")))},data:function(){return{ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropAutocomplete:Lyte.attr("string",{default:"off"}),ltPropMaxlength:Lyte.attr("number",{default:void 0}),ltPropName:Lyte.attr("string",{default:""}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropValue:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("string",{default:"0"}),ltPropType:Lyte.attr("string",{default:""}),ltPropAppearance:Lyte.attr("string",{default:""}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropStyle:Lyte.attr("string",{default:""}),ltPropWrapperStyle:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropPattern:Lyte.attr("string",{default:".+"}),ltPropInputTitle:Lyte.attr("string",{default:""}),ltPropRows:Lyte.attr("number",{default:void 0}),ltPropCols:Lyte.attr("number",{default:void 0}),ltPropTextAreaResize:Lyte.attr("object",{default:{vertical:!0,horizontal:!0}}),ltPropMax:Lyte.attr("number",{default:void 0}),ltPropMin:Lyte.attr("number",{default:void 0}),ltPropStep:Lyte.attr("number",{default:1}),ltPropTimeFormat:Lyte.attr("number",{default:12}),ltPropHourInterval:Lyte.attr("number",{default:1}),ltPropDefaultTime:Lyte.attr("string",{default:""}),ltPropMinuteInterval:Lyte.attr("number",{default:30}),ltPropDropdown:Lyte.attr("boolean",{default:!1}),ltPropShowInterval:Lyte.attr("boolean",{default:!1}),ltPropStartTime:Lyte.attr("string",{default:""}),ltPropEndTime:Lyte.attr("string",{default:""}),ltPropConvertToNearest:Lyte.attr("boolean",{default:!1}),ltPropFillRows:Lyte.attr("boolean",{default:!0}),ltPropNumberOfRows:Lyte.attr("number",{default:6}),ltPropMinDate:Lyte.attr("string",{default:""}),ltPropMaxDate:Lyte.attr("string",{default:""}),ltPropStartWeekDay:Lyte.attr("number",{default:1}),ltPropMonthHeaderFormat:Lyte.attr("string",{default:"MMMM YYYY"}),daysOfWeek:Lyte.attr("array",{default:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}),ltPropYear:Lyte.attr("boolean",{default:!0}),ltPropFormat:Lyte.attr("string",{default:"MM/DD/YYYY"}),viewDate:Lyte.attr("object",{default:{}}),ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropBindToBody:Lyte.attr("boolean",{default:!0}),ltPropCalendarClass:Lyte.attr("string",{default:""}),ltPropHeaderType:Lyte.attr("string",{default:"default"}),ltPropDropdownDisabled:Lyte.attr("boolean",{default:!1}),ltPropDropdownShow:Lyte.attr("boolean",{default:!1}),ltPropDropdownCallout:Lyte.attr("boolean",{default:!1}),ltPropDropdownFreeze:Lyte.attr("boolean",{default:!1}),ltPropDropdownId:Lyte.attr("string",{default:""}),ltPropDropdownClass:Lyte.attr("string",{default:""}),ltPropPosition:Lyte.attr("string",{default:"down"}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropWheel:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropAnimate:Lyte.attr("boolean",{default:!1}),ltPropPreventSelection:Lyte.attr("boolean",{default:!1}),ltPropPreventKeys:Lyte.attr("boolean",{default:!1}),ltPropUpdateDelay:Lyte.attr("number",{default:250}),ltPropAutoUpdate:Lyte.attr("boolean",{default:!0}),ltPropCallbackDelay:Lyte.attr("number",{default:0}),ltPropCloseIcon:Lyte.attr("boolean",{default:!1}),ltPropTimePlaceholder:Lyte.attr("string",{default:""}),ltPropTimeClass:Lyte.attr("string",{default:""}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{}}),eventListeners:Lyte.attr("object",{default:{}}),selectedField:Lyte.attr("object",{default:{}}),endMinute:Lyte.attr("number",{default:""}),startMinute:Lyte.attr("number",{default:""}),dropdownData:Lyte.attr("array",{default:[]}),originalData:Lyte.attr("array",{default:[]}),dateRange:Lyte.attr("object",{default:{day:[],month:[],year:[]}}),meridian:Lyte.attr("object",{default:{AM:_lyteUiUtils?_lyteUiUtils.i18n("AM"):"AM",PM:_lyteUiUtils?_lyteUiUtils.i18n("PM"):"PM"}}),hour:Lyte.attr("string",{default:_lyteUiUtils.i18n("hour")}),min:Lyte.attr("string",{default:_lyteUiUtils.i18n("min")}),selectedDateField:Lyte.attr("string",{default:""}),preventObs:Lyte.attr("boolean",{default:!0}),resize:Lyte.attr("boolean",{default:!0}),pos:Lyte.attr("string",{default:""}),isSearch:Lyte.attr("boolean",{default:!1}),isBox:Lyte.attr("string",{default:""}),dateOrder:Lyte.attr("array",{default:[]}),lyteUnbound:Lyte.attr("boolean",{default:!1})}},boxObs:function(){var t=this.data.ltPropType,e=this.data.ltPropAppearance;"search"==t&&"box"==e?this.setData("isBox","lyteInputBoxSearch"):this.setData("isBox","")}.observes("ltPropType","ltPropAppearance").on("init"),getDateFromFormat:function(t,e){return this._assCalendar.component.getDateFromFormat(t,e)},dateValidation:function(t){var e=this._assCalendar.component.stringToDate(t,this.data.ltPropFormat);return"Invalid Date"!=e&&e},dateRegexFind:function(t){var e,a=this.getData("dateRange"),i=[];e=t?t.newValue:this.getData("ltPropFormat");var o=/D+/gi.exec(e),l=/M+/gi.exec(e),n=/Y+/gi.exec(e);o&&(a.day[0]=o.index,a.day[1]=o.index+o[0].length,i.push({value:a.day[0],name:"day",format:e.match(/D+/gi)[0]})),l&&(a.month[0]=l.index,a.month[1]=l.index+l[0].length,i.push({value:a.month[0],name:"month",format:e.match(/M+/gi)[0]})),n&&(a.year[0]=n.index,a.year[1]=n.index+n[0].length,i.push({year:a.year[0],name:"year",format:e.match(/Y+/gi)[0]})),i.sort(function(t,e){return t.value-e.value}),this.setData("dateOrder",i)},dateRegexObs:function(t){this.dateRegexFind(t)}.observes("ltPropFormat"),constructingArr:function(t,e,a){t<e&&(t+=1440);var i=(t-e)/60,o={};return o.time=this.convertToRailway(t,!0,a).trim(),o.interval=i<1?t-e+" "+this.getData("min"):(i%1==0?i:i.toFixed(1))+" "+this.getData("hour"),o},dropdownConstruct:function(){if(!this._prevent){var t,e=this.getData("startMinute"),a=[],i=this.getData("endMinute"),o=(this.getData("ltPropHourInterval"),this.getData("ltPropMinuteInterval")),l=this.getData("ltPropTimeFormat"),n=[];for(e>=i&&(i+=1440),t=e;t<=i;t+=o){var s=this.constructingArr(t,e,l);-1==n.indexOf(s.time)&&(a.push(s),n.push(s.time))}this.setData("originalData",a)}},constructNewDrop:function(t,e){var a=[],i=this.getData("startMinute");if(12==e){var o=this.convertToRailway(t.value.trim());0!=this.maxValCheck(o)&&a.push(this.constructingArr(o,i,12)),o+=720,0!=this.maxValCheck(o%1440)&&a.push(this.constructingArr(o,i,12))}else{o=this.convertToRailway(t.value.trim());0!=this.maxValCheck(o)&&a.push(this.constructingArr(o,i,24))}this.dropdown.ltProp("selected",""),this.setData("dropdownData",a),this.dropdown.ltProp("selected",this.data.ltPropDefaultTime)},getCorrectTime:function(t){var e=new Date,a=e.getHours(),i=e.getMinutes().toString(),o=this.getData("meridian"),l=a>11?o.PM:o.AM;return 1==i.length&&(i="0"+i),12==t?(12!=a&&1==(a=(a%12).toString()).length&&(a="0"+a),a+":"+i+" "+l):(a<10&&(a="0"+a),a+":"+i)},timeFormatChange:function(){this.timeInValChange()}.observes("ltPropTimeFormat"),handleWheel:function(t){var e=t.target,a=this.getData("ltPropType");"INPUT"==e.tagName&&("time"==a||"datetime"==a&&"time"==e.id?$L.fastdom.mutate(function(){selectedField=this.getData("selectedField"),(!selectedField.prop||e.selectionStart>3)&&(e.selectionStart=0,e.selectionEnd=2,this.setData("selectedField",{prop:"hour",val:0}),selectedField={prop:"hour",val:0}),t.deltaY<-10?this.timeDecrease.call(this,e,{},selectedField.prop,e.selectionStart,e.selectionEnd):t.deltaY>10&&this.timeIncrease.call(this,e,{},selectedField.prop,e.selectionStart,e.selectionEnd)}.bind(this)):("date"==a||"datetime"==a&&"date"==e.id)&&(t.deltaY<-10?(t.keyCode=40,this.calendarKeydown.call(this,t,e)):t.deltaY>10&&(t.keyCode=38,this.calendarKeydown.call(this,t,e))),t.preventDefault())},wheelObs:function(t){t.newValue?this.$node.addEventListener("wheel",this.getData("eventListeners.timeWheel")):this.$node.removeEventListener("wheel",this.getData("eventListeners.timeWheel"))}.observes("ltPropWheel"),convertToRailway:function(t,e,a){var i=this.getData("meridian");if(e){l=parseInt(t/60)%24;(n=t%60)<10&&(n="0"+n);o="";return 12==a&&(1==parseInt(l/12)?(l>12&&(l%=12),o=i.PM):(o=i.AM,l=l||12)),l<10&&(l="0"+l),l+":"+n+" "+o}var o,l=parseInt(t.slice(0,2)),n=parseInt(t.slice(3,5));return 5!=t.length?60*((o=t.slice(6,t.length))==i.PM?l%12+12:l%12)+n:60*l+n},maxValCheck:function(t){var e,a=this.getData("endMinute"),i=this.getData("startMinute");if(e="string"==typeof t?this.convertToRailway(t):t,i<a){if(e<=a&&e>=i)return!0}else if(e<1440&&e>=i||e>=0&&e<=a)return!0;return!1},timeInValChange:function(t){var e,a=this.getData("ltPropTimeFormat");if(!(e=t?t.newValue:this.getData("ltPropDefaultTime"))){var i=this.getData("ltPropStartTime");e=i||this.getCorrectTime(a)}this.setData("ltPropDefaultTime",e.slice(0,12!=a?5:e.length))},startEndTimeObs:function(t){if(!t||"ltPropStartTime"==t.item){var e=this.getData("ltPropDefaultTime"),a=this.getData("ltPropStartTime");a||(this.setData("ltPropStartTime",e),a=e),this.setData("startMinute",this.convertToRailway(a))}if(!t||"ltPropEndTime"==t.item){var i=this.getData("ltPropEndTime");if(!i){var o=Math.max(0,parseInt(a.slice(3,5))-1).toString();1==o.length&&(o="0"+o),i=(a.slice(0,3)+o+" "+a.slice(6,a.length)).trim(),this.setData("ltPropEndTime",i)}this.setData("endMinute",this.convertToRailway(i))}this.dropdownConstruct()},timeBoundObs:function(t){if(!t||""!=t.newValue||void 0!=t.oldValue)if(!t||t&&"ltPropDefaultTime"!=t.item)this.startEndTimeObs(t);else{if(t&&!t.newValue)return void this.timeInValChange();this.setData("preventObs")&&this.setData("ltPropValue",t.newValue),this.getMethods("onTimeChange")&&this.executeMethod("onTimeChange",t,this.$node),this._manualset=!0,"time"==this.data.ltPropType&&this.setData("ltPropValue",t.newValue),delete this._manualset}}.observes("ltPropStartTime","ltPropEndTime","ltPropDefaultTime"),dateChangeCallback:function(t){var e=this.data.ltPropCallbackDelay;this._manualset=!0,"date"==this.data.ltPropType&&this.setData("ltPropValue",t.newValue),delete this._manualset,void 0==e?this.dateCallback(t):setTimeout(this.dateCallback.bind(this),e,t)}.observes("ltPropCurrentDate"),dateCallback:function(t){""==t.newValue&&void 0==t.oldValue||(this.getMethods("onDateChange")&&this.executeMethod("onDateChange",t,this.$node,this._selected),delete this._selected)},timeCallback:function(t){""==t.newValue&&void 0==t.oldValue||this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node)},valChangeObs:function(t){var e=this.data.ltPropCallbackDelay;if(!this._manualset){var a=this.data.ltPropType;"date"==a?this.setData("ltPropCurrentDate",t.newValue):"time"==a&&this.setData("ltPropDefaultTime",t.newValue)}void 0==e?this.timeCallback(t):setTimeout(this.timeCallback.bind(this),e,t)}.observes("ltPropValue"),firePosCallBack:function(){this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",this.getData("pos"),this.$node.calendarDiv)}.observes("pos"),setLeftExceedForDown:function(t,e,a,i,o,l){var n=a;return o+this.rtlfunc.call(this,"left",n,l)+n.width-i.width},setLeftNotExceedForDown:function(t,e,a,i){var o=e;return a+this.rtlfunc.call(this,"left",o,i)},setTopAboveForDown:function(t,e,a,i,o){return o+a.top-i.height},setTopBelowForDown:function(t,e,a){var i=e;return a+i.top+i.height},setLeftForRight:function(t,e,a,i){var o=e;return a+this.rtlfunc.call(this,"left",o,i)+o.width},setRightForRight:function(t,e,a,i,o,l){var n=a,s=i;return o+this.rtlfunc.call(this,"left",n,l)-s.width},setTopForRight:function(t,e,a){return a+e.top},setTopForRightAbove:function(t,e,a,i,o){var l=a;return o+l.top+l.height-i.height},setCss:function(){var t=this.$node.calendarDiv;if(t&&!t.classList.contains("lyteCalendarHidden")){var e,a,i,o,l,n,s=t,r=this.$node.querySelector("input").parentElement,d=window.innerWidth,p=window.innerHeight,h=s.getBoundingClientRect(),c=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),u=window.pageYOffset||document.documentElement.scrollTop,m=s.offsetHeight,y=s.offsetWidth,f=this.getData("ltPropPosition"),P=r.getBoundingClientRect(),v=this.rtlfunc.call(this,"left",P,d),g=this.rtlfunc.call(this,"left");"down"===f?(e=!0,e=!((l=P.top+P.height)+m>p&&P.top>m),a=!0,(n=v)+y>d&&n>n+P.width-s.offsetWidth?a=!1:v+y<=d&&(a=!0),e?(this.setData("pos","down"),s.style.top=this.setTopBelowForDown(r,P,u)+"px"):(this.setData("pos","up"),s.style.top=this.setTopAboveForDown(r,s,P,h,u,d)+"px"),a?(s.style.top=s.style.top,s.style[g]=this.setLeftNotExceedForDown(r,P,c,d)+"px"):(s.style.top=s.style.top,s.style[g]=this.setLeftExceedForDown(r,s,P,h,c,d)+"px")):"right"===f?(a=!0,a=!(v+P.width+y>d&&v-h.width>0),e=!0,e=!(P.top+h.height>p),a?(this.setData("pos","right"),s.style[g]=this.setLeftForRight(r,P,c,d)+"px"):(this.setData("pos","left"),s.style[g]=this.setRightForRight(r,s,P,h,c,d)+"px"),e?(s.style[g]=s.style[g],s.style.top=this.setTopForRight(r,P,u)+"px"):(s.style[g]=s.style[g],s.style.top=this.setTopForRightAbove(r,s,P,h,u)+"px")):"up"===f?(i=!0,i=!(P.top-h.height<0&&P.top+P.height+m<p),a=!0,v+y>d&&v>v+P.width-s.offsetWidth?a=!1:v+y<=d&&(a=!0),i?(this.setData("pos","up"),s.style.top=this.setTopAboveForDown(r,s,P,h,u)+"px"):(this.setData("pos","down"),s.style.top=this.setTopBelowForDown(r,P,u)+"px"),a?(s.style.top=s.style.top,s.style[g]=this.setLeftNotExceedForDown(r,P,c,d)+"px"):(s.style.top=s.style.top,s.style[g]=this.setLeftExceedForDown(r,s,P,h,c,d)+"px")):"left"===f?(o=!0,o=!(v-h.width<0&&v+h.width<d),e=!0,e=!(P.top+h.height>p),o?(this.setData("pos","left"),s.style[g]=this.setRightForRight(r,s,P,h,c,d)+"px"):(this.setData("pos","right"),s.style[g]=this.setLeftForRight(r,P,c,d)+"px"),e?(s.style[g]=s.style[g],s.style.top=this.setTopForRight(r,P,u)+"px"):(s.style[g]=s.style[g],s.style.top=this.setTopForRightAbove(r,s,P,h,u)+"px")):"downLeft"===f?(e=!0,(l=P.top+P.height)+m>p&&P.top>m?(l=P.top-m,e=!1):e=!0,a=!1,(n=v+P.width/2-y)<0?(n=0,a=!0):a=!1,s.style.top=l+u+"px",s.style[g]=n+c+"px",pos=e?"downLeft":"upLeft",this.setData("pos",pos)):"downRight"===f?(e=!0,(l=P.top+P.height)+m>p&&P.top>m?(l=P.top-m,e=!1):e=!0,a=!0,(n=v+P.width/2)+y>d?(n=d-y,a=!1):a=!0,s.style.top=l+u+"px",s.style[g]=n+c+"px",pos=e?"downRight":"upRight",this.setData("pos",pos)):"upLeft"===f?(e=!1,(l=P.top-m)<0?(l=P.top+P.height,e=!0):e=!1,a=!1,(n=P[g]+P.width/2-y)<0?(n=0,a=!0):a=!1,s.style.top=l+u+"px",s.style[g]=n+c+"px",pos=e?"downLeft":"upLeft",this.setData("pos",pos)):"upRight"===f&&(e=!1,(l=P.top-m)<0?(l=P.top+P.height,e=!0):e=!1,a=!0,(n=v+P.width/2)+y>d?(n=d-y,a=!1):a=!0,s.style.top=l+u+"px",s.style[g]=n+c+"px",pos=e?"downRight":"upRight",this.setData("pos",pos))}},preventFn:function(){this.preventFocus=!0},methods:{wormholeAppend:function(t,e){this.$node.calendarComp=t,t.nodeN=this.$node,this.$node.calendarDiv=t.querySelector("div#lyteCalendar"),this._assCalendar=this.$node.calendarDiv.querySelector("lyte-calendar");var a=this.calendarMousedown.bind(this);this.$node.calendarDiv.addEventListener("mousedown",a,!0),this.setData("eventListeners.mousedown",a),this.$node.revertToToday=this._assCalendar.revertToToday,this.$node.revertToSelected=this._assCalendar.revertToSelected;for(var i=this._assCalendar.querySelectorAll("lyte-dropdown"),o=0;o<i.length;o++){(i[o].component.childComp||i[o].querySelector("lyte-drop-box")).addEventListener("mousedown",this.preventFn.bind(this))}},"on-dateselected":function(){this._selected=!0,this._hideCalendar(this.$node)},hide:function(){this.getMethods("onHide")&&this.executeMethod("onHide",arguments[0],arguments[1],this.$node)},beforeHide:function(){if(this.getMethods("onBeforeHide"))return this.executeMethod("onBeforeHide",arguments[0],arguments[1],this.$node)},show:function(){this.getMethods("onShow")&&this.executeMethod("onShow",arguments[0],arguments[1],this.$node)},beforeShow:function(){if(this.getMethods("onBeforeShow"))return this.executeMethod("onBeforeShow",arguments[0],arguments[1],this.$node)},optionSelected:function(){this._calmsfg=!0,this.setData("ltPropDefaultTime",arguments[1].trim())},scroll:function(){this.getMethods("onScroll")&&this.executeMethod("onScroll",arguments[0],arguments[1])},positionChange:function(){this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",arguments[0],arguments[1])},calendarNavigate:function(t,e,a,i){$L.fastdom.measure(this.setCss.bind(this)),this.getMethods("onNavigate")&&this.executeMethod("onNavigate",t,e,a,i)},viewDateChange:function(t,e){this.getMethods("onViewdateChange")&&this.executeMethod("onViewdateChange",t,e,this.$node)},viewChange:function(t,e,a){$L.fastdom.measure(this.setCss.bind(this)),this.getMethods("onViewChange")&&this.executeMethod("onViewChange",t,e,a,this.$node)}},valUpdate:function(){if(this.$node&&this){delete this._timeout;var t=this.data.ltPropType;if("date"==t||"datetime"==t){var e=this.$node.querySelector("input").value;this.setData("ltPropCurrentDate",e||"")}else if("textarea"==t){e=this.$node.querySelector("textarea").value;this.setData("ltPropValue",e||"")}else{e=this.$node.querySelector("input").value;this.setData("ltPropValue",e||"")}}},fixSelection:function(t,e,a){this.data.ltPropReadonly||(a.selectionStart=e.val+t,a.selectionEnd=a.selectionStart+2,this.timeClick.call(this,{},a))},replaceVal:function(t,e,a,i){var o;o="string"==typeof t?t:t.value;var l=new RegExp("("+o.slice(a,a+i)+")","i");return o.trim().replace(l,e)},retVal:function(t,e,a){return parseInt(t+e)>a?"0"+e:t+e},convertToPm:function(t,e,a){if(12==t){var i=e.slice(6,e.length),o=(e.slice(0,5),e.slice(0,2)),l=e.slice(3,5);return"00"==o&&"AM"==i||"12"==o&&"PM"==i?e:o+":"+l+" "+(a.AM==i?a.PM:a.AM)}return e},hourTimeSet:function(t,e,a,i,o){var l,n=t.value.trim(),s=this.getData("meridian"),r=e.keyCode-48,d=n.slice(i+1,o)+r,p=this.data.ltPropTimeFormat;if("hour"==a?l=12==p?12:24:(delete this._lasttyped,l=60),60==l&&parseInt(d)>=60&&(d="0"+r),"hour"==a)h=this.getCrctHour(n,i,o,l,r,s),this._lasttyped=r+"";else{var h=n.slice(0,i)+d+n.slice(o,n.length),c=this.maxValCheck(h);if(0==c&&(h=n.slice(0,i)+this.retVal(n.slice(i,i+1),r,l)+n.slice(o,n.length),0==(c=this.maxValCheck(h))&&(h=n.slice(0,i)+"0"+r+n.slice(o,n.length),0==(c=this.maxValCheck(h))&&(h=this.convertToPm(l,h,s),0==(c=this.maxValCheck(h))))))return!1}this.setData("ltPropDefaultTime",h),$L.fastdom.mutate(function(){t.selectionStart=i,t.selectionEnd=o})},_getCrctHour:function(t,e,a){return 0==this.maxValCheck(t)?12==e&&(t=this.convertToPm(e,t,a),0!=this.maxValCheck(t)&&t):t},getCrctHour:function(t,e,a,i,o,l){var n,s,r,d;if(void 0!=this._lasttyped){if("00"==(s=this._lasttyped+o)&&12==i&&(d=!0,s="12"),24==i&&parseInt(s)>=24||12==i&&parseInt(s)>=13?r=!1:(n=s+t.slice(a),r=this._getCrctHour(n,i,l)),0!=r)return r;if(n){var p=this.data.endMinute,h=this.convertToRailway(n);if(h-p<60&&h-p>=0)return this.convertToRailway(p,!0,i).trim()}}if("00"==(s=t.slice(e+1,a)+o)&&12==i){if(!d)return t;s="12"}if(24==i&&parseInt(s)>=24||12==i&&parseInt(s)>=13?r=!1:(n=s+t.slice(a),r=this._getCrctHour(n,i,l)),0!=r)return r;if("00"==(s=t.slice(0,e+1)+o)&&12==i){if(!d)return t;s="12"}if(24==i&&parseInt(s)>=24||12==i&&parseInt(s)>=13?r=!1:(n=s+t.slice(a),r=this._getCrctHour(n,i,l)),0!=r)return r;if("00"==(s="0"+o)&&12==i){if(!d)return t;s="12"}if(n=s+t.slice(a),0!=(r=this._getCrctHour(n,i,l)))return r;if("00"==(s=o+"0")&&12==i){if(!d)return t;s="12"}return 24==i&&parseInt(s)>=24||12==i&&parseInt(s)>=13?r=!1:(n=s+t.slice(a),r=this._getCrctHour(n,i,l)),0!=r?r:this.data.ltPropConvertToNearest?this.findNearestTime(t,e,a,i,o,l):t},findNearestTime:function(t,e,a,i,o,l){var n;if(void 0!=this._lasttyped){if(n=this._lasttyped+o,!(24==i&&parseInt(n)>=24||12==i&&parseInt(n)>=13))return this._findNearest(n+t.slice(a),i);!1}return n=t.slice(e+1,a)+o,24==i&&parseInt(n)>=24||12==i&&parseInt(n)>=13?(!1,n=t.slice(0,e+1)+o,24==i&&parseInt(n)>=24||12==i&&parseInt(n)>=13?(!1,n="0"+o,24==i&&parseInt(n)>=24||12==i&&parseInt(n)>=13?(!1,t):this._findNearest(n+t.slice(a),i)):this._findNearest(n+t.slice(a),i)):this._findNearest(n+t.slice(a),i)},_findNearest:function(t,e){var a=this.convertToRailway(t),i=this.data.endMinute,o=this.data.startMinute;return Math.abs(o-a)>Math.abs(i-a)?this.convertToRailway(i,!0,e).trim():this.convertToRailway(o,!0,e).trim()},timeIncrease:function(t,e,a,i,o,l){if(!this.data.ltPropReadonly){var n,s,r,d=t.value.trim(),p=parseInt(d.slice(i,o)),h=this.getData("ltPropTimeFormat"),c=this.getData("meridian");"hour"==a?(n=12==h?12:24,s=l?1:this.data.ltPropHourInterval):(n=60,s=this.data.ltPropMinuteInterval);var u=(p+s)%n;if(12==n&&u<p&&d.slice(6,d.length)==c.AM)0==u&&(u="12"),d=this.replaceVal.call(this,t,c.PM,6,d.length);else if(12==n&&u<p&&d.slice(6,d.length)==c.PM)12==p&&0!=u||(d=this.replaceVal.call(this,t,c.AM,6,d.length));else if(12==n&&u==p&&d.slice(6,d.length)==c.AM)u="12",d=this.replaceVal.call(this,t,c.PM,6,d.length);else if(60==n&&u<=p){if(0==this.timeIncrease.call(this,t,e,"hour",0,2,!0))return!1;d=t.value.trim()}if(1==(u=u.toString()).length&&(u="0"+u),r=d.slice(0,i)+u+d.slice(o,d.length),0==this.maxValCheck(r))return!1;this.setData("ltPropDefaultTime",r),$L.fastdom.mutate(function(){t.selectionStart=i,t.selectionEnd=o})}},timeDecrease:function(t,e,a,i,o,l){if(!this.data.ltPropReadonly){var n,s,r,d=t.value.trim(),p=parseInt(d.slice(i,o)),h=this.getData("ltPropTimeFormat"),c=this.getData("meridian");"hour"==a?(n=12==h?12:24,s=l?1:this.getData("ltPropHourInterval")):(n=60,s=this.getData("ltPropMinuteInterval"));var u=(p-s+n)%n;if(12==n&&u>p&&d.slice(6,d.length)==c.AM)d=this.replaceVal.call(this,t,c.PM,6,d.length);else if(12==n&&(u>p||12==p)&&d.slice(6,d.length)==c.PM)d=this.replaceVal.call(this,t,c.AM,6,d.length);else if(12==n&&0==u)d.slice(6,d.length)==c.PM&&(u="12");else if(60==n&&u>=p){if(0==this.timeDecrease.call(this,t,e,"hour",0,2,!0))return!1;d=t.value.trim()}if(1==(u=u.toString()).length&&(u="0"+u),r=d.slice(0,i)+u+d.slice(o,d.length),0==this.maxValCheck(r))return!1;this.setData("ltPropDefaultTime",r),$L.fastdom.mutate(function(){t.selectionStart=i,t.selectionEnd=o})}},findCalendarRange:function(t,e,a){if(e.value&&0!=this.dateValidation(e.value)){var i,o=e.selectionStart,l=(e.selectionEnd,this.getData("dateRange"));for(i in l)if(!a||i==this.data.selectedDateField){var n=this.setRangeByMoment(e,l,i);if(n[0]<=o&&n[1]>=o||a){this.data.ltPropPreventSelection?a&&(e.selectionStart=e.selectionEnd=n[1]):(e.selectionStart=n[0],e.selectionEnd=n[1]),this.setData("selectedDateField",i);break}}}},setRangeByMoment:function(t,e,a){var i,o;if($L.moment){var l=this.data.ltPropFormat,n=t.value,s=$L.moment(n,this._assCalendar.component.getRelevantFormat(l));if(s.validate()){for(var r=0,d=l.slice(e[a][0],e[a][1]),p=0;p<this.data.dateOrder.length;p++){var h=this.data.dateOrder[p],c=s.format(h.format);if(h.format==d)break;n=n.replace(c,""),r+=c.length}var u=s.format(d);o=(i=r+n.indexOf(u))+u.length}else i=e[a][0],o=e[a][1]}else i=e[a][0],o=e[a][1];return[i,o]},hideCalendar:function(){for(var t=document.getElementsByTagName("lyte-input"),e=0;e<t.length;e++)t[e]!=this.$node&&t[e].calendarDiv&&!t[e].calendarDiv.classList.contains("lyteCalendarHidden")&&this._hideCalendar(t[e])},_hideCalendar:function(t,e){var a;this.getMethods("onBeforeCalendarClose")&&(a=this.executeMethod("onBeforeCalendarClose",t.calendarDiv,t)),0!=a?a&&a.then?(this._calendarCloseStart=!0,Promise.resolve(a).then(this.mainHideFn.bind(this,t,e))):this.mainHideFn(t,e):this.$node.focus()},mainHideFn:function(t,e){delete this._calendarCloseStart,t.calendarDiv.classList.add("lyteCalendarHidden"),this.$node.classList.remove("calendarOpen"),t.component.getMethods("onCalendarClose")&&t.component.executeMethod("onCalendarClose",t.calendarDiv,t),"drilldown"==this.data.ltPropHeaderType&&this.$node.revertToSelected(),e&&(this.$node.blur(),this._closedbyscrl=!0)},showCalendar:function(t,e){if(this._byManual)delete this._byManual;else if(this.hideCalendar(),!(this.data.ltPropReadonly&&!this.data.ltPropPreventKeys||this._calendarCloseStart)){if(this.getMethods("onBeforeOpen"))if(0==this.executeMethod("onBeforeOpen",t,this.node))return;this.data.ltPropBindToBody||this.setData("ltPropBindToBody",!0),this.$node.calendarDiv.classList.remove("lyteCalendarHidden"),$L.fastdom.measure(this.scrollFunc.bind(this)),$L.fastdom.mutate(function(){this.data.ltPropReadonly||(this.data.ltPropPreventSelection||(e.selectionStart=0,e.selectionEnd=0),this.findCalendarRange(t,e)),this.$node.classList.add("calendarOpen"),this.getMethods("onCalendarOpen")&&this.executeMethod("onCalendarOpen",this.$node.calendarDiv,this.$node)}.bind(this))}},calendarMousedown:function(t){this.$node.calendarDiv.contains(t.target.correspondingElement||t.target)&&(this.preventFocus=!0)},timeClick:function(t,e){if(!this.data.ltPropReadonly||this.data.ltPropPreventKeys){if(!this.data.ltPropReadonly){var a,i;switch(parseInt(e.selectionStart/3)){case 2:a=6,i=e.value.length,this.setData("selectedField",{prop:"meridian",val:6});break;case 1:a=3,i=5,this.setData("selectedField",{prop:"minute",val:3});break;default:a=0,i=2,this.setData("selectedField",{prop:"hour",val:0})}e.selectionStart=a,e.selectionEnd=i}this.dropbox&&this.dropbox.classList.contains("lyteDropdownHidden")&&"click"==t.type&&(this.dropdown.ltProp("selected",""),this.setData("dropdownData",this.getData("originalData")),this.dropdown.ltProp("selected",this.data.ltPropDefaultTime),this.dropdown.toggle())}},calendarKeydown:function(t,e){if(e.value&&!this.data.ltPropReadonly){var a=t.keyCode,i=this.dateValidation(e.value);if(0!=i){var o=this.getData("selectedDateField");if(-1!=[37,38,39,40,9].indexOf(a)){e.selectionEnd==e.selectionStart&&(this.findCalendarRange(t,e),o=this.data.selectedDateField);var l=e.selectionStart,n=e.selectionEnd;if(-1!=[38,40].indexOf(a)){switch(t.preventDefault(),o){case"year":40==a?i.setFullYear(i.getFullYear()-1):i.setFullYear(i.getFullYear()+1);break;case"month":40==a?i.setMonth(i.getMonth()-1):i.setMonth(i.getMonth()+1);break;default:40==a?i.setDate(i.getDate()-1):i.setDate(i.getDate()+1)}this._assCalendar.component.checkDate(i)&&this.setData("ltPropCurrentDate",this.getDateFromFormat(i,this.getData("ltPropFormat"))),$L.fastdom.measure(this.findCalendarRange.bind(this,{},e,!0))}else{if(e.selectionEnd==e.value.length&&(39==a||!t.shiftKey&&9==a)||0==e.selectionStart&&(37==a||t.shiftKey&&9==a))return;for(var s,r=this.getData("dateRange"),d=this.data.dateOrder,p=0;p<d.length;p++)if(d[p].name==o){s=p;break}if(39==a||!t.shiftKey&&9==a?p+1==d.length?l=n=r[o][1]+1:(returned=this.setRangeByMoment(e,r,d[s+1].name),l=n=Math.abs(.5*(returned[0]+returned[1]))):(37==a||t.shiftKey&&9==a)&&(0==p?l=n=r[o][0]+1:(returned=this.setRangeByMoment(e,r,d[s-1].name),l=n=Math.abs(.5*(returned[0]+returned[1])))),$L.fastdom.measure(this.findCalendarRange.bind(this,{},e)),this.data.ltPropPreventSelection)return;t.preventDefault()}e.selectionStart=l,e.selectionEnd=n}}}},focusCallback:function(t){this.getMethods("onFocus")&&this.executeMethod("onFocus",t,this.$node)},focusout:function(){if(this.preventFocus)delete this.preventFocus;else{if(this.$node.calendarDiv.classList.contains("lyteCalendarHidden"))return;setTimeout(this._hideCalendar.bind(this,this.$node))}},maxLen:function(t){var e=this.data.ltPropMaxlength;return void 0!=e?t.toString().match(new RegExp(".{0,"+e+"}"))[0]:t},actions:{preventDrag:function(t){t.preventDefault()},clsIcon:function(t){this.$node.ltProp("value",""),this.$node.focus(),this.data.isSearch&&this.throwEvent("on-ip-clear",t),this.getMethods("onClear")&&this.executeMethod("onClear",t,this.$node)},calmsdown:function(t,e){this._calmsfg=!0},numberKeydown:function(t,e){var a=/firefox/gi.test(navigator.userAgent);if(!_lyteUiUtils.isAndroid||a){var i=t.which||t.keyCode,o=e.value,l=/rv:11/gi.test(navigator.userAgent);if(/^(8|9|27|37|39|13|187|189)$/.test(i)||a&&/^173$/i.test(i)||i>=48&&i<=57||i>=96&&i<=105||t.metaKey||t.ctrlKey||/^(38|40)$/.test(i)&&!l)return;if(/^(69|190)$/.test(i)&&(!/\./i.test(o)&&190==i||69==i&&!/e/i.test(o)&&""!=o))return;if(t.preventDefault(),38==i?o=Number(o||0)+Number(e.step):40==i&&(o=Number(o||0)-Number(e.step)),l&&/^(38|40)$/.test(i)){var n=parseInt(this.maxLen(o));isNaN(n)||(n=Math.min(Math.max(n,e.min?e.min:-1/0),e.max?e.max:1/0),isNaN(n)||(e.value=n))}}},numberPaste:function(t,e){var a=t.clipboardData||window.clipboardData;newVal=e.value+a.getData("text").replace(/\'|\"/g,""),/^([0-9]+|\.(?!e){1,}|\+|\-)([0-9\.\e]{0,}$)/i.test(newVal)||(newVal.length!=this.maxLen(newVal)||/rv:11/gi.test(navigator.userAgent))&&t.preventDefault()},focusClass:function(t){this.$node.classList.add("lyteInputFocus"),this.focusCallback.call(this,t)},blurThrow:function(t,e){delete this._lasttyped;var a=/date/i.test(this.data.ltPropType),i=this.getMethods("onBlur");if(this.$node.classList.remove("lyteInputFocus"),!e){var o=this.getData("ltPropType");if(this._calmsfg)this.valUpdate(),setTimeout(function(){a&&this.focusout.call(this),i&&this.executeMethod("onBlur",t,this.$node)}.bind(this),0),delete this._calmsfg;else{if("number"==o){var l=this.data.ltPropMax,n=this.data.ltPropMin,s=parseFloat(t.target.value),r=!1;isNaN(s)||(-1==[void 0,null,""].indexOf(n)&&n.constructor==Number&&(r=(s=Math.max(n,s))==n),-1==[void 0,null,""].indexOf(l)&&l.constructor==Number&&(s=Math.min(l,s),r=r||s==l),r&&(t.target.value=s))}this.valUpdate.call(this),a&&this.focusout.call(this),i&&this.executeMethod("onBlur",t,this.$node)}}},input:function(t,e){if("number"==this.data.ltPropType){var a,i=e.value,o=this.maxLen(i);a=Math.min(o,void 0!=e.max&&""!=e.max?e.max:1/0),i===o&&o==a||(o==a?e.value=o:isNaN(a)?e.value=parseFloat(o):e.value=a)}if(this.getData("ltPropAutoUpdate")){clearTimeout(this._iptime);var l=this.data.ltPropUpdateDelay;void 0!=l?this._iptime=setTimeout(this.valUpdate.bind(this),l):this.valUpdate.call(this)}},showcalendar:function(t,e){this.$node.classList.add("lyteInputFocus"),this.focusCallback.call(this,t),this.showCalendar(t,e)},calendarClick:function(t,e){this._focus&&_lyteUiUtils.isMobile||this.data.ltPropReadonly?delete this._focus:this.findCalendarRange(t,e)},calendarKeydown:function(){this.calendarKeydown.apply(this,arguments)},timeBlur:function(t,e){this.$node.classList.remove("lyteInputFocus"),this.setData("selectedField",{}),this.getMethods("onBlur")&&(this._calmsfg?this.executeMethod("onBlur",event,this.$node):setTimeout(function(){this.executeMethod("onBlur",event,this.$node)}.bind(this),0))},timeFocus:function(t,e){this.$node.classList.add("lyteInputFocus");e.value.trim();this.setData("selectedField",{prop:"hour",val:0}),e.selectionStart=0,this.fixSelection.call(this,0,{prop:"hour",val:0},e),this.focusCallback.call(this,t)},timeKeydown:function(t,e){if(!this.data.ltPropReadonly){var a=this.getData("selectedField"),i=this.getData("meridian"),o=this.getData("ltPropTimeFormat"),l=!0,n=this.getData("originalData"),s=this.getData("dropdownData");if((!this.dropbox||this.dropbox.classList.contains("lyteDropdownHidden")||!/38|40|13/.test(t.keyCode))&&a.prop&&!t.ctrlKey&&!t.metaKey){var r=e.selectionStart,d=e.selectionEnd;r==d&&(this.timeClick.call(this,{},e),r=e.selectionStart,d=e.selectionEnd,a=this.getData("selectedField"));var p=t.keyCode;if(9!=p&&t.preventDefault(),-1!=[9,37,39].indexOf(p))!t.shiftKey&&37!=p||"hour"==a.prop||39==p?(t.shiftKey&&39!=p||"minute"==a.prop||24!=o)&&(t.shiftKey||"meridian"==a.prop||12!=o)||37==p||(this.fixSelection.call(this,3,a,e),t.preventDefault()):(this.fixSelection.call(this,-3,a,e),t.preventDefault()),l=!1;else if(p>=48&&p<=57&&"meridian"!=a.prop)"hour"==a.prop?this.hourTimeSet.call(this,e,t,"hour",r,d):"minute"==a.prop&&this.hourTimeSet.call(this,e,t,"minute",r,d),this.data.ltPropDropdown&&this.constructNewDrop(e,o);else if(38!=p&&40!=p||"meridian"==a.prop){if("meridian"==a.prop){var h,c=e.value.trim().slice(6,e.value.length),u=String.fromCharCode(p).toUpperCase();if(0==i.PM.toUpperCase().indexOf(u)?c=i.PM:0==i.AM.toUpperCase().indexOf(u)?c=i.AM:-1!=[38,40].indexOf(p)&&(c=c==i.PM?i.AM:i.PM),c!=i.AM&&"00"==e.value.trim().slice(0,2)&&(h=this.replaceVal.call(this,e,"12",0,2)),c&&(h=this.replaceVal.call(this,h||e,c,r,d)),0==this.maxValCheck(h))return!1;this.setData("ltPropDefaultTime",h)}}else 38==p?this.timeIncrease.call(this,e,t,a.prop,r,d):this.timeDecrease.call(this,e,t,a.prop,r,d);this.fixSelection.call(this,0,this.getData("selectedField"),e),l&&$L.fastdom.mutate(function(){e.selectionStart=r,e.selectionEnd=d}),n.length!=s.length&&(p<48||p>57)&&(this.dropdown.ltProp("selected",""),this.setData("dropdownData",n),this.dropdown.ltProp("selected",this.data.ltPropDefaultTime))}}},timeClick:function(){this.timeClick.apply(this,arguments)}},attrObs:function(t){this.data.ltPropAria&&_lyteUiUtils.setAttribute(this.$node.querySelector("input,textarea"),this.data.ltPropAriaAttributes||{},t?t.oldValue:{})}.observes("ltPropAriaAttributes","ltPropAriaAttributes.{}").on("didConnect")}),["click","scroll","resize","orientationchange"].forEach(function(t){window.addEventListener(t,_lyteInput,!0)});