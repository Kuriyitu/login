Lyte.Component.register("lyte-splitter",{_template:'<template tag-name="lyte-splitter">\n    <lyte-yield yield-name="splitter"></lyte-yield>\n</template>',_dynamicNodes:[{type:"insertYield",position:[1]}],_observedAttributes:["ltPropResize","ltPropCollapsible","columnElementCount","rowElementCount"],data:function(){return{ltPropResize:Lyte.attr("boolean",{default:!0}),ltPropCollapsible:Lyte.attr("boolean",{default:!0}),columnElementCount:Lyte.attr("number",{default:0}),rowElementCount:Lyte.attr("number",{default:0})}}}),Lyte.createCustomElement("lyte-row-splitter",{constructor:function(){},static:{observedAttributes:{}}}),Lyte.createCustomElement("lyte-column-splitter",{constructor:function(){},static:{observedAttributes:{}}}),Lyte.createCustomElement("lyte-row-element",{constructor:function(){$L(this).closest("lyte-splitter").get(0);var e=$L(this).closest("lyte-row-splitter").get(0),t=this.parentElement,l=t.querySelectorAll("lyte-row-element"),s=t.children[t.children.length-1],i=Object.keys(l).map(function(e){return l[e]}),r=i.indexOf(this);$L(e).find("lyte-row-element");if(s!=this&&"false"!==this.getAttribute("lt-prop-resize")&&i[r+1]&&"false"!==i[r+1].getAttribute("lt-prop-resize")){var n=document.createElement("LYTE-ROW-HANDLE");t.insertBefore(n,this.nextSibling)}if(s==this){var o=0,a=$L(e).children("lyte-row-element").filter(function(e,t){if(t.hasAttribute("lt-prop-size")){var l=t.getAttribute("lt-prop-size"),s=parseInt(t.getAttribute("lt-prop-size").match(/\d+/g));if(-1!==l.indexOf("%"))return t.style.flexBasis=l,o+=s,!1}return!0}),u=$L(this).parent().children("lyte-row-handle").length,p=a.length,c=t.getBoundingClientRect().height-8*u,d=(c-o/100*c)/p/c*100+"%";a.css("flexBasis",d)}},static:{observedAttributes:{}}}),Lyte.createCustomElement("lyte-column-element",{constructor:function(){$L(this).closest("lyte-splitter").get(0);var e=$L(this).closest("lyte-column-splitter").get(0),t=this.parentElement,l=t.querySelectorAll("lyte-column-element"),s=t.children[t.children.length-1],i=Object.keys(l).map(function(e){return l[e]}),r=i.indexOf(this);$L(this).parent().children("lyte-column-element");if(s!=this&&"false"!==this.getAttribute("lt-prop-resize")&&i[r+1]&&"false"!==i[r+1].getAttribute("lt-prop-resize")){var n=document.createElement("LYTE-COLUMN-HANDLE");t.insertBefore(n,this.nextSibling)}if(s==this){var o=0,a=$L(e).children("lyte-column-element").filter(function(e,t){if(t.hasAttribute("lt-prop-size")){var l=t.getAttribute("lt-prop-size"),s=parseInt(t.getAttribute("lt-prop-size").match(/\d+/g));if(-1!==l.indexOf("%"))return t.style.flexBasis=l,o+=s,!1}return!0}),u=$L(this).parent().children("lyte-column-handle").length,p=a.length,c=t.getBoundingClientRect().width-8*u,d=(c-o/100*c)/p/c*100+"%";a.css("flexBasis",d)}},static:{observedAttributes:{}}}),Lyte.createCustomElement("lyte-row-handle",{connectedCallback:function(){var e=document.createElement("DIV");e.setAttribute("class","rowHandleIcon"),this.appendChild(e)},constructor:function(){var e,t,l,s,i,r,n,o,a=this,u=0,p=0;function c(s){var o=(i-s.clientY)/(e.getBoundingClientRect().height-8*$L(a).parent().children("lyte-row-handle").length)*100;r-o>=u&&n+o>=p?(t.style.flexBasis=r-o+"%",t.setAttribute("lt-prop-size",r-o+"%"),l.style.flexBasis=n+o+"%",l.setAttribute("lt-prop-size",n+o+"%")):r-o<u+1?(l.style.flexBasis=r+n-u+"%",l.setAttribute("lt-prop-size",r+n-u+"%"),t.style.flexBasis=u+"%",t.setAttribute("lt-prop-size",u+"%")):n+o<p+1&&(t.style.flexBasis=r+n-p+"%",t.setAttribute("lt-prop-size",r+n-p+"%"),l.style.flexBasis=p+"%",l.setAttribute("lt-prop-size",p+"%"))}function d(){a.classList.remove("splitResizing"),o.removeEventListener("mousemove",c),o.removeEventListener("mouseup",d);var e=t.getAttribute("lt-prop-splitter-id"),s=l.getAttribute("lt-prop-splitter-id"),i={};i[e]={element:t,size:t.getAttribute("lt-prop-size")},i[s]={element:l,size:l.getAttribute("lt-prop-size")},o.getMethods("onResizeEnd")&&o.component.executeMethod("onResizeEnd",i)}a.addEventListener("mousedown",function(m){a.classList.add("splitResizing"),o=$L(this).closest("lyte-splitter").get(0),splitterComponentRow=$L(this).closest("lyte-row-splitter").get(0),e=a.parentElement,childArray=Object.keys(e.children).map(function(t){return e.children[t]}),s=childArray.indexOf(a),t=childArray[s-1],l=childArray[s+1],i=m.clientY,$L(this).parent().children("lyte-row-element").css("flexGrow",0),getComputedStyle(t).flexBasis||(t.style.flexBasis=(100/e.querySelectorAll("lyte-row-element").length-1)/2+"%");getComputedStyle(l).flexBasis&&"auto"!==getComputedStyle(l).flexBasis||(l.style.flexBasis=100/e.querySelectorAll("lyte-row-element").length/($L("lyte-row-element").length-2)+"%");t.style.flexGrow=l.style.flexGrow=0,i=m.clientY,r=parseFloat(getComputedStyle(t).flexBasis),n=parseFloat(getComputedStyle(l).flexBasis),t.hasAttribute("lt-prop-min-size")&&(u=parseFloat(t.getAttribute("lt-prop-min-size")));l.hasAttribute("lt-prop-min-size")&&(p=parseFloat(l.getAttribute("lt-prop-min-size")));o.addEventListener("mousemove",c),o.addEventListener("mouseup",d)})},static:{observedAttributes:{}}}),Lyte.createCustomElement("lyte-column-handle",{connectedCallback:function(){var e=document.createElement("DIV");e.setAttribute("class","columnHandleIcon"),this.appendChild(e)},constructor:function(){var e,t,l,s,i,r,n,o,a=this,u=0,p=0,c={},d={};function m(s){var o=(i-s.clientX)/(e.getBoundingClientRect().width-8*$L(a).parent().children("lyte-column-handle").length)*100;r-o>=u&&n+o>=p?(t.style.flexBasis=r-o+"%",t.setAttribute("lt-prop-size",r-o+"%"),l.style.flexBasis=n+o+"%",l.setAttribute("lt-prop-size",n+o+"%"),c.value=r-o,d.value=n+o,$L(t).data("flexValues",c),$L(l).data("flexValues",d)):r-o<u+1?(l.style.flexBasis=r+n-u+"%",l.setAttribute("lt-prop-size",r+n-u+"%"),t.style.flexBasis=u+"%",t.setAttribute("lt-prop-size",u+"%")):n+o<p+1&&(t.style.flexBasis=r+n-p+"%",t.setAttribute("lt-prop-size",r+n-p+"%"),l.style.flexBasis=p+"%",l.setAttribute("lt-prop-size",p+"%"))}function y(){a.classList.remove("splitResizing"),o.removeEventListener("mousemove",m),o.removeEventListener("mouseup",y);var e=t.getAttribute("lt-prop-splitter-id"),s=l.getAttribute("lt-prop-splitter-id"),i={};i[e]={element:t,size:t.getAttribute("lt-prop-size")},i[s]={element:l,size:l.getAttribute("lt-prop-size")},o.getMethods("onResizeEnd")&&o.component.executeMethod("onResizeEnd",i)}a.addEventListener("mousedown",function(f){a.classList.add("splitResizing"),o=$L(a).closest("lyte-splitter").get(0),splitterComponentCol=$L(a).closest("lyte-column-splitter").get(0),e=a.parentElement,childArray=Object.keys(e.children).map(function(t){return e.children[t]}),s=childArray.indexOf(a),t=childArray[s-1],l=childArray[s+1],i=f.clientX,$L(this).parent().children("lyte-column-element").css("flexGrow",0),getComputedStyle(t).flexBasis||(t.style.flexBasis=(100/e.querySelectorAll("lyte-column-element").length-1)/2+"%");getComputedStyle(l).flexBasis&&"auto"!==getComputedStyle(l).flexBasis||(l.style.flexBasis=100/e.querySelectorAll("lyte-column-element").length/($L("lyte-column-element").length-2)+"%");t.style.flexGrow=l.style.flexGrow=0,i=f.clientX,r=parseFloat(getComputedStyle(t).flexBasis),n=parseFloat(getComputedStyle(l).flexBasis),t.hasAttribute("lt-prop-min-size")&&(u=parseFloat(t.getAttribute("lt-prop-min-size")));l.hasAttribute("lt-prop-min-size")&&(p=parseFloat(l.getAttribute("lt-prop-min-size")));$L(t).data("flexValues")||(c={value:getComputedStyle(t).flexBasis});$L(l).data("flexValues")||(d={value:getComputedStyle(l).flexBasis});$L(t).data("flexValues",c),$L(l).data("flexValues",d),o.addEventListener("mousemove",m),o.addEventListener("mouseup",y)})},static:{observedAttributes:{}}});