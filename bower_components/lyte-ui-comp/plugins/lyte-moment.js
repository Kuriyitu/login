!function(e){if(lyteDomObj){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Su","Mo","Tu","We","Th","Fr","Sa"],s=[31,28,31,30,31,30,31,31,30,31,30,31],l="W",o=1,d="lyteMoment",c=19,u=80,h={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},g=[{val:"YYYY",type:"year",regex:/\d{4}/,len:4},{val:"GGGG",type:"year",regex:/\d{4}/,len:4,isWEG:!0},{val:"gggg",type:"year",regex:/\d{4}/,len:4,isWEG:!0},{val:"YY",type:"year",regex:/\d{2}/,len:2},{val:"GG",type:"year",regex:/\d{2}/,len:2,isWEG:!0},{val:"gg",type:"year",regex:/\d{2}/,len:2,isWEG:!0},{val:"MMMM",type:"month",regex:/[A-z]{3,}/,long:!0,str:!0,array:a},{val:"MMM",str:!0,type:"month",regex:/[A-z]{3,}/,array:t},{val:"Mo",suff:!0,type:"month",regex:/\d{1,2}(?=st|nd|rd|th)/,max:12},{val:"MM",type:"month",regex:/\d{2}/,len:2,max:12,alt:!0},{val:"M",type:"month",regex:/\d{1,2}/,max:12},{val:"DDDD",type:"date",regex:/\d{3}/,len:3,year:!0},{val:"DDDo",type:"date",suff:!0,regex:/\d{1,3}(?=st|nd|rd|th)/,len:3,year:!0,ignore:/\d{3}(?=st|nd|rd|th)/},{val:"DDD",type:"date",regex:/\d{1,3}/,year:!0,ignore:/\d{3}/},{val:"Do",type:"date",suff:!0,regex:/\d{1,2}(?=st|nd|rd|th)/},{val:"DD",type:"date",regex:/\d{2}/,len:2,alt:!0},{val:"D",type:"date",regex:/\d{1,2}/},{val:"["+l+"]Wo",type:"week",suff:!0,regex:new RegExp("["+l+"]d{1,2}(?=st|nd|th|rd)"),isWEG:!0},{val:"["+l+"]wo",type:"week",suff:!0,regex:new RegExp("["+l+"]d{1,2}(?=st|nd|th|rd)"),isWEG:!0},{val:"["+l+"]WW",type:"week",regex:new RegExp(l+"(\\d{2})"),len:2,isWEG:!0,match:1},{val:"["+l+"]ww",type:"week",regex:new RegExp(l+"(\\d{2})"),len:2,isWEG:!0,match:1},{val:"["+l+"]W",type:"week",regex:new RegExp(l+"(\\d{1,2})"),isWEG:!0,match:1},{val:"["+l+"]w",type:"week",regex:new RegExp(l+"(\\d{1,2})"),isWEG:!0,match:1},{val:"E",type:"day",regex:/\d{1}/,isWEG:!0},{val:"e",type:"day",regex:/\d{1}/,isWEG:!0,local:!0},{val:"A",type:"meridian",regex:/AM|PM/,str:!0,time:!0},{val:"a",type:"meridian",regex:/am|pm/,str:!0,time:!0,lower:!0},{val:"ZZ",type:"timezone",regex:/(\+|\-)(\d{2})(\d{2})$/,time:!0,len:2},{val:"Z",type:"timezone",regex:/(\+|\-)(\d{2}):(\d{2})$/,time:!0,len:2},{val:"HH",type:"hour",regex:/\d{2}/,railway:!0,time:!0,len:2,max:23},{val:"H",type:"hour",regex:/\d{1,2}/,railway:!0,time:!0,max:23},{val:"hh",type:"hour",regex:/\d{2}/,time:!0,len:2,max:12},{val:"h",type:"hour",regex:/\d{1,2}/,time:!0,max:12},{val:"kk",type:"hour",regex:/\d{2}/,railway:!0,time:!0,len:2,max:24,deduct:-1},{val:"k",type:"hour",regex:/\d{1,2}/,railway:!0,time:!0,max:24,deduct:-1},{val:"mm",type:"minute",regex:/\d{2}/,time:!0,len:2,max:59},{val:"m",type:"minute",regex:/\d{1,2}/,time:!0,max:59},{val:"ss",type:"second",regex:/\d{2}/,time:!0,len:2,max:59},{val:"s",type:"second",regex:/\d{1,2}/,time:!0,max:59},{val:"S",type:"millisecond",regex:/[0-9]{1,}/,time:!0,valForm:/[S]+/},{val:"zz",type:"timezone",regex:/\[(UT|GMT|EDT|EST|CDT|CST|MDT|MST|PDT|PST)\]$/,str:!0,time:!0},{val:"z",type:"timezone",regex:/\[(UT|GMT|EDT|EST|CDT|CST|MDT|MST|PDT|PST)\]$/,str:!0,time:!0},{val:"X",type:"timestamp",regex:/\d{10}/,time:!0},{val:"x",type:"timestamp",regex:/\d{13,}/,time:!0,milli:!0},{val:"dddd",type:"longdate",regex:/[A-z]{3,}/,long:!0,str:!0,array:r},{val:"ddd",type:"longdate",regex:/[A-z]{3}/,str:!0,array:n},{val:"dd",type:"longdate",regex:/[A-z]{2}/,str:!0,array:i},{val:"do",type:"longdate",regex:/\d{1}(?=st|nd|rd|th)/,suff:!0},{val:"d",type:"longdate",regex:/\d{1}/},{val:"Qo",type:"quarter",regex:/\d{1}(?=st|nd|rd|th)/,suff:!0},{val:"Q",type:"quarter",regex:/\d{1}/}];function m(e,t,a,r){e&&(this._arg=e),this._format=t,function(e){if(!e)return!0;var t=e.constructor;if(t==Array&&!t.length)return!0;if(t==Object&&!Object.keys(e).length)return!0;return!1}(e)&&(e=new Date),f(a)&&f(r)?(this.uL=void 0==a?c:a,this.lL=void 0==r?u:r):this.alt=!!a,this._isValid=E.call(this,e,t)}function f(e){return void 0!=e}function v(e,t,a){for(var r=0,n=0;n<e;n++)r+=s[n],t&&1==n&&(r+=1);return r+(a||0)}function y(e){return 2==(e+="").length&&(e=T(parseInt(e))),(e=parseInt(e))%4==0&&e%100!=0||e%400==0}function p(e){var t=e.match(/{{/),a=e.match(/}}/);return t&&a?p(e=e.replace(e.slice(t.index,a.index+2),function(e){for(var t="",a=0;a<e.length-4;a++)t+="*";return t})):e}function x(e,t){for(var a,r=$L.extend(!0,[],g),n=[],i=0;i<r.length;i++){var s=r[i];if(!e.length)break;if(e.indexOf(s.val)>-1){if(t&&s.alt){a=!0;continue}a&&(s.val=r[i-1].val),a=!1,n.push({format:s,index:e.indexOf(s.val)}),e=e.replace(s.val,Math.pow(10,s.val.length-1)),i--}else;}return n.sort(function(e,t){return e.index-t.index})}function M(e,t,a,r){return e=e.replace(t,r||""),a&&(e=e.replace(/st|nd|rd|th/,"")),e}function D(e,t){var a,r;for(r=0;r<e.length;r++)if(new RegExp(e[r]).test(t)){a=e[r];break}return{mon:a,index:r}}function w(e,r,n,i){var s;if(n){var l=D(i?a:t,e);s=l.mon,e=l.index,(!s||e>11)&&(e="Invalid")}else(e=parseInt(e)-1)>11&&(e="Invalid");return{val:e,mon:s}}function k(e){var t,a=parseInt(e[2]);return minute=parseInt(e[3]),t=60*a+minute,"+"==e[1]?-1*t:t}function Y(e,t){if(e=parseInt(e),ini=0,ind=0,inc=s[0],e>365+(t?1:0))return{};for(;ini+inc<e;)ini+=inc,ind++,inc=s[ind],t&&1==ind&&(inc+=1);return{day:e-ini,mon:ind}}function S(e){var t,a=y(e.getFullYear()),r=e.getMonth(),n=e.getDate(),i=-o,s=new Date(e.getFullYear(),0).getDay();return i+=v(r,a),0==r&&s>4&&n<3+o&&(i=i+365+((a=y(e.getFullYear()-1))?1:0),s=new Date(e.getFullYear()-1,0).getDay(),t=!0),{week:Math.ceil((i+s+n)/7),day:(i+s+n)%7||7,repYear:t}}function T(e){var t=e+"";if(e=parseInt(e),2==t.length){var a=(new Date).getFullYear(),r=parseInt(a/100),n=a%100,i=(this.uL,(n-(this.lL||u)+100)%100);e=n>i?e<i?r+1+""+_(e,2):r+""+_(e,2):e<i?r+""+_(e,2):r-1+""+_(e,2)}return e}function b(e,t){for(var a,r,n={},i=new Date((new Date).getFullYear(),0),d=x(p(t),!0),c=e,u=t=t.replace(/{{|}}/g,""),g=0;g<d.length;g++){var m,v=d[g].format;switch(v.type){case"date":case"year":case"week":case"day":v.regex.test(e)?(m="year"==v.type?e.match(v.regex)[v.match||0]:parseInt(e.match(v.regex)[v.match||0]),n[v.type]=m,e=M(e,v.regex,v.suff),c=M(c,v.regex,v.suff,v.val),"week"==v.type&&(e=M(e,l)),"day"==v.type&&v.local&&n.day++,v.year&&(n.date=Y(n.date).day)):n.year&&n.week?(n[v.type]=o,t=t.replace(v.val,""),u=u.replace(v.val,"")):n[v.type]="Invalid",/date/i.test(v.type)&&0==n[v.type]&&(n[v.type]="Invalid");break;case"month":v.regex.test(e)?(m=w(e.match(v.regex)[0],v.suff,v.str,v.long),n.month=m.val,e=M(e,m.mon||v.regex,v.suff),c=M(c,m.mon||v.regex,v.suff,v.val)):n.month="Invalid",n.month<0&&(n.month="Invalid");break;case"quarter":v.regex.test(e)&&(m=e.match(v.regex)[0],n.quarter=m,e=M(e,m,v.suff),c=M(c,m,v.suff,v.val));break;case"longdate":v.regex.test(e)&&(m=v.str?D(v.array,e.match(v.regex)[0]):parseInt(e.match(v.regex)[0]),n.longdate=f(m.index)?m.index:m,e=M(e,m.mon||m,v.suff),c=M(c,m.mon||m,v.suff,v.val));break;case"hour":case"minute":case"second":case"meridian":v.regex.test(e)&&(v.str?m=e.match(v.regex)[0]:(m=parseInt(e.match(v.regex)[0]),v.railway&&(n.railway=!0)),v.deduct&&m--,n[v.type]=m,v.max&&m>v.max&&(n[v.type]="Invalid"),e=M(e,v.regex),c=M(c,v.regex,v.suff,v.val));break;case"millisecond":v.regex.test(e)&&(m=e.match(v.regex)[0],n.millisecond=parseFloat(m),e=M(e,m).replace(/[S]+/,""),c=M(c,v.regex,v.suff,v.val),u=u.replace(/[S]+/,"S"));break;case"timestamp":v.regex.test(e)&&(m=parseInt(e.match(v.regex)[0]),n.timestamp=m*(v.milli?1:1e3),e=M(e,m),c=M(c,m,v.suff,v.val));break;case"timezone":v.regex.test(e)&&(v.str?(m=e.match(v.regex)[0],m=h[m]):m=k(e.match(v.regex)),this._utcOffset=m,n.timezone=m-i.getTimezoneOffset(),e=M(e,v.regex),c=M(c,v.regex,v.suff,v.val))}t=t.replace(v.valForm||v.val,"")}if(f(n.day)||f(n.week)){var S=n.date;f(n.year)||(n.year=i.getFullYear()),f(n.day)||(n.day=o),function(e){if(void 0!=e.day||e.week){var t=new Date(e.year,0,1);if(!E.call(this,t))return{};var a=t.getDay(),r=y(e.year||t.getFullYear()),n=o+e.week==1?e.day-a+o:2==e.week?7+o-a+e.day:7+o-a+e.day+7*(e.week-2);if(n>365+(r?1:0)&&new Date(e.year+1,0,1).getDay()>4&&(e.year+=1,n-=365+(r?1:0)),n>365+(r?1:0)||0==e.day||e.day>7)return void(e.month=e.year=e.date="Invalid");var i=Y(n,r);e.month=i.mon,e.date=i.day}if(e.year){var s=parseInt(e.year);s<100&&(e.year=T(s))}e.month<0&&(e.month="Invalid"),e.date<1&&(e.date="Invalid")}.call(this,n),f(S)&&(n.date>S&&n.month++,n.date=S)}if(f(n.longdate)&&n.day&&n.day!=n.longdate?i.setFullYear("Invalid"):f(n.year)&&i.setFullYear(T(n.year)),f(n.month)&&i.setMonth(n.month),f(n.date)&&i.setDate(n.date<=s[i.getMonth()]+(y(i.getFullYear())?1:0)?n.date:"Invalid"),f(n.hour)){var b=n.meridian;i.setHours(n.railway?(a=n.hour,(r=b?"PM"==b:n.hour>11)&&a<12?a+=12:12!=a||r||(a=0),a):"PM"==b?n.hour<12?n.hour+12:n.hour:n.hour%12)}return f(n.minute)&&i.setMinutes(n.minute),f(n.second)&&i.setSeconds(n.second),f(n.millisecond)&&i.setMilliseconds(n.millisecond),f(n.timestamp)&&(i=new Date(n.timestamp)),f(n.timezone)&&i.setMinutes(i.getMinutes()+n.timezone),!!(this._isCorrectFormat=e.length==t.length&&u==c&&E.call(this,i))||(this._format?void 0:E.call(this,new Date(this._arg)))}function _(e,t,a,r){var n="";if(r&&e++,a&&(n=function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(e)),t){e=e.toString();for(var i=1;i<t;i++)e.length<=i&&(e="0"+e)}return e+n}function G(){var e;return this._UTC&&(e=new Date(this._dateObj.getTime())).setMinutes(e.getMinutes()+e.getTimezoneOffset()),e||this._dateObj}function H(e){var t=G.call(this),a=x(p(e)),r={},n={date:t.getDate(),month:t.getMonth(),year:t.getFullYear(),day:t.getDay()};e=function(e,t){for(var a=0,r=0;r<t.length;r++)e=e.slice(0,t[r].index+a)+t[r].format.val+d+e.slice(t[r].index+a+t[r].format.val.length),a+=10;return e}(e.replace(/{{|}}/g,""),a);for(var i=0;i<a.length;i++){var s=a[i].format;switch(s.type){case"date":e=e.replace(s.val+d,_(s.year?v(n.month,y(n.year),n.date):n.date,s.len,s.suff));break;case"month":e=s.str?e.replace(s.val+d,s.array[n.month]):e.replace(s.val+d,_(n.month+1,s.len,s.suff));break;case"year":e=e.replace(s.val+d,2==s.len?_(n.year%100,2):4==(n.year+"").length?n.year:_(n.year,4)),r.year=r.year||[],r.year.push(s);break;case"day":case"week":r.flag=!0,r[s.type]=r[s.type]||[],r[s.type].push(s);break;case"quarter":e=e.replace(s.val+d,_(Math.ceil((n.month+1)/3),null,s.suff));break;case"longdate":e=s.str?e.replace(s.val+d,s.array[n.day]):e.replace(s.val+d,_(n.day,null,s.suff));break;case"hour":var o=t.getHours();e=e.replace(s.val+d,_(s.railway?o:o>12?o%12:o||12,s.len,null,s.deduct));break;case"minute":e=e.replace(s.val+d,_(t.getMinutes(),s.len));break;case"second":e=e.replace(s.val+d,_(t.getSeconds(),s.len));break;case"millisecond":e=e.replace(s.val+d,_(t.getMilliseconds(),3)).replace(/\\S+/,"");break;case"timezone":var c="";if(!s.str){var u=t.getTimezoneOffset(),h=(o=this._UTC?"00":_(Math.abs(parseInt(u/60)),2),this._UTC?"00":_(Math.abs(u%60),2)),g=u<0?"+":"-";c="ZZ"==s.val?g+o+h:g+o+":"+h}e=e.replace(s.val+d,c);break;case"timestamp":c="";"X"==s.val?c+=parseInt(t.getTime()/1e3):c+=t.getTime(),e=e.replace(s.val+d,c);break;case"meridian":var m=t.getHours()>11?"PM":"AM";s.lower&&(m=m.toLowerCase()),e=e.replace(s.val+d,m)}}if(r.flag){var f=S(t);if(r.week)for(var M=0;M<r.week.length;M++)e=e.replace(r.week[M].val+d,l+_(f.week,r.week[M].len,r.week[M].suff));if(r.day)for(M=0;M<r.day.length;M++)e=e.replace(r.day[M].val+d,f.day-(r.day[M].local?1:0));if(f.repYear&&r.year)for(M=0;M<r.year.length;M++)e=e.replace(2==r.year[M].len?n.year%100:n.year,(2==r.year[M].len?n.year%100:n.year)-1)}return e.replace(/{{|}}/g,"")}function E(e,t){var a=e.constructor;if(a==Date)return this._dateObj=e,this._isMoment=!0,"Invalid Date"!=e.toString();if(a==String){if(t){var r=b.call(this,e,t);return r&&this._isCorrectFormat&&(this._format=t),r}if(this.constructFormat)return E.call(this,e,this.constructFormat.call(this,e));console.warn("Its not supported in lyte-moment-basic.js. Add lyte-moment-additional.js for format construction")}else{if(a==Array)return E.call(this,new Date(Date.parse(Date.apply(Date,a))).getTime());if(a==Number)return e*=/^\d{10}$/.test(e)?1e3:1,E.call(this,new Date(e));if(e._isMoment)return E.call(this,e._dateObj.getTime())}}m.prototype={_UTC:!1,isDef:f,find:D,isLeap:y,dayArr:s,getDObj:G,getWeekReverse:S,weekShort:i,weekMid:n,weekLong:r,longMon:a,shortMon:t,week:l,crctLength:_,formats:g,replace:M,inbuiltFormats:{},getCorrectYear:T,validate:function(){return!!this._isValid},toDate:function(){return this._dateObj},isSame:function(e){return!!(this._isValid&&e&&e._isMoment&&e._isValid)&&this._dateObj.getTime()==e._dateObj.getTime()},format:function(e){if(this._isValid)return e=this.inbuiltFormats[e]||e||"YYYY-MM-DDTHH:mm:ssZ",H.call(this,e)},utc:function(e){return this._UTC=!0,this},local:function(e){return this._UTC=!1,this},utcOffset:function(e){if(this._isValid)return this._UTC?0:this._dateObj.getTimezoneOffset()}},$L.moment=function(e,t,a,r){return new m(e,t,a,r)},$L.moment.lyteMoment=m,$L.moment.setLimits=function(e,t){c=e,u=t}}}(window),function(e){if($L.moment){var t=$L.moment.lyteMoment.prototype,a=[{val:"YYYY-MM-DD",regex:/^(\d{4}-\d{2}-\d{2})/},{val:"GGGG-["+t.week+"]WW-E",regex:new RegExp("^(\\d{4}-"+t.week+"\\d{2}-\\d)")},{val:"GGGG-["+t.week+"]WW",regex:new RegExp("^(\\d{4}-"+t.week+"\\d{2})")},{val:"YYYY-DDD",regex:/^(\d{4}-\d{3})/},{val:"YYYY-MM",regex:/^(\d{4}-\d{2})/},{val:"YYYYMMDD",regex:/^(\d{8})/},{val:"GGGG["+t.week+"]WWE",regex:new RegExp("^(\\d{4}"+t.week+"\\d{2}\\d)")},{val:"GGGG["+t.week+"]WW",regex:new RegExp("^(\\d{4}"+t.week+"\\d{2})")},{val:"YYYYDDD",regex:/^(\d{4}\d{3})/}],r=[{val:"HH:mm:ss.SSSS",regex:/^\d{2}:\d{2}:\d{2}\.[0-9]{1,}$/},{val:"HH:mm:ss,SSSS",regex:/^\d{2}:\d{2}:\d{2},[0-9]{1,}$/},{val:"HH:mm:ss",regex:/^\d{2}:\d{2}:\d{2}$/},{val:"HH:mm",regex:/^\d{2}:\d{2}$/},{val:"HHmmss.SSSS",regex:/^\d{6}\.[0-9]{1,}$/},{val:"HHmmss,SSSS",regex:/^\d{6},[0-9]{1,}$/},{val:"HHmmss",regex:/^\d{6}$/},{val:"HHmm",regex:/^\d{4}$/},{val:"HH",regex:/^\d{2}$/}];function n(e,t){for(var a=this.formats.slice(),r={},n=e,i=new RegExp(this.week+"|G|E","i").test(e),s=0;s<a.length;s++){var l=a[s];if(t==l.time&&(l.regex.test(n)&&i==!!l.isWEG&&!this.isDef(r[l.type]))){if(l.ignore&&!l.ignore.test(n)){var o=this.dayArr[r.month]||30;if(parseInt(n.match(l.regex)[0])<o)continue}if(l.str){(d=this.find(l.array,n.replace(/(Y|G)+/,"")).mon)&&(e=this.replace(e,d,!1,l.val),r[l.type]=l.array?this.find(l.array,d).index:d)}else{var d=n.match(l.regex)[0];e=this.replace(e,l.regex,l.suff,l.val),r[l.type]=parseInt(d),"week"==l.type&&(e=replace(e,new RegExp(this.week+"(?=\\["+this.week+")")))}n=n.replace(d,"")}}return e}function i(e,t){for(var a=0;a<e.length;a++)if(e[a].regex.test(t))return e[a]}function s(e){return this._dateObj.setFullYear(parseInt(this.getCorrectYear(this.crctLength(this._dateObj.getFullYear()%100,2)))),this}t.additional=!0,$L.extend(t,{inbuiltFormats:{localDatetime:"YYYY-MM-DDTHH:mm",localSecondDatetime:"YYYY-MM-DDTHH:mm:ss",localMillisecondDatetime:"YYYY-MM-DDTHH:mm:ss.SSS",defaultDate:"YYYY-MM-DD",defaultTime:"HH:mm",defaultTimeSecond:"HH:mm:ss",defaultTimeMillisecond:"HH:mm:ss.SSS",defaultWeek:"GGGG-[W]WW",defaultMonth:"YYYY-MM"},get:function(e){if(e)return this[e]()},set:function(e,t){if(e){if(t.constructor==Object){for(var a in t)this[a](t[a]);return this}return this[e](t)}},constructFormat:function(e){var t,s=i.call(this,a,e);return s?e=(t=i.call(this,r,e.replace(s.regex,"")))?s.val+t.val:n.call(this,e.replace(s.regex,s.val),!0):(e=n.call(this,e),e=n.call(this,e,!0)),e}}),new Array({prop:"date",array:[t.weekLong,t.weekShort,t.weekMid]},{prop:"day",array:[t.weekLong,t.weekShort,t.weekMid]},{prop:"month",array:[t.shortMon,t.longMon]},{prop:"year"},{prop:"fullYear"},{prop:"hours"},{prop:"minutes"},{prop:"seconds"},{prop:"milliseconds"},{prop:"UTCMilliseconds"},{prop:"time"}).forEach(function(e){t[e.prop]=function(t){if(this._isValid){var a=this._dateObj,r=e.prop[0].toUpperCase()+e.prop.slice(1);if(this.isDef(t)){if(t.constructor==String)for(var n=0;n<e.array.length;n++){var i=this.find(e.array[n],t);if(i.mon){t=i.index;break}}else t.constructor==Number&&Math.floor(t)!=t&&("year"==e.prop?(e.prop="month",t=Math.round(12*t)):t=Math.round(t));return"day"==e.prop?a.setDate(a.getDate()+(t-a.getDay())):a["set"+r](t),this}return a["get"+r]()}}}),$L.extend(t,{week:function(e){if(this._isValid){var t=this._dateObj;return this.isDef(e)?(t.setDate(t.getDate()+7*(e-this.week())),this):this.getWeekReverse.call(this,t).week}},quarter:function(e){if(this._isValid){var t=this._dateObj;if(this.isDef(e)){t.getMonth();return t.setMonth(t.getMonth()+3*(e-this.quarter())),this}return Math.ceil(t.getMonth()/3)}},add:function(e,t,a){if(this._isValid){this.getDObj();if(this.isDef(t)){var r=this.set(t,this.get(t)+e);return a?s.call(this,r):r}}},subtract:function(e,t,a){if(this._isValid){this.getDObj();if(this.isDef(t)){var r=this.set(t,this.get(t)-e);return a?s.call(this,r):r}}},startOf:function(e){if(this._isValid){var t,a=this.getDObj();switch(e){case"year":t=a.setFullYear(a.getFullYear());case"month":t=a.setMonth(t?0:a.getMonth());case"date":case"day":t=a.setDate(t?1:a.getDate());case"week":if(!t){var r=this.getWeekReverse(a);t=a.setDate(a.getDate()-(r.day-1))}case"hour":t=a.setHours(t?0:a.getHours());case"minute":t=a.setMinutes(t?0:a.getMinutes());case"second":t=a.setSeconds(t?0:a.getSeconds());default:a.setMilliseconds(t?0:a.getMilliseconds())}return this}},endOf:function(e){if(this._isValid){var t,a=this.getDObj();switch(e){case"year":t=a.setFullYear(a.getFullYear());case"month":t=a.setMonth(t?11:a.getMonth());case"date":case"day":var r=a.getMonth();t=a.setDate(t?this.dayArr[r]+(1==r&&isLeap(a.getFullYear()?1:0)):a.getDate());case"week":if(!t){var n=this.getWeekReverse(a);t=a.setDate(a.getDate()+(7-n.day))}case"hour":t=a.setHours(t?23:a.getHours());case"minute":t=a.setMinutes(t?59:a.getMinutes());case"second":t=a.setSeconds(t?59:a.getSeconds());default:a.setMilliseconds(t?999:a.getMilliseconds())}return this}},fromNow:function(e){if(this._isValid){var t=this.get("time"),a=$L.moment(e).get("time");if(this.isDef(a)){var r,n,i=parseInt((a-t)/1e3),s=i<0,l={years:{val:27648e3,conv:31536e3},months:{val:2246400,conv:2592e3},days:{val:79200,conv:86400},hours:{val:2700,conv:3600},minutes:{val:44,conv:60},seconds:{val:0,conv:1}};for(r in i=Math.abs(i),l)if(i>=l[r].val){n=Math.round(i/l[r].conv);break}if(this.isDef(n))return{property:r,value:n,past:s,timestamp:a-t}}}}})}}(window);