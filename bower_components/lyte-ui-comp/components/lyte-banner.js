if(!_LyteBanner_)var _LyteBanner_={};Lyte.Component.register("lyte-banner",{_template:'<template tag-name="lyte-banner">\n    <template is="if" value="{{ltPropFloating}}"><template case="true">\n        <lyte-modal id="_lyteBannerModal" lt-prop-height="{{ltPropHeight}}" lt-prop-width="{{ltPropWidth}}" lt-prop-show="{{ltPropShow}}" lt-prop-freeze="false" lt-prop-allow-multiple="true" lt-prop-close-on-escape="false" lt-prop="{{stringify(ltPropModal)}}" lt-prop-overlay-close="false" lt-prop-wrapper-class="lyteBannerModal {{if(ltPropModal.wrapperClass,ltPropModal.wrapperClass)}}" on-show="{{method(&quot;modalOnShow&quot;)}}" lt-prop-show-close-button="{{ltPropShowCloseButton}}" on-before-show="{{method(&quot;modalOnBeforeShow&quot;)}}" on-close="{{method(&quot;modalOnClose&quot;)}}" on-before-close="{{method(&quot;modalOnBeforeClose&quot;)}}">\n            <template is="registerYield" yield-name="modal"> \n                <lyte-modal-content class="{{ltPropClass}}">\n                    <lyte-yield yield-name="yield"></lyte-yield>\n                </lyte-modal-content>\n            </template>\n        </lyte-modal>\n        </template><template case="false">\n            <div class="lyteBannerNonFloating" style="display:none;width:{{ltPropWidth}}; height:{{ltPropHeight}};">\n                <lyte-yield yield-name="yield"></lyte-yield>\n                <template is="if" value="{{ltPropShowCloseButton}}"><template case="true">\n                    <span id="BannerClose" class="lyteModalClose" onclick="{{action(\'close\')}}"></span>\n                </template></template>\n            </div>\n        </template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'display:none;width:'","ltPropWidth","'; height:'","ltPropHeight","';'"]}}}},{type:"insertYield",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropModal","ltPropFloating","ltPropShow","ltPropShowCloseButton","ltPropCloseButtonClass","ltPropPosition","ltPropInitDifference","ltPropBannerDifference","ltPropWidth","ltPropHeight","ltPropClass","returnFalse"],data:function(){return{ltPropModal:Lyte.attr("object",{default:{}}),ltPropFloating:Lyte.attr("boolean",{default:!0}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseButtonClass:Lyte.attr("string"),ltPropPosition:Lyte.attr("string",{default:"top"}),ltPropInitDifference:Lyte.attr("string",{default:"10px"}),ltPropBannerDifference:Lyte.attr("string",{default:"2px"}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropClass:Lyte.attr("string",{default:""}),returnFalse:Lyte.attr("boolean",{default:!1})}},actions:{close:function(){this.$node.querySelector(".lyteBannerNonFloating").style.display="none",this.$node.ltProp("show",!1)}},methods:{modalOnBeforeShow:function(t){var e=0,o=!0,l={top:"center",left:"center"};keys=Object.keys(t.$node.ltProp("offset"));for(var n=0;n<keys.length;n++){var r=keys[n];l[r]!=t.$node.ltProp("offset")[r]&&(o=!1)}if(o){var s=this.$node.ltProp("Position"),a=parseFloat(this.$node.ltProp("InitDifference")),i=parseFloat(this.$node.ltProp("BannerDifference"));if(s){_LyteBanner_[s]=_LyteBanner_[s]||[];var p=_LyteBanner_[s];if(p.length){var d=p[n=p.length-1].$node.querySelector("lyte-modal");e=d.component.actualModalDiv.getBoundingClientRect().height,d.ltProp("offset")&&d.ltProp("offset")[s]&&(e+=parseInt(d.ltProp("offset")[s],10)),i&&(e+=i),"top"==s?t.$node.ltProp("offset",{top:e+"px"}):(t.$node.ltProp("transition",{animation:"slideFromBottom"}),t.$node.ltProp("offset",{bottom:e+"px"}))}else a&&(e+=a),"top"!=s?(t.$node.ltProp("transition",{animation:"slideFromBottom"}),t.$node.ltProp("offset",{bottom:e+"px"})):t.$node.ltProp("offset",{top:e+"px"});_LyteBanner_[s].push(this)}}else this.$node.ltProp("position","");if(this.getMethods("onBeforeShow"))return this.executeMethod("onBeforeShow",this)},modalOnShow:function(t){if(this.getMethods("onShow"))return this.executeMethod("onShow",this)},modalOnBeforeClose:function(t,e){var o,l=0,n=this.$node.ltProp("Position"),r=parseFloat(this.$node.ltProp("InitDifference")),s=parseFloat(this.$node.ltProp("BannerDifference")),a=e.actualModalDiv.getBoundingClientRect();if(""!=n){for(var i=_LyteBanner_[n],p=0;p<i.length;p++)if(this===i[p]){o=p;break}l+=o-1<0?r:s,l+=a.height;for(p=o+1;p<i.length;p++){var d=i[p].$node.querySelector("lyte-modal"),h=parseFloat(i[p].$node.ltProp("BannerDifference")),f=parseFloat(i[p].$node.ltProp("InitDifference")),y=0,c=d.component.actualModalDiv.getBoundingClientRect(),u=d.ltProp("offset");y="top"==n?c.top-l:parseInt(u.bottom)-l,parseInt(y)-h<=0&&(l=l+h-f,y-=h,y+=f),"top"===n?u.top=y+"":u.bottom=y+"",d.component.computeOffsetImpl()}_LyteBanner_[n].splice(o,1),e.$node.ltProp("offset",{top:"center",left:"center"})}if(this.$node.ltProp("show",!1),this.getMethods("onBeforeClose"))return this.executeMethod("onBeforeClose",this)},modalOnClose:function(t){if(this.getMethods("onClose"))return this.executeMethod("onClose",this)}},showChanges:function(t){var e=this.$node.ltProp("ShowCloseButton"),o=this.$node.ltProp("Show"),l=this.$node.ltProp("CloseButtonClass"),n=this.$node.ltProp("Floating");if(this.data.returnFalse)this.setData("returnFalse",!1);else{if(!(t&&"ltPropShow"!==t.item&&"ltPropFloating"!==t.item||n)){var r=this.$node.querySelector(".lyteBannerNonFloating");if(o){if(0==this.executeMethod("onBeforeShow",this))return this.setData("returnFalse",!0),r.style.display="none",void this.setData("ltPropShow",!1);r.style.display="block",this.executeMethod("onShow",this)}else{if(0==this.executeMethod("onBeforeClose",this))return this.setData("returnFalse",!0),r.style.display="block",void this.setData("ltPropShow",!0);r.style.display="none",this.executeMethod("onClose",this)}}if(o&&e&&l)if(n)this.$node.querySelector("lyte-modal#_lyteBannerModal").component.childComp.querySelectorAll("span")[0].setAttribute("class",l);else this.$node.querySelectorAll("span")[0].setAttribute("class",l)}}.observes("ltPropCloseButtonClass","ltPropShowCloseButton","ltPropShow","ltPropFloating").on("didConnect")});