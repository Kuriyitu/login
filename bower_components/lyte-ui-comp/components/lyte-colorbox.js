LyteColorbox={_prefix:"lyteCBox",_boxElement:"lyteCBoxElement",_box:null,_content:null,_overlay:null,_title:null,_description:null,_close:null,_download:null,_next:null,_prev:null,_open:null,_zoomIn:null,_zoomOut:null,_reset:null,_active:null,_closing:null,_previousOffset:{},_first:!0,_domEle:null,_related:null,_el:null,_photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,_index:0,_zoom:!1,_component:null,_winheight:null,_winWidth:null,_isArray:!1,_hrefArray:[],_titleArray:[],_nextItem:!1,_prevItem:!1,_zIndex:0,_timeoutId:!1,_thumbDiv:null,_clickNumber:0,_zoomedThroughUtil:!1,_count:0,_boundKeydown:!1,_boundResize:!1,_diff:0,_loadingIcon:null,setSize:function(o,t,e){return/%/.test(o)?parseInt(o):Math.round(100*(isNaN(o/e)?0:o/e))},createElement:function(o,t,e){var l=document.createElement(o);return t&&(l.id=t),e&&l.classList.add(e),l},getSelector:function(o,t){for(var e=0;e<t.length;e++)if(-1!=o.indexOf("."+t[e]))return t[e];return!1},getIndex:function(o){var t=LyteColorbox._related.length,e=(LyteColorbox._index+o)%t;return e<0?t+e:e},isImage:function(o){return LyteColorbox._domEle||LyteColorbox._photoRegex.test(o)},createName:function(o){return o?o.replace(/[ ,-]/g,"_"):"photo"==LyteColorbox._el.type?"image":"file"},add:function(o){if(Array.isArray(o))o=o.map(function(o){if(o.lytecboxType&&"photo"!=o.lytecboxType){var t=o.lytecboxType.split("/");o.type=t[0],t.length>1?o.format=t[1].toUpperCase():o.format="WEBPAGE"}else o.type="photo";return o});else if(o.lytecboxType&&"photo"!=o.lytecboxType){var t=o.lytecboxType.split("/");o.type=t[0],t.length>1?o.format=t[1].toUpperCase():o.format="WEBPAGE"}else o.type="photo";Lyte.arrayUtils(LyteColorbox._related,"push",o)},getRelated:function(o){if(LyteColorbox._index=0,LyteColorbox._related=[],o&&!1!==o&&"nofollow"!==o){for(var t=Array.from(document.querySelectorAll("."+LyteColorbox._boxEle)).filter(function(t){return LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(t.classList))===o}),e=0;e<t.length;e++){var l=LyteColorbox.getProperties(t[e]);l.classList||(l.classList=[o]),LyteColorbox._related.push(l)}LyteColorbox._index=LyteColorbox._related.findIndex(function(o){return o.lytecboxHref==LyteColorbox._el.lytecboxHref&&o.lytecboxTitle==LyteColorbox._el.lytecboxTitle}),-1===LyteColorbox._index&&(LyteColorbox._related.push(LyteColorbox._el),LyteColorbox._index=LyteColorbox._related.length-1)}else LyteColorbox._related=[],LyteColorbox._related.push(LyteColorbox._el),LyteColorbox._index=LyteColorbox._related.length-1},hideElement:function(){var o=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+LyteColorbox._index);o&&o.classList.contains("lyteCBoxVisible")&&o.classList.remove("lyteCBoxVisible")},hideLoadingIcon:function(o){o.querySelector(".lyteColorboxLoadingImg").style.display="none"},toggleLoadingIcon:function(){"custom"!==LyteColorbox._component.getData("ltPropType")||LyteColorbox._component.getData("ltPropYield")||("none"!=LyteColorbox._content.querySelector(".lyteColorboxLoadingImg").style.display?LyteColorbox._content.querySelector(".lyteColorboxLoadingImg").style.display="none":LyteColorbox._content.querySelector(".lyteColorboxLoadingImg").style.display="")},getProperties:function(o){var t=Object.assign({},o.dataset);if(t.lytecboxHref||("IMG"===o.tagName?t.lytecboxHref=o.src:"A"===o.tagName&&(t.lytecboxHref=o.href)),t.lytecboxType&&"photo"!=t.lytecboxType){var e=t.lytecboxType.split("/");t.type=e[0],e.length>1?t.format=e[1].toUpperCase():t.format="WEBPAGE"}else t.type="photo";return t.classList=o.classList,t},removeElements:function(){var o=Array.from(LyteColorbox._content.querySelectorAll("."+LyteColorbox._prefix+"Photo")),t=LyteColorbox._component,e=(t.getData("ltPropType"),t.getData("ltPropAnimation"));Lyte.arrayUtils(o,"push",Array.from(LyteColorbox._content.querySelectorAll("."+LyteColorbox._prefix+"Iframe"))),Lyte.arrayUtils(o,"push",Array.from(LyteColorbox._content.querySelectorAll("."+LyteColorbox._prefix+"Custom")));for(var l=0;l<o.length;l++)"slide"===e?o[l].parentElement.remove():o[l].remove()},setPercentage:function(o){if(o)LyteColorbox._domEle.setAttribute("data-lytecb-size",o);else{var t=LyteColorbox._domEle.naturalWidth;o=LyteColorbox._domEle.getBoundingClientRect().width/t*100;LyteColorbox._domEle.setAttribute("data-lytecb-size",o%1!=0?Number.parseFloat(o).toFixed(2):o)}},checkHW:function(){"photo"==LyteColorbox._el.type&&LyteColorbox._domEle.offsetHeight>=LyteColorbox._domEle.parentElement.offsetHeight?LyteColorbox._domEle.parentElement.classList.add("lyteCBoxAlignStart"):LyteColorbox._domEle.parentElement.classList.remove("lyteCBoxAlignStart")},isSameColorBoxAsPrevious:function(o){return LyteColorbox._component&&LyteColorbox._component.$node.isEqualNode(o.$node)},setupForBindings:function(o){this.isSameColorBoxAsPrevious(o)||(LyteColorbox._boxEle=o._boxElement,LyteColorbox._content=o._content,LyteColorbox._overlay=o._overlay,LyteColorbox._title=o._title,LyteColorbox._description=o._description,LyteColorbox._close=o._close,LyteColorbox._download=o._download,LyteColorbox._next=o._next,LyteColorbox._prev=o._prev,LyteColorbox._box=o._box,LyteColorbox._zoomIn=o._zoomIn,LyteColorbox._zoomOut=o._zoomOut,LyteColorbox._reset=o._reset,LyteColorbox._thumbDiv=o._thumbDiv,LyteColorbox._loadingIcon=o._loadingIcon,LyteColorbox._component=o)},launch:function(o,t){if(this.$node&&LyteColorbox.setupForBindings(this),!LyteColorbox._closing){if(o&&"object"==typeof o)if(o.nodeType){var e=LyteColorbox.getProperties(o);LyteColorbox._el=o=e,LyteColorbox.getRelated(LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(o.classList)))}else o.lytecboxHref&&(LyteColorbox._el=o,o.classList?LyteColorbox.getRelated(LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(o.classList))):(LyteColorbox._related=[],LyteColorbox._related.push(LyteColorbox._el)));else LyteColorbox._related=[];if(!(0!=LyteColorbox._component.callOnBeforeOpen(LyteColorbox._related,t)))return LyteColorbox._related=null,void(LyteColorbox._el=null);LyteColorbox._el||(LyteColorbox._el=o=LyteColorbox._related[0]),LyteColorbox._index=LyteColorbox._related instanceof Array?LyteColorbox._related.findIndex(function(o){return o.lytecboxHref==LyteColorbox._el.lytecboxHref&&o.lytecboxTitle==LyteColorbox._el.lytecboxTitle}):0,LyteColorbox._component.getData("ltPropYield")||(LyteColorbox._related.length>1?(LyteColorbox._next.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._prev.classList.remove("lyteColorboxHideVisibility")):(LyteColorbox._next.classList.add("lyteColorboxHideVisibility"),LyteColorbox._prev.classList.add("lyteColorboxHideVisibility"))),LyteColorbox._open?LyteColorbox.load(o):(LyteColorbox._open=LyteColorbox._active=!0,document.body.classList.add("lyteCBoxOH"),LyteColorbox._box.classList.add("lyteColorboxHideVisibility","lyteColorboxDisplay"),LyteColorbox._overlay&&LyteColorbox.computeOffsetImpl(),LyteColorbox.hideElement(),LyteColorbox._box.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._component.setData("thumbnails",LyteColorbox._related),LyteColorbox._component.setData("triggerSetThumbnail",LyteColorbox._component.getData("triggerSetThumbnail")+1),LyteColorbox._component.callOnOpen(),LyteColorbox.load(o))}},load:function(o){LyteColorbox._active=!0,LyteColorbox._domEle=!1;var t=o.lytecboxHref,e=o.lytecboxTitle;LyteColorbox._title&&e&&(LyteColorbox._title.textContent=e);var l=LyteColorbox._boxEle+"__"+LyteColorbox._index;if("custom"==o.type)LyteColorbox._component.setData("isIframe",!0),o.lytecboxDlink||LyteColorbox._component.setData("download",!1),LyteColorbox._domEle=LyteColorbox._content.querySelector("."+l),LyteColorbox._domEle?(LyteColorbox.toggleLoadingIcon(),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(LyteColorbox._zIndex++,LyteColorbox._nextItem?(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxNextItem"),LyteColorbox._component.setData("currentEle",ele)):LyteColorbox._prevItem&&(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxPreviousItem"),LyteColorbox._component.setData("currentEle",ele)),setTimeout(function(){LyteColorbox.slide()},10)):LyteColorbox._domEle.classList.add("lyteCBoxVisible"),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._active=!1):(LyteColorbox._domEle=LyteColorbox.createElement("div",null,null),$L(LyteColorbox._domEle).attr({class:LyteColorbox._prefix+"Custom "+l}),LyteColorbox._component.callOnLoad(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox.toggleLoadingIcon(),LyteColorbox.appendElement(LyteColorbox._domEle),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&setTimeout(function(){LyteColorbox.slide()},10),LyteColorbox._active=!1,LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index));else if("iframe"==o.type)if(LyteColorbox._component.setData("isIframe",!0),o.lytecboxDlink||LyteColorbox._component.setData("download",!1),LyteColorbox._domEle=LyteColorbox._content.querySelector("."+l),LyteColorbox._domEle)LyteColorbox.toggleLoadingIcon(),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(LyteColorbox._zIndex++,LyteColorbox._nextItem?(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxNextItem"),LyteColorbox._component.setData("currentEle",ele)):LyteColorbox._prevItem&&(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxPreviousItem"),LyteColorbox._component.setData("currentEle",ele)),setTimeout(function(){LyteColorbox.slide()},10)):LyteColorbox._domEle.classList.add("lyteCBoxVisible"),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._active=!1;else{LyteColorbox._domEle=document.createElement("iframe");var r=o.lytecboxAttrs||{};r.width||(r.width="100%"),r.height||(r.height="100%"),"object"==typeof r&&$L.each(r,function(o,t){LyteColorbox._domEle[o]=t}),"frameBorder"in LyteColorbox._domEle&&(LyteColorbox._domEle.frameBorder=0),"allowTransparency"in LyteColorbox._domEle&&(LyteColorbox._domEle.allowTransparency="true"),LyteColorbox._domEle.name=(new Date).getTime(),LyteColorbox._domEle.allowFullscreen=!0,appendIframe=function(){LyteColorbox._domEle.onload=function(){LyteColorbox.toggleLoadingIcon(),LyteColorbox._component.callOnLoad(LyteColorbox._domEle,LyteColorbox._index),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&setTimeout(function(){LyteColorbox.slide()},10),LyteColorbox._active=!1,LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index)},LyteColorbox._domEle.onerror=function(){alert("error on colorbox")},LyteColorbox.appendElement(LyteColorbox._domEle)},$L(LyteColorbox._domEle).attr({src:t,class:LyteColorbox._prefix+"Iframe "+l}),appendIframe()}else{var n=LyteColorbox._component.getData("ltPropType");if(LyteColorbox._component.setData("isIframe",!1),LyteColorbox._component.setData("download",!0),LyteColorbox._domEle=LyteColorbox._content.querySelector("."+l),LyteColorbox._domEle)LyteColorbox.toggleLoadingIcon(),LyteColorbox.enableTransition(LyteColorbox._domEle),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(LyteColorbox._zIndex++,LyteColorbox._nextItem?(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxNextItem"),LyteColorbox._component.setData("currentEle",ele)):LyteColorbox._prevItem&&(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxPreviousItem"),LyteColorbox._component.setData("currentEle",ele)),LyteColorbox.slide(),LyteColorbox._domEle.parentElement._loaded&&LyteColorbox.checkAspectRatio()):(LyteColorbox._domEle.classList.add("lyteCBoxVisible"),LyteColorbox.checkHW(),LyteColorbox.checkAspectRatio()),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._active=!1;else{if(LyteColorbox._domEle=new Image,o.lytecboxClass){var i=o.lytecboxClass.split(" ");$L.each(i,function(o,t){LyteColorbox._domEle.classList.add(t)})}var a;"image"===n&&(a=LyteColorbox.appendElementForImage(),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&LyteColorbox.slide());var s=$L(LyteColorbox._domEle);s.attr({src:t,class:LyteColorbox._prefix+"Photo "+l,alt:LyteColorbox._component.getData("ltPropImgError")}).one("load",LyteColorbox.imageComplete.bind(a)).one("error",LyteColorbox.imageFailure.bind(a)),"image"===n&&a.appendChild(s.get(0)),LyteColorbox._active=!1}}LyteColorbox._component.getData("ltPropThumbnail")&&(LyteColorbox._thumbDiv.querySelector(".thumb-on")&&LyteColorbox._thumbDiv.querySelector(".thumb-on").classList.remove("thumb-on"),LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb")[LyteColorbox._index].classList.add("thumb-on"),LyteColorbox.updateThumbnailPos())},imageComplete:function(){var o,t=LyteColorbox._component.getData("ltPropType");this._loaded=!0,"custom"===t?(LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),LyteColorbox._domEle._offset={height:LyteColorbox._domEle.naturalHeight,width:LyteColorbox._domEle.naturalWidth},LyteColorbox._component.callOnLoad(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._overlay?LyteColorbox.computeOffsetImpl(null,LyteColorbox._domEle):(LyteColorbox.toggleLoadingIcon(),LyteColorbox.appendElement(LyteColorbox._domEle),LyteColorbox.checkAspectRatio(),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&LyteColorbox.slide()),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index)):(o=this.querySelector("img"),LyteColorbox.checkAndChangeStatus(o),o._offset={height:o.naturalHeight,width:o.naturalWidth},LyteColorbox.hideLoadingIcon(this),LyteColorbox._component.callOnLoad(o,LyteColorbox._index),o.classList.add("lyteCBoxVisible"),LyteColorbox._domEle===o&&LyteColorbox.checkAspectRatio(),LyteColorbox._component.callOnComplete(o,LyteColorbox._index),LyteColorbox.setPercentage())},imageFailure:function(){var o;"custom"===LyteColorbox._component.getData("ltPropType")?(o=LyteColorbox._domEle,LyteColorbox.toggleLoadingIcon()):(o=this.querySelector("img"),LyteColorbox.hideLoadingIcon(this)),LyteColorbox._component.callOnFailure(o,LyteColorbox._index,LyteColorbox._content)},updateThumbnailPos:function(){var o=LyteColorbox._index,t=LyteColorbox._component.getData("ltPropThumbnailNumber"),e=parseInt(t/2),l=t%2==0?LyteColorbox._related.length:LyteColorbox._related.length-1,r=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper"),n=LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb"),i=window.getComputedStyle(n[0]),a=parseInt(i.width)+(i.marginLeft?parseInt(i.marginLeft):0)+(i.marginRight?parseInt(i.marginRight):0),s=_lyteUiUtils.getRTL()?-1:1;if("custom"===LyteColorbox._component.getData("ltPropType"))o>=e&&o<=l-e?r.style.transform="translate("+(e-o)*a*s+"px,0)":o<e?r.style.transform="translate(0,0)":o>l-e&&LyteColorbox._related.length>t&&(r.style.transform="translate("+(e-(l-e))*a*s+"px,0)");else{var y=LyteColorbox._thumbDiv.offsetWidth;if(t=Math.floor(y/a),o>=(e=parseInt(t/2))&&o<=l-e){var x=0;o!=e&&o!=l-e||t%2!=0||(LyteColorbox._diff=x=a/2*-s),o>e&&o<l-e&&(x=(e-o)*a*s+(y-t*a)/2+LyteColorbox._diff),o==l-e&&(x=(y-LyteColorbox._related.length*a)*s+(i.marginRight?parseInt(i.marginRight):0)),r.style.transform="translate("+x+"px,0)"}else if(o<e)r.style.transform="translate(0,0)";else if(o>l-e&&LyteColorbox._related.length>t){x=(y-LyteColorbox._related.length*a)*s+(i.marginRight?parseInt(i.marginRight):0);r.style.transform="translate("+x+"px,0)"}}LyteColorbox._component.getData("ltPropLoop")||(0==o?LyteColorbox._prev&&LyteColorbox._prev.classList.add("lyteColorboxHideVisibility"):o==LyteColorbox._related.length-1?LyteColorbox._next&&LyteColorbox._next.classList.add("lyteColorboxHideVisibility"):(LyteColorbox._prev&&LyteColorbox._prev.classList.contains("lyteColorboxHideVisibility")&&LyteColorbox._prev.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._next&&LyteColorbox._next.classList.contains("lyteColorboxHideVisibility")&&LyteColorbox._next.classList.remove("lyteColorboxHideVisibility")))},calculateOverlayHeight:function(o){LyteColorbox._component.getData("ltPropYield")?LyteColorbox._overlay.style.height=LyteColorbox._overlay.getBoundingClientRect().height+"px":LyteColorbox._overlay.style.height=o-50+"px"},computeOffsetImpl:function(o,t){var e=LyteColorbox._component,l="custom"===e.getData("ltPropType")?document.querySelector(".lyteColorboxHeader"):e._header;if(LyteColorbox._open&&LyteColorbox._overlay){var r=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(LyteColorbox._component.getData("ltPropThumbnail")){var i=window.getComputedStyle(LyteColorbox._thumbDiv);n-=parseInt(i.height)+parseInt(i.marginTop)}var a={};LyteColorbox._first||window.removeEventListener("resize",LyteColorbox.computeOffsetImpl),LyteColorbox._first=!1;var s=LyteColorbox._overlay.getBoundingClientRect();if(t&&(LyteColorbox._component.getData("ltPropHeight")?a.conHeight=parseInt(LyteColorbox._component.getData("ltPropHeight")):t.height>=s.height?a.conHeight=s.height:a.conHeight=t.height,LyteColorbox._component.getData("ltPropWidth")?a.conWidth=parseInt(LyteColorbox._component.getData("ltPropWidth")):t.width>=s.width?a.conWidth=s.width:a.conWidth=t.width,LyteColorbox.toggleLoadingIcon(),LyteColorbox.appendElement(t),LyteColorbox.checkAspectRatio(),LyteColorbox._active=!1),LyteColorbox._component.getData("ltPropYield")){var y=LyteColorbox._content.getBoundingClientRect();s=LyteColorbox._overlay?LyteColorbox._overlay.getBoundingClientRect():{height:n,width:r};LyteColorbox._content.style.top=(s.height-y.height)/2+"px",LyteColorbox._content.style.left=(s.width-y.width)/2+"px",window.getComputedStyle(LyteColorbox._content).transform&&(LyteColorbox._content.style.transform="none")}else a.top=(n-LyteColorbox._content.getBoundingClientRect().height)/2,a.left=(r-LyteColorbox._content.getBoundingClientRect().width)/2,a.iconTop=(n-LyteColorbox._next.getBoundingClientRect().height)/2+l.getBoundingClientRect().height/2;"slide"==LyteColorbox._component.getData("ltPropAnimation")&&LyteColorbox.slide(),window.addEventListener("resize",LyteColorbox.computeOffsetImpl)}},appendElementForImage:function(){var o;LyteColorbox._component.getData("ltPropType");if(LyteColorbox._nextItem)o=LyteColorbox.createElement("div",null,"lyteCBoxItem"),LyteColorbox._component.setData("currentEle",o),(t=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(o,t.parentElement):LyteColorbox._content.append(o);else if(LyteColorbox._prevItem){var t;o=LyteColorbox.createElement("div",null,"lyteCBoxItem"),LyteColorbox._component.setData("currentEle",o),(t=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(o,t.parentElement):LyteColorbox._content.append(o)}else o=LyteColorbox.createElement("div",null,"lyteCBoxItem"),LyteColorbox._content.append(o),LyteColorbox._component.setData("currentEle",o);return LyteColorbox.createLoadingIcon(o),o},createLoadingIcon:function(o){var t;LyteColorbox._loadingIcon?t=LyteColorbox._loadingIcon.cloneNode():(t=document.createElement("div")).innerHTML=unescape("%3Csvg%20class%3D%22lyteColorboxLoadingCircle%22%20width%3D%2230%22%20height%3D%2230%22%20viewBox%3D%220%200%2030%2030%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20data-svg%3D%22spinner%22%3E%3Ccircle%20fill%3D%22none%22%20stroke%3D%22%23000%22%20cx%3D%2215%22%20cy%3D%2215%22%20r%3D%2214%22%3E%3C/circle%3E%3C/svg%3E"),t.classList.add("lyteColorboxLoadingImg"),o.appendChild(t)},appendElement:function(o){LyteColorbox._component.getData("ltPropType");if("slide"==LyteColorbox._component.getData("ltPropAnimation")){var t;if(LyteColorbox._zIndex++,LyteColorbox._nextItem)(t=LyteColorbox.createElement("div",null,"lyteCBoxItem")).classList.add("lytCBoxNextItem"),t.append(o),LyteColorbox._component.setData("currentEle",t),(e=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(t,e.parentElement):LyteColorbox._content.append(t);else if(LyteColorbox._prevItem){(t=LyteColorbox.createElement("div",null,"lyteCBoxItem")).classList.add("lytCBoxPreviousItem"),t.append(o),LyteColorbox._component.setData("currentEle",t),(e=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(t,e.parentElement):LyteColorbox._content.append(t)}else(t=LyteColorbox.createElement("div",null,"lyteCBoxItem")).append(o),t.style.zIndex=LyteColorbox._zIndex,LyteColorbox._content.append(t),LyteColorbox._component.setData("currentEle",t);o.classList.add("lyteCBoxVisible")}else{var e;if(LyteColorbox._related.length>1)(e=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(o,e):LyteColorbox._content.append(o);else LyteColorbox._content.append(o);o.classList.add("lyteCBoxVisible"),LyteColorbox.checkHW(),LyteColorbox._component.setData("currentEle",null)}},isZoomed:function(o){return o&&!o._isDefault},isCurrentDisplayedImage:function(o){return o===LyteColorbox._domEle},isZoomedAndCurrentDisplayedImage:function(o){return!o._isDefault&&LyteColorbox._domEle===o},transitionEnd:function(o){var t;o.target===this&&"transform"===o.propertyName&&(t=this.querySelector("img"),LyteColorbox.isZoomed(t)&&!LyteColorbox.isCurrentDisplayedImage(t)&&LyteColorbox.reset(t),this.removeEventListener("transitionend",LyteColorbox.transitionEnd))},doesImageExceedContentBoxAfterMovingRight:function(o,t){return o.left<t.left},moveElementOutOfViewTowardsRight:function(o){var t,e=o,l=o.querySelector("img"),r=e.getBoundingClientRect(),n=r.width,i=100;l&&(t=l.getBoundingClientRect(),LyteColorbox.doesImageExceedContentBoxAfterMovingRight(t,r)&&(i+=(r.left-t.left)/n*100)),o.style.transition="transform 0.3s ease",o.style.transform="translate3d("+i+"%,0,0)",o.classList.remove("lyteCBoxCurrentItem")},doesImageExceedContentBoxAfterMovingLeft:function(o,t){return o.right>t.right},moveElementOutOfViewTowardsLeft:function(o){var t,e=o,l=o.querySelector("img"),r=e.getBoundingClientRect(),n=r.width,i=100;l&&(t=l.getBoundingClientRect(),LyteColorbox.doesImageExceedContentBoxAfterMovingLeft(t,r)&&(i+=(t.right-r.right)/n*100)),o.style.transition="transform 0.3s ease",o.style.transform="translate3d(-"+i+"%,0,0)",o.classList.remove("lyteCBoxCurrentItem")},slide:function(){var o,t=LyteColorbox._component,e=t.getData("currentEle"),l=e;if("custom"===t.getData("ltPropType")){if(e){if(LyteColorbox.checkHW(),LyteColorbox._nextItem)for(var r=Array.from(e.parentElement.querySelectorAll(".lyteCBoxCurrentItem")),n=0;n<r.length;n++)r[n].classList.add("lytCBoxPreviousItem");if(LyteColorbox._prevItem)for(r=Array.from(e.parentElement.querySelectorAll(".lyteCBoxCurrentItem")),n=0;n<r.length;n++)r[n].classList.add("lytCBoxNextItem");e.style.zIndex=LyteColorbox._zIndex,e.classList.add("lyteCBoxCurrentItem"),(LyteColorbox._nextItem||LyteColorbox._prevItem)&&(LyteColorbox._timeoutId&&(clearTimeout(LyteColorbox._timeoutId),LyteColorbox._timeoutId=!1),LyteColorbox._timeoutId=setTimeout(function(){e.classList.remove("lytCBoxPreviousItem","lytCBoxNextItem");for(var o=Array.from(e.parentElement.querySelectorAll(".lyteCBoxCurrentItem")).filter(function(o){return!o.isEqualNode(e)}),t=0;t<o.length;t++)o[t].classList.remove("lytCBoxNextItem","lytCBoxPreviousItem","lyteCBoxCurrentItem"),o[t].classList.add("lyteCBoxDN");LyteColorbox._timeoutId=!1},300),LyteColorbox._nextItem=!1,LyteColorbox._prevItem=!1)}}else l&&l&&(LyteColorbox._nextItem&&(o=l.parentElement.querySelector(".lyteCBoxCurrentItem"),LyteColorbox.moveElementOutOfViewTowardsLeft(o),l.style.removeProperty("transition"),l.classList.add("lyteCBoxMoveRight"),l.style.removeProperty("transform")),LyteColorbox._prevItem&&(o=l.parentElement.querySelector(".lyteCBoxCurrentItem"),LyteColorbox.moveElementOutOfViewTowardsRight(o),l.style.removeProperty("transition"),l.classList.add("lyteCBoxMoveLeft"),l.style.removeProperty("transform")),o&&o.addEventListener("transitionend",LyteColorbox.transitionEnd),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){l.classList.remove("lyteCBoxMoveLeft","lyteCBoxMoveRight"),l.classList.add("lyteCBoxCurrentItem")})}),LyteColorbox._nextItem=!1,LyteColorbox._prevItem=!1)},next:function(o,t){var e=LyteColorbox._component.getData("ltPropType");!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._related[LyteColorbox._index+1])&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._nextItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===e&&LyteColorbox.reset(),LyteColorbox._index=LyteColorbox.getIndex(1),LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]),!t&&LyteColorbox._component.getMethods("onNavigate")&&LyteColorbox._component.executeMethod("onNavigate",o,LyteColorbox._component.$node,LyteColorbox._index+1))},prev:function(o,t){var e=LyteColorbox._component.getData("ltPropType");!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._index)&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._prevItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===e&&LyteColorbox.reset(),LyteColorbox._index=LyteColorbox.getIndex(-1),LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]),!t&&LyteColorbox._component.getMethods("onNavigate")&&LyteColorbox._component.executeMethod("onNavigate",o,LyteColorbox._component.$node,LyteColorbox._index+1))},close:function(){if(LyteColorbox._open&&!LyteColorbox._closing){if(LyteColorbox._component.setData("currentEle",null),document.body.classList.remove("lyteCBoxOH"),LyteColorbox._component.getData("ltPropThumbnail")){var o=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbnails"),t=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper");o.style.width="",o.classList.add("lyteColorboxHideVisibility"),t.style.transform="",t.style.width=""}LyteColorbox._clickNumber=0,LyteColorbox._zoomedThroughUtil=!1,LyteColorbox._closing=!0,LyteColorbox._open=!1,LyteColorbox._box.classList.remove("lyteColorboxDisplay"),LyteColorbox._domEle=null,LyteColorbox._related=[],LyteColorbox._closing=!1,LyteColorbox._el=null,LyteColorbox._diff=0,LyteColorbox.removeElements(),LyteColorbox.toggleLoadingIcon(),LyteColorbox._loadingIcon=null,LyteColorbox._component.callOnClose()}},download:function(){var o=!0;if(LyteColorbox._component.getMethods("onDownload")&&(o=void 0===(o=LyteColorbox._component.executeMethod("onDownload",LyteColorbox._domEle,LyteColorbox._el,LyteColorbox._component.$node))||o),o){var t=document.createElement("a");LyteColorbox._el.lytecboxDlink?t.setAttribute("href",LyteColorbox._el.lytecboxDlink):"photo"==LyteColorbox._el.type&&t.setAttribute("href",LyteColorbox._el.lytecboxHref),t.setAttribute("download",LyteColorbox.createName(LyteColorbox._el.lytecboxTitle)),document.body.append(t),t.click(),t.remove()}},isIE:function(){var o=window.navigator.userAgent;if(o.indexOf("MSIE ")>0)return!0;if(o.indexOf("Trident/")>0){o.indexOf("rv:");return!0}return!1},zoomTo:function(o,t,e){t=t||{};var l=LyteColorbox._component,r=e.getAttribute("lytecbox-rotate"),n=e.offsetWidth,i=e.offsetHeight,a=e.getBoundingClientRect(),s=LyteColorbox._content.getBoundingClientRect(),y=t.left||("center"==l.getData("ltPropZoomPosition")?s.left+.5*s.width:a.left+.5*a.width),x=t.top||("center"==l.getData("ltPropZoomPosition")?s.top+.5*s.height:a.top+.5*a.height),b=e.style.transform,c=e.style.transformOrigin,d=b.match(/scale\((.+)\)/)||[null,1,0,0],m=c.match(/(.+)% (.+)%/)||[null,50,50],C=parseFloat(d[1]),L=parseFloat(e.style.left||0),p=parseFloat(e.style.top||0),u=parseFloat(m[1]),_=parseFloat(m[2]),h=(y-a.left)/a.width*100,f=(x-a.top)/a.height*100,g=.01*(h-u)*n*(C-1),v=.01*(f-_)*i*(C-1);e.style.transformOrigin=h+"% "+f+"%",e.style.transform="scale("+o+")"+(null==r?"":" "+r),e.style.left=g+L+"px",e.style.top=v+p+"px"},getMatrixValue:function(o){return window.WebKitCSSMatrix?new WebKitCSSMatrix(window.getComputedStyle(o).transform):window.MSCSSMatrix?new MSCSSMatrix(window.getComputedStyle(o).transform):void 0},wheel:function(o){o.preventDefault();var t=o.deltaMode&&1==o.deltaMode,e=o.deltaY*(t?6:1),l=o.deltaX*(t?6:1);if(!(Math.abs(e)<Math.abs(l))){Math.abs(e)>50&&(e=e>0?50:-50);var r=LyteColorbox._domEle,n=LyteColorbox._component.data.ltPropMinScale,i=LyteColorbox._component.data.ltPropMaxScale,a=(LyteColorbox.getMatrixValue(r),LyteColorbox.getCurrentZoom(r)),s=Math.min(Math.max(a+e/1e3,n),i);r.classList.contains("preventAnimation")||r.classList.add("preventAnimation"),clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.classList.remove("preventAnimation")},500),this.zoomTo(s,{left:o.clientX,top:o.clientY},r),LyteColorbox._zoom=!0,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.remove("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.remove("lyteColorboxDisabled")}},getCurrentZoom:function(o){var t=(/scale\(([\d.]*)\)/.exec(o.style.transform)||[])[1]||"1";return parseFloat(t)},checkAndChangeStatus:function(o){var t=LyteColorbox.getCurrentZoom(o);o._isDefault=1===t},zoomIn:function(){LyteColorbox._clickNumber+=1,LyteColorbox._clickNumber<=LyteColorbox._component.getData("ltPropZoomClickNumber")?(LyteColorbox.resetLeftAndTopHelpers(),"imageCenter"==LyteColorbox._component.data.ltPropZoomPosition&&(LyteColorbox._domEle.style.left="0px",LyteColorbox._domEle.style.top="0px",LyteColorbox._domEle.style.transformOrigin=""),$L.fastdom.measure(function(){var o=parseFloat(LyteColorbox._component.getData("ltPropZoomBy"))/100,t=LyteColorbox.getCurrentZoom(LyteColorbox._domEle);LyteColorbox._domEle.getBoundingClientRect();this.zoomTo(t+o,{},LyteColorbox._domEle),LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),(1==LyteColorbox._clickNumber||LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.contains("lyteColorboxDisabled")||LyteColorbox._reset&&LyteColorbox._reset.classList.contains("lyteColorboxDisabled"))&&(LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.remove("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.remove("lyteColorboxDisabled")),LyteColorbox._clickNumber==LyteColorbox._component.getData("ltPropZoomClickNumber")&&LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.add("lyteColorboxDisabled"),LyteColorbox._component.getMethods("onZoomin")&&LyteColorbox._component.executeMethod("onZoomin",Math.round(100*(t+o))-100,LyteColorbox._component.$node)}.bind(this))):LyteColorbox._clickNumber-=1},zoomOut:function(){LyteColorbox.resetLeftAndTopHelpers(),LyteColorbox._zoom?(LyteColorbox._zoom=!1,LyteColorbox._domEle.style.transform="",LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),LyteColorbox._clickNumber=0,LyteColorbox._zoomedThroughUtil=!1,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled"),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.contains("lyteColorboxDisabled")&&LyteColorbox._zoomIn.classList.remove("lyteColorboxDisabled"),LyteColorbox._component.getMethods("onZoomout")&&LyteColorbox._component.executeMethod("onZoomout",0,LyteColorbox._component.$node)):(LyteColorbox._clickNumber-=1,LyteColorbox._clickNumber>=0&&LyteColorbox._clickNumber<LyteColorbox._component.getData("ltPropZoomClickNumber")?(LyteColorbox._domEle._left=void 0,LyteColorbox._domEle._top=void 0,"imageCenter"==LyteColorbox._component.data.ltPropZoomPosition&&(LyteColorbox._domEle.style.left="0px",LyteColorbox._domEle.style.top="0px",LyteColorbox._domEle.style.transformOrigin=""),$L.fastdom.measure(function(){var o=parseFloat(LyteColorbox._component.getData("ltPropZoomBy"))/100,t=LyteColorbox.getCurrentZoom(LyteColorbox._domEle);this.zoomTo(t-o,{},LyteColorbox._domEle),LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),0==LyteColorbox._clickNumber&&(LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled")),LyteColorbox._clickNumber==LyteColorbox._component.getData("ltPropZoomClickNumber")-1&&LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.remove("lyteColorboxDisabled"),LyteColorbox._component.getMethods("onZoomout")&&LyteColorbox._component.executeMethod("onZoomout",Math.round(100*(t-o))-100,LyteColorbox._component.$node)}.bind(this))):LyteColorbox._clickNumber+=1)},disableTransition:function(o){o.classList.add("lyteColorBoxDisableTransition")},enableTransition:function(o){o.classList.remove("lyteColorBoxDisableTransition")},reset:function(o,t){if((o=o||LyteColorbox._domEle).classList.contains(LyteColorbox._prefix+"Photo")&&(LyteColorbox._clickNumber>0||LyteColorbox._zoomedThroughUtil)){LyteColorbox.resetLeftAndTopHelpers(),LyteColorbox._zoom=!1,LyteColorbox._clickNumber=0,LyteColorbox._zoomedThroughUtil=!1;var e=o.offsetWidth/o.naturalWidth*100;t||(o.classList.remove("lyteCBoxAnimateOnUp"),LyteColorbox.disableTransition(o)),o.style.transform="",o.style.top="0px",o.style.left="0px",o.style.transformOrigin="",LyteColorbox.setPercentage(e%1!=0?e.toFixed(2):e),LyteColorbox.checkAndChangeStatus(o),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.remove("lyteColorboxDisabled"),LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled"),t&&LyteColorbox._component.getMethods("onReset")&&LyteColorbox._component.executeMethod("onReset",LyteColorbox._component.$node)}},resetLeftAndTopHelpers:function(){LyteColorbox._domEle._left=void 0,LyteColorbox._domEle._top=void 0,LyteColorbox._domEle.classList.remove("lyteCBoxAnimateOnUp")},zoomByUtilFn:function(o){if(LyteColorbox._domEle&&LyteColorbox._domEle.classList.contains("lyteCBoxPhoto")&&(o>=0||"fitWidth"===o||"actual"===o||"reset"===o)){var t,e;if(LyteColorbox.resetLeftAndTopHelpers(),"fitWidth"===o){!0;var l=parseFloat(getComputedStyle(LyteColorbox._content).width);t=l/LyteColorbox._domEle.offsetWidth,LyteColorbox._zoomedThroughUtil=!0;o=l/LyteColorbox._domEle.naturalWidth*100;LyteColorbox.setPercentage(o%1!=0?o.toFixed(2):o)}else if("reset"===o){t=1;o=LyteColorbox._domEle.offsetWidth/LyteColorbox._domEle.naturalWidth*100;LyteColorbox.setPercentage(o%1!=0?o.toFixed(2):o)}else{var r=LyteColorbox._domEle,n=r.naturalWidth,i=r.offsetWidth;t=(1+(n*o/100-i)/i).toFixed(2),LyteColorbox._zoomedThroughUtil=!0,LyteColorbox.setPercentage(o)}"imageCenter"==LyteColorbox._component.data.ltPropZoomPosition&&(LyteColorbox._domEle.style.left="0px",LyteColorbox._domEle.style.top="0px",LyteColorbox._domEle.style.transformOrigin=""),$L.fastdom.measure(function(){e=LyteColorbox.getCurrentZoom(LyteColorbox._domEle),this.zoomTo(t,{},LyteColorbox._domEle),LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),1==t?(LyteColorbox._zoom=!1,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled")):(LyteColorbox._zoom=!0,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.remove("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.remove("lyteColorboxDisabled"),LyteColorbox._domEle.classList.add("onZoom")),t>=e?LyteColorbox._component.getMethods("onZoomin")&&LyteColorbox._component.executeMethod("onZoomin",o,LyteColorbox._component.$node):(LyteColorbox._component.triggerCheck(),LyteColorbox._component.getMethods("onZoomout")&&LyteColorbox._component.executeMethod("onZoomout",o,LyteColorbox._component.$node))}.bind(this))}},checkForLeftAndTopAfterZoomOut:function(){var o=LyteColorbox._domEle,t=LyteColorbox._domEle.getBoundingClientRect(),e=LyteColorbox._content.getBoundingClientRect(),l=o.style.transformOrigin.match(/(.+)% (.+)%/)||[null,50,50],r=parseFloat(l[1]),n=parseFloat(l[2]),i=0;if(o.classList.add("lyteCBoxAnimateOnUp"),t.width<e.width)o.style.left="0px",r=50;else{var a=Math.round(t.left),s=Math.round(t.right);a>e.left&&(i=a-e.left,o.style.left=parseFloat(o.style.left||0)-i+"px"),s<e.right&&(i=e.right-s,o.style.left=parseFloat(o.style.left||0)+i+"px")}if(t.height<e.height)o.style.top="0px",n=50;else{var y=Math.round(t.top),x=Math.round(t.bottom);y>e.top&&(i=y-e.top,o.style.top=parseFloat(o.style.top||0)-i+"px"),x<e.bottom&&(i=e.bottom-x,o.style.top=parseFloat(o.style.top||0)+i+"px")}o.style.transformOrigin=r+"% "+n+"%",o.removeEventListener("transitionend",LyteColorbox.checkForLeftAndTopAfterZoomOut)},convertToPx:function(o,t){var e,l="";return(e=/(\d*)%/i.exec(o))?l=parseInt(e[1])/100*parseInt(t)+"px":/(\d*)px/i.exec(o)?l=o:o&&(l=o+"px"),l},getProperOffsetsToCalculateImageDimensions:function(){var o=window.getComputedStyle(LyteColorbox._content),t=LyteColorbox._component,e=LyteColorbox.convertToPx(t.getData("ltPropWidth"),o.width)||.8*parseInt(o.width)+"px",l=LyteColorbox.convertToPx(t.getData("ltPropHeight"),o.height)||.8*parseInt(o.height)+"px";return{width:parseInt(e),height:parseInt(l)}},checkAspectRatio:function(){var o=LyteColorbox._domEle._offset;if(o){var t=LyteColorbox.getProperOffsetsToCalculateImageDimensions(),e=o.width,l=o.height;o.width>o.height&&o.width>t.width?(l=LyteColorbox.getHeight(l,e,t),e=t.width,LyteColorbox._domEle.style.width=e+"px",LyteColorbox._domEle.style.height=l+"px",l>t.height&&(e=LyteColorbox.getWidth(l,e,t),l=t.height,LyteColorbox._domEle.style.height=l+"px",LyteColorbox._domEle.style.width=e+"px")):(l>t.height&&(e=LyteColorbox.getWidth(l,e,t),l=t.height,LyteColorbox._domEle.style.height=l+"px",LyteColorbox._domEle.style.width=e+"px"),e>t.width&&(LyteColorbox._domEle.style.width=t.width+"px",LyteColorbox._domEle.style.height=LyteColorbox.getHeight(l,e,t)+"px"))}},getHeight:function(o,t,e){var l=e.width*(o/t);return Math.round(l)},getWidth:function(o,t,e){var l=e.height*(t/o);return Math.round(l)},open:function(o){(o-=1)!=LyteColorbox._index&&o>=0&&o<LyteColorbox._related.length&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():o<LyteColorbox._index?LyteColorbox._prevItem=!0:LyteColorbox._nextItem=!0,LyteColorbox.toggleLoadingIcon(),LyteColorbox.reset(),LyteColorbox._index=o,LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]))},replace:function(o,t){var e=LyteColorbox._related[o-1],l=!1;for(var r in t)r in e&&("lytecboxHref"==r&&(l=!0),Lyte.Component.set(e,r,t[r]));var n=LyteColorbox._boxEle+"__"+(o-1),i=LyteColorbox._content.querySelector("."+n);i&&l&&($L(i).attr({src:e.lytecboxHref}),"photo"==e.type&&(i.style.height="",i.style.width="",i.onload=function(){i._offset={height:i.naturalHeight,width:i.naturalWidth},i.classList.contains("lyteCBoxVisible")&&!i.parentElement.classList.contains("lyteCBoxDN")&&(LyteColorbox.checkAspectRatio(),LyteColorbox.checkHW())})),i&&i.classList.contains("lyteCBoxVisible")&&!i.parentElement.classList.contains("lyteCBoxDN")&&(LyteColorbox._title&&(LyteColorbox._title.textContent=e.lytecboxTitle),LyteColorbox._el=e)},removeElementObjectFromDom:function(o){var t=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+o);t&&("slide"==LyteColorbox._component.getData("ltPropAnimation")?t.parentElement.remove():t.remove())},updateSelectors:function(o){var t=Array.from(LyteColorbox._content.querySelectorAll(".lyteCBoxPhoto")),e=/(lyteCBoxElement\d*__\d*)/g,l=/[+-]?\d+(\.\d+)?/g;Lyte.arrayUtils(t,"push",Array.from(LyteColorbox._content.querySelectorAll(".lyteCBoxIframe"))),Lyte.arrayUtils(t,"push",Array.from(LyteColorbox._content.querySelectorAll(".lyteCBoxCustom")));for(var r=0;r<t.length;r++){var n=t[r].getAttribute("class"),i=n.match(e)[0],a=parseInt(i.match(l)[1]);a>o&&(a-=1,n=n.replace(i,LyteColorbox._boxEle+"__"+a),t[r].className=n)}},remove:function(o){var t=!1;LyteColorbox._index===o-1&&(t=!0,LyteColorbox._component.getData("ltPropLoop")||o!=LyteColorbox._related.length?LyteColorbox.next(null,!0):(LyteColorbox.prev(null,!0),t=!1),$L(LyteColorbox._domEle).off("load",LyteColorbox.imageComplete).off("error",LyteColorbox.imageFailure)),this.removeElementObjectFromDom(o-1),Lyte.arrayUtils(LyteColorbox._related,"removeAt",o-1,1),t&&0!=LyteColorbox._index&&(LyteColorbox._index-=1),this.updateSelectors(o-1),LyteColorbox._component.getData("ltPropThumbnail")&&(LyteColorbox._component.setData("triggerSetThumbnail",LyteColorbox._component.getData("triggerSetThumbnail")+1),this.updateThumbnailPos())}},Lyte.Component.register("lyte-colorbox",{_template:'<template tag-name="lyte-colorbox">\n\t<template is="if" value="{{expHandlers(ltPropType,\'===\',\'custom\')}}"><template case="true">\n\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t<lyte-yield yield-name="colorBoxYield"></lyte-yield>\n\t\t</template><template case="false">\n\t\t\t<div id="lyteColorbox" class="lyteColorbox lyteCBox">\n\t\t\t\t\n\t\t\t\t\t<div class="lyteColorboxFreezeLayer lyteCBoxOverlay"></div>\n\t\t\t\t\t<div class="lyteColorboxWrapper">\n\t\t\t\t\t\t<template is="if" value="{{expHandlers(isIframe,\'!\')}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorboxUtilDiv">\n\t\t\t\t\t\t\t<span class="lyteCBoxZoomOut lyteColorboxZoomOut lyteColorboxDisabled"></span>\n\t\t\t\t\t\t\t<span class="lyteCBoxReset lyteColorboxReset lyteColorboxDisabled"></span>\n\t\t\t\t\t\t\t<span class="lyteCBoxZoomIn lyteColorboxZoomIn"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<div class="lyteColorboxContent lyteCBoxContent">\n\t\t\t\t\t\t\t<span class="lyteColorboxLoadingImg"></span>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="lyteColorboxHeader">\n\t\t\t\t\t\t\t<div class="lyteColorboxTitle lyteCBoxTitle"></div>\n\t\t\t\t\t\t\t<template is="if" value="{{download}}"><template case="true">\n\t\t\t\t\t\t\t<div class="lyteColorboxDownloadDiv lyteCBoxDownload">\n\t\t\t\t\t\t\t\t<span class="lyteColorboxDownloadImg"></span>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="lyteColorboxCloseIcon lyteCBoxClose"></div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="lyteColorboxIconDiv lyteCBoxPrevious">\n\t\t\t\t\t\t<div class="lyteColorboxPreviousIcon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="lyteColorboxIconDiv lyteCBoxNext">\n\t\t\t\t\t\t<div class="lyteColorboxNextIcon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{ltPropThumbnail}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorboxThumbOuterWrapper">\n\t\t\t\t\t\t\t<div class="lyteColorboxThumbnails" onclick="{{action(&quot;clickOnThumbnails&quot;,event)}}">\n\t\t\t\t\t\t\t\t<div class="lyteColorboxThumbInnerWrapper">\n\t\t\t\t\t\t\t\t<template is="for" items="{{thumbnails}}" item="item" index="index">\n\t\t\t\t\t\t\t\t\t<div class="lyteColorboxThumb" data-thumb-val="{{lyteUiSetIndexString(index, thumbnails.length)}}">\n\t\t\t\t\t\t\t\t\t\t<template is="if" value="{{ifEquals(item.type,&quot;photo&quot;)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t<img src="{{item.lytecboxHref}}">\n\t\t\t\t\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{lyteUiIfEqualsAny(item.type,&quot;iframe&quot;,&quot;custom&quot;)}}"><template case="true"><template is="if" value="{{item.lytecboxThumbnail}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class="lyteCBoxFavImg" src="{{item.lytecboxThumbnail}}">\n\t\t\t\t\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeWrap">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeIcon"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeLabel">{{item.format}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t\n\t\t\t</div>\n\t\t</template></template>\n\t</template><template case="false">\n\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t<lyte-yield yield-name="colorBoxYield"></lyte-yield>\n\t\t</template><template case="false">\n\t\t\t<lyte-colorbox-container>\n\t\t\t\t\n\n\t\t\t\t<lyte-colorbox-header>\n\t\t\t\t\t<lyte-colorbox-title></lyte-colorbox-title>\n\t\t\t\t\t<template is="if" value="{{download}}"><template case="true">\n\t\t\t\t\t\t<lyte-colorbox-download>\n\t\t\t\t\t\t\t<span class="lyteColorboxDownloadImg"></span>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</lyte-colorbox-download>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<lyte-colorbox-close></lyte-colorbox-close>\n\t\t\t\t</lyte-colorbox-header>\n\n\t\t\t\t<lyte-colorbox-content>\n\t\t\t\t</lyte-colorbox-content>\n\n\t\t\t\t<lyte-colorbox-previous>\n\t\t\t\t\t<div class="lyteColorboxPreviousIcon"></div>\n\t\t\t\t</lyte-colorbox-previous>\n\t\t\t\t\n\t\t\t\t<lyte-colorbox-next>\n\t\t\t\t\t<div class="lyteColorboxNextIcon"></div>\n\t\t\t\t</lyte-colorbox-next>\n\n\t\t\t\t<lyte-colorbox-description>\n\t\t\t\t</lyte-colorbox-description>\n\n\t\t\t\t<div class="lyteColorboxUtilDiv">\n\t\t\t\t\t<lyte-colorbox-zoomin></lyte-colorbox-zoomin>\n\t\t\t\t\t<lyte-colorbox-reset class="lyteColorboxDisabled"></lyte-colorbox-reset>\n\t\t\t\t\t<lyte-colorbox-zoomout></lyte-colorbox-zoomout>\n\t\t\t\t</div>\n\t\t\t\t<template is="if" value="{{ltPropThumbnail}}"><template case="true">\n\t\t\t\t\t<lyte-colorbox-thumbnail>\n\t\t\t\t\t\t<div class="lyteColorboxThumbnails" onclick="{{action(&quot;clickOnThumbnails&quot;,event)}}">\n\t\t\t\t\t\t\t<div class="lyteColorboxThumbInnerWrapper">\n\t\t\t\t\t\t\t\t<template is="for" items="{{thumbnails}}" item="item" index="index">\n\t\t\t\t\t\t\t\t\t<div class="lyteColorboxThumb" data-thumb-val="{{lyteUiSetIndexString(index, thumbnails.length)}}">\n\t\t\t\t\t\t\t\t\t\t<template is="if" value="{{ifEquals(item.type,&quot;photo&quot;)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t<img src="{{item.lytecboxHref}}">\n\t\t\t\t\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{lyteUiIfEqualsAny(item.type,&quot;iframe&quot;,&quot;custom&quot;)}}"><template case="true"><template is="if" value="{{item.lytecboxThumbnail}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class="lyteCBoxFavImg" src="{{item.lytecboxThumbnail}}">\n\t\t\t\t\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeWrap">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeIcon"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeLabel">{{item.format}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</lyte-colorbox-thumbnail>\n\t\t\t\t</template></template>\n\t\t\t</lyte-colorbox-container>\n\t\t</template></template>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3,5,3]},{type:"if",position:[1,3,5,3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,11]},{type:"if",position:[1,11],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,3,0]}]}},default:{}}]}},default:{}}]}},default:{}}]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,1,5]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1,5]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1,9]},{type:"componentDynamic",position:[1,11,1]},{type:"componentDynamic",position:[1,11,3]},{type:"componentDynamic",position:[1,11,5]},{type:"attr",position:[1,13]},{type:"if",position:[1,13],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,3,0]}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropHeight","ltPropWidth","ltPropOverlayClose","ltPropYield","ltPropSelectors","ltPropLoop","ltPropArrowKey","ltPropZoomBy","ltPropEscKey","ltPropImgError","ltPropAnimation","ltPropThumbnail","ltPropThumbnailNumber","ltPropZoomClickNumber","currentEle","thumbnails","triggerSetThumbnail","isIframe","download","ltPropType","ltPropMinScale","ltPropMaxScale","ltPropWheelZoom","ltPropZoomPosition","ltPropOrientation"],data:function(){return{ltPropHeight:Lyte.attr("string"),ltPropWidth:Lyte.attr("string"),ltPropOverlayClose:Lyte.attr("boolean",{default:!0}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropSelectors:Lyte.attr("array",{default:[]}),ltPropLoop:Lyte.attr("boolean",{default:!0}),ltPropArrowKey:Lyte.attr("boolean",{default:!0}),ltPropZoomBy:Lyte.attr("string",{default:"25%"}),ltPropEscKey:Lyte.attr("boolean",{default:!0}),ltPropImgError:Lyte.attr("string",{default:"This image failed to load."}),ltPropAnimation:Lyte.attr("string",{default:"default"}),ltPropThumbnail:Lyte.attr("boolean",{default:!0}),ltPropThumbnailNumber:Lyte.attr("number",{default:7}),ltPropZoomClickNumber:Lyte.attr("number",{default:5}),currentEle:Lyte.attr("object"),thumbnails:Lyte.attr("array"),triggerSetThumbnail:Lyte.attr("number",{default:0}),isIframe:Lyte.attr("boolean",{default:!1}),download:Lyte.attr("boolean",{default:!0}),ltPropType:Lyte.attr("string",{default:"custom"}),ltPropMinScale:Lyte.attr("number",{default:.01}),ltPropMaxScale:Lyte.attr("number",{default:1/0}),ltPropWheelZoom:Lyte.attr("boolean",{default:!1}),ltPropZoomPosition:Lyte.attr("string",{default:"center"}),ltPropOrientation:Lyte.attr("boolean")}},setOrientation:function(){var o=LyteColorbox._domEle.getAttribute("lytecbox-rotate");if(this.getData("ltPropOrientation")&&o&&"photo"===LyteColorbox._el.type){for(var t=LyteColorbox._domEle,e=t.style.transform.split(" "),l="",r=0;r<e.length;r++)-1==e[r].indexOf("rotate")&&(l+=e[r]+" ");t.style.transform=l+o,this.setData("ltPropOrientation",!1)}}.observes("ltPropOrientation"),setThumbnailSliderProp:function(){this.getData("ltPropThumbnail")&&LyteColorbox._thumbDiv&&$L.fastdom.measure(function(){var o=this.getData("ltPropThumbnailNumber"),t=LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb"),e=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbnails"),l=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper"),r=window.getComputedStyle(t[0]),n=Math.max(document.documentElement.clientWidth,window.innerWidth||0);thumbnailWidth=parseInt(r.width)+(r.marginLeft?parseInt(r.marginLeft):0)+(r.marginRight?parseInt(r.marginRight):0),$L.fastdom.mutate(function(){"custom"===this.getData("ltPropType")?(e.style.width=(t.length<o?t.length*thumbnailWidth:o*thumbnailWidth)+"px",l.style.width=t.length*thumbnailWidth+"px",e.classList.remove("lyteColorboxHideVisibility")):(t.length*thumbnailWidth>n&&(e.style.width="100%"),l.style.width=t.length*thumbnailWidth+"px",e.classList.remove("lyteColorboxHideVisibility"))}.bind(this))}.bind(this))}.observes("ltPropThumbnailNumber","triggerSetThumbnail"),init:function(){this.$node.launch=function(o){LyteColorbox.launch.call(this,o)}.bind(this),this.$node.push=function(o){LyteColorbox.add(o)},this.$node.open=function(o){LyteColorbox.open(o)},this.$node.zoomBy=function(o){LyteColorbox.zoomByUtilFn(o)},this.$node.replace=function(o,t){LyteColorbox.replace(o,t)},this.$node.close=function(){LyteColorbox.close()},this.$node.delete=function(o){LyteColorbox.remove(o)},this.getData("ltPropYield")&&this.setData("ltPropThumbnail",!1)},observeHeightAndWidth:function(){LyteColorbox._open&&LyteColorbox._domEle.classList.contains("lyteCBoxPhoto")&&LyteColorbox.checkAspectRatio()}.observes("ltPropHeight","ltPropWidth"),toggleTumbnail:function(){var o=this.getData("ltPropType"),t=LyteColorbox._box,e="custom"===o?t.querySelector(".lyteColorboxThumbOuterWrapper"):t.querySelector("lyte-colorbox-thumbnail");this.getData("ltPropThumbnail")?LyteColorbox._thumbDiv=e:LyteColorbox._thumbDiv=null}.observes("ltPropThumbnail"),intialFunc:function(){if("custom"===this.getData("ltPropType")){if(!this._box){this._init=!1;if(this._content=this.$node.querySelector(".lyteCBoxContent"),this._overlay=this.$node.querySelector(".lyteCBoxOverlay"),this._title=this.$node.querySelector(".lyteCBoxTitle"),this._close=this.$node.querySelector(".lyteCBoxClose"),this._download=this.$node.querySelector(".lyteCBoxDownload"),this._next=this.$node.querySelector(".lyteCBoxNext"),this._prev=this.$node.querySelector(".lyteCBoxPrevious"),this._zoomIn=this.$node.querySelector(".lyteCBoxZoomIn"),this._zoomOut=this.$node.querySelector(".lyteCBoxZoomOut"),this._reset=this.$node.querySelector(".lyteCBoxReset"),this._box=!!this.$node.querySelector(".lyteCBox")&&this.$node.querySelector(".lyteCBox"),!this.getData("ltPropYield")&&this.getData("ltPropThumbnail")&&(this._thumbDiv=this.$node.querySelector(".lyteColorboxThumbOuterWrapper")),!this._box){this._box=LyteColorbox.createElement("div",null,"lyteCBox");for(var o=this.$node.querySelector("lyte-yield").children;o.length>0;)_lyteUiUtils.appendChild(this._box,o[0]);this._box.classList.add("lyteColorbox")}LyteColorbox._count=LyteColorbox._count+1,this._className="lyteCBoxWrapper__"+LyteColorbox._count,this._boxElement=LyteColorbox._boxElement+LyteColorbox._count,this._box.classList.add(this._className),this._box._callee=this.$node}document.body&&(this._box.parentElement&&"BODY"!=this._box.parentElement.tagName||!this._box.parentElement)&&(_lyteUiUtils.appendChild(document.body,this._box),this.childComp=this._box),LyteColorbox.setupForBindings(this),this.addBindings(),this.unbindEventsForSelectors();var t=this.getSelectorElements();t.length>0?this.addClickEvents(t,this._className):console.warn("No selector(s) provided to colorbox.")}else this.setupColorBoxForImages()}.observes("ltPropSelectors.[]").on("didConnect"),convertToArray:function(o){return Array.prototype.slice.call(o)},createOwnContainer:function(){var o;this._box=document.createElement("lyte-colorbox-container"),o=this.$node.querySelector("lyte-yield").children,this.convertToArray(o).forEach(function(o){_lyteUiUtils.appendChild(this._box,o)}.bind(this))},setupAlreadyComplete:function(){return this._box},setupElements:function(){this._loadingIcon=this.$node.querySelector("lyte-colorbox-loading-icon"),this._content=this.$node.querySelector("lyte-colorbox-content"),this._title=this.$node.querySelector("lyte-colorbox-title"),this._close=this.$node.querySelector("lyte-colorbox-close"),this._download=this.$node.querySelector("lyte-colorbox-download"),this._next=this.$node.querySelector("lyte-colorbox-next"),this._prev=this.$node.querySelector("lyte-colorbox-previous"),this._zoomIn=this.$node.querySelector("lyte-colorbox-zoomin"),this._zoomOut=this.$node.querySelector("lyte-colorbox-zoomout"),this._reset=this.$node.querySelector("lyte-colorbox-reset"),this._header=this.$node.querySelector("lyte-colorbox-header"),this._description=this.$node.querySelector("lyte-colorbox-description"),this._box=!!this.$node.querySelector("lyte-colorbox-container")&&this.$node.querySelector("lyte-colorbox-container"),!this.getData("ltPropYield")&&this.getData("ltPropThumbnail")&&(this._thumbDiv=this.$node.querySelector("lyte-colorbox-thumbnail")),!!this._box||this.createOwnContainer(),LyteColorbox._count=LyteColorbox._count+1,this._className="lyteCBoxWrapper__"+LyteColorbox._count,this._boxElement=LyteColorbox._boxElement+LyteColorbox._count,this._box.classList.add(this._className),this._box._callee=this.$node},stillNotAppendedToBody:function(){return document.body&&(this._box.parentElement&&"BODY"!=this._box.parentElement.tagName||!this._box.parentElement)},setupColorBoxForImages:function(){var o;this.setupAlreadyComplete()||(this._init=!1,this.setupElements()),this.stillNotAppendedToBody()&&(_lyteUiUtils.appendChild(document.body,this._box),this.childComp=this._box),LyteColorbox.setupForBindings(this),this.addBindings(),this.unbindEventsForSelectors(),(o=this.getSelectorElements()).length>0?this.addClickEvents(o,this._className):console.warn("No selector(s) provided to colorbox.")},utilDivEvents:function(){this.getData("isIframe")?(LyteColorbox._zoomIn=this._zoomIn=null,LyteColorbox._zoomOut=this._zoomOut=null,LyteColorbox._reset=this._reset=null):(LyteColorbox._zoomIn=this._zoomIn=this.childComp.querySelector(".lyteCBoxZoomIn"),LyteColorbox._zoomOut=this._zoomOut=this.childComp.querySelector(".lyteCBoxZoomOut"),LyteColorbox._reset=this._reset=this.childComp.querySelector(".lyteCBoxReset"),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.addEventListener("click",function(){LyteColorbox.zoomIn()},!0),LyteColorbox._zoomOut&&LyteColorbox._zoomOut.addEventListener("click",function(){LyteColorbox.zoomOut()},!0),LyteColorbox._reset&&LyteColorbox._reset.addEventListener("click",function(){LyteColorbox.reset(null,!0)},!0))}.observes("isIframe"),downloadDivEvents:function(){this.getData("download")?(LyteColorbox._download=this._download=this.$node.querySelector(".lyteCBoxDownload"),LyteColorbox._download&&LyteColorbox._download.addEventListener("click",function(){LyteColorbox.download()},!0)):LyteColorbox._download=this._download=null}.observes("download"),callOnBeforeOpen:function(o,t){var e;return this.getMethods("onBeforeOpen")&&(e=this.executeMethod("onBeforeOpen",o,this,t)),e},callOnOpen:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen",this)},callOnLoad:function(){this.getMethods("onLoad")&&this.executeMethod("onLoad",arguments[0],arguments[1],this)},callOnComplete:function(){this.getMethods("onComplete")&&this.executeMethod("onComplete",arguments[0],arguments[1],this)},callOnFailure:function(){this.getMethods("onFailure")&&this.executeMethod("onFailure",arguments[0],arguments[1],this,arguments[2])},getSelectorElements:function(){for(var o=this.getData("ltPropSelectors"),t=[],e=0;e<o.length;e++)Lyte.arrayUtils(t,"push",Array.from(document.querySelectorAll(o[e])));return t},unbindEventsForSelectors:function(){var o=document.querySelectorAll("."+this._boxElement);if(o.length>0)for(var t=0;t<o.length;t++)o[t].removeEventListener("click",this.clickHandler,!0),o[t].classList.remove(this._boxElement),delete o[t]._className;this.setData("currentEle",null)},callOnClose:function(){this.getMethods("onClose")&&this.executeMethod("onClose",this)},didDestroy:function(){LyteColorbox._first||1!=LyteColorbox._count||(window.removeEventListener("resize",LyteColorbox.computeOffsetImpl),LyteColorbox._first=!0),this.unbindEventsForSelectors(),delete this.childComp,this._box._callee=null,LyteColorbox._box&&(LyteColorbox._box._callee=null),LyteColorbox._component=null,this._box.remove(),this._header&&(this._header=null),LyteColorbox._box=this._box=null,LyteColorbox._prev=this._prev=null,LyteColorbox._next=this._next=null,LyteColorbox._content=this._content=null,LyteColorbox._overlay=this._overlay=null,LyteColorbox._title=this._title=null,LyteColorbox._close=this._close=null,LyteColorbox._download=this._download=null,LyteColorbox._thumbDiv=this._thumbDiv=null,LyteColorbox._description=this._description=null,LyteColorbox._zoomIn=this._zoomIn=null,LyteColorbox._zoomOut=this._zoomOut=null,LyteColorbox._reset=this._reset=null,LyteColorbox._loadingIcon=this._loadingIcon=null,LyteColorbox._domEle=null,LyteColorbox._el=null,LyteColorbox._boxEle=this._boxElement=null,LyteColorbox._open=null,LyteColorbox._active=null,LyteColorbox._closing=null,LyteColorbox._related=null,LyteColorbox._count-=1,LyteColorbox._diff=0,document.body.classList.remove("lyteCBoxOH")},clickHandler:function(o){o.which>1||o.shiftKey||o.altKey||o.metaKey||o.ctrlKey||(o.preventDefault(),LyteColorbox.setupForBindings(document.querySelector("."+this._className)._callee.component),LyteColorbox.launch(LyteColorbox.getProperties(this),o))},checkBeforeClose:function(o){var t;this.getMethods("onBeforeClose")&&(t=this.executeMethod("onBeforeClose",o,this)),void 0!==t&&!0!==t||LyteColorbox.close()},addBindings:function(){return!!LyteColorbox._box&&(this._init||(this._init=!0,LyteColorbox._component.getData("ltPropType"),LyteColorbox._content,LyteColorbox._next&&LyteColorbox._next.addEventListener("click",function(o){LyteColorbox.next(o)},!0),LyteColorbox._prev&&LyteColorbox._prev.addEventListener("click",function(o){LyteColorbox.prev(o)},!0),LyteColorbox._close&&LyteColorbox._close.addEventListener("click",function(o){this.checkBeforeClose(o)}.bind(this),!0),LyteColorbox._overlay&&LyteColorbox._overlay.addEventListener("click",function(o){LyteColorbox._component.getData("ltPropOverlayClose")&&this.checkBeforeClose(o)}.bind(this),!0),LyteColorbox._download&&LyteColorbox._download.addEventListener("click",function(){LyteColorbox.download()},!0),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.addEventListener("click",function(){LyteColorbox.zoomIn()},!0),LyteColorbox._zoomOut&&LyteColorbox._zoomOut.addEventListener("click",function(){LyteColorbox.zoomOut(),this.triggerCheck()}.bind(this),!0),LyteColorbox._reset&&LyteColorbox._reset.addEventListener("click",function(){LyteColorbox.reset(null,!0)},!0),LyteColorbox._content&&this.data.ltPropWheelZoom&&LyteColorbox._content.addEventListener("wheel",LyteColorbox.wheel.bind(LyteColorbox),!0),LyteColorbox._content&&(LyteColorbox._content.addEventListener("mousedown",function(o){this.mousedownFn(o)}.bind(this),!0),LyteColorbox._content.addEventListener("touchstart",function(o){this.mousedownFn(o)}.bind(this),!0)),LyteColorbox._boundKeydown||(LyteColorbox._boundKeydown=!0,document.body.addEventListener("keydown",function(o){var t=o.keyCode;if(LyteColorbox._open&&LyteColorbox._component.getData("ltPropEscKey")&&27===t&&(o.preventDefault(),LyteColorbox._component.checkBeforeClose(o)),LyteColorbox._open&&LyteColorbox._component.getData("ltPropArrowKey")&&LyteColorbox._related[1]&&!o.altKey)if(37===t){if("INPUT"===(e=o.target).tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return;o.preventDefault(),LyteColorbox._prev?LyteColorbox.prev(o):LyteColorbox._related instanceof Array&&LyteColorbox._related.length>1&&LyteColorbox.prev(o)}else if(39===t){var e;if("INPUT"===(e=o.target).tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return;o.preventDefault(),LyteColorbox._next?LyteColorbox.next(o):LyteColorbox._related instanceof Array&&LyteColorbox._related.length>1&&LyteColorbox.next(o)}},!0)),LyteColorbox._boundResize||(LyteColorbox._boundResize=!0,window.addEventListener("resize",function(){LyteColorbox._open&&(LyteColorbox._domEle&&LyteColorbox._domEle.classList.contains("lyteCBoxPhoto")&&LyteColorbox.checkAspectRatio(),LyteColorbox._diff=0)},!0))),!0)},addClickEvents:function(o,t){for(var e=0;e<o.length;e++)o[e].addEventListener("click",this.clickHandler,!0),o[e].classList.add(this._boxElement),o[e]._className=t},triggerCheck:function(o){LyteColorbox._domEle.addEventListener("transitionend",LyteColorbox.checkForLeftAndTopAfterZoomOut)},mousedownFn:function(o){if(ele=null,3!==o.which){for(var t=o.target;t;){if($L(t).hasClass("lyteCBoxPhoto")){ele=t;break}t=t.parentElement}if(ele){ele.classList.contains("lyteCBoxAnimateOnUp")&&ele.classList.remove("lyteCBoxAnimateOnUp");var e=ele.parentElement.getBoundingClientRect(),l=ele.getBoundingClientRect();(l.top<e.top||l.left<e.left||l.bottom>e.bottom||l.right>e.right)&&((l.top<e.top||l.bottom>e.bottom)&&(ele._top=!0),(l.left<e.left||l.right>e.right)&&(ele._left=!0),"touchstart"==o.type?(ele._offset={x:o.touches[0].clientX,y:o.touches[0].clientY},document.addEventListener("touchmove",mm=function(o){this.mousemoveFn(o)}.bind(this)),document.addEventListener("touchend",mu=function(o){this.mouseupFn(o)}.bind(this))):(ele._offset={x:o.clientX,y:o.clientY},document.addEventListener("mousemove",mm=function(o){this.mousemoveFn(o)}.bind(this)),document.addEventListener("mouseup",mu=function(o){this.mouseupFn(o)}.bind(this))))}}},mousemoveFn:function(o){if(ele){var t;o.preventDefault(),t="touchmove"==o.type?{x:o.touches[0].clientX,y:o.touches[0].clientY}:{x:o.clientX,y:o.clientY};ele.offsetParent.getBoundingClientRect();var e=t.x-ele._offset.x,l=t.y-ele._offset.y;ele._left&&(ele.style.left=parseFloat(ele.style.left||0)+e+"px"),ele._top&&(ele.style.top=parseFloat(ele.style.top||0)+l+"px"),ele._offset=t}},mouseupFn:function(o){if("touchend"==o.type?(document.removeEventListener("touchmove",mm),document.removeEventListener("touchend",mu)):(document.removeEventListener("mousemove",mm),document.removeEventListener("mouseup",mu)),ele){var t,e=ele.parentElement.getBoundingClientRect(),l=ele.getBoundingClientRect();ele._left&&(ele.classList.add("lyteCBoxAnimateOnUp"),l.left>e.left&&(t=l.left-e.left,ele.style.left=parseFloat(ele.style.left||0)-t+"px"),l.right<e.right&&(t=e.right-l.right,ele.style.left=parseFloat(ele.style.left||0)+t+"px")),ele._top&&(ele.classList.contains("lyteCBoxAnimateOnUp")||ele.classList.add("lyteCBoxAnimateOnUp"),l.top>e.top&&(t=l.top-e.top,ele.style.top=parseFloat(ele.style.top||0)-t+"px"),l.bottom<e.bottom&&(t=e.bottom-l.bottom,ele.style.top=parseFloat(ele.style.top||0)+t+"px")),ele=null,mm=null,mu=null}},actions:{clickOnThumbnails:function(o){for(var t=this.getData("ltPropType"),e=o.target;e.parentElement&&!e.classList.contains("lyteColorboxThumb");)e=e.parentElement;if(e.classList.contains("lyteColorboxThumb")){for(var l=Array.from(e.parentElement.children).filter(function(o){return"TEMPLATE"!=o.tagName}),r=0;r<l.length;r++)l[r].isEqualNode(e)&&(r>LyteColorbox._index?!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._related[LyteColorbox._index+1])&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._nextItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===t&&LyteColorbox.reset(),LyteColorbox._index=r,LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index])):r<LyteColorbox._index&&!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._index)&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._prevItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===t&&LyteColorbox.reset(),LyteColorbox._index=r,LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index])));this.getMethods("onNavigate")&&this.executeMethod("onNavigate",o,this.$node,LyteColorbox._index+1)}}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(o){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),e=t.length>>>0;if("function"!=typeof o)throw new TypeError("predicate must be a function");for(var l=arguments[1],r=0;r<e;){var n=t[r];if(o.call(l,n,r,t))return r;r++}return-1},configurable:!0,writable:!0});