window._lyteUiUtils=window._lyteUiUtils||{version:"V2_2_13"},_lyteUiUtils.i18n=function(t,e){var o=e?"lyte."+e+"."+t:t,i=_lyteUiComponentsLocale[o||""];return i||t},_lyteUiUtils.getRTL=function(){return void 0!=this.Rtl&&null!=this.Rtl?this.Rtl:this.Rtl="rtl"==window.getComputedStyle(document.body).getPropertyValue("direction")},_lyteUiUtils.isIos=/ip(hone|ad|od)/i.test(navigator.userAgent)||/macintosh/i.test(navigator.userAgent)&&"ontouchend"in document,_lyteUiUtils.isAndroid=/android/i.test(navigator.userAgent),_lyteUiUtils.isMobile=_lyteUiUtils.isIos||_lyteUiUtils.isAndroid,_lyteUiUtils.escape=function(t){return(t||"").replace(/(\\|\'|\"|\?)/g,"\\$1")},_lyteUiUtils.appendChild=function(t,e){return Lyte.Component&&Lyte.Component.appendChild?Lyte.Component.appendChild(t,e):LyteComponent.appendChild(t,e)},_lyteUiUtils.insertBefore=function(t,e){return Lyte.Component&&Lyte.Component.insertBefore?Lyte.Component.insertBefore(t,e):LyteComponent.insertBefore(t,e)},_lyteUiUtils.insertAfter=function(t,e){return Lyte.Component&&Lyte.Component.insertAfter?Lyte.Component.insertAfter(t,e):LyteComponent.insertAfter(t,e)},_lyteUiUtils.getScrollBarWidth=function(){if(void 0!=this._scrollwidth)return this._scrollwidth;var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var o=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;return o==i&&(i=e.clientWidth),document.body.removeChild(e),this._scrollwidth=o-i,this._scrollwidth},_lyteUiUtils.replaceWith=function(t,e){return Lyte.Component&&Lyte.Component.replaceWith?Lyte.Component.replaceWith(t,e):LyteComponent.replaceWith(t,e)},_lyteUiUtils.registeredCustomElements=_lyteUiUtils.registeredCustomElements||{},_lyteUiUtils.mergeObjects=function(t,e){var o={};for(var i in e)o[i]=e[i];for(var i in t)i in e||(o[i]=!1);return o},_lyteUiUtils.setAttribute=function(t,e,o){var i=_lyteUiUtils.mergeObjects(o,e);for(var a in i)!1===i[a]?t.removeAttribute(a):t.setAttribute(a,i[a])},Lyte.Component.registerHelper("lyteUiReturnOnlyKey",function(t){var e=Object.keys(t);return!!e&&e[0]}),Lyte.Component.registerHelper("lyteUiReturnOnlyValue",function(t){return t[Object.keys(t)[0]]}),Lyte.Component.registerHelper("lyteUiSetURL",function(t,e){return e?t:""}),Lyte.Component.registerHelper("lyteUiCheckEmpty",function(t){return t&&t[0].emptyBlock&&t[6].emptyBlock}),Lyte.Component.registerHelper("lyteUiI18n",function(t,e){return _lyteUiUtils.i18n(t,e)}),Lyte.Component.registerHelper("lyteUiOptGroupCheck",function(t){if(t.constructor==Object&&1==Object.keys(t).length){var e=t[Object.keys(t)[0]];if(e.constructor==Object||e.constructor==Array)return!0}return!1}),Lyte.Component.registerHelper("lyteUiCheckForType",function(t,e,o,i){if(i){var a=0,l=0;for(var n in t)l++,n==e&&a++,n==o&&a++;return 2!=a&&1==l}return"object"==typeof t}),Lyte.Component.registerHelper("lyteUiChildPadding",function(t){return"Arrow"===t?"padding-left:20px;":"Plus"===t?"padding-left:25px;":"padding-left:27px;"}),Lyte.Component.registerHelper("lyteUiHaveChildren",function(t,e){return!!(t[e]&&t[e].length>0)}),Lyte.Component.registerHelper("lyteUiIsObject",function(t){return"[object Object]"===Object.prototype.toString.call(t)}),Lyte.Component.registerHelper("lyteUiIsArray",function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Lyte.Component.registerHelper("lyteUiGiveProper",function(t,e){for(var o=[],i=0;i<t.length;i++)t[i].menu==e&&o.push(t[i]);return o}),Lyte.Component.registerHelper("lyteUiAddClassModal",function(t,e,o){var i=t;return o&&(i+=" draggable"),e&&(i+=" "+t+"Show"),i}),Lyte.Component.registerHelper("lyteUiAddShowClass",function(t,e,o){return!0===t?e+" "+o:e}),Lyte.Component.registerHelper("lyteUiCatwise",function(t,e){return t==e[this.get("ltPropCategory")]}),Lyte.Component.registerHelper("lyteUiCheckClassForDate",function(t){return!!t&&-1!=t.indexOf("lyteCalGray")}),Lyte.Component.registerHelper("lyteUiConcat",function(){for(var t="",e=arguments.length,o=0;o<e;o++)void 0!=arguments[o]&&(t+=arguments[o]);return t}),Lyte.Component.registerHelper("lyteUiConcatTypeClass",function(t,e,o){return""!==t?t+e+" "+o:o}),Lyte.Component.registerHelper("lyteUiGetContainerClass",function(t,e){return e||(e=""),1==t?"lyteDropdownContainer tick-selection "+e:"lyteDropdownContainer "+e}),Lyte.Component.registerHelper("lyteUiGetDropdownClass",function(t){return t&&"true"==t.toString().toLowerCase()?"lyteDropdownElement1 lyteDropdown-disabled":"lyteDropdownElement1"}),Lyte.Component.registerHelper("lyteUiIfEquals",function(t,e){return t===e}),Lyte.Component.registerHelper("lyteUiLabelCheck",function(t,e){return t==e}),Lyte.Component.registerHelper("lyteUiObjectCheck",function(t){return"string"==typeof t}),Lyte.Component.registerHelper("lyteUiReturnValueBy",function(t,e){return e||0==e?t[e]:t}),Lyte.Component.registerHelper("lyteUiSetWH",function(t){return 2*parseInt(t)}),Lyte.Component.registerHelper("lyteUiSetRadius",function(t,e){return parseInt(t)-parseInt(e)/2}),Lyte.Component.registerHelper("lyteUiSetDashArray",function(t,e){return 6.28318*(parseInt(t)-parseInt(e)/2)}),Lyte.Component.registerHelper("lyteUiSetOffset",function(t,e,o){return 6.28318*(parseInt(t)-parseInt(e)/2)*(1-parseInt(o)/100)}),Lyte.Component.registerHelper("lyteUiTextTransform",function(t){return"translate(0,-"+2*parseInt(t)+"px)"}),Lyte.Component.registerHelper("lyteUiMakeSortable",function(t){return console.log(t),document.getElementById(t).classList.add("sortable"),!0}),Lyte.Component.registerHelper("lyteUiCheckTabPosition",function(t){return"bottom"!==t.pos}),Lyte.Component.registerHelper("lyteUiGetValue",function(t,e){return t[e]}),Lyte.Component.registerHelper("lyteUiIsEmptyArray",function(t){return 0==t.length}),Lyte.Component.registerHelper("lyteUiRgbToHex",function(t){var e="#";if(/rgba/.test(t)){for(var o=t.substring(5,t.length-1).split(","),i=0;i<3;i++){(a=parseInt(o[i]).toString(16).toUpperCase()).length<2&&(a="0"+a),e+=a}e+=(Math.round(255*parseFloat(o[3]))+65536).toString(16).substr(-2).toUpperCase()}else if(/rgb/.test(t))for(o=t.substring(4,t.length-1).split(","),i=0;i<3;i++){var a;(a=parseInt(o[i]).toString(16).toUpperCase()).length<2&&(a="0"+a),e+=a}return e}),Lyte.Component.registerHelper("lyteUiCPInsertBreak",function(t){return(t+1)%10==0}),Lyte.Component.registerHelper("lyteUiCheckInRange",function(t,e,o,i){var a=this.component;if(t=t||"",e=e||"",""===t&&""===e)return!0;if(""!==t&&""===e){var l=a.stringToDate(t,i);if((r=a.stringToDate(o,i))>=l)return!0}else if(""!==t&&""!==e){l=a.stringToDate(t,i);var n=a.stringToDate(e,i);if((r=a.stringToDate(o,i))>=l&&r<=n)return!0}else{var r;n=a.stringToDate(e,i);if((r=a.stringToDate(o,i))<=n)return!0}return!1}),Lyte.Component.registerHelper("lyteUiIsEmptyObject",function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}),Lyte.Component.registerHelper("lyteUiCheckDisabled",function(t,e){for(var o=0;o<t.length;o++)if(e===t[o])return"true";return"false"}),Lyte.Component.registerHelper("lyteUiTreeHelp",function(t,e){return t+e++}),Lyte.Component.registerHelper("lyteUiTreeClassHelp",function(t,e,o,i){return"open"!==t&&e?i:o}),Lyte.Component.registerHelper("lyteUiTreeIndexHelp",function(t,e){return(t+" "+e++).trim()}),Lyte.Component.registerHelper("lyteUiTreeChildHelp",function(t,e){return void 0!==t.children&&0!==t.children.length||t.hasChild?"":e}),Lyte.Component.registerHelper("stringify",function(t){return JSON.stringify(t)}),Lyte.Component.registerHelper("lyteUiConcatAlertClass",function(t,e){return("center"==t?"lyteAlertCenterContent":"")+" "+e}),Lyte.Component.registerHelper("lyteUiSetIndexString",function(t,e){return t+1+" of "+e}),Lyte.Component.registerHelper("lyteUiRTL",function(){return _lyteUiUtils.getRTL()}),Lyte.Component.registerHelper("lyteIsIos",function(){return _lyteUiUtils.isIos}),Lyte.Component.registerHelper("lyteIsAndroid",function(){return _lyteUiUtils.isAndroid}),Lyte.Component.registerHelper("lyteUiGetMonthOrYear",function(t,e){return"M"==e?t.split(" ")[0]:t.split(" ")[1]}),Lyte.Component.registerHelper("lyteUiDisplayOrHide",function(t){return"rgba(0, 0, 0, 0)"==t?"lyteColorPicker__colorpan lyteColorPicker__hide":"lyteColorPicker__colorpan"}),Lyte.Component.registerHelper("lyteUiMsgBoxConcatClass",function(t,e,o,i){return""!==e?t+" "+e+o+" "+i:t+" "+i}),Lyte.Component.registerHelper("lyteUiFileSize",function(t,e,o){var i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=0;return 0==(a=e?Math.max(a,i.indexOf(e)):Math.floor(Math.log(t)/Math.log(1024)))&&1==t?"1 Byte":parseInt(t/Math.pow(1024,a)*Math.pow(10,o))/Math.pow(10,o)+i[a]}),Lyte.Component.registerHelper("lyteUiAddClassRating",function(t,e){var o="";return t&&(o+=t),e?"lyteRatingReadOnly":o}),Lyte.Component.registerHelper("lyteUiGetArrayValueByIndex",function(t,e){return t[e%t.length]}),Lyte.Component.registerHelper("lyteUiIfEqualsAny",function(){var t=arguments[0];for(i=1;i<arguments.length;i++)if(t==arguments[i])return!0;return!1}),Lyte.Component.registerHelper("lyteUiGetNextArrayValueByIndex",function(t,e){return t[e+1]}),Lyte.Component.registerHelper("lyteUiArrayLastIndex",function(t){return t.length-1}),Lyte.Component.registerHelper("lyteUiGetViewBox",function(t){return"heart"===t?"1.5 0.5 20 20":"0 0 21 21"}),Lyte.Component.registerHelper("lyteUiGetFillOrStroke",function(t,e){return"heart"===t||"star"===t?"; fill:"+e+";":"; stroke:"+e+";"}),Lyte.Component.registerHelper("lyteUiCheckHalfRatingSvg",function(t,e){return!!(t&&e>0&&e<1)}),Lyte.Component.registerHelper("lyteUiProgressbarLabel",function(t,e){return t||e+"%"}),Lyte.Component.register("lyte-accordion",{_template:'<template tag-name="lyte-accordion">\n\t<lyte-yield yield-name="yield">\n\n\t</lyte-yield>\n</template>',_dynamicNodes:[{type:"insertYield",position:[1]}],_observedAttributes:["ltPropDuration","ltPropHeight","ltPropExclusive","ltPropYield","ltPropDynamic"],data:function(){return{ltPropDuration:Lyte.attr("string",{default:"0.2s"}),ltPropHeight:Lyte.attr("string"),ltPropExclusive:Lyte.attr("boolean",{default:!0}),ltPropYield:Lyte.attr("boolean",{default:!0}),ltPropDynamic:Lyte.attr("boolean",{default:!1})}},execAndCheck:function(t,e){var o,i;return o=_lyteAccordion.findProperParent(e.target).parentElement,i=void 0==(i=this.executeMethod(t,e,o,this))||i},initiateClose:function(t,e,o){window.requestAnimationFrame(function(){t.style.height=t.getBoundingClientRect().height+"px",window.requestAnimationFrame(function(){t.style.height="0px"})}),t.style.overflow="hidden",t._close=!0,t.parentElement.classList.remove("lyteAccordionActive"),e&&$L.fastdom.measure(function(){e.call(this,o)},this)},execNonRetCalls:function(t){this.getMethods(t[0])&&this.executeMethod.apply(this,t)},isVisible:function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},scrollIntoView:function(t){if(t&&this.isVisible(t)&&t){var e,o=this.$node.getBoundingClientRect().height,i=this.$node.scrollTop+o,a=t.offsetTop,l=t.getAttribute("map"),n=a+t.getBoundingClientRect().height;i<n&&(this.$node.scrollTop=this.$node.scrollTop+(n-i)),e=window.requestAnimationFrame(this.scrollIntoView.bind(this,t)),Lyte.objectUtils(this.getData("rAFMap"),"add",l,e)}},dynamic:function(t){var e;t.style.height="auto",e=t.getBoundingClientRect().height,window.requestAnimationFrame(function(){t.style.height="0px",window.requestAnimationFrame(function(){t.style.height=e+"px"})})},static:function(t,e){var o=e.height;this.getData("heights")[t.getAttribute("map")].conf&&o?t.style.height=o:t.style.height=this.getData("heights")[t.getAttribute("map")].height},calculate:function(t,e){var o=this.getData("ltPropDynamic");t.parentElement.classList.add("lyteAccordionActive"),o?this.dynamic(t):this.static(t,e)},initiateOpen:function(t,e,o){var i;this.calculate(t,e),t._close=!1,t.style.overflow="hidden",t.parentElement.classList.add("lyteAccordionActive"),i=_lyteAccordion.findProperParent(o.target),$L.fastdom.measure(function(){this.scrollIntoView(t),this.execNonRetCalls(["onOpen",o,i.parentElement,this]),this.execNonRetCalls(["onChanged",o,i.parentElement,this])},this)},didDestroy:function(){for(var t=this.$node.querySelectorAll("lyte-accordion-item"),e=0;e<t.length;e++)t[e].getAttribute("lyte-shortcut")&&t[e].setAttribute("lyte-shortcut",JSON.stringify({}))},cancelFrame:function(t){var e=t.getAttribute("map"),o=t._close,i=this.getData("ltPropDynamic");window.cancelAnimationFrame(this.getData("rAFMap")[e]),t.style.overflow=o?"hidden":"auto",i&&!o&&(t.style.height="auto")},setEvent:function(t){t&&t.addEventListener("transitionend",this.cancelFrame.bind(this,t))},calculateHeight:function(t,e){var o=t.style.height;this.getData("heights")[e]={},o?(this.getData("heights")[e].height=o,this.getData("heights")[e].conf=!1):(this.getData("heights")[e].height=t.getBoundingClientRect().height-parseFloat(window.getComputedStyle(t).paddingTop)-parseFloat(window.getComputedStyle(t).paddingBottom)+"px",this.getData("heights")[e].conf=!0)},readHeights:function(){for(var t,e=this.$node.querySelector("lyte-yield").children,o=0,i=this.getData("ltPropDynamic");o<e.length;o++)"LYTE-ACCORDION-ITEM"===e[o].tagName&&(t=e[o].querySelector("lyte-accordion-body"))&&(this.setEvent(t),i||this.calculateHeight(t,o),e[o].classList.contains("lyteAccordionActive")&&this.getData("ltPropExclusive")&&(this.flag=o))},maintainHeightOrder:function(t,e){var o=this.getData("ltPropDynamic");t._close=!1,t.style.height=o?"auto":this.getData("heights")[e].conf&&this.getData("ltPropHeight")?this.getData("ltPropHeight"):this.getData("heights")[e].height},writeHeights:function(){for(var t,e=this.$node.querySelector("lyte-yield").children,o=this.getData("ltPropExclusive"),i=0;i<e.length;i++)"LYTE-ACCORDION-ITEM"===e[i].tagName&&(t=e[i].querySelector("lyte-accordion-body"))&&(t.setAttribute("map",i),e[i].classList.contains("lyteAccordionActive")?o&&this.flag!=i?(t._close=!0,e[i].classList.remove("lyteAccordionActive"),t.style.height="0px"):this.maintainHeightOrder(t,i):(t._close=!0,t.style.height="0px"))},executeAfterRender:function(){this.execNonRetCalls(["afterRender",this])},attachScrolls:function(){for(var t,e=this.$node.querySelector("lyte-yield").children,o=0;o<e.length;o++)"LYTE-ACCORDION-ITEM"===e[o].tagName&&(t=e[o].querySelector("lyte-accordion-body"))&&(t.style.overflow="auto")},getAllHeights:function(){this.setData("heights",{}),$L.fastdom.measure(this.attachScrolls,this),$L.fastdom.measure(this.readHeights,this),$L.fastdom.mutate(this.writeHeights,this),$L.fastdom.measure(this.executeAfterRender,this)},didConnect:function(){this.setData("rAFMap",{}),this.getAllHeights()},getConfiguration:function(){var t={};return t.transition=this.getData("ltPropDuration"),t.height=this.getData("ltPropHeight"),t.exclusive=this.getData("ltPropExclusive"),t}});var _lyteAccordion={findProperParentS:function(t){for(var e,o,i=[],a=!1;"LYTE-YIELD"!=t.tagName&&"HTML"!=t.tagName;)if(e=t,i.push(t),!(t=t.parentElement))return null;for(o=i.length-1;o>-1;o--)if("LYTE-ACCORDION-HEADER"===i[o].tagName||1===i.length&&"LYTE-ACCORDION-ITEM"===i[o].tagName){a=!0;break}return a?e.children[0]:null},findProperParent:function(t){var e;if(t){for(;"LYTE-YIELD"!=t.tagName&&"HTML"!=t.tagName;)if(e=t,!(t=t.parentElement))return{};return"LYTE-ACCORDION-HEADER"===(e.children[0]||{}).tagName?e.children[0]:void 0}}};(document.addEventListener("click",function(t){var e,o,i,a,l,n,r,s,d,p,c,h,u,y=_lyteAccordion.findProperParentS(t.target),m=0;if(y){for(e=y;"HTML"!=e.tagName&&"LYTE-ACCORDION"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"!=e.tagName){for(i=(o=e.querySelector("lyte-yield")).children,a=!0;m<i.length;m++)if(i[m].querySelector("lyte-accordion-header")==y){a=!1;break}if(!a){if(l=o.children[m].querySelector("lyte-accordion-body"),s=(r=(n=o.parentElement.component).getConfiguration()).transition,!l||"LYTE-ACCORDION-BODY"!=l.tagName){if(r&&r.exclusive&&(d=n.$node.querySelector(".lyteAccordionActive"))&&(p=d.querySelector("lyte-accordion-body")))if(p.style.transitionDuration=s,n.getMethods("onBeforeClose")){if(!(c=n.execAndCheck("onBeforeClose",t)))return;n.initiateClose(p,function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])},t)}else n.initiateClose(p,function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])},t);return o.children[m].classList.contains("lyteAccordionActive")?o.children[m].classList.remove("lyteAccordionActive"):o.children[m].classList.add("lyteAccordionActive"),void $L.fastdom.measure(function(){n.execNonRetCalls(["onChanged",t,_lyteAccordion.findProperParent(t.target).parentElement,n])})}if(h=window.getComputedStyle(l).height,s&&(l.style.transitionDuration=s,(d=n.$node.querySelector(".lyteAccordionActive"))&&(p=d.querySelector("lyte-accordion-body"))&&(p.style.transitionDuration=s)),u=n.$node.querySelector(".lyteAccordionActive"),r&&r.exclusive&&u&&u!=l.parentElement){if((p=u.querySelector("lyte-accordion-body"))&&n.getMethods("onBeforeClose")){if(!(c=n.execAndCheck("onBeforeClose",t)))return;n.initiateClose(p,function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])},t)}else(p=u.querySelector("lyte-accordion-body"))&&n.initiateClose(p,function(t){this.execNonRetCalls(["onClose",t,_lyteAccordion.findProperParent(t.target).parentElement,this])},t);u.classList.contains("lyteAccordionActive")&&u.classList.remove("lyteAccordionActive")}if("0px"==h)if(n.getMethods("onBeforeOpen")){if(c=n.execAndCheck("onBeforeOpen",t),r=n.getConfiguration(),!c)return;n.initiateOpen(l,r,t)}else n.initiateOpen(l,r,t);else if(n.getMethods("onBeforeClose")){if(!(c=n.execAndCheck("onBeforeClose",t)))return;n.initiateClose(l,function(t){var e=_lyteAccordion.findProperParent(t.target);this.execNonRetCalls(["onClose",t,e.parentElement,this]),this.execNonRetCalls(["onChanged",t,e.parentElement,this])},t)}else n.initiateClose(l,function(t){var e=_lyteAccordion.findProperParent(t.target);this.execNonRetCalls(["onClose",t,e.parentElement,this]),this.execNonRetCalls(["onChanged",t,e.parentElement,this])},t)}}}},!0),_lyteUiUtils.registeredCustomElements["lyte-accordion-item"]||(_lyteUiUtils.registeredCustomElements["lyte-accordion-item"]=!0,Lyte.createCustomElement("lyte-accordion-item",{static:{observedAttributes:{get:function(){return["lyte-shortcut"]}}},attributeChangedCallback:function(t,e,o,i){if("function"==typeof shortcut){if(!o)return;if(!(o=JSON.parse(o)).key)return;var a=o.key,l=o.type,n=o.wait;e||(e={}),shortcut.push({newKey:a,type:l,wait:n,oldKey:e.key,value:this})}}})),LytePopup)||(LytePopup={components:[],bodywrapperCount:0,onEscape:function(t){("key"in(t=t||window.event)?"Escape"==t.key||"Esc"==t.key:27==t.keyCode)&&LytePopup.closePopup(void 0,!0)},bindDocumentKeydown:function(){document.addEventListener("keydown",LytePopup.onEscape,!0)},hideOrShowFreeze:function(t,e){var o,i="",a="",l="",n="";if("open"==t&&LytePopup.components.length>1){for(var r=LytePopup.components.length-2;r>=0;r--)if(i="LYTE-MODAL"==LytePopup.components[r].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[r].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",a="LYTE-MODAL"==e.$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==e.$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",l=LytePopup.components[r].childComp.querySelector(i),n=e.childComp.querySelector(a),o=e.getData("ltPropDimmer")&&e.getData("ltPropDimmer").opacity?e.getData("ltPropDimmer").opacity:"",l&&n){l.style.transition="none",n.style.transition="none",l.style.zIndex=15,l.style.opacity=0,n.style.visibility="visible",n.style.opacity=o,setTimeout(LytePopup.removeTransition,100,n,l),l.style.zIndex="",e.addedFreezeDetails=!0;break}}else if("close"==t&&LytePopup.components.length>1&&LytePopup.components[LytePopup.components.length-1]===e)for(r=LytePopup.components.length-2;r>=0;r--)if(i="LYTE-MODAL"==LytePopup.components[r].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[r].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",a="LYTE-MODAL"==e.$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==e.$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",l=LytePopup.components[r].childComp.querySelector(i),n=e.childComp.querySelector(a),o=LytePopup.components[r].getData("ltPropDimmer")&&LytePopup.components[r].getData("ltPropDimmer").opacity?LytePopup.components[r].getData("ltPropDimmer").opacity:"",l&&n){n.style.transition="none",l.style.transition="none",l.style.zIndex=15,n.style.opacity=0,l.style.visibility="visible",l.style.opacity=o,setTimeout(LytePopup.removeTransition,100,n,l),l.style.zIndex="",n.style.visibility="";break}},removeTransition:function(t,e){t.style.transition="",e.style.transition=""},addPopup:function(t){LytePopup.closePopup();var e=LytePopup.components.length;if(e>0){var o,i="",a="";i="LYTE-MODAL"==LytePopup.components[e-1].$node.tagName?".modalWrapper":"LYTE-POPOVER"==LytePopup.components[e-1].$node.tagName?".popoverWrapper":".alertWrapper",a="LYTE-MODAL"==t.$node.tagName?".modalWrapper":"LYTE-POPOVER"==t.$node.tagName?".popoverWrapper":".alertWrapper";var l=t.childComp.querySelector(a);(o=Number(document.defaultView.getComputedStyle(LytePopup.components[LytePopup.components.length-1].childComp.querySelector(i),null).getPropertyValue("z-index")))+2>Number(document.defaultView.getComputedStyle(l,null).getPropertyValue("z-index"))&&(l.style.zIndex=o+2)}LytePopup.components[e]=t,(t.getData("ltPropFreeze")||"LYTE-ALERT"==t.$node.tagName)&&LytePopup.hideOrShowFreeze("open",t)},closePopup:function(t,e){if(e){var o=LytePopup.components[LytePopup.components.length-1];o&&o.$node.ltProp("closeOnEscape")&&o.$node.ltProp("show",!1)}else if(t){var i=LytePopup.components.indexOf(t);i>-1&&LytePopup.components.splice(i,1)}else for(var a=LytePopup.components.length-1;a>=0;a--){if(LytePopup.components[a].$node&&!LytePopup.components[a].$node.ltProp("allowMultiple"))LytePopup.components[a].$node.ltProp("show",!1)}},getScrollParent:function(t){var e=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY,o="visible"!==e&&"hidden"!==e,i=t&&o?t.scrollHeight:0,a=t&&o?t.clientHeight:0;return t?o&&i>=a?t:LytePopup.getScrollParent(t.parentNode)||document.body:null}}).bindDocumentKeydown();if(Lyte.Component.register("lyte-alert",{_template:'<template tag-name="lyte-alert">\n\t<template is="if" value="{{ltPropShowCopy}}">\n\t\t<template case="true"><lyte-wormhole on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}">\n\t\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t\t<div class="alertWrapper {{ltPropWrapperClass}}">\t\n\t\t\t\t\t<div class="{{lyteUiConcatAlertClass(ltPropContentAlign,\'alertPopup\')}}">\n\t\t\t\t\t\t<template is="if" value="{{ltPropShowCloseButton}}">\n\t\t\t\t\t\t\t<template case="true"><span class="lyte-svg alertClose" onclick="{{action(\'closeAlert\')}}"></span></template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-yield yield-name="alert"></lyte-yield>\n\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropHeading,\'\')}}">\n\t\t\t\t\t\t\t\t<template case="false"><div class="alertHeader">\n\t\t\t\t\t\t\t\t\t<span class="dBlock">{{ltPropHeading}}</span>\n\t\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<div class="alertContent">\n\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropType,\'\')}}">\n\t\t\t\t\t\t\t\t\t<template case="false"><div class="alertContentMiddle">\n\t\t\t\t\t\t\t\t\t\t<span class="{{lyteUiConcatTypeClass(ltPropType,\'AlertIcon\',\'lyteStatusIcon\')}}"></span>\n\t\t\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<div class="alertContentMiddle">\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropPrimaryMessage,\'\')}}">\n\t\t\t\t\t\t\t\t\t\t<template case="false"><div>\n\t\t\t\t\t\t\t\t\t\t\t<span class="alertPrimaryMsg">{{ltPropPrimaryMessage}}</span>\n\t\t\t\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropSecondaryMessage,\'\')}}">\n\t\t\t\t\t\t\t\t\t\t<template case="false"><div>\n\t\t\t\t\t\t\t\t\t\t\t<span class="alertSecondaryMsg">{{ltPropSecondaryMessage}}</span>\n\t\t\t\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="clearFloat"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<template is="if" value="{{nonYieldFooter}}"><template case="true">\n\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIsEmptyArray(ltPropButtons)}}">\n\t\t\t\t\t\t\t\t<template case="false"><div class="{{lyteUiConcat(\'alertFooter \',ltPropButtonPosition)}}">\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{ltPropButtons}}">\n\t\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(item.type,\'accept\')}}">\n\t\t\t\t\t\t\t\t\t\t\t<template case="true"><lyte-button class="lyteAlertBtn" onclick="{{action(\'accept\',item.text)}}">\n\t\t\t\t\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{item.text}}</template>\n\t\t\t\t\t\t\t\t\t\t\t</lyte-button></template>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(item.type,\'reject\')}}">\n\t\t\t\t\t\t\t\t\t\t\t<template case="true"><lyte-button class="lyteAlertBtn" onclick="{{action(\'reject\',item.text)}}">\n\t\t\t\t\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{item.text}}</template>\n\t\t\t\t\t\t\t\t\t\t\t</lyte-button></template>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="{{lyteUiAddShowClass(ltPropShowCopy,\'\',\'alertFreezeLayer\')}}"></div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</lyte-wormhole></template>\n\t</template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"registerYield",position:[0,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{false:{dynamicNodes:[{type:"text",position:[0,1,0]}]}},default:{}},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{false:{dynamicNodes:[{type:"attr",position:[0,1]}]}},default:{}},{type:"attr",position:[3,3,1]},{type:"if",position:[3,3,1],cases:{false:{dynamicNodes:[{type:"text",position:[0,1,0]}]}},default:{}},{type:"attr",position:[3,3,3]},{type:"if",position:[3,3,3],cases:{false:{dynamicNodes:[{type:"text",position:[0,1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{false:{dynamicNodes:[{type:"attr",position:[0]},{type:"attr",position:[0,1]},{type:"for",position:[0,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"registerYield",position:[0,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[0]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"registerYield",position:[0,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[0]}]}},default:{}}]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]}]},{type:"componentDynamic",position:[0]}]}},default:{}}],_observedAttributes:["ltPropType","ltPropShow","ltPropWrapperClass","ltPropAllowMultiple","ltPropHeading","ltPropPrimaryMessage","ltPropSecondaryMessage","ltPropTop","ltPropButtons","ltPropButtonPosition","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropDimmer","ltPropYield","ltPropAnimation","ltPropContentAlign","nonYieldFooter","triggerShow"],data:function(){return{ltPropType:Lyte.attr("string",{default:""}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropHeading:Lyte.attr("string",{default:""}),ltPropPrimaryMessage:Lyte.attr("string",{default:""}),ltPropSecondaryMessage:Lyte.attr("string",{default:""}),ltPropTop:Lyte.attr("string",{default:"40px"}),ltPropButtons:Lyte.attr("array",{default:[]}),ltPropButtonPosition:Lyte.attr("string",{default:"right"}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropDimmer:Lyte.attr("object",{default:{color:"black",opacity:"0.4"}}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropAnimation:Lyte.attr("string",{default:"slideDown"}),ltPropContentAlign:Lyte.attr("string",{default:"left"}),nonYieldFooter:Lyte.attr("boolean",{default:!0}),triggerShow:Lyte.attr("number",{default:0})}},didConnect:function(){this.$node.ltProp("show")&&this.setData("triggerShow",this.getData("triggerShow")+1)},showToggled:function(){if(this.$node.ltProp("show")){this.closeTId&&(clearTimeout(this.closeTId),delete this.closeTId),this.sId&&(clearTimeout(this.sId),delete this.sId,this.setData("ltPropShowCopy",!1),delete this.sId,delete this.actualModalDiv,delete this.childComp,LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")),this.getData("nonYieldFooter")&&0==this.getData("ltPropButtons").length&&("confirm"==this.getData("ltPropType")?this.setData("ltPropButtons",[{type:"accept",text:"Ok"},{type:"reject",text:"Cancel"}]):this.setData("ltPropButtons",[{type:"accept",text:"Ok"}]));var t=this;this.openTId=setTimeout(function(){delete t.openTId,document.body.classList.add("bodyWrapper"),LytePopup.bodywrapperCount+=1,t.showAlert()},0)}else{this.openTId&&(clearTimeout(this.openTId),delete this.openTId),this.showTId&&(clearTimeout(this.showTId),delete this.showTId);t=this;this.closeTId=setTimeout(function(){delete t.closeTId,t.closeAlert()},0)}}.observes("ltPropShow","triggerShow"),printId:function(){console.log("this.openTId ---\x3e "+this.openTId),console.log("this.showTId ---\x3e "+this.showTId),console.log("this.closeTId ---\x3e "+this.closeTId),console.log("this.sId ---\x3e "+this.sId)},closeAlertFn:function(){this.getMethods("onClose")&&this.executeMethod("onClose",this)},showAlert:function(){var t=this;if(this.showTId=setTimeout(function(){if(delete t.showTId,t.actualModalDiv){if("center"==t.getData("ltPropTop")){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);t.actualModalDiv.style.top=(e-t.actualModalDiv.getBoundingClientRect().height)/2+"px"}else t.actualModalDiv.style.top=t.getData("ltPropTop");"zoomIn"==t.getData("ltPropAnimation")&&t.actualModalDiv.classList.add("alertOpened"),t.getMethods("onShow")&&t.executeMethod("onShow",t)}else t.getData("ltPropShow")&&t.setData("ltPropShow",!1)},100),this.setData("ltPropShowCopy",!0),"slideDown"==this.getData("ltPropAnimation")?this.actualModalDiv.classList.add("lyteAlertSlideDown"):"zoomIn"==this.getData("ltPropAnimation")&&this.actualModalDiv.classList.add("lyteAlertZoomIn"),this.getData("ltPropButtons")&&this.getData("nonYieldFooter")){for(var e,o=this.getData("ltPropButtons"),i=0;i<o.length;i++){e=this.actualModalDiv.querySelectorAll(".lyteAlertBtn")[i];for(var a=Object.keys(o[i]),l=0;l<a.length;l++)e.ltProp(a[l],o[i][a[l]])}e=null}LytePopup.addPopup(this);var n=this.childComp.querySelector(".alertFreezeLayer").style;n.background=this.getData("ltPropDimmer").color,this.addedFreezeDetails||(n.opacity=this.getData("ltPropDimmer").opacity)},closeAlert:function(){if(this.childComp&&this.actualModalDiv){this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),"slideDown"==this.getData("ltPropAnimation")&&(this.actualModalDiv.style.top="-"+(this.actualModalDiv.getBoundingClientRect().height+this.actualModalDiv.getBoundingClientRect().top+40)+"px");var t=1e3*parseFloat(document.defaultView.getComputedStyle(this.actualModalDiv).getPropertyValue("transition-duration"));"zoomIn"==this.getData("ltPropAnimation")&&this.actualModalDiv.classList.remove("alertOpened");var e=this;this.sId=setTimeout(function(){e.setData("ltPropShowCopy",!1),delete e.sId,delete e.actualModalDiv,delete e.childComp,LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")},t-100),this.closeAlertFn(),LytePopup.closePopup(this),this.addedFreezeDetails&&(this.childComp.querySelector(".alertFreezeLayer").style.opacity=0,this.childComp.querySelector(".alertFreezeLayer").style.visibility="")}else LytePopup.closePopup(this)},didDestroy:function(){this.openTId&&(clearTimeout(this.openTId),delete this.openTId),this.showTId&&(clearTimeout(this.showTId),delete this.showTId),this.closeTId&&(clearTimeout(this.closeTId),delete this.closeTId),this.sId&&(clearTimeout(this.sId),delete this.sId),this.childComp&&(this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.childComp.remove(),delete this.actualModalDiv,delete this.childComp,LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper"))},actions:{closeAlert:function(){this.$node.ltProp("show",!1)},accept:function(t){this.getMethods("onAccept")&&this.executeMethod("onAccept",t,this),this.$node.ltProp("show",!1)},reject:function(t){this.getMethods("onReject")&&this.executeMethod("onReject",t,this),this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp=t,this.actualModalDiv=this.childComp.querySelector(".alertPopup"),this.getData("ltPropYield")&&t.querySelector("lyte-alert-footer")?this.setData("nonYieldFooter",!1):this.setData("nonYieldFooter",!0)}}}),Lyte.Component.register("lyte-autocomplete",{_template:'<template tag-name="lyte-autocomplete">   \n      <lyte-dropdown lt-prop-set-pos="{{ltPropSetPos}}" lt-prop-type="{{ltPropDropType}}" lt-prop-yield="true" lt-prop-freeze="{{ltPropFreeze}}" lt-prop-callout="{{ltPropCallout}}" lt-prop-show="{{ltPropShow}}" lt-prop-position="{{ltPropPosition}}" lt-prop-hover="{{ltPropHover}}" lt-prop-disabled="{{ltPropDisabled}}" lt-prop-boundary="{{ltPropBoundary}}" lt-prop-tabindex="{{ltPropTabindex}}" lt-prop-animate="{{ltPropAnimate}}" on-option-selected="{{method(\'valSet\')}}" on-show="{{method(\'show\')}}" on-hide="{{method(\'hide\')}}" on-before-show="{{method(\'beforeShow\')}}" on-before-hide="{{method(\'beforeHide\')}}" on-add="{{method(\'add\')}}" on-remove="{{method(\'remove\')}}" on-position-changed="{{\'positionChanged\'}}" on-scroll="{{method(\'scroll\')}}" lt-prop-selected="{{lbind(ltPropSelected)}}">\n        <template is="registerYield" yield-name="yield">\n              <lyte-drop-button onkeyup="{{action(\'keyup\', event)}}">\n                     <lyte-input lt-prop-maxlength="{{ltPropMaxlength}}" lt-prop-auto-update="{{ltPropAutoUpdate}}" on-value-change="{{method(\'valuechange\')}}" lt-prop-tab-index="{{ltPropTabIndex}}" lt-prop-id="{{ltPropId}}" lt-prop-wrapper-style="{{ltPropWrapperStyle}}" lt-prop-class="{{ltPropClass}}" lt-prop-autofocus="{{ltPropAutofocus}}" lt-prop-autocomplete="{{ltPropAutocomplete}}" lt-prop-type="{{ltPropType}}" lt-prop-name="{{ltPropName}}" lt-prop-placeholder="{{ltPropPlaceholder}}" lt-prop-value="{{lbind(ltPropValue)}}" lt-prop-width="100%" lt-prop-height="{{ltPropHeight}}" lt-prop-style="{{ltPropStyle}}" lt-prop-appearance="{{ltPropAppearance}}" lt-prop-direction="vertical" lt-prop-disabled="{{ltPropDisabled}}" lt-prop-readonly="{{ltPropReadonly}}" lt-prop-pattern="{{ltPropPattern}}" rows="{{ltPropRows}}" cols="{{ltPropCols}}" title="{{ltPropInputTitle}}" lt-prop-text-area-resize="{{ltPropTextAreaResize}}" lt-prop-input-title="{{ltPropInputTitle}}" on-focus="{{method(\'focus\')}}" on-blur="{{method(\'blurEvent\')}}" oninput="{{action(\'input\', event)}}"></lyte-input>\n                     <template is="if" value="{{expHandlers(ltPropType,\'==\',\'search\')}}"><template case="true">   \n                         <div class="closeIconWrapper" onclick="{{action(\'resetValue\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}">\n                            <span class="closeIcon lyteAutoCompCloseIcon"></span>\n                        </div>\n                        <span class="iconSeparator" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                     </template></template>\n              </lyte-drop-button> \n          <template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n            <lyte-drop-box class="{{ltPropDropdownClass}} lyteautocompleteDropdown" id="{{ltPropDropdownId}}">\n              <lyte-drop-body>\n              <template is="for" items="{{ltPropContent}}" item="list" index="indexVal"><template is="if" value="{{lyteUiOptGroupCheck(list)}}"><template case="true">\n                      <lyte-drop-group elemorder="{{indexVal}}">\n                         <lyte-drop-label>{{lyteUiReturnOnlyKey(list)}}</lyte-drop-label>\n                            <template is="for" items="{{lyteUiReturnOnlyValue(list)}}" item="list1" index="indexVal1"><template is="if" value="{{expHandlers(lyteUiIsObject(list1),\'==\',false)}}"><template case="true">\n                                             <lyte-drop-item grporder="{{indexVal}}" elemorder="{{indexVal1}}" data-value="{{list1}}">\n                                                    <lyte-autocomplete-label keywords="{{list1}}">{{list1}}</lyte-autocomplete-label>\n                                              </lyte-drop-item>\n                                        </template><template case="false">\n                                            <lyte-drop-item grporder="{{indexVal}}" elemorder="{{indexVal1}}" data-value="{{list1[ltPropLabel]}}" class="{{list1.class}}">\n                                                <lyte-autocomplete-label keywords="{{list1[ltPropKeyWords]}}">{{list1[ltPropLabel]}}</lyte-autocomplete-label>\n                                                    <template is="if" value="{{list1[ltPropDescription]}}"><template case="true">\n                                                        <lyte-autocomplete-description><span class="lyteAutoSeparator">,</span> {{list1[ltPropDescription]}}</lyte-autocomplete-description>\n                                                    </template></template>\n                                            </lyte-drop-item>\n                                    </template></template></template>\n                    </lyte-drop-group>\n                    </template><template case="false"><template is="if" value="{{expHandlers(lyteUiIsObject(list),\'==\',false)}}"><template case="true">\n                                       <lyte-drop-item elemorder="{{indexVal}}" data-value="{{list}}">\n                                              <lyte-autocomplete-label keywords="{{list}}">{{list}}</lyte-autocomplete-label>\n                                        </lyte-drop-item>\n                                </template><template case="false">\n                                      <lyte-drop-item elemorder="{{indexVal}}" data-value="{{list[ltPropLabel]}}" class="{{list1.class}}">\n                                          <lyte-autocomplete-label keywords="{{list[ltPropKeyWords]}}">{{list[ltPropLabel]}}</lyte-autocomplete-label>\n                                              <template is="if" value="{{list[ltPropDescription]}}"><template case="true">\n                                                  <lyte-autocomplete-description><span class="lyteAutoSeparator">,</span> {{list[ltPropDescription]}}</lyte-autocomplete-description>\n                                              </template></template>\n                                      </lyte-drop-item>\n                                </template></template></template></template></template>     \n               </lyte-drop-body>       \n            </lyte-drop-box>\n          </template><template case="false">\n                  <lyte-yield yield-name="yield"></lyte-yield>\n            </template></template>\n        </template>\n      </lyte-dropdown>     \n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}},{type:"attr",position:[3],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,2]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,2]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}],_observedAttributes:["ltPropAutocomplete","ltPropPlaceholder","ltPropAutofocus","ltPropMaxlength","ltPropReadonly","ltPropId","ltPropClass","ltPropType","ltPropName","ltPropWidth","ltPropValue","ltPropContent","ltPropLabel","ltPropDescription","ltPropAppearance","ltPropDirection","ltPropExternalSearch","ltPropYield","ltPropHeight","ltPropHighlight","ltPropHighlightClass","ltPropKeyWords","ltPropMinLength","ltPropErrorClass","ltPropDropdownWidth","ltPropDropdownHeight","ltPropDropdownClass","ltPropDropdownId","ltPropMethod","ltPropWrapperStyle","ltPropTabIndex","ltPropTabindex","ltPropFreeze","ltPropCallout","ltPropShow","ltPropDisabled","ltPropHover","ltPropBoundary","ltPropPosition","ltPropDropType","ltPropSetPos","ltPropPattern","ltPropAutoUpdate","ltPropValueSet","ltPropPreventInsideClick","ltPropExtSearchOpen","ltPropInputTitle","ltPropErrorMessage","ltPropErrorClass","ltPropAnimate","ltPropSelected","ltPropTrim","ltPropRows","ltPropCols","ltPropTextAreaResize","timeout","optGroup","autocompleteFlag"],init:function(){this.$node.toggle=function(){this.$node.querySelector("lyte-dropdown").toggle(arguments[0],arguments[1])}.bind(this),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didDestroy:function(){delete this.autocompleteComp,delete this.input,delete this.dropdown,delete this.dropbody,delete this.$node.toggle,delete this.$node.setValue,clearTimeout(this.data.timeout),["focus","blur","click","select"].forEach(function(t){delete this.$node[t]}.bind(this))},didConnect:function(){var t=document.createElement("DIV");t.classList.add("lyteautocompleteError"),t.style.display="none",this.autocompleteComp=t,this.data.ltPropErrorMessage&&(t.innerText=this.data.ltPropErrorMessage),this.data.ltPropErrorClass&&t.classList.add(this.data.ltPropErrorClass),this.dropdown=this.$node.querySelector("lyte-dropdown"),this.dropbody=this.dropdown.childComp?this.component.childComp:this.dropdown.querySelector("lyte-drop-box"),this.dropbody.appendChild(t),this.$node.setValue=function(t){t=void 0!=t?t:"",this.$node.querySelector("lyte-input").ltProp("value",t),this.pressFunc.call(this,t,{})}.bind(this),["focus","blur","click","select"].forEach(function(t){this.$node[t]=function(e){this.$node.querySelector("lyte-input")[t](e)}.bind(this)}.bind(this)),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},errObs:function(t){"ltPropErrorMessage"==t.item?this.autocompleteComp.innerText=t.newValue:(this.autocompleteComp.classList.add(t.newValue),this.autocompleteComp.classList.remove(t.oldValue))}.observes("ltPropErrorMessage","ltPropErrorClass"),typeObs:function(){var t=this.getData("ltPropType");if("textarea"==t)this.input=this.$node.querySelector("textarea");else{if(this.input=this.$node.querySelector("input"),"search"==t)return void this.$node.classList.add("searchPresent");this.$node.classList.remove("searchPresent")}}.observes("ltPropType").on("didConnect"),arrayFrom:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o]);return e.slice()},optGroupObs:function(){setTimeout(this.optGroup.bind(this,!0),0)}.observes("ltPropContent","ltPropContent.[]"),optGroup:function(t){(this.dropbody&&!this.dropbody.classList.contains("lyteDropdownHidden")&&this.input.value.length||this.data.ltPropExternalSearch)&&this.contentFiltering.call(this,this.input.value),this.data.ltPropAnimate&&this.data.ltPropExternalSearch&&(this.dropbody.querySelector("lyte-drop-body").style.removeProperty("height"),delete this.dropdown.component._prevent)},classObs:function(){if(this.data.ltPropYield){var t=$L(this.dropbody);arguments[0]&&t.removeClass(arguments[0].oldValue);var e=this.data.ltPropDropdownClass;e&&t.addClass(e)}}.observes("ltPropDropdownClass").on("didConnect"),heigthSetObs:function(){this.heigthSet.call(this)}.observes("ltPropDropdownHeight").on("didConnect"),heigthSet:function(){var t=this.data.ltPropDropdownHeight;t&&(this.dropbody.querySelector("lyte-drop-body").style.maxHeight=t)},widthSetObs:function(){this.widthSet.call(this)}.observes("ltPropDropdownWidth").on("didConnect"),widthSet:function(){var t=this.data.ltPropDropdownWidth;t&&(this.dropbody.querySelector("lyte-drop-body").style.width=t)},data:function(){return{ltPropAutocomplete:Lyte.attr("string",{default:"off"}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropMaxlength:Lyte.attr("number",{default:25}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropId:Lyte.attr("string",{default:"inputId"}),ltPropClass:Lyte.attr("string",{default:""}),ltPropType:Lyte.attr("string",{default:"text"}),ltPropName:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropValue:Lyte.attr("string",{default:""}),ltPropContent:Lyte.attr("array",{default:[]}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropDescription:Lyte.attr("string",{default:""}),ltPropAppearance:Lyte.attr("string",{default:"flat"}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropExternalSearch:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropHighlight:Lyte.attr("boolean",{default:!1}),ltPropHighlightClass:Lyte.attr("string",{default:"lyteautocompleteHighlight"}),ltPropKeyWords:Lyte.attr("string",{default:""}),ltPropMinLength:Lyte.attr("number",{default:1}),ltPropErrorClass:Lyte.attr("string",{default:"lyteautocompleteError"}),ltPropDropdownWidth:Lyte.attr("string",{default:"auto"}),ltPropDropdownHeight:Lyte.attr("string",{default:"300px"}),ltPropDropdownClass:Lyte.attr("string",{default:""}),ltPropDropdownId:Lyte.attr("string",{default:"lyteAutocomplete"}),ltPropMethod:Lyte.attr("string",{default:"contains"}),ltPropWrapperStyle:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("string",{default:"0"}),ltPropTabindex:Lyte.attr("string",{default:"-1"}),ltPropFreeze:Lyte.attr("boolean",{default:!1}),ltPropCallout:Lyte.attr("boolean",{default:!1}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropHover:Lyte.attr("boolean",{default:!1}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropPosition:Lyte.attr("string",{default:"down"}),ltPropDropType:Lyte.attr("string",{default:"default"}),ltPropSetPos:Lyte.attr("boolean",{default:!1}),ltPropPattern:Lyte.attr("string",{default:".+"}),ltPropAutoUpdate:Lyte.attr("boolean",{default:!0}),ltPropValueSet:Lyte.attr("boolean",{default:!0}),ltPropPreventInsideClick:Lyte.attr("boolean",{default:!1}),ltPropExtSearchOpen:Lyte.attr("boolean",{default:!1}),ltPropInputTitle:Lyte.attr("string",{default:""}),ltPropErrorMessage:Lyte.attr("string",{default:""}),ltPropErrorClass:Lyte.attr("string",{default:""}),ltPropAnimate:Lyte.attr("boolean",{default:!1}),ltPropSelected:Lyte.attr("string",{default:""}),ltPropTrim:Lyte.attr("boolean",{default:!1}),ltPropRows:Lyte.attr("number",{default:void 0}),ltPropCols:Lyte.attr("number",{default:void 0}),ltPropTextAreaResize:Lyte.attr("object",{default:{vertical:!0,horizontal:!0}}),timeout:Lyte.attr("number",{default:void 0}),optGroup:Lyte.attr("boolean",{default:!1}),autocompleteFlag:Lyte.attr("boolean",{default:!0})}},templateTrim:function(t){var e=(t=(t=t||"").trim()).indexOf("<template"),o=t.indexOf("</template>"),i=[];for(i.push(e);-1!=e;)(e=t.split("<template",i.length+1).join("<template").length)>o?(e=(t=t.slice(0,i.pop())+t.slice(o+11,t.length)).indexOf("<template"),o=t.indexOf("</template>")):i.push(e);return t},highlightText:function(t,e){for(var o=new RegExp("("+(e||"").replace(/(\\|\'|\"|\?|\^|\$|\.|\||\*|\+|\(|\)|\[|\]|\{|\})/g,"\\$1")+")","gi"),i=/(?!>)([^><]+)(?=<)/gi,a=0;a<t.length;a++){var l=t[a].querySelector("lyte-autocomplete-label"),n=t[a].querySelector("div.lyteAutoComplete");n||((n=document.createElement("div")).classList.add("lyteAutoComplete"),t[a].insertBefore(n,t[a].firstChild)),l.style.display="none",l.children.length?n.innerHTML=this.autoHighlight.call(this,this.templateTrim(l.innerHTML),o,i):n.innerHTML=l.textContent.replace(o,"<span class ="+this.getData("ltPropHighlightClass")+">$1</span>")}},autoHighlight:function(t,e,o){return t.replace(o,function(){return arguments[0].replace(e,"<span class ="+this.getData("ltPropHighlightClass")+">$1</span>")}.bind(this))},errorMessage:function(t){var e=this.autocompleteComp;t?(e.style.display="block",e.style.width||(e.style.width=window.getComputedStyle(this.$node).getPropertyValue("width"))):(e.style.display="none",this.data.ltPropErrorMessage||(e.innerHTML=""))},actions:{resetValue:function(t){this.$node.setValue(""),this.$node.focus()},keyup:function(t){if(37!=t.keyCode&&13!=t.keyCode&&38!=t.keyCode&&39!=t.keyCode&&40!=t.keyCode&&27!=t.keyCode){var e=this.input.value;void 0!=this.data.timeout&&clearTimeout(this.data.timeout),(e.length>=this.getData("ltPropMinLength")||8==t.keyCode||91==t.keyCode||17==t.keyCode)&&13!=t.keyCode&&this.setData("timeout",setTimeout(function(){this.pressFunc.call(this,e,t)}.bind(this),100))}},input:function(t){if(_lyteUiUtils.isAndroid&&/firefox/gi.test(navigator.userAgent)){clearTimeout(this.data.timeout);var e=t.target.value;e.length>=this.data.ltPropMinLength&&(this.data.timeout=setTimeout(this.pressFunc.bind(this),100,e,t))}}},methods:{valSet:function(t,e){for(var o=(t||window.event).target;o&&"LYTE-DROP-ITEM"!=o.tagName&&"BODY"!=o.tagName;)o=o.parentNode;o&&"LYTE-DROP-ITEM"==o.tagName&&(e=o.querySelector("lyte-autocomplete-label").textContent);if(e){this.getData("ltPropValueSet")&&this.$node.ltProp("value",e.trim());var i=this.getData("ltPropContent");if(this.getMethods("onSelect")){var a;if(this.getData("ltPropYield"))a=o.getAttribute("data-value");else{i=this.getData("ltPropContent");for(var l=this.arrayFrom.call(this,this.dropbody.querySelector("lyte-drop-body").children),n=0;n<l.length;n++)-1==["LYTE-DROP-GROUP","LYTE-DROP-ITEM"].indexOf(l[n].tagName)&&(Lyte.arrayUtils(l,"removeAt",n),n--);if("LYTE-DROP-GROUP"==o.parentElement.tagName){var r=i[l.indexOf(o.parentElement)];a=r[Object.keys(r)[0]][this.arrayFrom.call(this,o.parentElement.querySelectorAll("lyte-drop-item")).indexOf(o)]}else a=i[l.indexOf(o)]}this.executeMethod("onSelect",a,t,this.$node)}}},show:function(){this.optGroupHide.call(this,!0),this.getMethods("onShow")&&this.executeMethod("onShow",arguments[0],arguments[1])},hide:function(){this.getMethods("onHide")&&this.executeMethod("onHide",arguments[0],arguments[1])},beforeShow:function(){var t;return!(this.input&&this.input.value.length<this.data.ltPropMinLength)&&((!this.getMethods("onBeforeShow")||0!=(t=this.executeMethod("onBeforeShow",arguments[0],arguments[1])))&&(t&&t.then?(t.then(function(){this.dropdown&&this.dropdown!=_lyteDropdown.lastDropdownWithAPromise||setTimeout(this.pressFunc.bind(this),0,this.input.value,{})}.bind(this)),t):void(this._bymanual||setTimeout(this.pressFunc.bind(this),0,this.input.value,{}))))},beforeHide:function(){return!(this.getData("ltPropPreventInsideClick")&&arguments[0]&&27!=arguments[0].keyCode&&this.$node.contains(arguments[0].target))&&(this.getMethods("onBeforeHide")?this.executeMethod("onBeforeHide",arguments[0],arguments[1]):void 0)},add:function(){this.getMethods("onAdd")&&this.executeMethod("onAdd",arguments[0],arguments[1],arguments[2],arguments[3])},remove:function(){this.getMethods("onRemove")&&this.executeMethod("onRemove",arguments[0],arguments[1],arguments[2],arguments[3])},positionChanged:function(){this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",arguments[0],arguments[1])},scroll:function(){this.getMethods("onScroll")&&this.executeMethod("onScroll",arguments[0],arguments[1])},valuechange:function(t){this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node)},blurEvent:function(t){this.getMethods("onBlur")&&this.executeMethod("onBlur",t,this.$node)},focus:function(t,e){this.getMethods("onFocus")&&this.executeMethod("onFocus",t,this.$node)}},filteringArray:function(t,e,o,i){var a=this.getData("ltPropMethod"),l=[];if(o.length)for(var n=0;n<t.length;n++){var r=!1,s=t[n].trim().toLowerCase();o=o.toLowerCase();switch(a){case"contains":r=s.indexOf(o)>=0;break;case"startsWith":r=0==s.indexOf(o);break;case"endsWith":-1!=(d=s.lastIndexOf(o))&&(r=d+o.length==s.length)}r&&l.push(e[n])}else l=e;if(!this.getMethods("onSearch")||0!=this.executeMethod("onSearch",l,this.autocompleteComp,this.$node,o,i)){for(n=0;n<t.length;n++){r=!1,s=t[n].trim().toLowerCase(),o=o.toLowerCase();switch(a){case"contains":r=s.indexOf(o)>=0;break;case"startsWith":r=0==s.indexOf(o);break;case"endsWith":var d;-1!=(d=s.lastIndexOf(o))&&(r=d+o.length==s.length)}e[n].classList[r?"remove":"add"]("lyteSearchHidden")}this.optGroupHide.call(this),this.errorMessage.call(this,!l.length),l.length&&this.data.ltPropHighlight&&this.highlightText.call(this,e,o)}},optGroupHide:function(t){var e=this.dropbody.querySelectorAll("lyte-drop-item:not(.lyteSearchHidden):not(.lyteDropdownActive)"),o=this.dropbody.querySelector("lyte-drop-item.lyteDropdownSelection");if(!t)for(var i=this.dropbody.querySelectorAll("lyte-drop-group"),a=0;a<i.length;a++)i[a].querySelectorAll("lyte-drop-item.lyteSearchHidden").length==i[a].querySelectorAll("lyte-drop-item").length?i[a].style.display="none":i[a].style.display="block";$L.fastdom.measure(function(){for(var t,i=0;i<e.length;i++)if(e[i].offsetParent&&!e[i].classList.contains("lyteDropdown-disabled")){t=e[i];break}$L.fastdom.mutate(function(){t&&o!=t&&(o&&o.classList.remove("lyteDropdownSelection"),t.classList.add("lyteDropdownSelection"))}.bind(this))}.bind(this))},contentFiltering:function(t,e){var o=this.dropdown,i=[],a=[],l=(e=e||{},this.dropbody);if(!(l.classList.contains("lyteDropdownHidden")&&t.length>=this.data.ltPropMinLength||!l.classList.contains("lyteDropdownHidden")&&t.length<this.data.ltPropMinLength)||(console.log(this.$node),this._bymanual=!0,o.toggle(),delete this._bymanual,!l.classList.contains("lyteDropdownHidden"))){a=l.querySelectorAll("lyte-drop-item:not(.lyteDropdownActive)");for(var n=0;n<a.length;n++){var r=a[n].querySelector("lyte-autocomplete-label"),s=r.getAttribute("keywords");if(s)try{s=JSON.parse(s).join(" ")}catch(t){}i.push(s||r.textContent.trim())}this.filteringArray.call(this,i,a,t,e)}},pressFunc:function(t,e){if(this.data.ltPropTrim&&(t=t.trim()),this.data.ltPropExternalSearch)if(t.length>=this.data.ltPropMinLength||!e.target){if(e.type&&this.dropbody.classList.contains("lyteDropdownHidden")&&this.data.ltPropExtSearchOpen&&(this.dropdown.toggle(),this.dropbody.classList.contains("lyteDropdownHidden")))return;!this._prevext&&this.getMethods("onExtSearch")&&this.executeMethod("onExtSearch",t,this.$node,e),delete this._prevext}else this.dropbody.classList.contains("lyteDropdownHidden")||this.dropdown.toggle();else this.contentFiltering.call(this,t,e)}}),Lyte.Component.register("lyte-breadcrumb",{_template:'<template tag-name="lyte-breadcrumb">\n\t<div onclick="{{action(\'divClick\', event, this)}}">\n\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t\t\t<lyte-breadcrumb-structure class="{{ltPropClass}}">\n\t\t\t\t\t\t<template is="for" items="{{ltPropData}}" item="array" index="indexVal"><template is="if" value="{{expHandlers(lyteUiIsObject(array),\'==\',false)}}"><template case="true"><template is="if" value="{{expHandlers(ltPropClass,\'==\',\'lyteBreadcrumbBullet\')}}"><template case="true">\n\t\t\t\t \t\t\t\t\t\t\t  <lyte-breadcrumb-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this,array)}}"> \t  \n\t\t\t\t \t\t\t\t\t\t\t  \t\t<lyte-breadcrumb-body> {{array}} </lyte-breadcrumb-body> \n\t\t\t\t \t\t\t\t\t\t\t\t\t<lyte-breadcrumb-head>{{indexVal}}</lyte-breadcrumb-head>\n\t\t\t\t \t\t\t\t\t\t\t\t</lyte-breadcrumb-item>\n\t\t\t\t \t\t\t\t\t\t\t</template><template case="false"> \n\t\t\t\t\t\t\t\t\t\t\t  <lyte-breadcrumb-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this,array)}}"> \t \n\t\t\t\t\t\t\t\t\t\t\t  \t\t<lyte-breadcrumb-body> {{array}} </lyte-breadcrumb-body>\n\t\t\t\t\t\t\t\t\t\t\t\t</lyte-breadcrumb-item>\n\t\t\t\t\t\t\t\t\t\t </template></template></template><template case="false"><template is="if" value="{{expHandlers(ltPropClass,\'==\',\'lyteBreadcrumbBullet\')}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t\t<lyte-breadcrumb-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this,array)}}"> \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<lyte-breadcrumb-body> {{array[ltPropLabel]}} </lyte-breadcrumb-body> \n\t\t\t\t\t\t\t\t\t\t\t\t\t<lyte-breadcrumb-head>{{array[ltPropOption]}}</lyte-breadcrumb-head>\n\t\t\t\t\t\t\t\t\t\t\t\t</lyte-breadcrumb-item>\n\t\t\t\t\t\t\t\t\t\t\t</template><template case="false"> \n\t\t\t\t\t\t\t\t\t\t\t   <lyte-breadcrumb-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this,array)}}"> \t\n\t\t\t\t\t\t\t\t\t\t\t   \t    <lyte-breadcrumb-body> {{array[ltPropLabel]}} </lyte-breadcrumb-body>\n\t\t\t\t\t\t\t\t\t\t\t   </lyte-breadcrumb-item>\n\t\t\t\t\t\t\t\t\t\t  </template></template></template></template></template>\n\t\t\t\t\t</lyte-breadcrumb-structure>\t\n\t\t\t\t</template><template case="false">\n\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t </template></template>\n\t\t</div>\t\t\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}],_observedAttributes:["ltPropClass","ltPropData","ltPropActiveClass","ltPropCompletedClass","ltPropYield","ltPropLabel","ltPropOption"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didDestroy:function(){delete this.$node.modifyCrumbItems},didConnect:function(){this.ArrayContentChange.call(this),this.$node.modifyCrumbItems=function(t,e,o){this.component.getData("ltPropYield")?this.component.ArrayContentChange.call(this.component):Lyte.arrayUtils(this.component.getData("ltPropData"),t,e,o)},$L.fastdom.measure(function(){var t=_lyteUiUtils.getRTL();$L.fastdom.mutate(function(){this.breadcrumbClass.call(this),t&&this.$node.classList.add("lyteRTL")}.bind(this))}.bind(this)),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},ArrayContentChangeObs:function(){this.ArrayContentChange.call(this)}.observes("ltPropData.[]","ltPropData"),ArrayContentChange:function(){var t=this.$node.querySelectorAll("lyte-breadcrumb-item");if(t.length){for(var e=this.data.ltPropActiveClass,o=this.data.ltPropCompletedClass,i=0;i<t.length;i++)t[i].classList.add(o),t[i].classList.remove(e);t[t.length-1].classList.add(e),t[t.length-1].classList.remove(o)}},breadcrumbClassObs:function(){this.breadcrumbClass.call(this)}.observes("ltPropClass"),breadcrumbClass:function(){this.data.ltPropYield&&this.$node.querySelector("lyte-breadcrumb-structure").classList.add(this.data.ltPropClass)},data:function(){return{ltPropClass:Lyte.attr("string",{default:"lyteBreadcrumbSlash"}),ltPropData:Lyte.attr("array",{default:[]}),ltPropActiveClass:Lyte.attr("string",{default:"lyteActive"}),ltPropCompletedClass:Lyte.attr("string",{default:"lyteCompleted"}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropOption:Lyte.attr("string",{default:""})}},actions:{onclick:function(t,e,o){if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;this.getMethods("onClick")&&(this.executeMethod("onClick",e,this.$node,t,o),t.stopPropagation())},divClick:function(t,e){if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;if(this.getMethods("onClick")&&this.getData("ltPropYield"))for(var o=t.target.correspondingElement||t.target;o&&o!=e;){if("LYTE-BREADCRUMB-ITEM"==o.tagName){this.executeMethod("onClick",o,this.$node,t,o.getAttribute("data-value"));break}o=o.parentNode}}}}),Lyte.Component.register("lyte-button",{_template:'<template tag-name="lyte-button" onclick="{{action(\'check\',event)}}" onmousedown="{{action(\'check\',event)}}">\n\t<button type="{{ltPropType}}" class="{{finalClass}}" value="{{ltPropValue}}" tabindex="{{ltPropTabindex}}" id="{{ltPropId}}" name="{{ltPropName}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" style="{{finalStyle}}">\n\t\t\t<lyte-yield yield-name="text"></lyte-yield>\n\t\t</button>\n</template>',_dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",dynamicValue:"finalStyle"},type:{name:"type",dynamicValue:"ltPropType"}}},{type:"insertYield",position:[1,1]}],_templateAttributes:{type:"attr",position:[]},_observedAttributes:["ltPropName","ltPropDisabled","ltPropAutofocus","ltPropAppearance","ltPropId","ltPropType","ltPropValue","ltPropTabindex","ltPropStyle","ltPropSize","ltPropBackgroundColor","ltPropColor","lyteShortcut","ltPropClass","lyteUnbound"],data:function(){return{ltPropName:Lyte.attr("string",{default:void 0}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropAppearance:Lyte.attr("string",{default:"default"}),ltPropId:Lyte.attr("string",{default:void 0}),ltPropType:Lyte.attr("string",{default:"button"}),ltPropValue:Lyte.attr("string",{default:void 0}),ltPropTabindex:Lyte.attr("string",{default:void 0}),ltPropStyle:Lyte.attr("string",{default:void 0}),ltPropSize:Lyte.attr("string",{default:"default"}),ltPropBackgroundColor:Lyte.attr("string",{default:void 0}),ltPropColor:Lyte.attr("string",{default:void 0}),lyteShortcut:Lyte.attr("object",{default:{}}),ltPropClass:Lyte.attr("string",{default:""}),lyteUnbound:Lyte.attr("boolean",{default:!1})}},init:function(){this.pushValue()},registerFunction:function(t){var e=this;this.$node[t]=function(){var o=e.$node,i=o.querySelector("button");o.ltProp("disabled")||i[t]()}},didConnect:function(){for(var t=["click","focus","blur"],e=0;e<t.length;e++)this.registerFunction(t[e])},didDestroy:function(){var t=this.getData("lyteShortcut");t&&"function"==typeof shortcut&&shortcut.push({newKey:void 0,type:void 0,wait:void 0,oldKey:t.key}),delete this.$node.focus,delete this.$node.blur,delete this.$node.click},shortcutChanged:function(){this.pushValue()}.observes("lyteShortcut"),pushValue:function(){var t=this.getData("lyteShortcut"),e=this.$node;t.key&&"function"==typeof shortcut&&shortcut.push({newKey:t.key,type:t.type,wait:t.wait,oldKey:void 0,value:e})},changeClass:function(){var t=this.getData("ltPropClass"),e="",o="lyte-button"+(t?" "+t:""),i=this.getData("ltPropAppearance"),a=this.getData("ltPropSize"),l=this.getData("ltPropColor"),n=this.getData("ltPropBackgroundColor");a=a?a.toLowerCase():"",i=i||"default",n?o+=" lyteBackgroundColorBtn":l?o+=" lyteColorBtn":-1!==i.indexOf("default")?o+=" lyteDefaultBtn":-1!==i.indexOf("primary")?o+=" lytePrimaryBtn":-1!==i.indexOf("secondary")&&(o+=" lyteSecondary"),-1!==i.indexOf("success")?o+=" lyteSuccess":-1!==i.indexOf("failure")&&(o+=" lyteFailure"),"extra-small"===a?o+=" lyteExsm":"small"===a?o+=" lyteSm":"large"===a&&(o+=" lyteLg"),l?e=n?e+"background-color:"+n+";border-color:"+n+";color:"+l+";":e+"background-color: #fff; color:"+l+";border-color:"+l+";":n&&(e=e+"background-color:"+n+";border-color:"+n+";color:white;"),this.getData("ltPropStyle")&&(e+=this.getData("ltPropStyle")),this.setData("finalStyle",e),this.setData("finalClass",o)}.observes("ltPropClass","ltPropBackgroundColor","ltPropColor","ltPropStyle","ltPropSize","ltPropAppearance").on("init"),actions:{check:function(t){this.$node.querySelector("button").disabled&&t.stopPropagation()}}}),Lyte.Component.register("lyte-calculator",{_template:'<template tag-name="lyte-calculator">\n  <div class="lyteCalculator basic" tabindex="0" onkeydown="{{action(\'keydown\',event)}}" onkeyup="{{action(\'keyup\',event)}}">\n    <div class="calculatorDisplay">\n    <template is="if" value="{{ltPropEditable}}"><template case="true">\n         <input type="text" class="lyteCalculatorTextField" autocomplete="off" onmousedown="{{action(\'mdwnTextField\',event)}}" onmouseup="{{action(\'mupTextField\',event)}}" spellcheck="false">\n   </template><template case="false">\n        <div>\n            <div class="lyteCalculatorTextField" tabindex="0"></div>\n         </div>   \n    </template></template>\n      <div class="calculatorDispspan">0</div>\n      <div class="calculatorrad"></div>\n    </div>\n    <div class="calculatorbuttons" onmousedown="{{action(\'mousedown\',event)}}" onmouseup="{{action(\'mouseup\',event)}}">\n        <div class="calculatorToggle">\n        <span class="calculatorsmaller"></span> \n        </div>\n        <div class="advancedCalculator">\n            <span class="CalculatorBtn15">2<sup>nd</sup></span>\n            <span class="CalculatorBtn15">m+</span>\n            <span class="CalculatorBtn15">m-</span>\n            <span class="CalculatorBtn15 memorymr">mr</span>\n            <span class="CalculatorBtn15">mc</span>\n            <span class="CalculatorBtn14 Deg">Deg</span>\n            <span class="CalculatorBtn15">(</span>\n            <span class="CalculatorBtn15">)</span>\n            <span class="CalculatorBtn14">Rand</span>\n            <span class="CalculatorBtn15">1/x</span>\n            <span class="CalculatorBtn15">log<sub>y</sub></span>\n            <span class="CalculatorBtn16 pieButton">p</span>\n            <span class="CalculatorBtn14">E</span>\n            <span class="CalculatorBtn16">e</span>\n            <span class="CalculatorBtn15">!</span>\n            <span class="CalculatorBtn17 toggleBtns squareroot">x<sup>2</sup></span>\n            <span class="CalculatorBtn15 toggleBtns logbtn">log</span>\n            <span class="CalculatorBtn14 toggleBtns trignometry">sin</span>\n            <span class="CalculatorBtn14 toggleBtns trignometry">cos</span>\n            <span class="CalculatorBtn14 toggleBtns trignometry">tan</span>\n            <span class="CalculatorBtn17 toggleBtns calcLeft lastrow cuberoot">x<sup>y</sup></span>\n            <span class="CalculatorBtn16 toggleBtns lastrow naturallog">ln</span>\n            <span class="CalculatorBtn14 toggleBtns lastrow hyperbolic">sinh</span>\n            <span class="CalculatorBtn14 toggleBtns lastrow hyperbolic">cosh</span>\n            <span class="CalculatorBtn14 toggleBtns lastrow hyperbolic">tanh</span>\n        </div>\n        <div class="basicCalculator">\n            <span class="calcBackspace">C</span>\n            <span class="calcClearAc">AC</span>\n            <span class="calcPercent">%</span>\n            <span class="basicOp calcDivide">/</span>\n            <span>7</span>\n            <span>8</span>\n            <span>9</span>\n            <span class="basicOp calcMultiply">*</span>\n            <span>4</span>\n            <span>5</span>\n            <span>6</span>\n            <span class="basicOp calcAdd">+</span>\n            <span>1</span>\n            <span>2</span>\n            <span>3</span>\n            <span class="basicOp calcSub">-</span>\n            <span class="lastrow doubleWidth calcLeft">0</span>\n            <span class="calzero lastrow">.</span>\n            <span class="basicOp lastrow calcRight calcEqual">=</span>\n        </div>\n    </div>\n  </div>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3]}],_observedAttributes:["bigger","equation","previous","numstack","opstack","rank","secondLayer","operator","check_error","deg","memory","secondLayer","secondKeySet","secondActive","secondValue","cursor","cursorIndex","ltPropEditable","ltPropAutoFocus"],data:function(){return{bigger:Lyte.attr("boolean",{default:!1}),equation:Lyte.attr("string"),previous:Lyte.attr("string"),numstack:Lyte.attr("array",{default:[]}),opstack:Lyte.attr("array",{default:[]}),rank:Lyte.attr("object",{default:void 0}),secondLayer:Lyte.attr("array",{default:[]}),operator:Lyte.attr("string",{default:""}),check_error:Lyte.attr("boolean",{default:!1}),deg:Lyte.attr("boolean",{default:!1}),memory:Lyte.attr("number",{default:0}),secondLayer:Lyte.attr("array",{default:[]}),secondKeySet:Lyte.attr("array",{default:[]}),secondActive:Lyte.attr("boolean",{default:!1}),secondValue:Lyte.attr("array",{default:[]}),cursor:Lyte.attr("boolean",{default:!1}),cursorIndex:Lyte.attr("number",{default:0}),ltPropEditable:Lyte.attr("boolean",{default:!1}),ltPropAutoFocus:Lyte.attr("boolean",{default:!1})}},init:function(){this.setData("secondLayer",[["x<sup>2</sup>","log","sin","cos","tan","x<sup>y</sup>","ln","sinh","cosh","tanh"],["sqrt","10<sup>x</sup>","sin<sup>-1</sup>","cos<sup>-1</sup>","tan<sup>-1</sup>","xry","e<sup>x</sup>","sinh<sup>-1</sup>","cosh<sup>-1</sup>","tanh<sup>-1</sup>"]]),this.setData("rank",{"=":0,"+":1,"-":1,"/":2,"*":2,"~":6,N:5,"^":5,E:4,s:7,c:7,t:7,l:7,S:7,C:7,T:7,L:7,i:7,o:7,a:7,I:7,O:7,A:7,G:7,Q:7,"%":3,"!":3})},didConnect:function(){var t=this.$node.querySelector(".calculatorbuttons"),e=[],o=this.getData("secondLayer"),i=(this.getData("brackets"),[].slice.call(t.querySelector(".advancedCalculator").children,15,25));this.setData("secondKeySet",i);for(var a=2;a>=0;a--)for(var l=t.children[a],n=(r=l.children).length;n--;)e[l.children[n].textContent.replace(/\s*/g,"")]=l.children[n];var r;for(n=(r=o[0]).length;n--;){var s=r[n];"x<sup>2</sup>"===s?s="x2":"x<sup>y</sup>"===s&&(s="xy"),e[o[1][n].replace(/<\/*\w+>/g,"")]=e[s]}e.Rad=e.Deg,this.setData("keyBoard",e),this.getData("ltPropEditable")||$L(".lyteCalculatorTextField",this.$node).scroll({preventVertical:!0,preventHorizontal:!0}),this.getData("ltPropAutoFocus")&&this.$node.querySelector(".lyteCalculatorTextField").focus()},render:function(t,e){var o,i=t.match(/\./),a=this.$node.querySelector(".calculatorDispspan");this.$node.querySelector(".lyteCalculatorTextField");if(valAbs=Math.abs(+t),displayStyle=a.style,displayParentStyle=a.parentNode.style,t.match(/NaN|Inf/))o="NaN";else{if("Error"===t)return o=t,void(a.innerHTML=" ");valAbs>=1e16&&(t=(+t).toExponential(13)+""),e&&"+/-"!==e||0===valAbs||(t=(+t).toPrecision(12)),(o=(t+"").split("."))[1]&&(o[2]=o[1].split("e"),o[2][1]&&(o[1]=o[2][0]),e&&"+/-"!==e||(o[1]=(+("1."+o[1])).toPrecision(12)+"",o[1]>=2&&(o[0]=+o[0]+1+""),o[1]=o[1].substr(2).replace(/0+$/,""))),o=o[0]+(o[1]||i?"."+o[1]:"").replace(".undefined","").replace(e?"":/\.$/,"")+(o[2]&&o[2][1]?"e"+o[2][1]:"")}o=o.replace(/\./g,"#").replace(/\s/g,",").replace(/#/g,"."),a.innerHTML=o},getTargetKey:function(t){for(var e=this.$node.querySelector(".lyteCalculator");t!==e&&-1===t.className.indexOf("calculatorToggle")&&-1===t.className.indexOf("lyteCalculatorTextField")&&-1===t.className.indexOf("calculatorsmaller")&&t.parentNode&&-1===t.parentNode.className.indexOf("basicCalculator")&&-1===t.parentNode.className.indexOf("advancedCalculator");)t=t.parentNode;return t},keyUp:function(){var t=this.getData("pressedKey"),e=this.getData("secondActive");t&&t!==e&&(t.className=t.className.replace(" calc-press",""),t=null,this.setData("pressedKey",t))},keyDown:function(t,e){var o=t||window.event,i=(e||this.getTargetKey(o.target)).textContent.replace(/\s*/g,""),a=this.getData("keyBoard")[i],l=this.getData("pressedKey");return a&&(this.keyUp(),l=a,this.setData("pressedKey",l),a.className=a.className+" calc-press"),!1},preformMouseUp:function(t){var e,o=this.$node.querySelector(".lyteCalculatorTextField"),i=[];e=this.getData("ltPropEditable")?o.value:o.innerHTML,equation=e;var a=this.convertequation(equation).split(/([0-9.]+|\(|\)|\+|\-|\/|\*|\^|~|N|s|c|t|l|S|C|T|!|%|L|i|o|a|I|O|A|G|E|p|R|e|Q)/g).filter(function(t){return""!=t});if(a.length>=2&&!a[a.length-1].match(/[!|%|^]/)&&this.isOperator(a[a.length-1])&&a[a.length-2].match(/[0-9!pe%)]/))a=(a=e.split(/(p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t})).splice(0,a.length-1),equation=a.join("");else if(a.length>=2&&!a[a.length-1].match(/[!|%]/)&&this.isOperator(a[a.length-1]))return this.render("Error"),void this.keyUp();equation=this.standardizeString(equation),this.getData("check_error")||(i=this.processString(equation)),this.getData("check_error")||(i=this.postfix(i)),this.getData("check_error")||(equation=this.valueMath(i)),this.getData("check_error")?this.render("Error"):(this.render(equation),this.keyUp())},processString:function(t){for(var e=t.split(/([0-9.]+|\(|\)|\+|\-|\/|\*|\^|~|N|s|c|t|l|S|C|T|!|%|L|i|o|a|I|O|A|G|E|p|R|e|Q)/g).filter(function(t){return""!=t}),o=0;o<e.length;o++){if(o<e.length-1&&("p"===e[o]||"R"===e[o]||"e"===e[o])&&!this.isOperator(e[o+1]))return this.setData("check_error",!0),null;if(0==o&&!e[0].match(/[0-9a-zA-Zpe(.~]/))return this.setData("check_error",!0),null;if(0===o&&"G"===e[0])return this.setData("check_error",!0),null;if(o<e.length-1&&!e[o].match(/[(|)|%|!]/)&&!e[o+1].match(/[(]/)&&this.isOperator(e[o])&&!this.isOneMath(e[o])&&this.isOperator(e[o+1])&&!this.isOneMath(e[o+1]))return this.setData("check_error",!0),null;if(o<e.length-1&&"!"===!e[o]&&e[o+1].match(/[E]/))return this.setData("check_error",!0),null;if(o<e.length-1&&e[o].match(/[(]/)&&this.isOperator(e[o+1])&&!this.isOneMath(e[o+1]))return this.setData("check_error",!0),null;if(o<e.length-1&&this.isOneMath(e[o])&&this.isOperator(e[o+1])&&!this.isOneMath(e[o+1]))return this.setData("check_error",!0),null}return e},postfix:function(t){var e=[],o=[],i=this.getData("rank"),a=0;if(1===t.length)return t;for(var l=0;l<t.length;l++){var n=t[l];if(this.isOperator(n))if("("===n)o.push(n);else if(")"===n){var r;do{"("!==(r=o[o.length-1][0])&&(e[a]=o[o.length-1],a++),o.pop()}while("("!==r)}else{for(;0!==o.length&&i[o[o.length-1]+""]>=i[n+""];)e[a]=o.pop(),a++;o.push(n)}else e[a]=n,a++}for(;0!=o.length;)e[a]=o.pop(),a++;return e},factorial:function(t){return t<0||t>170?NaN:t<=1?1:t*this.factorial(t-1)},valueMath:function(t){for(var e,o=[],i=this.getData("deg"),a=Math.PI,l=0;l<t.length;l++){var n=t[l];if("p"===n)o.push(Math.PI);else if("e"===n)o.push(Math.exp(1));else{if(!this.isOperator(n)&&!n.match(/^(\d*\.)?\d+$/))return"Error";if(this.isOperator(n)){if(0===o.length)return"Error";var r=o.pop();switch(n){case"~":e=-r;break;case"s":e=i||Math.abs(r)!==a?Math.sin(r*(i?a/180:1))+"":"0";break;case"c":e=Math.cos(r*(i?a/180:1))+"";break;case"t":e=i||Math.abs(r)!==a?Math.tan(r*(i?a/180:1))+"":"0";break;case"%":e=r/100;break;case"!":if(!(r>=0&&parseInt(r)===r))return"NaN";e=this.factorial(Math.round(+r));break;case"l":e=Math.log(r)/Math.log(10);break;case"L":e=Math.log(r);break;case"S":e=(Math.pow(Math.E,r)-Math.pow(Math.E,-1*r))/2;break;case"C":e=(Math.pow(Math.E,r)+Math.pow(Math.E,-1*r))/2;break;case"T":var s=Math.pow(Math.E,r),d=Math.pow(Math.E,-1*r);e=s==1/0?1:d==1/0?-1:(s-d)/(s+d);break;case"i":e=Math.asin(r)*(i?180/a:1);break;case"o":e=Math.acos(r)*(i?180/a:1);break;case"a":e=Math.atan(r)*(i?180/a:1);break;case"I":e=Math.log(+r+Math.sqrt(1+Math.pow(r,2)));break;case"O":e=2*Math.log(Math.sqrt((+r+1)/2)+Math.sqrt((+r-1)/2));break;case"A":e=(Math.log(+r+1)-Math.log(1-r))/2;break;case"Q":e=Math.pow(r,.5)}if(0!==o.length){var p=o[o.length-1];switch(n){case"+":e=parseFloat(p)+parseFloat(r),o.pop();break;case"-":e=p-r,o.pop();break;case"*":e=p*r,o.pop();break;case"/":if(0==r)return"NaN";e=p/r,o.pop();break;case"^":e=Math.pow(p,r),o.pop();break;case"N":e=Math.pow(r,1/p),o.pop();break;case"E":e=p*Math.pow(10,r),o.pop();break;case"G":e=Math.log(r)/Math.log(p),o.pop()}}o.push(e)}else o.push(parseFloat(n))}}return o.pop()+""},checkrank:function(t){var e=this.getData(e),o=this.getData("rank");return e.length>0||e.length>0&&o[e.length-1]<o[t]},isOperator:function(t){return!!t.match(/^[+|\-|/|*|^|~|N|s|c|t|l|S|C|T|!|%|(|L|)|i|o|a|I|O|A|E|G|Q]+$/)},isOneMath:function(t){return!!t.match(/^[s|c|t|l|S|C|T|(|L|i|o|a|I|O|A|Q|~]+$/)},convertequation:function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=this.convertToPiandRoot(t)).trim()).replace("\\s+"," ")).replace(/sqrt/g,"Q")).replace(/logy/g,"G")).replace(/arcsinh/g,"I")).replace(/arccosh/g,"O")).replace(/arctanh/g,"A")).replace(/arcsin/g,"i")).replace(/arccos/g,"o")).replace(/arctan/g,"a")).replace(/log/g,"l")).replace(/sinh/g,"S")).replace(/cosh/g,"C")).replace(/tanh/g,"T")).replace(/sin/g,"s")).replace(/cos/g,"c")).replace(/tan/g,"t")).replace(/Rand/g,"R")).replace(/ln/g,"L")},convertToPiandRoot:function(t){var e=String.fromCharCode(parseInt("221A",16)),o=String.fromCharCode(parseInt("03C0",16)),i=new RegExp(o,"g");return t=t.replace(i,"p"),i=new RegExp(e,"g"),t=t.replace(i,"N")},standardizeString:function(t){var e,o,i="";if(e=(t=this.convertequation(t)).split("(").length,(o=t.split(")").length)>e)return this.setData("check_error",!0),null;for(var a=0;a<e-o;a++)t+=")";for(a=0;a<t.length;a++)a>0&&this.isOneMath(t[a])&&(")"==t[a-1]||t[a-1].match(/^[\d|\.|!|%|p|R|e]$/))&&(i+="*"),(0===a||a>0&&!t[a-1].match(/^[\d|\.|%|!]$/))&&"-"===t[a]&&t[a+1]&&(t[a+1].match(/^[\d|\.]$/)||"R"===t[a+1]||"e"===t[a+1]||"p"===t[a+1]||"("===t[a+1]||this.isOneMath(t[a+1]))?i+="~":(0===a||a>0&&"("===t[a-1])&&"+"===t[a]&&t[a+1]&&(t[a+1].match(/^[\d|\.]$/)||"R"===t[a+1]||"e"===t[a+1]||"p"===t[a+1]||"("===t[a+1])?i+="":a>0&&(t[a-1].match(/^[\d|\.]$/)||")"===t[a-1]||"R"===t[a-1]||"e"===t[a-1]||"p"===t[a-1])&&"p"===t[a]?i=i+"*"+t[a]:a>0&&(t[a-1].match(/^[\d|\.]$/)||")"===t[a-1]||"p"===t[a-1]||"e"===t[a-1]||"R"===t[a-1])&&"R"===t[a]?i=i+"*"+t[a]:a>0&&(t[a-1].match(/^[\d|\.]$/)||")"===t[a-1]||"p"===t[a-1]||"R"===t[a-1]||"e"===t[a-1])&&"e"===t[a]?i=i+"*"+t[a]:a>0&&"%"===t[a-1]&&(t[a].match(/^[\d|\.]$/)||"p"===t[a]||"R"===t[a]||"e"===t[a])?i=i+"*"+t[a]:a>0&&"!"===t[a-1]&&(t[a].match(/^[\d|\.]$/)||"p"===t[a]||"R"===t[a]||"e"===t[a])?i=i+"*"+t[a]:a>0&&(")"===t[a-1]||"p"===t[a-1]||"R"===t[a-1]||"e"===t[a-1])&&t[a].match(/^[\d|\.]$/)?i=i+"*"+t[a]:i+=t[a];return i},clearValue:function(){var t=this.$node.querySelector(".lyteCalculatorTextField");this.setData("check_error",!1),this.setData("cursorIndex",0),this.getData("ltPropEditable")?t.value="":t.innerHTML="",this.$node.querySelector(".calculatorDispspan").innerHTML="0"},memoryoperations:function(t){var e=this.getData("memory"),o=this.$node.querySelector(".calculatorDispspan").innerHTML,i=this.$node.querySelector(".lyteCalculatorTextField");if("mc"===t)e=0,this.$node.querySelector(".memorymr").classList.remove("active");else if("m+"===t)e+=parseFloat(o),this.$node.querySelector(".memorymr").classList.add("active");else if("m-"===t)e-=parseFloat(o),this.$node.querySelector(".memorymr").classList.add("active");else if("mr"===t){var a,l=this.getData("cursorIndex");if(a=this.getData("ltPropEditable")?i.value:i.innerHTML,n=this.convertToPiandRoot(a),!this.getData("check_error")){if(0==a.length||0==l||n[l-1]&&!n[l-1].match(/[0-9.]/)){if(a.length>l&&n[l].match(/[0-9.]/))return;var n=a.substring(0,l)+e+a.substring(l,a.length);this.getData("ltPropEditable")?i.value=n:i.innerHTML=n,this.setData("cursorIndex",l+(e+"").length)}this.setData("check_error",!1),this.preformMouseUp()}}this.setData("memory",e)},getSelectionIndex:function(){var t=this.$node.querySelector(".lyteCalculatorTextField");if(document.selection){t.focus();var e=document.selection.createRange(),o=e.text.length;return e.moveStart("character",-t.value.length),e.text.length-o+o}return t.selectionStart||"0"==t.selectionStart?t.selectionEnd:0},operationForBackspace:function(){var t,e,o=this.$node.querySelector(".lyteCalculatorTextField"),i=this.getData("ltPropEditable");i?(t=o.value,o.focus(),e=this.getSelectionIndex()):e=(t=o.innerHTML).length;var a=this.convertToPiandRoot(t);e=t.length-e;var l,n=a.split(/(p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t}),r=0;for(l=n.length-1;l>=0&&r!==e;l--)r+=n[l].length;if(l>=0){i&&this.setData("cursorIndex",this.getData("cursorIndex")-n[l].length),n.splice(l,1),n=n.join("");var s=String.fromCharCode(parseInt("221A",16)),d=String.fromCharCode(parseInt("03C0",16));n=(n=n.replace(/p/g,d)).replace(/N/g,s),i?o.value=n:o.innerHTML=n}},operationForDot:function(t){var e,o,i=this.$node.querySelector(".lyteCalculatorTextField");this.getData("ltPropEditable")?(e=i.value,i.focus(),o=this.getSelectionIndex()):o=(e=i.innerHTML).length;var a=this.convertToPiandRoot(e);o=e.length-o;var l,n=a.split(/([0-9.]+|p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t}),r=0;for(l=n.length-1;l>=0&&!(r>=o);l--)r+=n[l].length;if(l+1===n.length&&r===o){if(n[l].match(/[.]/g))return!0}else if(l>=1&&r===o&&n[l+1].match(/([0-9])/)){if(n[l+1].match(/[.]/g))return!0}else if(l>=0&&r===o&&!n[l+1].match(/([0-9])/)){if(n[l].match(/[.]/g))return!0}else if(r>o){if(n[l+1].match(/[.]/g))return!0}else if(0===l&&r===o&&n[l].match(/[.]/g))return!0;return!1},operationForZero:function(t){var e,o,i=this.$node.querySelector(".lyteCalculatorTextField");this.getData("ltPropEditable")?(e=i.value,i.focus(),o=this.getSelectionIndex()):o=(e=i.innerHTML).length;var a=this.convertToPiandRoot(e);o=e.length-o;var l,n=a.split(/([0-9.]+|p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t}),r=0;for(l=n.length-1;l>=0&&!(r>=o);l--)r+=n[l].length;if(l>=0&&r===o){if(parseInt(n[l])+""=="0"&&!n[l].match(/[.]/g))return!0}else if(o>0&&r>o&&parseInt(n[l+1])+""=="0"&&!n[l+1].match(/[.]/g))return!0;return!1},operationForArrowLeft:function(t){var e,o=this.$node.querySelector(".lyteCalculatorTextField"),i=o.value;o.focus(),e=this.getSelectionIndex();var a,l=this.convertToPiandRoot(i).split(/([0-9.]|p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t}),n=0;for(a=0;a<l.length-1&&(l[a+1]&&n+l[a].length<e);a++)n+=l[a].length;0==a&&(n=0),this.setData("cursorIndex",n+1),o.setSelectionRange(this.getData("cursorIndex"),this.getData("cursorIndex"))},operationForArrowRight:function(t){var e,o=this.$node.querySelector(".lyteCalculatorTextField"),i=o.value;o.focus(),e=this.getSelectionIndex();var a,l=this.convertToPiandRoot(i),n=l.split(/([0-9.]|p|Rand|e|arcsinh\(|arccosh\(|arctanh\(|arcsin\(|ln\(|arccos\(|arctan\(|sinh\(|cosh\(|tanh\(|sin\(|cos\(|tan\(|logy\(|log\(|sqrt\(|N\(|\(|\)|\+|\-|\|*|\^|!|%)/g).filter(function(t){return""!=t}),r=0;for(a=0;a<n.length&&r+n[a].length<=e;a++)r+=n[a].length;a==n.length?r=l.length:r+=n[a].length,this.setData("cursorIndex",r-1),o.setSelectionRange(this.getData("cursorIndex"),this.getData("cursorIndex"))},preformMouseDown:function(t){if(this.keyDown(t),!this.getData("pressedKey"))return!1;var e,o,i,a=String.fromCharCode(parseInt("221A",16)),l=String.fromCharCode(parseInt("03C0",16)),n=this.$node.querySelector(".lyteCalculatorTextField"),r=t||window.event,s=this.getTargetKey(r.target).textContent.replace(/\s*/g,""),d=this.getData("keyBoard")[s],p=this.getData("secondKeySet"),c=this.getData("secondLayer"),h=(this.getData("secondValue"),this.getData("ltPropEditable"));if(h?(n.focus(),e=this.getSelectionIndex(),m=n.value):(e=(m=n.innerHTML).length,$L.fastdom.measure(function(){if(n){var t=n.offsetWidth,e=n.scrollWidth;$L.fastdom.mutate(function(){n.scrollLeft=e-t}.bind(this))}}.bind(this))),o=this.getData("cursorIndex"),i=this.convertToPiandRoot(m),null===d&&"undefined"===d||(text=d.innerText,this.setData("previous",text)),-1!==this.$node.querySelector(".calculatorDisplay").className.indexOf("equalBtn")&&this.$node.querySelector(".calculatorDisplay").classList.remove("equalBtn"),-1!==d.className.indexOf("calculatorsmaller")||-1!==d.className.indexOf("calculatorToggle"))return this.setData("bigger",!this.getData("bigger")),this.getData("bigger")?(this.$node.querySelector(".basicCalculator").classList.add("anim"),this.$node.querySelector(".lyteCalculator").classList.remove("basic"),this.$node.querySelector(".lyteCalculator").classList.add("advanced")):(this.$node.querySelector(".basicCalculator").classList.remove("anim"),this.$node.querySelector(".lyteCalculator").classList.remove("advanced"),this.$node.querySelector(".lyteCalculator").classList.add("basic")),this.$node.querySelector(".calculatorrad").innerHTML=this.getData("bigger")?"Rad":"",this.getData("bigger")||this.setData("deg",!1),void this.keyUp();if(m.length>0&&(!text.match(/[0-9|.]/)||"1/x"==text||"10x"==text)&&"C"!=text&&"AC"!=text&&"."==m[m.length-1]?(m+="0",h?n.value=m:n.innerHTML=m,i=this.convertToPiandRoot(m),this.setData("cursorIndex",this.getData("cursorIndex")+1),o+=1,e+=1,this.preformMouseUp()):"10x"==text&&""!==m&&m[e-1]&&m[e-1].match(/([0-9])/g)&&(m+="*",h?n.value=m:n.innerHTML=m,i=this.convertToPiandRoot(m),this.setData("cursorIndex",this.getData("cursorIndex")+1),o+=1,e+=1,this.preformMouseUp()),"Rand"===text&&0!==e&&m.length>e&&i[e-1].match(/([0-9|e|p|.])/)&&(i[e].match(/([0-9|e|p])/)||m[e]===l)){var u=Math.random().toPrecision(11)+"";return this.setData("cursorIndex",o+u.length+1),m=m.substring(0,e)+"*"+u+"*"+m.substring(e,m.length+2),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),void this.keyUp()}if("Rand"===text&&0!==e&&m.length>=1&&i[e-1]&&i[e-1].match(/([0-9|e|p|.])/)){u=Math.random().toPrecision(11)+"";return this.setData("cursorIndex",o+u.length+1),m=m.substring(0,e)+"*"+u+m.substring(e,m.length+1),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),void this.keyUp()}if("Rand"===text&&m.length>e&&m[e]&&i[e].match(/([0-9|e|p|.])/)){u=Math.random().toPrecision(11)+"";return this.setData("cursorIndex",o+u.length+1),m=m.substring(0,e)+u+"*"+m.substring(e,m.length+1),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),void this.keyUp()}if("Rand"===text){u=Math.random().toPrecision(11)+"";return m=m.substring(0,e)+u+m.substring(e,m.length),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),this.setData("cursorIndex",o+u.length),void this.keyUp()}if("1/x"===text&&m.length>=1&&m[e-1]&&i[e-1].match(/([0-9|e|p])/))return text="*1/",m=m.substring(0,e)+text+m.substring(e,m.length),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),this.setData("cursorIndex",o+text.length),void this.keyUp();var y=this.convertequation(m);if(y=(y=y.replace(/^[a-z][(]/,"")).split(/([0-9.]+|\(|\)|\+|\-|\/|\*|\^|~|N|s|c|t|l|S|C|T|!|%|L|i|o|a|I|O|A|G|E|p|R|e|Q)/g).filter(function(t){return""!=t}),0!=m.length&&"."===text){if(this.operationForDot())return void this.keyUp()}else if(0!=m.length&&"0"===text){if(this.operationForZero())return void this.keyUp()}else if("="===text)return this.$node.querySelector(".calculatorDisplay").classList.add("equalBtn")," "==this.$node.querySelector(".calculatorDispspan").innerHTML&&(this.$node.querySelector(".calculatorDispspan").innerHTML="Error"),-1==n.className.indexOf("hideCursor")&&n.classList.add("hideCursor"),void this.keyUp();if("C"===text){this.operationForBackspace();var m;n=this.$node.querySelector(".lyteCalculatorTextField");(m=h?n.value:n.innerHTML).length>=1?this.preformMouseUp():m.length<1&&this.clearValue(),this.keyUp()}else{if("AC"===text)return this.clearValue(),void this.keyUp();if("-"===text&&y.length>=2&&m[e-2]&&"-"===m[e-1]&&!i[e-2].match(/[0-9|p|e]/))return void this.keyUp();if("E"===text&&y.length>=1&&m[e-1]&&i[e-1].match(/[!||p|e]/))return void this.keyUp()}if(0!==e||!text.match(/^[+|/|*|!|E|%|.]+$/)&&"logy"!==text&&"xry"!==text&&"x2"!==text&&"xy"!=text){if(""!==m&&e-1!=-1&&"."===m[e-1]&&"."===text)return this.preformMouseUp(),void this.keyUp();if(""!==m&&e-1!=-1&&"E"===m[e-1]&&text.match(/([^0-9])/g))this.keyUp();else if(1!=e||"-"!=m[e-1]||!text.match(/^[+|-|/|*|!|%|E]+$/)&&"logy"!==text&&"xy"!=text){if(""===m||e-1==-1||!m[e-1]||!i[e-1].match(/^[+|\-|/|*|E|^]+$/)&&"logy("!==m.substring(e-5,e)||!text.match(/^[+|-|/|*|!|%|E]+$/)&&"logy"!==text&&"xy"!=text){if(""!==m&&e-1!=-1&&m[e-1]&&(i[e-1].match(/([^0-9-%ep!)])/g)||"Rand"===m.substring(e-4,e))&&(text.match(/^[+|-|/|*|!|%|E]+$/)||"logy"===text||"xry"===text||"x2"===text||"xy"===text))return void this.keyUp();if("="===text)return void this.keyUp();if(!text.match(/^m[c|+|-|r]/)&&"AC"!=text&&"C"!=text&&"2nd"!=text&&"Deg"!=text&&"Rad"!=text&&"="!=text&&"m-"!=text&&">"!=text)return"xry"===text?text=a:"p"===text?text=l:"1/x"===text?text="1/":"10x"===text?text="10^":"ex"===text?text="e^":"xy"===text?text="^":"x2"===text?text="^2":"sin-1"===text?text="arcsin":"cos-1"===text?text="arccos":"tan-1"===text?text="arctan":"sinh-1"===text?text="arcsinh":"cosh-1"===text?text="arccosh":"tanh-1"===text&&(text="arctanh"),(text.match(/^[sin|cos|tan|sinh|cosh|tanh|logy|log|ln|arcsin|arccos|arctan|arcsinh|arccosh|arctanh|sqrt|N]+$/)||text==a)&&(text+="("),m.length===e?h?n.value+=text:n.innerHTML+=text:(m=m.substring(0,e)+text+m.substring(e,m.length),h?n.value=m:n.innerHTML=m),this.setData("cursorIndex",o+text.length),this.setData("check_error",!1),this.preformMouseUp(),void this.keyUp();if(text.match(/^m[c|+|-|r]/)||"m-"===text)return this.memoryoperations(text),void this.keyUp();if("Deg"===text||"Rad"===text)return this.$node.querySelector(".calculatorrad").innerHTML=this.getData("deg")?"Rad":"Deg",this.$node.querySelector(".Deg").innerHTML=this.getData("deg")?"Deg":"Rad",this.setData("deg",!this.getData("deg")),""!==(m=h?this.$node.querySelector(".lyteCalculatorTextField").value:this.$node.querySelector(".lyteCalculatorTextField").innerHTML)&&this.preformMouseUp(),void this.keyUp();if("2nd"===text){var g=this.getData("secondActive");g=!g,this.setData("secondActive",g),d.className=g?"calc-second":"";for(var f=p.length;f--;)p[f].innerHTML=c[g?1:0][f],g?p[f].classList.add("inverse"):p[f].classList.remove("inverse");return this.setData("secondKeySet",p),void this.keyUp()}}else"logy"==text&&(text+="("),"xy"==text&&(text="^"),"logy("===m.substring(e-5,e)&&"logy("!==text?(m=m.substring(0,e-5)+text+m.substring(e,m.length),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),this.keyUp(),this.setData("cursorIndex",o-5)):"logy("!==m.substring(e-5,e)&&(m=m.substring(0,e-1)+text+m.substring(e,m.length),h?n.value=m:n.innerHTML=m,this.preformMouseUp(),this.keyUp(),this.setData("cursorIndex",o-1)),this.setData("cursorIndex",this.getData("cursorIndex")+text.length);this.keyUp()}else this.keyUp()}else this.keyUp()},actions:{mousedown:function(t){var e,o=this.$node.querySelector(".lyteCalculatorTextField"),i=this.getData("ltPropEditable");-1!=o.className.indexOf("hideCursor")&&o.classList.remove("hideCursor"),this.getData("ltPropEditable")||o.classList.add("hideCursorNonEditable"),this.setData("check_error",!1),i?(o.focus(),e=this.getSelectionIndex()):e=o.innerHTML.length,this.setData("cursorIndex",e),this.preformMouseDown(t)},mouseup:function(t){var e=this.$node.querySelector(".lyteCalculatorTextField"),o=this.getData("ltPropEditable");o?(e.value,e.focus()):e.innerHTML,o&&"Rand"!=t.key&&(e.setSelectionRange(this.getData("cursorIndex"),this.getData("cursorIndex")),e.focus())},keydown:function(t){var e,o,i=t.key,a=this.$node.querySelector(".lyteCalculatorTextField"),l=this.getData("ltPropEditable");if(l?(o=a.value,a.focus(),e=this.getSelectionIndex(),a.classList.add("hideCursor")):(e=(o=a.innerHTML).length,$L.fastdom.measure(function(){if(a){var t=a.offsetWidth,e=a.scrollWidth;$L.fastdom.mutate(function(){a.scrollLeft=e-t}.bind(this))}}.bind(this))),this.setData("check_error",!1),this.setData("cursorIndex",e),"Backspace"===i)return this.operationForBackspace(),void t.preventDefault();if(this.getData("ltPropEditable")&&37===t.which)this.operationForArrowLeft();else if(this.getData("ltPropEditable")&&39===t.which)this.operationForArrowRight();else if(this.getData("bigger")||"^"!==i&&!i.match(/([^0-9/%*+-.])/g)&&","!==i||"Backspace"==i||"Enter"===i||38===t.which&&40===t.which)if(!this.getData("bigger")||!i.match(/([^0-9/()%^!*+-.])/g)&&","!==i||"Backspace"===i||"Enter"===i||38===t.which&&40===t.which){if("Backspace"!=i&&"Enter"!=i){var n=this.convertequation(o),r=this.convertToPiandRoot(o);if(n=(n=n.replace(/^[a-zA-Z][(]/,"")).split(/([0-9.]+|\(|\)|\+|\-|\/|\*|\^|~|N|s|c|t|l|S|C|T|!|%|L|i|o|a|I|O|A|G|E|p|R|e|Q)/g).filter(function(t){return""!=t}),o.length>0&&(!i.match(/[0-9|.]/)||"1/x"==i||"10x"==i)&&"C"!=i&&"AC"!=i&&"."==o[o.length-1]&&(o+="0",l?a.value=o:a.innerHTML=o,r=this.convertToPiandRoot(o),this.setData("cursorIndex",this.getData("cursorIndex")+1),cursorIndex+=1,e+=1,this.preformMouseUp()),0!==o.length&&"."===i){if(this.operationForDot())return void t.preventDefault()}else if(0!==o.length&&"0"===i){if(this.operationForZero())return void t.preventDefault()}else{if(1==e&&"-"==o[e-1]&&(i.match(/^[+|-|/|*|!|%|E]+$/)||"logy"===i||"xy"==i))return void t.preventDefault();if("-"===i&&n.length>=2&&"-"===o[e-1]&&!r[e-2].match(/[0-9|p|e]/))return void t.preventDefault()}if((0===o.length||0===e)&&i.match(/^[+|/|*|!|%|.|^]+$/))return void t.preventDefault();if(""!==o&&e-1!=-1&&"."===o[e-1]&&"."===i)return void t.preventDefault();""===o||e-1==-1||!o[e-1].match(/^[+|\-|/|*|E|\^]+$/)&&"logy("!==o.substring(e-5,e)||!i.match(/^[+|-|/|*|!|%|E|\^]+$/)&&"logy"!==i?l||(a.innerHTML+=i):("logy"===i&&(i+="("),"logy("===o.substring(e-5,e)&&"logy("!==i?(o=o.substring(0,e-5)+i+o.substring(e,o.length),l?a.value=o:a.innerHTML=o,this.setData("cursorIndex",this.getData("cursorIndex")-5),t.preventDefault()):"logy("!==o.substring(e-5,e)&&(o=o.substring(0,e-1)+i+o.substring(e,o.length),l?a.value=o:a.innerHTML=o,this.setData("cursorIndex",this.getData("cursorIndex")-1),t.preventDefault())),this.setData("cursorIndex",this.getData("cursorIndex")+i.length)}}else t.preventDefault();else t.preventDefault()},keyup:function(t){var e,o=t.key,i=this.$node.querySelector(".lyteCalculatorTextField"),a=this.getData("ltPropEditable");if(this.setData("check_error",!1),e=this.getData("ltPropEditable")?i.value:i.innerHTML,this.getData("ltPropEditable")&&37==t.which)return t.preventDefault(),void i.classList.remove("hideCursor");if(this.getData("ltPropEditable")&&37==t.which)return t.preventDefault(),void i.classList.remove("hideCursor");if(!(this.getData("bigger")||"^"!==o&&!o.match(/([^0-9/%*+-=.])/g)||"Backspace"===o||"Enter"===o||37==t.which&&39==t.which&&38===t.which&&40===t.which))return a&&i.classList.remove("hideCursor"),this.setData("cursorIndex",this.getData("cursorIndex")),void t.preventDefault();if(!(!this.getData("bigger")||!o.match(/([^0-9/()%^!*+-=.])/g)||187!==t.keyCode&&61===t.keyCode||t.shiftKey||"Backspace"===o||"Enter"===o||37==t.which&&39==t.which&&38===t.which&&40===t.which))return i.classList.remove("hideCursor"),this.setData("cursorIndex",this.getData("cursorIndex")),void t.preventDefault();if(e.length>=1){if(-1!=this.$node.querySelector(".calculatorDisplay").className.indexOf("equalBtn")&&this.$node.querySelector(".calculatorDisplay").classList.remove("equalBtn"),"Backspace"===o)a&&(i.setSelectionRange(this.getData("cursorIndex"),this.getData("cursorIndex")),i.classList.remove("hideCursor")),this.preformMouseUp();else{if("="===o||"Enter"===o){var l=this.convertequation(e);return l=(l=l.replace(/^[a-zA-Z][(]/,"")).split(/([0-9.]+|\(|\)|\+|\-|\/|\*|\^|~|N|s|c|t|l|S|C|T|!|%|L|i|o|a|I|O|A|G|E|p|R|e|Q)/g).filter(function(t){return""!=t}),this.$node.querySelector(".calculatorDisplay").classList.add("equalBtn"),this.$node.querySelector(".calculatorDisplay").classList.add("equalBtn"),void(" "==this.$node.querySelector(".calculatorDispspan").innerHTML&&(this.$node.querySelector(".calculatorDispspan").innerHTML="Error"))}a&&(i.setSelectionRange(this.getData("cursorIndex"),this.getData("cursorIndex")),i.classList.remove("hideCursor"))}this.setData("previous",o),this.preformMouseUp()}else a&&i.classList.remove("hideCursor"),this.clearValue()},mupTextField:function(t){var e=this.$node.querySelector(".lyteCalculatorTextField"),o=e.value,i=this.convertToPiandRoot(o);if(-1!=this.$node.querySelector(".calculatorDisplay").className.indexOf("equalBtn")&&this.$node.querySelector(".calculatorDisplay").classList.remove("equalBtn"),!this.getData("ltPropEditable"))return e.setSelectionRange(o.length,o.length),void t.preventDefault();if(e.value.length>=1){if(e.focus(),index=this.getSelectionIndex(),0!==index&&!i[index-1].match(/^[+|\-|/|*|!|^|(|e|p|)|E|%]+$/)&&!i[index-1].match(/[0-9.]/g)&&o.length!==index)return e.setSelectionRange(o.length,o.length),e.classList.remove("hideCursor"),void t.preventDefault();e.classList.remove("hideCursor")}e.classList.remove("hideCursor")},mdwnTextField:function(t){var e=this.$node.querySelector(".lyteCalculatorTextField");e.classList.add("hideCursor"),this.getData("ltPropEditable")||-1!==e.className.indexOf("hideCursorNonEditable")||e.classList.add("hideCursorNonEditable")}}}),Lyte.Component.register("lyte-calendar",{_template:'<template tag-name="lyte-calendar">\n    <div class="{{containerClass}}" ontouchstart="{{action(\'record\',event)}}" ontouchend="{{action(\'decide\',event)}}">\n        <div class="lyteCalendarView">\n            <div>\n                <template is="if" value="{{navYield}}"><template case="true">\n                    <lyte-yield yield-name="navigator"></lyte-yield>\n                </template><template case="false">\n                    <div class="lyteCalendarNavigator">\n                        <template is="if" value="{{ifNotEquals(ltPropHeaderType,&quot;dropdown&quot;)}}"><template case="true">\n                            <template is="if" value="{{ltPropYear}}">\n                            <template case="true"><span class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'previous\',\'Y\',event)}}"></span></template>\n                            </template>\n                        </template></template>\n                        <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'previous\',\'M\',event)}}"></span>\n                        <span class="lyteCalsCalMon">\n                            <template is="if" value="{{ifEquals(ltPropHeaderType,&quot;dropdown&quot;)}}"><template case="true">\n                                \n\n                                <lyte-dropdown lt-prop-callout="true" on-show="{{method(\'setClass\')}}" class="lyteCalMonthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown lt-prop-callout="true" on-show="{{method(\'setClass\')}}" class="lyteCalYearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n\n                            </template><template case="false"><template is="if" value="{{expHandlers(ltPropHeaderType,\'===\',\'drilldown\')}}"><template case="true">\n                                <template is="if" value="{{expHandlers(viewType,\'===\',\'dateView\')}}"><template case="true">\n                                     <span class="lyteDrillCalHeaderButton" onclick="{{action(\'changeToMonthView\',event)}}">\n                                        <span class="lyteCalsCalMonth">{{lyteUiGetMonthOrYear(monthHeader,"M")}}</span>\n                                        <span class="lyteCalsCalYear">{{lyteUiGetMonthOrYear(monthHeader,"Y")}}</span>\n                                    </span>\n                                </template><template case="false"><template is="if" value="{{expHandlers(viewType,\'===\',\'monthView\')}}"><template case="true">\n                                    <span class="lyteDrillCalHeaderButton" onclick="{{action(\'changeToDecadeView\',event)}}">\n                                        <span class="lyteCalsCalYear">{{currentYear}}</span>\n                                    </span>\n                                </template><template case="false"><template is="if" value="{{expHandlers(viewType,\'===\',\'decadeView\')}}"><template case="true">\n                                    <span class="lyteDrillCalHeaderButton lyteDrillCalYearListHeader">\n                                        {{decadeStart}} - {{decadeEnd}}\n                                    </span>\n                                </template></template></template></template></template></template>\n                            </template><template case="false">\n                                <span class="lyteCalsCalMonth">{{lyteUiGetMonthOrYear(monthHeader,"M")}}</span>\n                                <span class="lyteCalsCalYear">{{lyteUiGetMonthOrYear(monthHeader,"Y")}}</span>\n                            </template></template></template></template>\n                        </span>\n                        <span class="lyteCalNav lyteCaldRgt" onclick="{{action(\'next\',\'M\',event)}}"></span>\n                        <template is="if" value="{{ifNotEquals(ltPropHeaderType,&quot;dropdown&quot;)}}"><template case="true">\n                            <template is="if" value="{{ltPropYear}}">\n                                <template case="true"><span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'next\',\'Y\',event)}}"></span></template>\n                            </template>\n                        </template></template>\n                    </div>\n                </template></template>\n                \n            </div>\n            <div class="lyteCalTableContainer">\n                <template is="if" value="{{expHandlers(expHandlers(ltPropHeaderType,\'!==\',\'drilldown\'),\'||\',expHandlers(expHandlers(ltPropHeaderType,\'===\',\'drilldown\'),\'&amp;&amp;\',expHandlers(viewType,\'===\',\'dateView\')))}}"><template case="true">\n                    <div class="lyteCalTableRowHeader">\n                        <template is="for" items="{{daysOfWeek}}" item="day" indexval="idod">\n                            <div class="lyteCalTableCellHeader">{{lyteUiI18n(day)}}</div>\n                        </template>\n                    </div>\n                </template></template>\n                <div class="lyteCalTableRowGroup">\n                    <template is="if" value="{{expHandlers(ltPropHeaderType,\'!==\',\'drilldown\')}}"><template case="true">\n                        <template is="for" items="{{matrix}}" item="vector" indexval="rowid">\n                            <template is="if" value="{{lyteUiCheckEmpty(vector)}}">\n                                <template case="false">\n                                    <div class="lyteCalTableRow">\n                                        <template is="for" items="{{vector}}" item="date" indexval="cellid">\n                                            <template is="if" value="{{lyteUiCheckInRange(ltPropMinDate,ltPropMaxDate,date.val,ltPropFormat)}}">\n                                                <template case="true">\n                                                    <template is="if" value="{{date.emptyBlock}}">\n                                                        <template case="true">\n                                                            <div class="lyteCalEmpty"></div>\n                                                        </template>\n                                                        <template case="false">\n                                                            <div data-date="{{date.val}}" onclick="{{action(\'dateSelected\',event)}}" class="{{date.clsname}}"><span class="lyteCalDateSpan">{{date.date}}</span></div>\n                                                        </template>\n                                                    </template>\n                                                </template>\n                                                <template case="false">\n                                                    <template is="if" value="{{date.emptyBlock}}">\n                                                        <template case="true">\n                                                            <div class="lyteCalEmpty"></div>\n                                                        </template>\n                                                        <template case="false">\n                                                            <div data-date="{{date.val}}" class="{{date.clsname}}"><span class="lyteCalDateSpan">{{date.date}}</span></div>\n                                                        </template>\n                                                    </template>\n                                                </template>\n                                            </template>\n                                        </template>\n                                    </div>\n                                </template>\n                            </template>\n                        </template>\n                    </template><template case="false">\n                        <template is="if" value="{{expHandlers(viewType,\'===\',\'dateView\')}}"><template case="true">\n                            <template is="for" items="{{matrix}}" item="vector" indexval="rowid">\n                                <template is="if" value="{{lyteUiCheckEmpty(vector)}}">\n                                    <template case="false">\n                                        <div class="lyteCalTableRow">\n                                            <template is="for" items="{{vector}}" item="date" indexval="cellid">\n                                                <template is="if" value="{{lyteUiCheckInRange(ltPropMinDate,ltPropMaxDate,date.val,ltPropFormat)}}">\n                                                    <template case="true">\n                                                        <template is="if" value="{{date.emptyBlock}}">\n                                                            <template case="true">\n                                                                <div class="lyteCalEmpty"></div>\n                                                            </template>\n                                                            <template case="false">\n                                                                <div data-date="{{date.val}}" onclick="{{action(\'dateSelected\',event)}}" class="{{date.clsname}}"><span class="lyteCalDateSpan">{{date.date}}</span></div>\n                                                            </template>\n                                                        </template>\n                                                    </template>\n                                                    <template case="false">\n                                                        <template is="if" value="{{date.emptyBlock}}">\n                                                            <template case="true">\n                                                                <div class="lyteCalEmpty"></div>\n                                                            </template>\n                                                            <template case="false">\n                                                                <div data-date="{{date.val}}" class="{{date.clsname}}"><span class="lyteCalDateSpan">{{date.date}}</span></div>\n                                                            </template>\n                                                        </template>\n                                                    </template>\n                                                </template>\n                                            </template>\n                                        </div>\n                                    </template>\n                                </template>\n                            </template>\n                        </template><template case="false"><template is="if" value="{{expHandlers(viewType,\'===\',\'monthView\')}}"><template case="true">\n                            <template is="for" items="{{monthViewData}}" item="row" index="rowIndex">\n                                <div class="lyteCalTableRow">\n                                    <template is="for" items="{{row}}" item="column" index="columnIndex">\n                                        <div onclick="{{action(\'monthSelected\',event)}}" class="{{column[\'class\']}}" data-date="{{column[\'systemValue\']}}">\n                                            {{column[\'displayValue\']}}\n                                        </div>\n                                    </template>\n                                </div>\n                            </template>\n                        </template><template case="false"><template is="if" value="{{expHandlers(viewType,\'===\',\'decadeView\')}}"><template case="true">\n                            <template is="for" items="{{decadeViewData}}" item="row" index="rowIndex">\n                                <div class="lyteCalTableRow">\n                                    <template is="for" items="{{row}}" item="column" index="columnIndex">\n                                        <template is="if" value="{{expHandlers(column.emptyBlock,\'!\')}}"><template case="true">\n                                            <div onclick="{{action(\'yearSelected\',event)}}" class="lyteCalTableCell {{column.class}}" data-date="{{column.year}}">\n                                                {{column.year}}\n                                            </div>\n                                        </template><template case="false">\n                                            <div class="lyteCalEmpty">\n\n                                            </div>\n                                        </template></template>\n                                    </template>\n                                </div>\n                            </template>\n                        </template></template></template></template></template></template>\n                    </template></template>\n                </div>\n            </div>\n            <div>\n                <div class="lyteCalBtns">\n                    <template is="if" value="{{showToday}}">\n                        <template case="true"><p class="lyteCalCurrentDate"><a onclick="{{action(\'today\',event)}}">{{lyteUiI18n(\'today\')}}</a></p></template>\n                    </template>\n                    <template is="if" value="{{ltPropYield}}">\n                        <template case="true">\n                            <lyte-yield yield-name="footer"></lyte-yield>\n                        </template>\n                    </template>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1,1]},{type:"if",position:[1,1,1,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"if",position:[1,5,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"text",position:[1,3,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"text",position:[1,3]}]}},default:{}}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[3,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,7]},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,3,1]},{type:"if",position:[1,1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"text",position:[1,0]}]}]}},default:{}},{type:"attr",position:[1,1,3,3,1]},{type:"if",position:[1,1,3,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]}]}},default:{}}]}},default:{}}]}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]}]}},default:{}}]}},default:{}}]}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]}]}]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]}]},false:{dynamicNodes:[]}},default:{}}]}]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,5,1,1]},{type:"if",position:[1,1,5,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0,0]},{type:"text",position:[0,0,0]}]}},default:{}},{type:"attr",position:[1,1,5,1,3]},{type:"if",position:[1,1,5,1,3],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}],_observedAttributes:["ltPropStartDate","ltPropEndDate","ltPropCurrentDate","ltPropFormat","ltPropYear","ltPropMonthHeaderFormat","daysOfWeek","monthSystemValues","monthNames","shortHands","todayName","viewDate","changeData","ltPropYield","ltPropMinDate","ltPropMaxDate","ltPropStartWeekDay","navYield","selectDate","currentDatechanged","ltPropFillRows","ltPropNumberOfRows","callFrmDidcnct","monthDD","yearDD","years","ltPropHeaderType","cords","start","prev","tt","showToday","monthViewTableArray"],data:function(){return{ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropFormat:Lyte.attr("string",{default:"MM/DD/YYYY"}),ltPropYear:Lyte.attr("boolean",{default:!0}),ltPropMonthHeaderFormat:Lyte.attr("string",{default:"MMMM YYYY"}),daysOfWeek:Lyte.attr("array",{default:[]}),monthSystemValues:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),monthNames:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),shortHands:Lyte.attr("array",{default:["Jan","Feb","Mar","Apr","short.may","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),todayName:Lyte.attr("string",{default:"Today"}),viewDate:Lyte.attr("object",{default:{}}),changeData:Lyte.attr("number",{default:0}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropMinDate:Lyte.attr("string",{default:""}),ltPropMaxDate:Lyte.attr("string",{default:""}),ltPropStartWeekDay:Lyte.attr("number",{default:1}),navYield:Lyte.attr("boolean",{default:!1}),selectDate:Lyte.attr("boolean",{default:!0}),currentDatechanged:Lyte.attr("number",{default:0}),ltPropFillRows:Lyte.attr("boolean",{default:!0}),ltPropNumberOfRows:Lyte.attr("number",{default:6}),callFrmDidcnct:Lyte.attr("boolean",{default:!1}),monthDD:Lyte.attr("object"),yearDD:Lyte.attr("object"),years:Lyte.attr("array",{default:[1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100]}),ltPropHeaderType:Lyte.attr("string",{default:"default"}),cords:Lyte.attr("object",{default:{}}),start:Lyte.attr("number"),prev:Lyte.attr("boolean"),tt:Lyte.attr("boolean",{default:!0}),showToday:Lyte.attr("boolean",{default:!0}),monthViewTableArray:Lyte.attr("array",{default:[]})}},changeBodyContainerClass:function(){var t=this.$node.querySelector(".lyteCalTableContainer"),e=this.getData("viewType");"dateView"===e?(t.classList.remove("lyteDrillCalMonthView"),t.classList.remove("lyteDrillCalYearView")):"monthView"===e?(t.classList.add("lyteDrillCalMonthView"),t.classList.remove("lyteDrillCalYearView")):"decadeView"===e&&(t.classList.remove("lyteDrillCalMonthView"),t.classList.add("lyteDrillCalYearView"))}.observes("viewType"),changeDaysOfWeek:function(){var t,e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=this.getData("ltPropStartWeekDay"),i=[];for(t=0;t<7;t++)i.push(e[(t+o)%7]);this.setData("daysOfWeek",i)},isYYFormat:function(){var t=this.getData("ltPropFormat");return/\byy\b/gi.test(t)},outsideBoundary:function(t){var e=t.getFullYear()-(new Date).getFullYear(),o=this.isMomentSupported?$L.moment():{uL:19,lL:80};return e>o.uL||(e<-o.lL||void 0)},didDestroy:function(){delete this.$node.revertToToday},setMonthAndYearDropdown:function(){if(!this.getData("navYield")&&"dropdown"==this.getData("ltPropHeaderType")&&this.getData("monthDD")&&this.getData("yearDD")){var t,e=this.getData("monthHeader").split(" "),o=this.getData("ltPropMonthHeaderFormat"),i=[];if("callFrmDidcnct"==arguments[0].item){/MMMM YYYY/gi.test(o)?t=this.getData("monthNames"):/MMM YYYY/gi.test(o)&&(t=this.getData("shortHands"));for(var a=0;a<t.length;a++)i[a]=_lyteUiUtils.i18n(t[a]);this.setData("monthNames",i)}this.getData("monthDD").component.setData("ltPropSelected",e[0]),this.getData("yearDD").component.setData("ltPropSelected",e[1])}}.observes("monthHeader","callFrmDidcnct"),startWeekDayObserver:function(){this.changeDaysOfWeek()}.observes("ltPropStartWeekDay"),monthHeaderObserver:function(){this.buildDateViewHeader()}.observes("monthNames.[]"),getMonthHeader:function(){var t,e=this.getData("ltPropMonthHeaderFormat"),o="";return/MMMM YYYY/gi.test(e)?(t=this.getData("monthNames"),o=_lyteUiUtils.i18n(t[this.getData("viewDate").getMonth()])+" "+this.getData("viewDate").getFullYear()):/MMM YYYY/gi.test(e)&&(t=this.getData("shortHands"),o=_lyteUiUtils.i18n(t[this.getData("viewDate").getMonth()])+" "+this.getData("viewDate").getFullYear()),o},revert:function(t){var e=new Date(this.getData("viewDate").getTime()),o=new Date;o.setDate(1);var i=new Date(o.getTime());this.setData("viewDate",o),this.setAndBuildView("dateView",t),this.setData("showToday",!1),!this.getMethods("onNavigate")||e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear()||this.executeMethod("onNavigate",t,this.getDateFromFormat(e,this.getData("ltPropFormat")),this.getDateFromFormat(i,this.getData("ltPropFormat")),this)},getDateFromFormat:function(t,e){return this.isMomentSupported?this.getDateStringFromMoment(t,e):this.getDateStringManually(t,e)},getDateStringFromMoment:function(t,e){return e=this.getRelevantFormat(e),$L.moment(t).format(e)},resolveConflicts:function(t){var e=/(\bd\b|\bdd\b|\bddd\b|\bdddd\b)/.exec(t),o=(e||{}).index,i=(e||[])[0].length||0;return isNaN(o)?t.toUpperCase():t.substring(0,o+i)+(t.substring(o+i)||"").toUpperCase()},isConflictingFormat:function(t){return(t.match(/(\bd\b|\bdd\b|\bddd\b|\bdddd\b)/gi)||[]).length>1},getRelevantFormat:function(t){return this.isConflictingFormat(t)?this.resolveConflicts(t):t.toUpperCase()},getDateStringManually:function(t,e){var o,i=t.getDate(),a=t.getFullYear(),l=t.getMonth()+1;return e=e.toUpperCase(),l<10&&(l="0"+l),i<10&&(i="0"+i),/(MMMM|DD|YYYY).+(MMMM|DD|YYYY).+(YYYY|MMMM|DD)/gi.test(e)?(o=["January","February","March","April","May","June","July","August","September","October","November","December"],e=(e=(e=e.replace("MMMM",o[l-1])).replace("DD",i)).replace("YYYY",a)):/(MMM|DD|YYYY).+(MMM|DD|YYYY).+(YYYY|MMM|DD)/gi.test(e)?(o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=(e=(e=e.replace("MMM",o[l-1])).replace("DD",i)).replace("YYYY",a)):/(YYYY).+(MM).+(DD)/gi.test(e)?e=(e=(e=e.replace("MM",l)).replace("DD",i)).replace("YYYY",a):/(MM).+(DD).+(YYYY)/gi.test(e)?e=(e=(e=e.replace("MM",l)).replace("DD",i)).replace("YYYY",a):/(DD).+(MM).+(YYYY)/gi.test(e)&&(e=(e=(e=e.replace("MM",l)).replace("DD",i)).replace("YYYY",a)),e},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getNumber:function(t,e){return this.isLeapYear.call(this,e)&&1==t?29:[31,28,31,30,31,30,31,31,30,31,30,31][t]},showtoday:function(){var t=new Date;t.getMonth()!=this.getData("viewDate").getMonth()||t.getYear()!=this.getData("viewDate").getYear()?this.setData("showToday",!0):this.setData("showToday",!1)},reset:function(t){t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)},checkDate:function(t){var e,o,i=this.getData("ltPropMinDate")||"",a=this.getData("ltPropMaxDate")||"";if(this.reset(t),""===i&&""===a)return!0;if(""!==i&&""===a){if(e=this.stringToDate(i,this.getData("ltPropFormat")),this.reset(e),t>=e)return!0}else if(""!==i&&""!==a){if(e=this.stringToDate(i,this.getData("ltPropFormat")),this.reset(e),o=this.stringToDate(a,this.getData("ltPropFormat")),this.reset(o),t>=e&&t<=o)return!0}else if(o=this.stringToDate(a,this.getData("ltPropFormat")),this.reset(o),t<=o)return!0;return!1},numberOfRowsChange:function(){var t=this.getData("ltPropNumberOfRows");try{if(t<5)throw"Calendar failed to render. The number of rows should be greater than 4."}catch(t){return void console.error(t)}this.setDatesFunction()}.observes("ltPropNumberOfRows"),setDates:function(){this.setDatesFunction()}.observes("ltPropStartDate","ltPropEndDate","changeData","ltPropMinDate","ltPropMaxDate","ltPropFormat","ltPropStartWeekDay"),getNumberOfFirstRowDates:function(t){var e=this.getData("ltPropStartWeekDay");return 0==t?0===e?7:e:t<e?e-t:7-(t-e)},getNumberToSubtract:function(t){var e=this.getData("ltPropStartWeekDay");return 0==t?0==e?0:7-e:t<e?7-(e-t):t-e},getFirstDay:function(t,e){var o;return(o=e-(o=t-7*Math.floor(t/7)-1))<0&&(o=7-o),o},getRemainingDays:function(t,e){var o=t-e;return o-=28},inc:function(t,e){return t>0&&6==e?7:e},setDatesFunction:function(){var t=this.getData("ltPropNumberOfRows"),e=this.getData("ltPropFillRows"),o=(this.getData("ltPropFormat"),!1),i=[],a=this.getData("viewDate"),l=a.getDay(),n=a.getDate(),r=this.getFirstDay(n,l),s=a.getMonth(),d=a.getFullYear(),p=this.getNumber(s,d),c=this.getNumberOfFirstRowDates(r),h=this.getRemainingDays(p,c);t=this.inc(h,t);var u=new Date(s+1+"/1/"+d),y=this.getNumberToSubtract(r);u.setDate(u.getDate()-y);for(var m=new Date,g=0;g<t&&!o;g++){i.push([]);for(var f=0;f<7;f++)if(e||s===u.getMonth())if(e&&this.isYYFormat()&&this.outsideBoundary(u))i[g].push({emptyBlock:!0}),u.setDate(u.getDate()+1),0!=g&&(o=!0);else{var v="lyteCalCdate",b=u.getMonth(),D=new Date(this.getData("viewDate").getTime()).getMonth(),P=u.getDate(),C=this.getData("ltPropCurrentDate")?this.stringToDate(this.getData("ltPropCurrentDate"),this.getData("ltPropFormat")):"nodate",L=u.getYear(),x=this.checkDate(u),w=""!==(this.getData("ltPropMinDate")||"")||""!==(this.getData("ltPropMaxDate")||"");D!==b?w?x||(v+=" lyteCalDisabled"):v+=" lyteCalGray":w&&!x&&(v+=" lyteCalDisabled"),"nodate"!==C&&"Invalid Date"!==C&&b==C.getMonth()&&C.getDate()==P&&C.getYear()==L&&this.getData("selectDate")&&(v+=" lyteCalSel"),m.getMonth()===b&&m.getDate()===P&&m.getYear()===L&&this.getData("selectDate")&&(v+=" lyteCalToday"),0!=u.getDay()&&6!=u.getDay()||(v+=" lyteCalWeekend"),v+=" lyteCalTableCell";var _={};_.date=u.getDate(),_.clsname=v,_.val=this.getDateFromFormat.call(this,u,this.getData("ltPropFormat")),i[g].push(_),u.setDate(u.getDate()+1)}else i[g].push({emptyBlock:!0}),u.setDate(u.getDate()+1),0!=g&&(o=!0)}this.setData("matrix",i)},executeViewDateChanges:function(){this.getMethods("onViewdateChange")&&this.executeMethod("onViewdateChange",this,this.getData("viewDate"))}.observes("viewDate"),getProperMonth:function(t){var e;return(e={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}[t=t.toLowerCase()]||{january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12}[t])||0===e?e-1:parseFloat(t)-1},isProperDate:function(t,e,o){return o<=this.getNumber(e,t)},getDateObjFromString:function(t,e){try{var o,i,a=t.match(/([\da-z]+)/gi),l=(e=e.toUpperCase()).match(/([a-z]+)/gi),n=new Date,r=0,s=["Y","M","D"];if(n.setDate(1),3!==a.length)return"Invalid Date";for(;r<l.length;){var d=this.getOrderIndex(l,s[r]);if(0==r)n.setFullYear(o=a[d]);else if(1==r){if((i=this.getProperMonth(a[d]))<0||i>11)return"Invalid Date";n.setMonth(i)}else if(2==r){if(!this.isProperDate(o,i,a[d]))return"Invalid Date";n.setDate(a[d])}if("Invalid Date"===n.toString())return n.toString();r++}return n}catch(t){return"Invalid Date"}},getDateObjFromMoment:function(t,e){var o;e=this.getRelevantFormat(e);try{o=$L.moment(t,e).getDObj()}catch(t){o="Invalid Date"}return o||"Invalid Date"},stringToDate:function(t,e){return this.isMomentSupported?this.getDateObjFromMoment(t,e):this.getDateObjFromString(t,e)},getOrderIndex:function(t,e){for(var o=0;o<t.length;o++)if(t[o].charAt(0)===e)return o;return-1},buildYears:function(){var t,e=this.buildMinAndMaxYear(),o=e.maxYear,i=[];for(t=e.minYear;t<=o;t++)i.push(t.toString());this.setData("years",i)},buildMinAndMaxYear:function(){var t=new Date,e=this.isYYFormat(),o=t.getFullYear(),i=this.isMomentSupported?$L.moment():{uL:19,lL:80},a=i.uL,l=i.lL;return{maxYear:e?o+a:2100,minYear:e?o-l:1900}},setAndBuildView:function(t,e,o){var i=this.getData("viewType"),a=t;this.setData("viewType",t),"monthView"===t?this.buildMonthView():"decadeView"===t?this.buildDecadeView():"dateView"===t&&this.buildDateView(),o||i===a||this.getMethods("onViewChange")&&this.executeMethod("onViewChange",e,t,this)},buildDateView:function(){this.buildDateViewHeader(),this.buildDateViewContent(),this.showtoday()},buildDateViewHeader:function(){this.setData("monthHeader",this.getMonthHeader())},buildDateViewContent:function(){this.setDatesFunction()},buildMonthView:function(){this.buildMonthViewHeader(),this.buildMonthViewContent()},buildMonthViewHeader:function(){var t=this.getData("viewDate").getFullYear();this.setData("currentYear",t)},buildMonthViewContent:function(){for(var t,e,o=this.getData("monthSystemValues"),i=this.getData("shortHands"),a=0,l=[];a<3;a++)for(l.push([]),t=0;t<4;t++)e=4*a+t,l[a].push({displayValue:_lyteUiUtils.i18n(i[e]),systemValue:o[e],class:this.getProperClassForMonthView(e)});this.setData("monthViewData",l)},getProperClassForMonthView:function(t){var e=this.getData("viewDate").getFullYear(),o=this.getCurrentMonth(),i="lyteCalTableCell";return i+=this.getCurrentYear()===e&&t===o?" lyteDrillCalCurrentMonth":""},getCurrentYear:function(){return(new Date).getFullYear()},getCurrentMonth:function(){return(new Date).getMonth()},buildDecadeView:function(){this.buildDecadeViewHeader(),this.buildDecadeViewContent()},buildDecadeViewHeader:function(){var t=this.getData("viewDate").getFullYear(),e=t-t%10,o=e+9;this.setData("decadeStart",e),this.setData("decadeEnd",o)},buildDecadeViewContent:function(){var t,e,o,i=this.getData("viewDate").getFullYear(),a=i-i%10,l=this.buildMinAndMaxYear(),n=this.isYYFormat(),r=l.minYear,s=l.maxYear,d=[];for(t=0;t<3;t++)for(d.push([]),e=0;e<4;e++)o=a+4*t+e-1,n?d[t].push(o>s||o<r?this.emptyCell():this.currentYearCell(o,a)):d[t].push(this.currentYearCell(o,a));this.setData("decadeViewData",d)},emptyCell:function(){return{emptyBlock:!0}},currentYearCell:function(t,e){var o=e+9,i=[],a=this.getCurrentYear();return(t<e||t>o)&&i.push("lyteCalOtherDecadeCell"),a===t&&i.push("lyteDrillCalCurrentYear"),{year:t,emptyBlock:!1,class:i.join(" ")}},buildNavigationalUI:function(){"dropdown"===this.getData("ltPropHeaderType")&&this.buildYears()},initFn:function(){var t=this;this.addContainerClass(),this.checkForMoment(),this.buildViewDate(),this.changeDaysOfWeek(),this.initializeCalendar(),this.$node.revertToToday=function(){t.revert()},this.$node.revertToSelected=function(){t.revertToSelected()}}.observes("currentDatechanged").on("init"),revertToSelected:function(){var t=new Date(this.getData("viewDate").getTime()),e=this.getData("ltPropCurrentDate"),o=this.getData("ltPropFormat"),i=e?this.stringToDate(e,o):new Date,a=new Date;i.setDate(1);var l=new Date(i.getTime());this.setData("viewDate",i),this.setAndBuildView("dateView",event),l.getMonth()===a.getMonth()&&l.getFullYear()===a.getFullYear()?this.setData("showToday",!1):this.setData("showToday",!0),!this.getMethods("onNavigate")||t.getMonth()===l.getMonth()&&t.getFullYear()===l.getFullYear()||this.executeMethod("onNavigate",event,this.getDateFromFormat(t,this.getData("ltPropFormat")),this.getDateFromFormat(l,this.getData("ltPropFormat")),this)},addContainerClass:function(){var t=["lyteCalendarPopup"];"drilldown"===this.getData("ltPropHeaderType")&&t.push("lyteDrillDownCalendar"),this.setData("containerClass",t.join(" "))},checkForMoment:function(){this.isMomentSupported=!!$L.moment},buildViewDate:function(){var t=this.getData("ltPropCurrentDate")?this.stringToDate(this.getData("ltPropCurrentDate"),this.getData("ltPropFormat")):new Date;"Invalid Date"===t&&(t=new Date),t.setDate(1),this.setData("viewDate",t)},initializeCalendar:function(){this.buildNavigationalUI(),this.setAndBuildView("dateView",void 0,!0)},didConnect:function(){this.getData("navYield")||"dropdown"!=this.getData("ltPropHeaderType")||(this.setData("monthDD",this.$node.querySelector(".lyteCalMonthDD")),this.setData("yearDD",this.$node.querySelector(".lyteCalYearDD")),this.setData("callFrmDidcnct",!0))},didDestroy:function(){delete this.$node.revertToToday},removeClass:function(){var t=this.$node.querySelector(".lyteCalSel");t&&t.classList.remove("lyteCalSel")},changeViewDate:function(t){var e=this.getData("ltPropCurrentDate");if(!this.getData("preventObs"))if(e)if("Invalid Date"!==this.stringToDate(e,this.getData("ltPropFormat"))){t=this.getData("ltPropCurrentDate");var o=this.stringToDate(t,this.getData("ltPropFormat"));o.setDate(1),this.setData("viewDate",o),this.buildDateView()}else this.removeClass();else this.removeClass()}.observes("ltPropCurrentDate"),monthHeaderFormatObserver:function(){this.buildDateViewHeader()}.observes("ltPropMonthHeaderFormat"),changeCurrentDate:function(t,e,o){var i,a,l,n,r,s=new Date(this.getData("viewDate").getTime()),d=this.getData("ltPropFormat"),p=this.isYYFormat();d=this.getRelevantFormat(d),"Y"===t?(i=this.getData("viewDate"),r=this.getDateFromFormat(i,d),this.isMomentSupported?a=$L.moment(r,d).add(e,"fullYear",p).getDObj():(i.setYear(i.getFullYear()+e),a=new Date(i.getTime())),this.setData("viewDate",a),this.buildDateView()):"M"===t&&(i=this.getData("viewDate"),r=this.getDateFromFormat(i,d),this.isMomentSupported?a=$L.moment(r,d).add(e,"month",p).getDObj():(i.setMonth(i.getMonth()+e),a=new Date(i.getTime())),this.setData("viewDate",a),this.buildDateView()),l=this.getDateFromFormat(s,this.getData("ltPropFormat")),n=this.getDateFromFormat(a,this.getData("ltPropFormat")),this.getMethods("onNavigate")&&this.executeMethod("onNavigate",o,l,n,this)},changeCurrentYear:function(t){var e,o=this.getData("viewDate"),i=this.isMomentSupported,a=o.getFullYear(),l=this.getData("ltPropFormat"),n=this.isYYFormat(),r=this.getDateFromFormat(o,l),s=r;i?(l=this.getRelevantFormat(l),o=$L.moment(r,l).add(t,"fullYear",n).getDObj()):o.setFullYear(a+t),e=this.getDateFromFormat(o,l),this.setData("viewDate",o),this.getMethods("onNavigate")&&this.executeMethod("onNavigate",event,s,e,this)},changeCurrentDecade:function(t){var e,o=this.getData("viewDate"),i=this.getData("ltPropFormat"),a=this.isMomentSupported,l=this.getDateFromFormat(o,i),n=this.isYYFormat(),r=o.getFullYear(),s=l;i=this.getRelevantFormat(i),a?o=$L.moment(l,i).add(10*t,"fullYear",n).getDObj():o.setFullYear(r+10*t),e=this.getDateFromFormat(o,i),this.setData("viewDate",o),this.getMethods("onNavigate")&&this.executeMethod("onNavigate",event,s,e,this)},getProper:function(t){for(;t&&!t.classList.contains("lyteCalTableCell");)t=t.parentElement;return t},actions:{changeToMonthView:function(t){this.setAndBuildView("monthView",t),this.setData("showToday",!1)},changeToDecadeView:function(t){this.setAndBuildView("decadeView",t),this.setData("showToday",!1)},record:function(t){if(this.setData("prev",!1),t.touches.length>1)this.setData("prev",!0);else{var e=t.targetTouches[0],o={x:e.clientX,y:e.clientY},i=(new Date).getTime();this.setData("cords",o),this.setData("start",i)}},decide:function(t){if(!this.getData("prev")){var e=this.getData("cords"),o=e.x,i=e.y,a=t.changedTouches[0],l=o-a.clientX,n=i-a.clientY,r=this.$node.querySelector(".lyteCalendarPopup").getBoundingClientRect(),s=.2*r.width,d=.15*r.height,p=this.getData("start"),c=(new Date).getTime()-p;d>Math.abs(n)&&s<Math.abs(l)&&c<1e3&&(l<0?this.changeCurrentDate("M",-1,t):l>0&&this.changeCurrentDate("M",1,t))}},previous:function(t,e){var o=this.getData("viewType");"dateView"===o?this.changeCurrentDate(t,-1,e):"monthView"===o?(this.changeCurrentYear(-1),this.buildMonthView()):"decadeView"===o&&(this.changeCurrentDecade(-1),this.buildDecadeView())},next:function(t,e){var o=this.getData("viewType");"dateView"===o?this.changeCurrentDate(t,1,e):"monthView"===o?(this.changeCurrentYear(1),this.buildMonthView()):"decadeView"===o&&(this.changeCurrentDecade(1),this.buildDecadeView())},yearSelected:function(t){var e=this.getData("viewDate"),o=this.getProper(t.target).getAttribute("data-date");e.setYear(o),this.setData("viewDate",e),this.setAndBuildView("monthView",t)},monthSelected:function(t){var e=this.getData("viewDate").getFullYear(),o=this.getProper(t.target).getAttribute("data-date");o=this.getData("monthSystemValues").indexOf(o)+1,this.setData("viewDate",new Date(o+"/1/"+e)),this.setAndBuildView("dateView",t)},dateSelected:function(t){var e,o=this.getProper(t.target);0===t.button&&(0!==(e=this.$node.getElementsByClassName("lyteCalSel")).length&&e[0].classList.remove("lyteCalSel"),this.setData("preventObs",!0),this.setData("ltPropCurrentDate",o.getAttribute("data-date")),this.setData("preventObs",!1),o.classList.add("lyteCalSel"),this.getMethods("onDateSelected")&&this.executeMethod("onDateSelected",t,o.getAttribute("data-date"),this))},today:function(t){this.revert(t)}},methods:{optionSelected:function(t,e,o,i){if("M"==t){var a=this.getData("monthNames").indexOf(o);this.changeCurrentDate(t,a-this.getData("viewDate").getMonth(),e)}else"Y"==t&&this.changeCurrentDate(t,parseInt(o)-this.getData("viewDate").getFullYear(),e)},setClass:function(t,e){var o=e.childComp,i=_lyteUiUtils.getRTL(),a=i?"right":"left",l=o.querySelector(".lyteArrow");o.classList.add("lyteCalendarDropdown"),l.style[a]="20%",i&&(l.style.left="auto")}}}),Lyte.Component.register("lyte-checkbox",{_template:'<template tag-name="lyte-checkbox" onkeydown="{{action(\'preventInputClick\',event)}}" onkeyup="{{action(\'preventInputClick\',event)}}">\n\t\n\t<template is="switch" value="{{ltPropType}}">\n\t\t<template case="default">\n\t\t\t<label class="lyteCheckbox lyteDefault" onmouseup="{{action(\'mup\',event)}}" onclick="{{action(\'prevent\',event)}}">\n\t\t\t\t<input type="checkbox" id="{{ltPropId}}" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" tabindex="{{ltPropTabindex}}" disabled="{{ltPropDisabled}}" class="" readonly="{{ltPropReadonly}}" onclick="{{action(\'checkBoxClicked\',event)}}">\n\t\t\t\t<span class="{{ltPropFinalClass}}">\n\t\t\t\t\t<span class="{{ltPropFinalLabelClass}}">\n\t\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template>\n\t\t<template case="primary">\n\t\t\t<label class="lyteCheckbox lytePrimary" onmouseup="{{action(\'mup\',event)}}" onclick="{{action(\'prevent\',event)}}">\n\t\t\t\t<input type="checkbox" id="{{ltPropId}}" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" tabindex="{{ltPropTabindex}}" disabled="{{ltPropDisabled}}" class="" readonly="{{ltPropReadonly}}" onclick="{{action(\'checkBoxClicked\',event)}}">\n\t\t\t\t<span class="{{ltPropFinalClass}}">\t\n\t\t\t\t\t<span class="{{ltPropFinalLabelClass}}">\n\t\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template>\n\t\t<template case="switch">\n\t\t\t<label class="" onmouseup="{{action(\'mup\',event)}}" onclick="{{action(\'prevent\',event)}}">\n\t\t\t\t<input type="checkbox" id="{{ltPropId}}" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" tabindex="{{ltPropTabindex}}" disabled="{{ltPropDisabled}}" class="lyteHide on-off-sw" readonly="{{ltPropReadonly}}" onclick="{{action(\'checkBoxClicked\',event)}}">\n\t\t\t\t<span class="{{ltPropFinalClass}}">\n\t\t\t\t\t<span class="on-btn"></span>\n\t\t\t\t</span>\n\t\t\t\t<span class="{{ltPropFinalLabelClass}}">\n\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t</template></template>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template>\n\t\t<template case="slider">\n\t\t\t<label class="lyteCheckSliderLabel" onmouseup="{{action(\'mup\',event)}}" onclick="{{action(\'prevent\',event)}}">\n\t\t\t\t<input type="checkbox" id="{{ltPropId}}" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" tabindex="{{ltPropTabindex}}" disabled="{{ltPropDisabled}}" class="lyteHide" readonly="{{ltPropReadonly}}" onclick="{{action(\'checkBoxClicked\',event)}}">\n\t\t\t\t<span class="{{ltPropFinalClass}}">\n\t\t\t\t\t<span class="{{ltPropFinalLabelClass}}">\n\t\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template>\n\t</template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{default:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"attr",position:[1,3,1,1]},{type:"if",position:[1,3,1,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},primary:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"attr",position:[1,3,1,1]},{type:"if",position:[1,3,1,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},switch:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,5]},{type:"attr",position:[1,5,1]},{type:"if",position:[1,5,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},slider:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"attr",position:[1,3,1,1]},{type:"if",position:[1,3,1,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]}},default:{}}],_templateAttributes:{type:"attr",position:[]},_observedAttributes:["ltPropType","ltPropId","ltPropDisabled","ltPropChecked","ltPropLabel","ltPropName","ltPropValue","ltPropReadonly","ltPropFireOnInit","ltPropClass","ltPropLabelClass","ltPropTabindex","lyteUnbound","ltPropYield"],data:function(){return{ltPropType:Lyte.attr("string",{default:"default"}),ltPropId:Lyte.attr("string",{default:void 0}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropChecked:Lyte.attr("boolean",{default:!1}),ltPropLabel:Lyte.attr("string",{default:void 0}),ltPropName:Lyte.attr("string",{default:void 0}),ltPropValue:Lyte.attr("string",{default:void 0}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropFireOnInit:Lyte.attr("boolean",{default:!1}),ltPropClass:Lyte.attr("string",{default:""}),ltPropLabelClass:Lyte.attr("string",{default:""}),ltPropTabindex:Lyte.attr("number",{default:0}),lyteUnbound:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1})}},didDestroy:function(){delete this.$node.focus,delete this.$node.blur,delete this.$node.click},reduceOpacity:function(){this.getData("ltPropDisabled")?this.$node.classList.add("lyteCheckDisabled"):this.$node.classList.remove("lyteCheckDisabled")},disabledChange:function(){this.reduceOpacity()}.observes("ltPropDisabled"),setDefaults:function(){var t=this.getData("ltPropType"),e=this.getData("ltPropClass"),o=this.getData("ltPropLabelClass");"switch"===t?this.setData("ltPropFinalClass",e||"lyteCheckSwitch"):"default"===t?this.setData("ltPropFinalClass",e||"lyteCheckBoxDefault"):"primary"===t?this.setData("ltPropFinalClass",e||"lyteCheckBoxPrimary"):"slider"===t&&this.setData("ltPropFinalClass",e||"lyteCheckSlider"),"slider"===t?this.setData("ltPropFinalLabelClass",o||"lyteCheckSliderText"):this.setData("ltPropFinalLabelClass",o||"")},typeObs:function(){this.setDefaults()}.observes("ltPropType","ltPropClass","ltPropLabelClass").on("init"),didDestroy:function(){delete this.$node.focus,delete this.$node.blur,delete this.$node.click},focusInput:function(){var t=this.$node.querySelector("input");document.activeElement!==t&&t.focus()},didConnect:function(){var t=this;this.reduceOpacity(),this.$node.click=function(){var e=new Event("click",{bubbles:!0,cancelable:!0}),o=t.$node,i=o.ltProp("checked"),a=o.ltProp("disabled"),l=o.ltProp("readonly"),n=(t.getData("lyteUnbound"),t.$node.querySelector("input"));a||l||(t.setData("eventCache",e),i?o.ltProp("checked",!1):o.ltProp("checked",!0),t.$node._fR&&(n.checked=o.ltProp("checked"),n.checked?n.setAttribute("checked",""):n.removeAttribute("checked"),t.fireCallBacksFunction({},!1)),o.dispatchEvent(e))},this.$node.focus=function(){var e=t.$node,o=e.querySelector("input"),i=e.ltProp("disabled"),a=e.ltProp("readonly");i||a||o.focus()},this.$node.blur=function(){var e=t.$node,o=e.querySelector("input"),i=e.ltProp("disabled"),a=e.ltProp("readonly");i||a||o.blur()},this.fireCallBacksFunction.call(this,void 0,!0)},fireCallbacks:function(t,e){this.getData("preventRefire")||this.fireCallBacksFunction.call(this,t,e)}.observes("ltPropChecked"),fireCallBacksFunction:function(t,e){var o=this.getData("ltPropChecked"),i=this.getData("ltPropFireOnInit"),a=this.getData("eventCache");if(this.$node.checked=o||!1,o&&e){if(!i)return;var l=this.$node.querySelector("input");this.getMethods("onBeforeChecked")&&this.executeMethod("onBeforeChecked",l,this,a),this.getMethods("onChecked")&&this.executeMethod("onChecked",l,this,a),this.getMethods("onChanged")&&this.executeMethod("onChanged",l,this,a)}else if(this.$node.checked&&!e){l=this.$node.querySelector("input");if(!this.clicked){if(this.setData("preventRefire",!0),this.setData("ltPropChecked",!1),this.getMethods("onBeforeChecked")){if(!(0!=this.executeMethod("onBeforeChecked",l,this,a)))return void this.setData("preventRefire",!1);this.setData("ltPropChecked",!0)}else this.setData("ltPropChecked",!0);this.setData("preventRefire",!1)}this.getMethods("onChecked")&&this.executeMethod("onChecked",l,this,a),this.getMethods("onChanged")&&this.executeMethod("onChanged",l,this,a)}else if(!this.$node.checked&&!e){l=this.$node.querySelector("input");if(!this.clicked){if(this.setData("preventRefire",!0),this.setData("ltPropChecked",!0),this.getMethods("onBeforeUnchecked")){if(!(0!=this.executeMethod("onBeforeUnchecked",l,this,a)))return void this.setData("preventRefire",!1);this.setData("ltPropChecked",!1)}else this.setData("ltPropChecked",!1);this.setData("preventRefire",!1)}this.getMethods("onUnchecked")&&this.executeMethod("onUnchecked",l,this,a),this.getMethods("onChanged")&&this.executeMethod("onChanged",l,this,a)}},isNodeDestroyed:function(){return!this.$node},fireClick:function(t){var e,o,i=this.getData("sendEvent"),a=this.getData("ltPropDisabled");this.isTimeoutInitiated=!1,this.isNodeDestroyed()||i||a||((e=this.$node.querySelector("input")).checked=!e.checked,(o=new Event("click")).shiftKey=!0,e.dispatchEvent(o))},actions:{preventInputClick:function(t){32===t.keyCode&&t.preventDefault()},mup:function(t){var e;if(this.setData("prevented",!1),this.setData("sendEvent",!1),!this.getData("ltPropDisabled")){var o=this.$node.querySelector("input");e=o.checked,this.getMethods("onBeforeChecked")&&!e?0!=this.executeMethod("onBeforeChecked",o,this,t)||(this.setData("prevented",!0),t.preventDefault()):this.getMethods("onBeforeUnchecked")&&e&&(0!=this.executeMethod("onBeforeUnchecked",o,this,t)||(this.setData("prevented",!0),t.preventDefault()))}},prevent:function(t){var e=this.getData("sendEvent"),o=!!~window.navigator.userAgent.indexOf("Firefox"),i=this.isTimeoutInitiated;e||t.stopPropagation(),o&&!i&&(this.isTimeoutInitiated=!0,setTimeout(this.fireClick.bind(this,t),0))},checkBoxClicked:function(t){var e;return this.setData("sendEvent",!0),this.setData("eventCache",t),this.clicked=!0,this.focusInput(),this.getData("prevented")?(e=this.$node.querySelector("input"),this.setData("prevented",!1),this.setData("preventRefire",!0),e.checked?e.checked=!1:e.checked=!0,this.setData("preventRefire",!1),this.clicked=!1,void this.setData("eventCache",{})):this.getData("ltPropDisabled")?(this.clicked=!1,t.preventDefault(),void this.setData("eventCache",{})):(t.target.checked?this.setData("ltPropChecked",!0):this.setData("ltPropChecked",!1),this.$node._fR&&(this.getData("ltPropChecked")?this.$node.querySelector("input").setAttribute("checked",""):this.$node.querySelector("input").removeAttribute("checked"),this.fireCallBacksFunction({},!1)),this.setData("eventCache",{}),void(this.clicked=!1))}}}),document.addEventListener("keyup",function(t){var e,o=t.keyCode;if(13===o||32===o){if("INPUT"!==(e=document.activeElement).tagName)return;for(;"LYTE-CHECKBOX"!==e.tagName&&"HTML"!==e.tagName;)e=e.parentElement;"LYTE-CHECKBOX"===e.tagName&&e.click()}},!0),LyteColorbox={_prefix:"lyteCBox",_boxElement:"lyteCBoxElement",_box:null,_content:null,_overlay:null,_title:null,_description:null,_close:null,_download:null,_next:null,_prev:null,_open:null,_zoomIn:null,_zoomOut:null,_reset:null,_active:null,_closing:null,_previousOffset:{},_first:!0,_domEle:null,_related:null,_el:null,_photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,_index:0,_zoom:!1,_component:null,_winheight:null,_winWidth:null,_isArray:!1,_hrefArray:[],_titleArray:[],_nextItem:!1,_prevItem:!1,_zIndex:0,_timeoutId:!1,_thumbDiv:null,_clickNumber:0,_zoomedThroughUtil:!1,_count:0,_boundKeydown:!1,_boundResize:!1,_diff:0,_loadingIcon:null,setSize:function(t,e,o){return/%/.test(t)?parseInt(t):Math.round(100*(isNaN(t/o)?0:t/o))},createElement:function(t,e,o){var i=document.createElement(t);return e&&(i.id=e),o&&i.classList.add(o),i},getSelector:function(t,e){for(var o=0;o<e.length;o++)if(-1!=t.indexOf("."+e[o]))return e[o];return!1},getIndex:function(t){var e=LyteColorbox._related.length,o=(LyteColorbox._index+t)%e;return o<0?e+o:o},isImage:function(t){return LyteColorbox._domEle||LyteColorbox._photoRegex.test(t)},createName:function(t){return t?t.replace(/[ ,-]/g,"_"):"photo"==LyteColorbox._el.type?"image":"file"},add:function(t){if(Array.isArray(t))t=t.map(function(t){if(t.lytecboxType&&"photo"!=t.lytecboxType){var e=t.lytecboxType.split("/");t.type=e[0],e.length>1?t.format=e[1].toUpperCase():t.format="WEBPAGE"}else t.type="photo";return t});else if(t.lytecboxType&&"photo"!=t.lytecboxType){var e=t.lytecboxType.split("/");t.type=e[0],e.length>1?t.format=e[1].toUpperCase():t.format="WEBPAGE"}else t.type="photo";Lyte.arrayUtils(LyteColorbox._related,"push",t)},getRelated:function(t){if(LyteColorbox._index=0,LyteColorbox._related=[],t&&!1!==t&&"nofollow"!==t){for(var e=Array.from(document.querySelectorAll("."+LyteColorbox._boxEle)).filter(function(e){return LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(e.classList))===t}),o=0;o<e.length;o++){var i=LyteColorbox.getProperties(e[o]);i.classList||(i.classList=[t]),LyteColorbox._related.push(i)}LyteColorbox._index=LyteColorbox._related.findIndex(function(t){return t.lytecboxHref==LyteColorbox._el.lytecboxHref&&t.lytecboxTitle==LyteColorbox._el.lytecboxTitle}),-1===LyteColorbox._index&&(LyteColorbox._related.push(LyteColorbox._el),LyteColorbox._index=LyteColorbox._related.length-1)}else LyteColorbox._related=[],LyteColorbox._related.push(LyteColorbox._el),LyteColorbox._index=LyteColorbox._related.length-1},hideElement:function(){var t=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+LyteColorbox._index);t&&t.classList.contains("lyteCBoxVisible")&&t.classList.remove("lyteCBoxVisible")},hideLoadingIcon:function(t){t.querySelector(".lyteColorboxLoadingImg").style.display="none"},toggleLoadingIcon:function(){"custom"!==LyteColorbox._component.getData("ltPropType")||LyteColorbox._component.getData("ltPropYield")||("none"!=LyteColorbox._content.querySelector(".lyteColorboxLoadingImg").style.display?LyteColorbox._content.querySelector(".lyteColorboxLoadingImg").style.display="none":LyteColorbox._content.querySelector(".lyteColorboxLoadingImg").style.display="")},getProperties:function(t){var e=Object.assign({},t.dataset);if(e.lytecboxHref||("IMG"===t.tagName?e.lytecboxHref=t.src:"A"===t.tagName&&(e.lytecboxHref=t.href)),e.lytecboxType&&"photo"!=e.lytecboxType){var o=e.lytecboxType.split("/");e.type=o[0],o.length>1?e.format=o[1].toUpperCase():e.format="WEBPAGE"}else e.type="photo";return e.classList=t.classList,e},removeElements:function(){var t=Array.from(LyteColorbox._content.querySelectorAll("."+LyteColorbox._prefix+"Photo")),e=LyteColorbox._component,o=(e.getData("ltPropType"),e.getData("ltPropAnimation"));Lyte.arrayUtils(t,"push",Array.from(LyteColorbox._content.querySelectorAll("."+LyteColorbox._prefix+"Iframe"))),Lyte.arrayUtils(t,"push",Array.from(LyteColorbox._content.querySelectorAll("."+LyteColorbox._prefix+"Custom")));for(var i=0;i<t.length;i++)"slide"===o?t[i].parentElement.remove():t[i].remove()},setPercentage:function(t){if(t)LyteColorbox._domEle.setAttribute("data-lytecb-size",t);else{var e=LyteColorbox._domEle.naturalWidth;t=LyteColorbox._domEle.getBoundingClientRect().width/e*100;LyteColorbox._domEle.setAttribute("data-lytecb-size",t%1!=0?Number.parseFloat(t).toFixed(2):t)}},checkHW:function(){"photo"==LyteColorbox._el.type&&LyteColorbox._domEle.offsetHeight>=LyteColorbox._domEle.parentElement.offsetHeight?LyteColorbox._domEle.parentElement.classList.add("lyteCBoxAlignStart"):LyteColorbox._domEle.parentElement.classList.remove("lyteCBoxAlignStart")},isSameColorBoxAsPrevious:function(t){return LyteColorbox._component&&LyteColorbox._component.$node.isEqualNode(t.$node)},setupForBindings:function(t){this.isSameColorBoxAsPrevious(t)||(LyteColorbox._boxEle=t._boxElement,LyteColorbox._content=t._content,LyteColorbox._overlay=t._overlay,LyteColorbox._title=t._title,LyteColorbox._description=t._description,LyteColorbox._close=t._close,LyteColorbox._download=t._download,LyteColorbox._next=t._next,LyteColorbox._prev=t._prev,LyteColorbox._box=t._box,LyteColorbox._zoomIn=t._zoomIn,LyteColorbox._zoomOut=t._zoomOut,LyteColorbox._reset=t._reset,LyteColorbox._thumbDiv=t._thumbDiv,LyteColorbox._loadingIcon=t._loadingIcon,LyteColorbox._component=t)},launch:function(t,e){if(this.$node&&LyteColorbox.setupForBindings(this),!LyteColorbox._closing){if(t&&"object"==typeof t)if(t.nodeType){var o=LyteColorbox.getProperties(t);LyteColorbox._el=t=o,LyteColorbox.getRelated(LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(t.classList)))}else t.lytecboxHref&&(LyteColorbox._el=t,t.classList?LyteColorbox.getRelated(LyteColorbox.getSelector(LyteColorbox._component.getData("ltPropSelectors"),Array.from(t.classList))):(LyteColorbox._related=[],LyteColorbox._related.push(LyteColorbox._el)));else LyteColorbox._related=[];if(!(0!=LyteColorbox._component.callOnBeforeOpen(LyteColorbox._related,e)))return LyteColorbox._related=null,void(LyteColorbox._el=null);LyteColorbox._el||(LyteColorbox._el=t=LyteColorbox._related[0]),LyteColorbox._index=LyteColorbox._related instanceof Array?LyteColorbox._related.findIndex(function(t){return t.lytecboxHref==LyteColorbox._el.lytecboxHref&&t.lytecboxTitle==LyteColorbox._el.lytecboxTitle}):0,LyteColorbox._component.getData("ltPropYield")||(LyteColorbox._related.length>1?(LyteColorbox._next.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._prev.classList.remove("lyteColorboxHideVisibility")):(LyteColorbox._next.classList.add("lyteColorboxHideVisibility"),LyteColorbox._prev.classList.add("lyteColorboxHideVisibility"))),LyteColorbox._open?LyteColorbox.load(t):(LyteColorbox._open=LyteColorbox._active=!0,document.body.classList.add("lyteCBoxOH"),LyteColorbox._box.classList.add("lyteColorboxHideVisibility","lyteColorboxDisplay"),LyteColorbox._overlay&&LyteColorbox.computeOffsetImpl(),LyteColorbox.hideElement(),LyteColorbox._box.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._component.setData("thumbnails",LyteColorbox._related),LyteColorbox._component.setData("triggerSetThumbnail",LyteColorbox._component.getData("triggerSetThumbnail")+1),LyteColorbox._component.callOnOpen(),LyteColorbox.load(t))}},load:function(t){LyteColorbox._active=!0,LyteColorbox._domEle=!1;var e=t.lytecboxHref,o=t.lytecboxTitle;LyteColorbox._title&&o&&(LyteColorbox._title.textContent=o);var i=LyteColorbox._boxEle+"__"+LyteColorbox._index;if("custom"==t.type)LyteColorbox._component.setData("isIframe",!0),t.lytecboxDlink||LyteColorbox._component.setData("download",!1),LyteColorbox._domEle=LyteColorbox._content.querySelector("."+i),LyteColorbox._domEle?(LyteColorbox.toggleLoadingIcon(),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(LyteColorbox._zIndex++,LyteColorbox._nextItem?(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxNextItem"),LyteColorbox._component.setData("currentEle",ele)):LyteColorbox._prevItem&&(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxPreviousItem"),LyteColorbox._component.setData("currentEle",ele)),setTimeout(function(){LyteColorbox.slide()},10)):LyteColorbox._domEle.classList.add("lyteCBoxVisible"),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._active=!1):(LyteColorbox._domEle=LyteColorbox.createElement("div",null,null),$L(LyteColorbox._domEle).attr({class:LyteColorbox._prefix+"Custom "+i}),LyteColorbox._component.callOnLoad(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox.toggleLoadingIcon(),LyteColorbox.appendElement(LyteColorbox._domEle),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&setTimeout(function(){LyteColorbox.slide()},10),LyteColorbox._active=!1,LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index));else if("iframe"==t.type)if(LyteColorbox._component.setData("isIframe",!0),t.lytecboxDlink||LyteColorbox._component.setData("download",!1),LyteColorbox._domEle=LyteColorbox._content.querySelector("."+i),LyteColorbox._domEle)LyteColorbox.toggleLoadingIcon(),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(LyteColorbox._zIndex++,LyteColorbox._nextItem?(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxNextItem"),LyteColorbox._component.setData("currentEle",ele)):LyteColorbox._prevItem&&(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxPreviousItem"),LyteColorbox._component.setData("currentEle",ele)),setTimeout(function(){LyteColorbox.slide()},10)):LyteColorbox._domEle.classList.add("lyteCBoxVisible"),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._active=!1;else{LyteColorbox._domEle=document.createElement("iframe");var a=t.lytecboxAttrs||{};a.width||(a.width="100%"),a.height||(a.height="100%"),"object"==typeof a&&$L.each(a,function(t,e){LyteColorbox._domEle[t]=e}),"frameBorder"in LyteColorbox._domEle&&(LyteColorbox._domEle.frameBorder=0),"allowTransparency"in LyteColorbox._domEle&&(LyteColorbox._domEle.allowTransparency="true"),LyteColorbox._domEle.name=(new Date).getTime(),LyteColorbox._domEle.allowFullscreen=!0,appendIframe=function(){LyteColorbox._domEle.onload=function(){LyteColorbox.toggleLoadingIcon(),LyteColorbox._component.callOnLoad(LyteColorbox._domEle,LyteColorbox._index),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&setTimeout(function(){LyteColorbox.slide()},10),LyteColorbox._active=!1,LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index)},LyteColorbox._domEle.onerror=function(){alert("error on colorbox")},LyteColorbox.appendElement(LyteColorbox._domEle)},$L(LyteColorbox._domEle).attr({src:e,class:LyteColorbox._prefix+"Iframe "+i}),appendIframe()}else{var l=LyteColorbox._component.getData("ltPropType");if(LyteColorbox._component.setData("isIframe",!1),LyteColorbox._component.setData("download",!0),LyteColorbox._domEle=LyteColorbox._content.querySelector("."+i),LyteColorbox._domEle)LyteColorbox.toggleLoadingIcon(),LyteColorbox.enableTransition(LyteColorbox._domEle),"slide"==LyteColorbox._component.getData("ltPropAnimation")?(LyteColorbox._zIndex++,LyteColorbox._nextItem?(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxNextItem"),LyteColorbox._component.setData("currentEle",ele)):LyteColorbox._prevItem&&(ele=LyteColorbox._domEle.parentElement,ele.classList.remove("lyteCBoxDN"),ele.classList.add("lytCBoxPreviousItem"),LyteColorbox._component.setData("currentEle",ele)),LyteColorbox.slide(),LyteColorbox._domEle.parentElement._loaded&&LyteColorbox.checkAspectRatio()):(LyteColorbox._domEle.classList.add("lyteCBoxVisible"),LyteColorbox.checkHW(),LyteColorbox.checkAspectRatio()),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._active=!1;else{if(LyteColorbox._domEle=new Image,t.lytecboxClass){var n=t.lytecboxClass.split(" ");$L.each(n,function(t,e){LyteColorbox._domEle.classList.add(e)})}var r;"image"===l&&(r=LyteColorbox.appendElementForImage(),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&LyteColorbox.slide());var s=$L(LyteColorbox._domEle);s.attr({src:e,class:LyteColorbox._prefix+"Photo "+i,alt:LyteColorbox._component.getData("ltPropImgError")}).one("load",LyteColorbox.imageComplete.bind(r)).one("error",LyteColorbox.imageFailure.bind(r)),"image"===l&&r.appendChild(s.get(0)),LyteColorbox._active=!1}}LyteColorbox._component.getData("ltPropThumbnail")&&(LyteColorbox._thumbDiv.querySelector(".thumb-on")&&LyteColorbox._thumbDiv.querySelector(".thumb-on").classList.remove("thumb-on"),LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb")[LyteColorbox._index].classList.add("thumb-on"),LyteColorbox.updateThumbnailPos())},imageComplete:function(){var t,e=LyteColorbox._component.getData("ltPropType");this._loaded=!0,"custom"===e?(LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),LyteColorbox._domEle._offset={height:LyteColorbox._domEle.naturalHeight,width:LyteColorbox._domEle.naturalWidth},LyteColorbox._component.callOnLoad(LyteColorbox._domEle,LyteColorbox._index),LyteColorbox._overlay?LyteColorbox.computeOffsetImpl(null,LyteColorbox._domEle):(LyteColorbox.toggleLoadingIcon(),LyteColorbox.appendElement(LyteColorbox._domEle),LyteColorbox.checkAspectRatio(),"slide"==LyteColorbox._component.getData("ltPropAnimation")&&LyteColorbox.slide()),LyteColorbox._component.callOnComplete(LyteColorbox._domEle,LyteColorbox._index)):(t=this.querySelector("img"),LyteColorbox.checkAndChangeStatus(t),t._offset={height:t.naturalHeight,width:t.naturalWidth},LyteColorbox.hideLoadingIcon(this),LyteColorbox._component.callOnLoad(t,LyteColorbox._index),t.classList.add("lyteCBoxVisible"),LyteColorbox._domEle===t&&LyteColorbox.checkAspectRatio(),LyteColorbox._component.callOnComplete(t,LyteColorbox._index),LyteColorbox.setPercentage())},imageFailure:function(){var t;"custom"===LyteColorbox._component.getData("ltPropType")?(t=LyteColorbox._domEle,LyteColorbox.toggleLoadingIcon()):(t=this.querySelector("img"),LyteColorbox.hideLoadingIcon(this)),LyteColorbox._component.callOnFailure(t,LyteColorbox._index,LyteColorbox._content)},updateThumbnailPos:function(){var t=LyteColorbox._index,e=LyteColorbox._component.getData("ltPropThumbnailNumber"),o=parseInt(e/2),i=e%2==0?LyteColorbox._related.length:LyteColorbox._related.length-1,a=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper"),l=LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb"),n=window.getComputedStyle(l[0]),r=parseInt(n.width)+(n.marginLeft?parseInt(n.marginLeft):0)+(n.marginRight?parseInt(n.marginRight):0),s=_lyteUiUtils.getRTL()?-1:1;if("custom"===LyteColorbox._component.getData("ltPropType"))t>=o&&t<=i-o?a.style.transform="translate("+(o-t)*r*s+"px,0)":t<o?a.style.transform="translate(0,0)":t>i-o&&LyteColorbox._related.length>e&&(a.style.transform="translate("+(o-(i-o))*r*s+"px,0)");else{var d=LyteColorbox._thumbDiv.offsetWidth;if(e=Math.floor(d/r),t>=(o=parseInt(e/2))&&t<=i-o){var p=0;t!=o&&t!=i-o||e%2!=0||(LyteColorbox._diff=p=r/2*-s),t>o&&t<i-o&&(p=(o-t)*r*s+(d-e*r)/2+LyteColorbox._diff),t==i-o&&(p=(d-LyteColorbox._related.length*r)*s+(n.marginRight?parseInt(n.marginRight):0)),a.style.transform="translate("+p+"px,0)"}else if(t<o)a.style.transform="translate(0,0)";else if(t>i-o&&LyteColorbox._related.length>e){p=(d-LyteColorbox._related.length*r)*s+(n.marginRight?parseInt(n.marginRight):0);a.style.transform="translate("+p+"px,0)"}}LyteColorbox._component.getData("ltPropLoop")||(0==t?LyteColorbox._prev&&LyteColorbox._prev.classList.add("lyteColorboxHideVisibility"):t==LyteColorbox._related.length-1?LyteColorbox._next&&LyteColorbox._next.classList.add("lyteColorboxHideVisibility"):(LyteColorbox._prev&&LyteColorbox._prev.classList.contains("lyteColorboxHideVisibility")&&LyteColorbox._prev.classList.remove("lyteColorboxHideVisibility"),LyteColorbox._next&&LyteColorbox._next.classList.contains("lyteColorboxHideVisibility")&&LyteColorbox._next.classList.remove("lyteColorboxHideVisibility")))},calculateOverlayHeight:function(t){LyteColorbox._component.getData("ltPropYield")?LyteColorbox._overlay.style.height=LyteColorbox._overlay.getBoundingClientRect().height+"px":LyteColorbox._overlay.style.height=t-50+"px"},computeOffsetImpl:function(t,e){var o=LyteColorbox._component,i="custom"===o.getData("ltPropType")?document.querySelector(".lyteColorboxHeader"):o._header;if(LyteColorbox._open&&LyteColorbox._overlay){var a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),l=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(LyteColorbox._component.getData("ltPropThumbnail")){var n=window.getComputedStyle(LyteColorbox._thumbDiv);l-=parseInt(n.height)+parseInt(n.marginTop)}var r={};LyteColorbox._first||window.removeEventListener("resize",LyteColorbox.computeOffsetImpl),LyteColorbox._first=!1;var s=LyteColorbox._overlay.getBoundingClientRect();if(e&&(LyteColorbox._component.getData("ltPropHeight")?r.conHeight=parseInt(LyteColorbox._component.getData("ltPropHeight")):e.height>=s.height?r.conHeight=s.height:r.conHeight=e.height,LyteColorbox._component.getData("ltPropWidth")?r.conWidth=parseInt(LyteColorbox._component.getData("ltPropWidth")):e.width>=s.width?r.conWidth=s.width:r.conWidth=e.width,LyteColorbox.toggleLoadingIcon(),LyteColorbox.appendElement(e),LyteColorbox.checkAspectRatio(),LyteColorbox._active=!1),LyteColorbox._component.getData("ltPropYield")){var d=LyteColorbox._content.getBoundingClientRect();s=LyteColorbox._overlay?LyteColorbox._overlay.getBoundingClientRect():{height:l,width:a};LyteColorbox._content.style.top=(s.height-d.height)/2+"px",LyteColorbox._content.style.left=(s.width-d.width)/2+"px",window.getComputedStyle(LyteColorbox._content).transform&&(LyteColorbox._content.style.transform="none")}else r.top=(l-LyteColorbox._content.getBoundingClientRect().height)/2,r.left=(a-LyteColorbox._content.getBoundingClientRect().width)/2,r.iconTop=(l-LyteColorbox._next.getBoundingClientRect().height)/2+i.getBoundingClientRect().height/2;"slide"==LyteColorbox._component.getData("ltPropAnimation")&&LyteColorbox.slide(),window.addEventListener("resize",LyteColorbox.computeOffsetImpl)}},appendElementForImage:function(){var t;LyteColorbox._component.getData("ltPropType");if(LyteColorbox._nextItem)t=LyteColorbox.createElement("div",null,"lyteCBoxItem"),LyteColorbox._component.setData("currentEle",t),(e=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(t,e.parentElement):LyteColorbox._content.append(t);else if(LyteColorbox._prevItem){var e;t=LyteColorbox.createElement("div",null,"lyteCBoxItem"),LyteColorbox._component.setData("currentEle",t),(e=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(t,e.parentElement):LyteColorbox._content.append(t)}else t=LyteColorbox.createElement("div",null,"lyteCBoxItem"),LyteColorbox._content.append(t),LyteColorbox._component.setData("currentEle",t);return LyteColorbox.createLoadingIcon(t),t},createLoadingIcon:function(t){var e;LyteColorbox._loadingIcon?e=LyteColorbox._loadingIcon.cloneNode():(e=document.createElement("div")).innerHTML=unescape("%3Csvg%20class%3D%22lyteColorboxLoadingCircle%22%20width%3D%2230%22%20height%3D%2230%22%20viewBox%3D%220%200%2030%2030%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20data-svg%3D%22spinner%22%3E%3Ccircle%20fill%3D%22none%22%20stroke%3D%22%23000%22%20cx%3D%2215%22%20cy%3D%2215%22%20r%3D%2214%22%3E%3C/circle%3E%3C/svg%3E"),e.classList.add("lyteColorboxLoadingImg"),t.appendChild(e)},appendElement:function(t){LyteColorbox._component.getData("ltPropType");if("slide"==LyteColorbox._component.getData("ltPropAnimation")){var e;if(LyteColorbox._zIndex++,LyteColorbox._nextItem)(e=LyteColorbox.createElement("div",null,"lyteCBoxItem")).classList.add("lytCBoxNextItem"),e.append(t),LyteColorbox._component.setData("currentEle",e),(o=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(e,o.parentElement):LyteColorbox._content.append(e);else if(LyteColorbox._prevItem){(e=LyteColorbox.createElement("div",null,"lyteCBoxItem")).classList.add("lytCBoxPreviousItem"),e.append(t),LyteColorbox._component.setData("currentEle",e),(o=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(e,o.parentElement):LyteColorbox._content.append(e)}else(e=LyteColorbox.createElement("div",null,"lyteCBoxItem")).append(t),e.style.zIndex=LyteColorbox._zIndex,LyteColorbox._content.append(e),LyteColorbox._component.setData("currentEle",e);t.classList.add("lyteCBoxVisible")}else{var o;if(LyteColorbox._related.length>1)(o=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+(LyteColorbox._index+1)))?LyteColorbox._content.insertBefore(t,o):LyteColorbox._content.append(t);else LyteColorbox._content.append(t);t.classList.add("lyteCBoxVisible"),LyteColorbox.checkHW(),LyteColorbox._component.setData("currentEle",null)}},isZoomed:function(t){return t&&!t._isDefault},isCurrentDisplayedImage:function(t){return t===LyteColorbox._domEle},isZoomedAndCurrentDisplayedImage:function(t){return!t._isDefault&&LyteColorbox._domEle===t},transitionEnd:function(t){var e;t.target===this&&"transform"===t.propertyName&&(e=this.querySelector("img"),LyteColorbox.isZoomed(e)&&!LyteColorbox.isCurrentDisplayedImage(e)&&LyteColorbox.reset(e),this.removeEventListener("transitionend",LyteColorbox.transitionEnd))},doesImageExceedContentBoxAfterMovingRight:function(t,e){return t.left<e.left},moveElementOutOfViewTowardsRight:function(t){var e,o=t,i=t.querySelector("img"),a=o.getBoundingClientRect(),l=a.width,n=100;i&&(e=i.getBoundingClientRect(),LyteColorbox.doesImageExceedContentBoxAfterMovingRight(e,a)&&(n+=(a.left-e.left)/l*100)),t.style.transition="transform 0.3s ease",t.style.transform="translate3d("+n+"%,0,0)",t.classList.remove("lyteCBoxCurrentItem")},doesImageExceedContentBoxAfterMovingLeft:function(t,e){return t.right>e.right},moveElementOutOfViewTowardsLeft:function(t){var e,o=t,i=t.querySelector("img"),a=o.getBoundingClientRect(),l=a.width,n=100;i&&(e=i.getBoundingClientRect(),LyteColorbox.doesImageExceedContentBoxAfterMovingLeft(e,a)&&(n+=(e.right-a.right)/l*100)),t.style.transition="transform 0.3s ease",t.style.transform="translate3d(-"+n+"%,0,0)",t.classList.remove("lyteCBoxCurrentItem")},slide:function(){var t,e=LyteColorbox._component,o=e.getData("currentEle"),i=o;if("custom"===e.getData("ltPropType")){if(o){if(LyteColorbox.checkHW(),LyteColorbox._nextItem)for(var a=Array.from(o.parentElement.querySelectorAll(".lyteCBoxCurrentItem")),l=0;l<a.length;l++)a[l].classList.add("lytCBoxPreviousItem");if(LyteColorbox._prevItem)for(a=Array.from(o.parentElement.querySelectorAll(".lyteCBoxCurrentItem")),l=0;l<a.length;l++)a[l].classList.add("lytCBoxNextItem");o.style.zIndex=LyteColorbox._zIndex,o.classList.add("lyteCBoxCurrentItem"),(LyteColorbox._nextItem||LyteColorbox._prevItem)&&(LyteColorbox._timeoutId&&(clearTimeout(LyteColorbox._timeoutId),LyteColorbox._timeoutId=!1),LyteColorbox._timeoutId=setTimeout(function(){o.classList.remove("lytCBoxPreviousItem","lytCBoxNextItem");for(var t=Array.from(o.parentElement.querySelectorAll(".lyteCBoxCurrentItem")).filter(function(t){return!t.isEqualNode(o)}),e=0;e<t.length;e++)t[e].classList.remove("lytCBoxNextItem","lytCBoxPreviousItem","lyteCBoxCurrentItem"),t[e].classList.add("lyteCBoxDN");LyteColorbox._timeoutId=!1},300),LyteColorbox._nextItem=!1,LyteColorbox._prevItem=!1)}}else i&&i&&(LyteColorbox._nextItem&&(t=i.parentElement.querySelector(".lyteCBoxCurrentItem"),LyteColorbox.moveElementOutOfViewTowardsLeft(t),i.style.removeProperty("transition"),i.classList.add("lyteCBoxMoveRight"),i.style.removeProperty("transform")),LyteColorbox._prevItem&&(t=i.parentElement.querySelector(".lyteCBoxCurrentItem"),LyteColorbox.moveElementOutOfViewTowardsRight(t),i.style.removeProperty("transition"),i.classList.add("lyteCBoxMoveLeft"),i.style.removeProperty("transform")),t&&t.addEventListener("transitionend",LyteColorbox.transitionEnd),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){i.classList.remove("lyteCBoxMoveLeft","lyteCBoxMoveRight"),i.classList.add("lyteCBoxCurrentItem")})}),LyteColorbox._nextItem=!1,LyteColorbox._prevItem=!1)},next:function(t,e){var o=LyteColorbox._component.getData("ltPropType");!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._related[LyteColorbox._index+1])&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._nextItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===o&&LyteColorbox.reset(),LyteColorbox._index=LyteColorbox.getIndex(1),LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]),!e&&LyteColorbox._component.getMethods("onNavigate")&&LyteColorbox._component.executeMethod("onNavigate",t,LyteColorbox._component.$node,LyteColorbox._index+1))},prev:function(t,e){var o=LyteColorbox._component.getData("ltPropType");!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._index)&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._prevItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===o&&LyteColorbox.reset(),LyteColorbox._index=LyteColorbox.getIndex(-1),LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]),!e&&LyteColorbox._component.getMethods("onNavigate")&&LyteColorbox._component.executeMethod("onNavigate",t,LyteColorbox._component.$node,LyteColorbox._index+1))},close:function(){if(LyteColorbox._open&&!LyteColorbox._closing){if(LyteColorbox._component.setData("currentEle",null),document.body.classList.remove("lyteCBoxOH"),LyteColorbox._component.getData("ltPropThumbnail")){var t=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbnails"),e=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper");t.style.width="",t.classList.add("lyteColorboxHideVisibility"),e.style.transform="",e.style.width=""}LyteColorbox._clickNumber=0,LyteColorbox._zoomedThroughUtil=!1,LyteColorbox._closing=!0,LyteColorbox._open=!1,LyteColorbox._box.classList.remove("lyteColorboxDisplay"),LyteColorbox._domEle=null,LyteColorbox._related=[],LyteColorbox._closing=!1,LyteColorbox._el=null,LyteColorbox._diff=0,LyteColorbox.removeElements(),LyteColorbox.toggleLoadingIcon(),LyteColorbox._loadingIcon=null,LyteColorbox._component.callOnClose()}},download:function(){var t=!0;if(LyteColorbox._component.getMethods("onDownload")&&(t=void 0===(t=LyteColorbox._component.executeMethod("onDownload",LyteColorbox._domEle,LyteColorbox._el,LyteColorbox._component.$node))||t),t){var e=document.createElement("a");LyteColorbox._el.lytecboxDlink?e.setAttribute("href",LyteColorbox._el.lytecboxDlink):"photo"==LyteColorbox._el.type&&e.setAttribute("href",LyteColorbox._el.lytecboxHref),e.setAttribute("download",LyteColorbox.createName(LyteColorbox._el.lytecboxTitle)),document.body.append(e),e.click(),e.remove()}},isIE:function(){var t=window.navigator.userAgent;if(t.indexOf("MSIE ")>0)return!0;if(t.indexOf("Trident/")>0){t.indexOf("rv:");return!0}return!1},zoomTo:function(t,e,o){e=e||{};var i=LyteColorbox._component,a=o.getAttribute("lytecbox-rotate"),l=o.offsetWidth,n=o.offsetHeight,r=o.getBoundingClientRect(),s=LyteColorbox._content.getBoundingClientRect(),d=e.left||("center"==i.getData("ltPropZoomPosition")?s.left+.5*s.width:r.left+.5*r.width),p=e.top||("center"==i.getData("ltPropZoomPosition")?s.top+.5*s.height:r.top+.5*r.height),c=o.style.transform,h=o.style.transformOrigin,u=c.match(/scale\((.+)\)/)||[null,1,0,0],y=h.match(/(.+)% (.+)%/)||[null,50,50],m=parseFloat(u[1]),g=parseFloat(o.style.left||0),f=parseFloat(o.style.top||0),v=parseFloat(y[1]),b=parseFloat(y[2]),D=(d-r.left)/r.width*100,P=(p-r.top)/r.height*100,C=.01*(D-v)*l*(m-1),L=.01*(P-b)*n*(m-1);o.style.transformOrigin=D+"% "+P+"%",o.style.transform="scale("+t+")"+(null==a?"":" "+a),o.style.left=C+g+"px",o.style.top=L+f+"px"},getMatrixValue:function(t){return window.WebKitCSSMatrix?new WebKitCSSMatrix(window.getComputedStyle(t).transform):window.MSCSSMatrix?new MSCSSMatrix(window.getComputedStyle(t).transform):void 0},wheel:function(t){t.preventDefault();var e=t.deltaMode&&1==t.deltaMode,o=t.deltaY*(e?6:1),i=t.deltaX*(e?6:1);if(!(Math.abs(o)<Math.abs(i))){Math.abs(o)>50&&(o=o>0?50:-50);var a=LyteColorbox._domEle,l=LyteColorbox._component.data.ltPropMinScale,n=LyteColorbox._component.data.ltPropMaxScale,r=(LyteColorbox.getMatrixValue(a),LyteColorbox.getCurrentZoom(a)),s=Math.min(Math.max(r+o/1e3,l),n);a.classList.contains("preventAnimation")||a.classList.add("preventAnimation"),clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.classList.remove("preventAnimation")},500),this.zoomTo(s,{left:t.clientX,top:t.clientY},a),LyteColorbox._zoom=!0,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.remove("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.remove("lyteColorboxDisabled")}},getCurrentZoom:function(t){var e=(/scale\(([\d.]*)\)/.exec(t.style.transform)||[])[1]||"1";return parseFloat(e)},checkAndChangeStatus:function(t){var e=LyteColorbox.getCurrentZoom(t);t._isDefault=1===e},zoomIn:function(){LyteColorbox._clickNumber+=1,LyteColorbox._clickNumber<=LyteColorbox._component.getData("ltPropZoomClickNumber")?(LyteColorbox.resetLeftAndTopHelpers(),"imageCenter"==LyteColorbox._component.data.ltPropZoomPosition&&(LyteColorbox._domEle.style.left="0px",LyteColorbox._domEle.style.top="0px",LyteColorbox._domEle.style.transformOrigin=""),$L.fastdom.measure(function(){var t=parseFloat(LyteColorbox._component.getData("ltPropZoomBy"))/100,e=LyteColorbox.getCurrentZoom(LyteColorbox._domEle);LyteColorbox._domEle.getBoundingClientRect();this.zoomTo(e+t,{},LyteColorbox._domEle),LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),(1==LyteColorbox._clickNumber||LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.contains("lyteColorboxDisabled")||LyteColorbox._reset&&LyteColorbox._reset.classList.contains("lyteColorboxDisabled"))&&(LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.remove("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.remove("lyteColorboxDisabled")),LyteColorbox._clickNumber==LyteColorbox._component.getData("ltPropZoomClickNumber")&&LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.add("lyteColorboxDisabled"),LyteColorbox._component.getMethods("onZoomin")&&LyteColorbox._component.executeMethod("onZoomin",Math.round(100*(e+t))-100,LyteColorbox._component.$node)}.bind(this))):LyteColorbox._clickNumber-=1},zoomOut:function(){LyteColorbox.resetLeftAndTopHelpers(),LyteColorbox._zoom?(LyteColorbox._zoom=!1,LyteColorbox._domEle.style.transform="",LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),LyteColorbox._clickNumber=0,LyteColorbox._zoomedThroughUtil=!1,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled"),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.contains("lyteColorboxDisabled")&&LyteColorbox._zoomIn.classList.remove("lyteColorboxDisabled"),LyteColorbox._component.getMethods("onZoomout")&&LyteColorbox._component.executeMethod("onZoomout",0,LyteColorbox._component.$node)):(LyteColorbox._clickNumber-=1,LyteColorbox._clickNumber>=0&&LyteColorbox._clickNumber<LyteColorbox._component.getData("ltPropZoomClickNumber")?(LyteColorbox._domEle._left=void 0,LyteColorbox._domEle._top=void 0,"imageCenter"==LyteColorbox._component.data.ltPropZoomPosition&&(LyteColorbox._domEle.style.left="0px",LyteColorbox._domEle.style.top="0px",LyteColorbox._domEle.style.transformOrigin=""),$L.fastdom.measure(function(){var t=parseFloat(LyteColorbox._component.getData("ltPropZoomBy"))/100,e=LyteColorbox.getCurrentZoom(LyteColorbox._domEle);this.zoomTo(e-t,{},LyteColorbox._domEle),LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),0==LyteColorbox._clickNumber&&(LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled")),LyteColorbox._clickNumber==LyteColorbox._component.getData("ltPropZoomClickNumber")-1&&LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.remove("lyteColorboxDisabled"),LyteColorbox._component.getMethods("onZoomout")&&LyteColorbox._component.executeMethod("onZoomout",Math.round(100*(e-t))-100,LyteColorbox._component.$node)}.bind(this))):LyteColorbox._clickNumber+=1)},disableTransition:function(t){t.classList.add("lyteColorBoxDisableTransition")},enableTransition:function(t){t.classList.remove("lyteColorBoxDisableTransition")},reset:function(t,e){if((t=t||LyteColorbox._domEle).classList.contains(LyteColorbox._prefix+"Photo")&&(LyteColorbox._clickNumber>0||LyteColorbox._zoomedThroughUtil)){LyteColorbox.resetLeftAndTopHelpers(),LyteColorbox._zoom=!1,LyteColorbox._clickNumber=0,LyteColorbox._zoomedThroughUtil=!1;var o=t.offsetWidth/t.naturalWidth*100;e||(t.classList.remove("lyteCBoxAnimateOnUp"),LyteColorbox.disableTransition(t)),t.style.transform="",t.style.top="0px",t.style.left="0px",t.style.transformOrigin="",LyteColorbox.setPercentage(o%1!=0?o.toFixed(2):o),LyteColorbox.checkAndChangeStatus(t),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.classList.remove("lyteColorboxDisabled"),LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled"),e&&LyteColorbox._component.getMethods("onReset")&&LyteColorbox._component.executeMethod("onReset",LyteColorbox._component.$node)}},resetLeftAndTopHelpers:function(){LyteColorbox._domEle._left=void 0,LyteColorbox._domEle._top=void 0,LyteColorbox._domEle.classList.remove("lyteCBoxAnimateOnUp")},zoomByUtilFn:function(t){if(LyteColorbox._domEle&&LyteColorbox._domEle.classList.contains("lyteCBoxPhoto")&&(t>=0||"fitWidth"===t||"actual"===t||"reset"===t)){var e,o;if(LyteColorbox.resetLeftAndTopHelpers(),"fitWidth"===t){!0;var i=parseFloat(getComputedStyle(LyteColorbox._content).width);e=i/LyteColorbox._domEle.offsetWidth,LyteColorbox._zoomedThroughUtil=!0;t=i/LyteColorbox._domEle.naturalWidth*100;LyteColorbox.setPercentage(t%1!=0?t.toFixed(2):t)}else if("reset"===t){e=1;t=LyteColorbox._domEle.offsetWidth/LyteColorbox._domEle.naturalWidth*100;LyteColorbox.setPercentage(t%1!=0?t.toFixed(2):t)}else{var a=LyteColorbox._domEle,l=a.naturalWidth,n=a.offsetWidth;e=(1+(l*t/100-n)/n).toFixed(2),LyteColorbox._zoomedThroughUtil=!0,LyteColorbox.setPercentage(t)}"imageCenter"==LyteColorbox._component.data.ltPropZoomPosition&&(LyteColorbox._domEle.style.left="0px",LyteColorbox._domEle.style.top="0px",LyteColorbox._domEle.style.transformOrigin=""),$L.fastdom.measure(function(){o=LyteColorbox.getCurrentZoom(LyteColorbox._domEle),this.zoomTo(e,{},LyteColorbox._domEle),LyteColorbox.checkAndChangeStatus(LyteColorbox._domEle),1==e?(LyteColorbox._zoom=!1,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.add("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.add("lyteColorboxDisabled")):(LyteColorbox._zoom=!0,LyteColorbox._zoomOut&&LyteColorbox._zoomOut.classList.remove("lyteColorboxDisabled"),LyteColorbox._reset&&LyteColorbox._reset.classList.remove("lyteColorboxDisabled"),LyteColorbox._domEle.classList.add("onZoom")),e>=o?LyteColorbox._component.getMethods("onZoomin")&&LyteColorbox._component.executeMethod("onZoomin",t,LyteColorbox._component.$node):(LyteColorbox._component.triggerCheck(),LyteColorbox._component.getMethods("onZoomout")&&LyteColorbox._component.executeMethod("onZoomout",t,LyteColorbox._component.$node))}.bind(this))}},checkForLeftAndTopAfterZoomOut:function(){var t=LyteColorbox._domEle,e=LyteColorbox._domEle.getBoundingClientRect(),o=LyteColorbox._content.getBoundingClientRect(),i=t.style.transformOrigin.match(/(.+)% (.+)%/)||[null,50,50],a=parseFloat(i[1]),l=parseFloat(i[2]),n=0;if(t.classList.add("lyteCBoxAnimateOnUp"),e.width<o.width)t.style.left="0px",a=50;else{var r=Math.round(e.left),s=Math.round(e.right);r>o.left&&(n=r-o.left,t.style.left=parseFloat(t.style.left||0)-n+"px"),s<o.right&&(n=o.right-s,t.style.left=parseFloat(t.style.left||0)+n+"px")}if(e.height<o.height)t.style.top="0px",l=50;else{var d=Math.round(e.top),p=Math.round(e.bottom);d>o.top&&(n=d-o.top,t.style.top=parseFloat(t.style.top||0)-n+"px"),p<o.bottom&&(n=o.bottom-p,t.style.top=parseFloat(t.style.top||0)+n+"px")}t.style.transformOrigin=a+"% "+l+"%",t.removeEventListener("transitionend",LyteColorbox.checkForLeftAndTopAfterZoomOut)},convertToPx:function(t,e){var o,i="";return(o=/(\d*)%/i.exec(t))?i=parseInt(o[1])/100*parseInt(e)+"px":/(\d*)px/i.exec(t)?i=t:t&&(i=t+"px"),i},getProperOffsetsToCalculateImageDimensions:function(){var t=window.getComputedStyle(LyteColorbox._content),e=LyteColorbox._component,o=LyteColorbox.convertToPx(e.getData("ltPropWidth"),t.width)||.8*parseInt(t.width)+"px",i=LyteColorbox.convertToPx(e.getData("ltPropHeight"),t.height)||.8*parseInt(t.height)+"px";return{width:parseInt(o),height:parseInt(i)}},checkAspectRatio:function(){var t=LyteColorbox._domEle._offset;if(t){var e=LyteColorbox.getProperOffsetsToCalculateImageDimensions(),o=t.width,i=t.height;t.width>t.height&&t.width>e.width?(i=LyteColorbox.getHeight(i,o,e),o=e.width,LyteColorbox._domEle.style.width=o+"px",LyteColorbox._domEle.style.height=i+"px",i>e.height&&(o=LyteColorbox.getWidth(i,o,e),i=e.height,LyteColorbox._domEle.style.height=i+"px",LyteColorbox._domEle.style.width=o+"px")):(i>e.height&&(o=LyteColorbox.getWidth(i,o,e),i=e.height,LyteColorbox._domEle.style.height=i+"px",LyteColorbox._domEle.style.width=o+"px"),o>e.width&&(LyteColorbox._domEle.style.width=e.width+"px",LyteColorbox._domEle.style.height=LyteColorbox.getHeight(i,o,e)+"px"))}},getHeight:function(t,e,o){var i=o.width*(t/e);return Math.round(i)},getWidth:function(t,e,o){var i=o.height*(e/t);return Math.round(i)},open:function(t){(t-=1)!=LyteColorbox._index&&t>=0&&t<LyteColorbox._related.length&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():t<LyteColorbox._index?LyteColorbox._prevItem=!0:LyteColorbox._nextItem=!0,LyteColorbox.toggleLoadingIcon(),LyteColorbox.reset(),LyteColorbox._index=t,LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index]))},replace:function(t,e){var o=LyteColorbox._related[t-1],i=!1;for(var a in e)a in o&&("lytecboxHref"==a&&(i=!0),Lyte.Component.set(o,a,e[a]));var l=LyteColorbox._boxEle+"__"+(t-1),n=LyteColorbox._content.querySelector("."+l);n&&i&&($L(n).attr({src:o.lytecboxHref}),"photo"==o.type&&(n.style.height="",n.style.width="",n.onload=function(){n._offset={height:n.naturalHeight,width:n.naturalWidth},n.classList.contains("lyteCBoxVisible")&&!n.parentElement.classList.contains("lyteCBoxDN")&&(LyteColorbox.checkAspectRatio(),LyteColorbox.checkHW())})),n&&n.classList.contains("lyteCBoxVisible")&&!n.parentElement.classList.contains("lyteCBoxDN")&&(LyteColorbox._title&&(LyteColorbox._title.textContent=o.lytecboxTitle),LyteColorbox._el=o)},removeElementObjectFromDom:function(t){var e=LyteColorbox._content.querySelector("."+LyteColorbox._boxEle+"__"+t);e&&("slide"==LyteColorbox._component.getData("ltPropAnimation")?e.parentElement.remove():e.remove())},updateSelectors:function(t){var e=Array.from(LyteColorbox._content.querySelectorAll(".lyteCBoxPhoto")),o=/(lyteCBoxElement\d*__\d*)/g,i=/[+-]?\d+(\.\d+)?/g;Lyte.arrayUtils(e,"push",Array.from(LyteColorbox._content.querySelectorAll(".lyteCBoxIframe"))),Lyte.arrayUtils(e,"push",Array.from(LyteColorbox._content.querySelectorAll(".lyteCBoxCustom")));for(var a=0;a<e.length;a++){var l=e[a].getAttribute("class"),n=l.match(o)[0],r=parseInt(n.match(i)[1]);r>t&&(r-=1,l=l.replace(n,LyteColorbox._boxEle+"__"+r),e[a].className=l)}},remove:function(t){var e=!1;LyteColorbox._index===t-1&&(e=!0,LyteColorbox._component.getData("ltPropLoop")||t!=LyteColorbox._related.length?LyteColorbox.next(null,!0):(LyteColorbox.prev(null,!0),e=!1),$L(LyteColorbox._domEle).off("load",LyteColorbox.imageComplete).off("error",LyteColorbox.imageFailure)),this.removeElementObjectFromDom(t-1),Lyte.arrayUtils(LyteColorbox._related,"removeAt",t-1,1),e&&0!=LyteColorbox._index&&(LyteColorbox._index-=1),this.updateSelectors(t-1),LyteColorbox._component.getData("ltPropThumbnail")&&(LyteColorbox._component.setData("triggerSetThumbnail",LyteColorbox._component.getData("triggerSetThumbnail")+1),this.updateThumbnailPos())}},Lyte.Component.register("lyte-colorbox",{_template:'<template tag-name="lyte-colorbox">\n\t<template is="if" value="{{expHandlers(ltPropType,\'===\',\'custom\')}}"><template case="true">\n\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t<lyte-yield yield-name="colorBoxYield"></lyte-yield>\n\t\t</template><template case="false">\n\t\t\t<div id="lyteColorbox" class="lyteColorbox lyteCBox">\n\t\t\t\t\n\t\t\t\t\t<div class="lyteColorboxFreezeLayer lyteCBoxOverlay"></div>\n\t\t\t\t\t<div class="lyteColorboxWrapper">\n\t\t\t\t\t\t<template is="if" value="{{expHandlers(isIframe,\'!\')}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorboxUtilDiv">\n\t\t\t\t\t\t\t<span class="lyteCBoxZoomOut lyteColorboxZoomOut lyteColorboxDisabled"></span>\n\t\t\t\t\t\t\t<span class="lyteCBoxReset lyteColorboxReset lyteColorboxDisabled"></span>\n\t\t\t\t\t\t\t<span class="lyteCBoxZoomIn lyteColorboxZoomIn"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<div class="lyteColorboxContent lyteCBoxContent">\n\t\t\t\t\t\t\t<span class="lyteColorboxLoadingImg"></span>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="lyteColorboxHeader">\n\t\t\t\t\t\t\t<div class="lyteColorboxTitle lyteCBoxTitle"></div>\n\t\t\t\t\t\t\t<template is="if" value="{{download}}"><template case="true">\n\t\t\t\t\t\t\t<div class="lyteColorboxDownloadDiv lyteCBoxDownload">\n\t\t\t\t\t\t\t\t<span class="lyteColorboxDownloadImg"></span>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="lyteColorboxCloseIcon lyteCBoxClose"></div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="lyteColorboxIconDiv lyteCBoxPrevious">\n\t\t\t\t\t\t<div class="lyteColorboxPreviousIcon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="lyteColorboxIconDiv lyteCBoxNext">\n\t\t\t\t\t\t<div class="lyteColorboxNextIcon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{ltPropThumbnail}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorboxThumbOuterWrapper">\n\t\t\t\t\t\t\t<div class="lyteColorboxThumbnails" onclick="{{action(&quot;clickOnThumbnails&quot;,event)}}">\n\t\t\t\t\t\t\t\t<div class="lyteColorboxThumbInnerWrapper">\n\t\t\t\t\t\t\t\t<template is="for" items="{{thumbnails}}" item="item" index="index">\n\t\t\t\t\t\t\t\t\t<div class="lyteColorboxThumb" data-thumb-val="{{lyteUiSetIndexString(index, thumbnails.length)}}">\n\t\t\t\t\t\t\t\t\t\t<template is="if" value="{{ifEquals(item.type,&quot;photo&quot;)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t<img src="{{item.lytecboxHref}}">\n\t\t\t\t\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{lyteUiIfEqualsAny(item.type,&quot;iframe&quot;,&quot;custom&quot;)}}"><template case="true"><template is="if" value="{{item.lytecboxThumbnail}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class="lyteCBoxFavImg" src="{{item.lytecboxThumbnail}}">\n\t\t\t\t\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeWrap">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeIcon"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeLabel">{{item.format}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t\n\t\t\t</div>\n\t\t</template></template>\n\t</template><template case="false">\n\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t<lyte-yield yield-name="colorBoxYield"></lyte-yield>\n\t\t</template><template case="false">\n\t\t\t<lyte-colorbox-container>\n\t\t\t\t\n\n\t\t\t\t<lyte-colorbox-header>\n\t\t\t\t\t<lyte-colorbox-title></lyte-colorbox-title>\n\t\t\t\t\t<template is="if" value="{{download}}"><template case="true">\n\t\t\t\t\t\t<lyte-colorbox-download>\n\t\t\t\t\t\t\t<span class="lyteColorboxDownloadImg"></span>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</lyte-colorbox-download>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<lyte-colorbox-close></lyte-colorbox-close>\n\t\t\t\t</lyte-colorbox-header>\n\n\t\t\t\t<lyte-colorbox-content>\n\t\t\t\t</lyte-colorbox-content>\n\n\t\t\t\t<lyte-colorbox-previous>\n\t\t\t\t\t<div class="lyteColorboxPreviousIcon"></div>\n\t\t\t\t</lyte-colorbox-previous>\n\t\t\t\t\n\t\t\t\t<lyte-colorbox-next>\n\t\t\t\t\t<div class="lyteColorboxNextIcon"></div>\n\t\t\t\t</lyte-colorbox-next>\n\n\t\t\t\t<lyte-colorbox-description>\n\t\t\t\t</lyte-colorbox-description>\n\n\t\t\t\t<div class="lyteColorboxUtilDiv">\n\t\t\t\t\t<lyte-colorbox-zoomin></lyte-colorbox-zoomin>\n\t\t\t\t\t<lyte-colorbox-reset class="lyteColorboxDisabled"></lyte-colorbox-reset>\n\t\t\t\t\t<lyte-colorbox-zoomout></lyte-colorbox-zoomout>\n\t\t\t\t</div>\n\t\t\t\t<template is="if" value="{{ltPropThumbnail}}"><template case="true">\n\t\t\t\t\t<lyte-colorbox-thumbnail>\n\t\t\t\t\t\t<div class="lyteColorboxThumbnails" onclick="{{action(&quot;clickOnThumbnails&quot;,event)}}">\n\t\t\t\t\t\t\t<div class="lyteColorboxThumbInnerWrapper">\n\t\t\t\t\t\t\t\t<template is="for" items="{{thumbnails}}" item="item" index="index">\n\t\t\t\t\t\t\t\t\t<div class="lyteColorboxThumb" data-thumb-val="{{lyteUiSetIndexString(index, thumbnails.length)}}">\n\t\t\t\t\t\t\t\t\t\t<template is="if" value="{{ifEquals(item.type,&quot;photo&quot;)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t<img src="{{item.lytecboxHref}}">\n\t\t\t\t\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{lyteUiIfEqualsAny(item.type,&quot;iframe&quot;,&quot;custom&quot;)}}"><template case="true"><template is="if" value="{{item.lytecboxThumbnail}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class="lyteCBoxFavImg" src="{{item.lytecboxThumbnail}}">\n\t\t\t\t\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeWrap">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeIcon"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="lyteCBoxIframeLabel">{{item.format}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</lyte-colorbox-thumbnail>\n\t\t\t\t</template></template>\n\t\t\t</lyte-colorbox-container>\n\t\t</template></template>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3,5,3]},{type:"if",position:[1,3,5,3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,11]},{type:"if",position:[1,11],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,3,0]}]}},default:{}}]}},default:{}}]}},default:{}}]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,1,5]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1,5]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1,9]},{type:"componentDynamic",position:[1,11,1]},{type:"componentDynamic",position:[1,11,3]},{type:"componentDynamic",position:[1,11,5]},{type:"attr",position:[1,13]},{type:"if",position:[1,13],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,3,0]}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropHeight","ltPropWidth","ltPropOverlayClose","ltPropYield","ltPropSelectors","ltPropLoop","ltPropArrowKey","ltPropZoomBy","ltPropEscKey","ltPropImgError","ltPropAnimation","ltPropThumbnail","ltPropThumbnailNumber","ltPropZoomClickNumber","currentEle","thumbnails","triggerSetThumbnail","isIframe","download","ltPropType","ltPropMinScale","ltPropMaxScale","ltPropWheelZoom","ltPropZoomPosition","ltPropOrientation"],data:function(){return{ltPropHeight:Lyte.attr("string"),ltPropWidth:Lyte.attr("string"),ltPropOverlayClose:Lyte.attr("boolean",{default:!0}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropSelectors:Lyte.attr("array",{default:[]}),ltPropLoop:Lyte.attr("boolean",{default:!0}),ltPropArrowKey:Lyte.attr("boolean",{default:!0}),ltPropZoomBy:Lyte.attr("string",{default:"25%"}),ltPropEscKey:Lyte.attr("boolean",{default:!0}),ltPropImgError:Lyte.attr("string",{default:"This image failed to load."}),ltPropAnimation:Lyte.attr("string",{default:"default"}),ltPropThumbnail:Lyte.attr("boolean",{default:!0}),ltPropThumbnailNumber:Lyte.attr("number",{default:7}),ltPropZoomClickNumber:Lyte.attr("number",{default:5}),currentEle:Lyte.attr("object"),thumbnails:Lyte.attr("array"),triggerSetThumbnail:Lyte.attr("number",{default:0}),isIframe:Lyte.attr("boolean",{default:!1}),download:Lyte.attr("boolean",{default:!0}),ltPropType:Lyte.attr("string",{default:"custom"}),ltPropMinScale:Lyte.attr("number",{default:.01}),ltPropMaxScale:Lyte.attr("number",{default:1/0}),ltPropWheelZoom:Lyte.attr("boolean",{default:!1}),ltPropZoomPosition:Lyte.attr("string",{default:"center"}),ltPropOrientation:Lyte.attr("boolean")}},setOrientation:function(){var t=LyteColorbox._domEle.getAttribute("lytecbox-rotate");if(this.getData("ltPropOrientation")&&t&&"photo"===LyteColorbox._el.type){for(var e=LyteColorbox._domEle,o=e.style.transform.split(" "),i="",a=0;a<o.length;a++)-1==o[a].indexOf("rotate")&&(i+=o[a]+" ");e.style.transform=i+t,this.setData("ltPropOrientation",!1)}}.observes("ltPropOrientation"),setThumbnailSliderProp:function(){this.getData("ltPropThumbnail")&&LyteColorbox._thumbDiv&&$L.fastdom.measure(function(){var t=this.getData("ltPropThumbnailNumber"),e=LyteColorbox._thumbDiv.querySelectorAll(".lyteColorboxThumb"),o=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbnails"),i=LyteColorbox._thumbDiv.querySelector(".lyteColorboxThumbInnerWrapper"),a=window.getComputedStyle(e[0]),l=Math.max(document.documentElement.clientWidth,window.innerWidth||0);thumbnailWidth=parseInt(a.width)+(a.marginLeft?parseInt(a.marginLeft):0)+(a.marginRight?parseInt(a.marginRight):0),$L.fastdom.mutate(function(){"custom"===this.getData("ltPropType")?(o.style.width=(e.length<t?e.length*thumbnailWidth:t*thumbnailWidth)+"px",i.style.width=e.length*thumbnailWidth+"px",o.classList.remove("lyteColorboxHideVisibility")):(e.length*thumbnailWidth>l&&(o.style.width="100%"),i.style.width=e.length*thumbnailWidth+"px",o.classList.remove("lyteColorboxHideVisibility"))}.bind(this))}.bind(this))}.observes("ltPropThumbnailNumber","triggerSetThumbnail"),init:function(){this.$node.launch=function(t){LyteColorbox.launch.call(this,t)}.bind(this),this.$node.push=function(t){LyteColorbox.add(t)},this.$node.open=function(t){LyteColorbox.open(t)},this.$node.zoomBy=function(t){LyteColorbox.zoomByUtilFn(t)},this.$node.replace=function(t,e){LyteColorbox.replace(t,e)},this.$node.close=function(){LyteColorbox.close()},this.$node.delete=function(t){LyteColorbox.remove(t)},this.getData("ltPropYield")&&this.setData("ltPropThumbnail",!1)},observeHeightAndWidth:function(){LyteColorbox._open&&LyteColorbox._domEle.classList.contains("lyteCBoxPhoto")&&LyteColorbox.checkAspectRatio()}.observes("ltPropHeight","ltPropWidth"),toggleTumbnail:function(){var t=this.getData("ltPropType"),e=LyteColorbox._box,o="custom"===t?e.querySelector(".lyteColorboxThumbOuterWrapper"):e.querySelector("lyte-colorbox-thumbnail");this.getData("ltPropThumbnail")?LyteColorbox._thumbDiv=o:LyteColorbox._thumbDiv=null}.observes("ltPropThumbnail"),intialFunc:function(){if("custom"===this.getData("ltPropType")){if(!this._box){this._init=!1;if(this._content=this.$node.querySelector(".lyteCBoxContent"),this._overlay=this.$node.querySelector(".lyteCBoxOverlay"),this._title=this.$node.querySelector(".lyteCBoxTitle"),this._close=this.$node.querySelector(".lyteCBoxClose"),this._download=this.$node.querySelector(".lyteCBoxDownload"),this._next=this.$node.querySelector(".lyteCBoxNext"),this._prev=this.$node.querySelector(".lyteCBoxPrevious"),this._zoomIn=this.$node.querySelector(".lyteCBoxZoomIn"),this._zoomOut=this.$node.querySelector(".lyteCBoxZoomOut"),this._reset=this.$node.querySelector(".lyteCBoxReset"),this._box=!!this.$node.querySelector(".lyteCBox")&&this.$node.querySelector(".lyteCBox"),!this.getData("ltPropYield")&&this.getData("ltPropThumbnail")&&(this._thumbDiv=this.$node.querySelector(".lyteColorboxThumbOuterWrapper")),!this._box){this._box=LyteColorbox.createElement("div",null,"lyteCBox");for(var t=this.$node.querySelector("lyte-yield").children;t.length>0;)_lyteUiUtils.appendChild(this._box,t[0]);this._box.classList.add("lyteColorbox")}LyteColorbox._count=LyteColorbox._count+1,this._className="lyteCBoxWrapper__"+LyteColorbox._count,this._boxElement=LyteColorbox._boxElement+LyteColorbox._count,this._box.classList.add(this._className),this._box._callee=this.$node}document.body&&(this._box.parentElement&&"BODY"!=this._box.parentElement.tagName||!this._box.parentElement)&&(_lyteUiUtils.appendChild(document.body,this._box),this.childComp=this._box),LyteColorbox.setupForBindings(this),this.addBindings(),this.unbindEventsForSelectors();var e=this.getSelectorElements();e.length>0?this.addClickEvents(e,this._className):console.warn("No selector(s) provided to colorbox.")}else this.setupColorBoxForImages()}.observes("ltPropSelectors.[]").on("didConnect"),convertToArray:function(t){return Array.prototype.slice.call(t)},createOwnContainer:function(){var t;this._box=document.createElement("lyte-colorbox-container"),t=this.$node.querySelector("lyte-yield").children,this.convertToArray(t).forEach(function(t){_lyteUiUtils.appendChild(this._box,t)}.bind(this))},setupAlreadyComplete:function(){return this._box},setupElements:function(){this._loadingIcon=this.$node.querySelector("lyte-colorbox-loading-icon"),this._content=this.$node.querySelector("lyte-colorbox-content"),this._title=this.$node.querySelector("lyte-colorbox-title"),this._close=this.$node.querySelector("lyte-colorbox-close"),this._download=this.$node.querySelector("lyte-colorbox-download"),this._next=this.$node.querySelector("lyte-colorbox-next"),this._prev=this.$node.querySelector("lyte-colorbox-previous"),this._zoomIn=this.$node.querySelector("lyte-colorbox-zoomin"),this._zoomOut=this.$node.querySelector("lyte-colorbox-zoomout"),this._reset=this.$node.querySelector("lyte-colorbox-reset"),this._header=this.$node.querySelector("lyte-colorbox-header"),this._description=this.$node.querySelector("lyte-colorbox-description"),this._box=!!this.$node.querySelector("lyte-colorbox-container")&&this.$node.querySelector("lyte-colorbox-container"),!this.getData("ltPropYield")&&this.getData("ltPropThumbnail")&&(this._thumbDiv=this.$node.querySelector("lyte-colorbox-thumbnail")),!!this._box||this.createOwnContainer(),LyteColorbox._count=LyteColorbox._count+1,this._className="lyteCBoxWrapper__"+LyteColorbox._count,this._boxElement=LyteColorbox._boxElement+LyteColorbox._count,this._box.classList.add(this._className),this._box._callee=this.$node},stillNotAppendedToBody:function(){return document.body&&(this._box.parentElement&&"BODY"!=this._box.parentElement.tagName||!this._box.parentElement)},setupColorBoxForImages:function(){var t;this.setupAlreadyComplete()||(this._init=!1,this.setupElements()),this.stillNotAppendedToBody()&&(_lyteUiUtils.appendChild(document.body,this._box),this.childComp=this._box),LyteColorbox.setupForBindings(this),this.addBindings(),this.unbindEventsForSelectors(),(t=this.getSelectorElements()).length>0?this.addClickEvents(t,this._className):console.warn("No selector(s) provided to colorbox.")},utilDivEvents:function(){this.getData("isIframe")?(LyteColorbox._zoomIn=this._zoomIn=null,LyteColorbox._zoomOut=this._zoomOut=null,LyteColorbox._reset=this._reset=null):(LyteColorbox._zoomIn=this._zoomIn=this.childComp.querySelector(".lyteCBoxZoomIn"),LyteColorbox._zoomOut=this._zoomOut=this.childComp.querySelector(".lyteCBoxZoomOut"),LyteColorbox._reset=this._reset=this.childComp.querySelector(".lyteCBoxReset"),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.addEventListener("click",function(){LyteColorbox.zoomIn()},!0),LyteColorbox._zoomOut&&LyteColorbox._zoomOut.addEventListener("click",function(){LyteColorbox.zoomOut()},!0),LyteColorbox._reset&&LyteColorbox._reset.addEventListener("click",function(){LyteColorbox.reset(null,!0)},!0))}.observes("isIframe"),downloadDivEvents:function(){this.getData("download")?(LyteColorbox._download=this._download=this.$node.querySelector(".lyteCBoxDownload"),LyteColorbox._download&&LyteColorbox._download.addEventListener("click",function(){LyteColorbox.download()},!0)):LyteColorbox._download=this._download=null}.observes("download"),callOnBeforeOpen:function(t,e){var o;return this.getMethods("onBeforeOpen")&&(o=this.executeMethod("onBeforeOpen",t,this,e)),o},callOnOpen:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen",this)},callOnLoad:function(){this.getMethods("onLoad")&&this.executeMethod("onLoad",arguments[0],arguments[1],this)},callOnComplete:function(){this.getMethods("onComplete")&&this.executeMethod("onComplete",arguments[0],arguments[1],this)},callOnFailure:function(){this.getMethods("onFailure")&&this.executeMethod("onFailure",arguments[0],arguments[1],this,arguments[2])},getSelectorElements:function(){for(var t=this.getData("ltPropSelectors"),e=[],o=0;o<t.length;o++)Lyte.arrayUtils(e,"push",Array.from(document.querySelectorAll(t[o])));return e},unbindEventsForSelectors:function(){var t=document.querySelectorAll("."+this._boxElement);if(t.length>0)for(var e=0;e<t.length;e++)t[e].removeEventListener("click",this.clickHandler,!0),t[e].classList.remove(this._boxElement),delete t[e]._className;this.setData("currentEle",null)},callOnClose:function(){this.getMethods("onClose")&&this.executeMethod("onClose",this)},didDestroy:function(){LyteColorbox._first||1!=LyteColorbox._count||(window.removeEventListener("resize",LyteColorbox.computeOffsetImpl),LyteColorbox._first=!0),this.unbindEventsForSelectors(),delete this.childComp,this._box._callee=null,LyteColorbox._box&&(LyteColorbox._box._callee=null),LyteColorbox._component=null,this._box.remove(),this._header&&(this._header=null),LyteColorbox._box=this._box=null,LyteColorbox._prev=this._prev=null,LyteColorbox._next=this._next=null,LyteColorbox._content=this._content=null,LyteColorbox._overlay=this._overlay=null,LyteColorbox._title=this._title=null,LyteColorbox._close=this._close=null,LyteColorbox._download=this._download=null,LyteColorbox._thumbDiv=this._thumbDiv=null,LyteColorbox._description=this._description=null,LyteColorbox._zoomIn=this._zoomIn=null,LyteColorbox._zoomOut=this._zoomOut=null,LyteColorbox._reset=this._reset=null,LyteColorbox._loadingIcon=this._loadingIcon=null,LyteColorbox._domEle=null,LyteColorbox._el=null,LyteColorbox._boxEle=this._boxElement=null,LyteColorbox._open=null,LyteColorbox._active=null,LyteColorbox._closing=null,LyteColorbox._related=null,LyteColorbox._count-=1,LyteColorbox._diff=0,document.body.classList.remove("lyteCBoxOH")},clickHandler:function(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),LyteColorbox.setupForBindings(document.querySelector("."+this._className)._callee.component),LyteColorbox.launch(LyteColorbox.getProperties(this),t))},checkBeforeClose:function(t){var e;this.getMethods("onBeforeClose")&&(e=this.executeMethod("onBeforeClose",t,this)),void 0!==e&&!0!==e||LyteColorbox.close()},addBindings:function(){return!!LyteColorbox._box&&(this._init||(this._init=!0,LyteColorbox._component.getData("ltPropType"),LyteColorbox._content,LyteColorbox._next&&LyteColorbox._next.addEventListener("click",function(t){LyteColorbox.next(t)},!0),LyteColorbox._prev&&LyteColorbox._prev.addEventListener("click",function(t){LyteColorbox.prev(t)},!0),LyteColorbox._close&&LyteColorbox._close.addEventListener("click",function(t){this.checkBeforeClose(t)}.bind(this),!0),LyteColorbox._overlay&&LyteColorbox._overlay.addEventListener("click",function(t){LyteColorbox._component.getData("ltPropOverlayClose")&&this.checkBeforeClose(t)}.bind(this),!0),LyteColorbox._download&&LyteColorbox._download.addEventListener("click",function(){LyteColorbox.download()},!0),LyteColorbox._zoomIn&&LyteColorbox._zoomIn.addEventListener("click",function(){LyteColorbox.zoomIn()},!0),LyteColorbox._zoomOut&&LyteColorbox._zoomOut.addEventListener("click",function(){LyteColorbox.zoomOut(),this.triggerCheck()}.bind(this),!0),LyteColorbox._reset&&LyteColorbox._reset.addEventListener("click",function(){LyteColorbox.reset(null,!0)},!0),LyteColorbox._content&&this.data.ltPropWheelZoom&&LyteColorbox._content.addEventListener("wheel",LyteColorbox.wheel.bind(LyteColorbox),!0),LyteColorbox._content&&(LyteColorbox._content.addEventListener("mousedown",function(t){this.mousedownFn(t)}.bind(this),!0),LyteColorbox._content.addEventListener("touchstart",function(t){this.mousedownFn(t)}.bind(this),!0)),LyteColorbox._boundKeydown||(LyteColorbox._boundKeydown=!0,document.body.addEventListener("keydown",function(t){var e=t.keyCode;if(LyteColorbox._open&&LyteColorbox._component.getData("ltPropEscKey")&&27===e&&(t.preventDefault(),LyteColorbox._component.checkBeforeClose(t)),LyteColorbox._open&&LyteColorbox._component.getData("ltPropArrowKey")&&LyteColorbox._related[1]&&!t.altKey)if(37===e){if("INPUT"===(o=t.target).tagName||"TEXTAREA"===o.tagName||o.isContentEditable)return;t.preventDefault(),LyteColorbox._prev?LyteColorbox.prev(t):LyteColorbox._related instanceof Array&&LyteColorbox._related.length>1&&LyteColorbox.prev(t)}else if(39===e){var o;if("INPUT"===(o=t.target).tagName||"TEXTAREA"===o.tagName||o.isContentEditable)return;t.preventDefault(),LyteColorbox._next?LyteColorbox.next(t):LyteColorbox._related instanceof Array&&LyteColorbox._related.length>1&&LyteColorbox.next(t)}},!0)),LyteColorbox._boundResize||(LyteColorbox._boundResize=!0,window.addEventListener("resize",function(){LyteColorbox._open&&(LyteColorbox._domEle&&LyteColorbox._domEle.classList.contains("lyteCBoxPhoto")&&LyteColorbox.checkAspectRatio(),LyteColorbox._diff=0)},!0))),!0)},addClickEvents:function(t,e){for(var o=0;o<t.length;o++)t[o].addEventListener("click",this.clickHandler,!0),t[o].classList.add(this._boxElement),t[o]._className=e},triggerCheck:function(t){LyteColorbox._domEle.addEventListener("transitionend",LyteColorbox.checkForLeftAndTopAfterZoomOut)},mousedownFn:function(t){if(ele=null,3!==t.which){for(var e=t.target;e;){if($L(e).hasClass("lyteCBoxPhoto")){ele=e;break}e=e.parentElement}if(ele){ele.classList.contains("lyteCBoxAnimateOnUp")&&ele.classList.remove("lyteCBoxAnimateOnUp");var o=ele.parentElement.getBoundingClientRect(),i=ele.getBoundingClientRect();(i.top<o.top||i.left<o.left||i.bottom>o.bottom||i.right>o.right)&&((i.top<o.top||i.bottom>o.bottom)&&(ele._top=!0),(i.left<o.left||i.right>o.right)&&(ele._left=!0),"touchstart"==t.type?(ele._offset={x:t.touches[0].clientX,y:t.touches[0].clientY},document.addEventListener("touchmove",mm=function(t){this.mousemoveFn(t)}.bind(this)),document.addEventListener("touchend",mu=function(t){this.mouseupFn(t)}.bind(this))):(ele._offset={x:t.clientX,y:t.clientY},document.addEventListener("mousemove",mm=function(t){this.mousemoveFn(t)}.bind(this)),document.addEventListener("mouseup",mu=function(t){this.mouseupFn(t)}.bind(this))))}}},mousemoveFn:function(t){if(ele){var e;t.preventDefault(),e="touchmove"==t.type?{x:t.touches[0].clientX,y:t.touches[0].clientY}:{x:t.clientX,y:t.clientY};ele.offsetParent.getBoundingClientRect();var o=e.x-ele._offset.x,i=e.y-ele._offset.y;ele._left&&(ele.style.left=parseFloat(ele.style.left||0)+o+"px"),ele._top&&(ele.style.top=parseFloat(ele.style.top||0)+i+"px"),ele._offset=e}},mouseupFn:function(t){if("touchend"==t.type?(document.removeEventListener("touchmove",mm),document.removeEventListener("touchend",mu)):(document.removeEventListener("mousemove",mm),document.removeEventListener("mouseup",mu)),ele){var e,o=ele.parentElement.getBoundingClientRect(),i=ele.getBoundingClientRect();ele._left&&(ele.classList.add("lyteCBoxAnimateOnUp"),i.left>o.left&&(e=i.left-o.left,ele.style.left=parseFloat(ele.style.left||0)-e+"px"),i.right<o.right&&(e=o.right-i.right,ele.style.left=parseFloat(ele.style.left||0)+e+"px")),ele._top&&(ele.classList.contains("lyteCBoxAnimateOnUp")||ele.classList.add("lyteCBoxAnimateOnUp"),i.top>o.top&&(e=i.top-o.top,ele.style.top=parseFloat(ele.style.top||0)-e+"px"),i.bottom<o.bottom&&(e=o.bottom-i.bottom,ele.style.top=parseFloat(ele.style.top||0)+e+"px")),ele=null,mm=null,mu=null}},actions:{clickOnThumbnails:function(t){for(var e=this.getData("ltPropType"),o=t.target;o.parentElement&&!o.classList.contains("lyteColorboxThumb");)o=o.parentElement;if(o.classList.contains("lyteColorboxThumb")){for(var i=Array.from(o.parentElement.children).filter(function(t){return"TEMPLATE"!=t.tagName}),a=0;a<i.length;a++)i[a].isEqualNode(o)&&(a>LyteColorbox._index?!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._related[LyteColorbox._index+1])&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._nextItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===e&&LyteColorbox.reset(),LyteColorbox._index=a,LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index])):a<LyteColorbox._index&&!LyteColorbox._active&&LyteColorbox._related[1]&&(LyteColorbox._component.getData("ltPropLoop")||LyteColorbox._index)&&("slide"!=LyteColorbox._component.getData("ltPropAnimation")?LyteColorbox.hideElement():LyteColorbox._prevItem=!0,LyteColorbox.toggleLoadingIcon(),"custom"===e&&LyteColorbox.reset(),LyteColorbox._index=a,LyteColorbox._domEle=null,LyteColorbox.load(LyteColorbox._el=LyteColorbox._related[LyteColorbox._index])));this.getMethods("onNavigate")&&this.executeMethod("onNavigate",t,this.$node,LyteColorbox._index+1)}}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],a=0;a<o;){var l=e[a];if(t.call(i,l,a,e))return a;a++}return-1},configurable:!0,writable:!0}),!ColorPicker_Util)var ColorPicker_Util={component:null,baseConverter:function(t,e,o){if(10==o)return parseInt(t,16);if(16==o)return parseInt(t).toString(16);t=(t+="").toUpperCase();for(var i=0,a=0;a<=t.length;a++)i+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(t.charAt(a))*Math.pow(e,t.length-a-1);t="";for(a=Math.floor(Math.log(i)/Math.log(o));a>=0;a--){var l=Math.floor(i/Math.pow(o,a));t+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(l),i-=l*Math.pow(o,a)}return 0==t.length&&(numberToConvertToConvert=0),t||(t=0),t},convert3DigitTo6DigitRgbCode:function(t){return t[0]+t[0]+t[1]+t[1]+t[2]+t[2]},getHsvByRgbCode:function(t){t=t.replace("#","");var e=ColorPicker_Util.baseConverter(t.substr(0,2),16,10),o=ColorPicker_Util.baseConverter(t.substr(2,2),16,10),i=ColorPicker_Util.baseConverter(t.substr(4,2),16,10);if(0==e&&0==o&&0==i)return a={hue:0,saturation:0,brightness:0};e/=255,o/=255,i/=255,maxValue=Math.max(e,o,i),minValue=Math.min(e,o,i);var a,l=0;return maxValue==minValue?(l=0,saturation=0):(e==maxValue?l=(o-i)/(maxValue-minValue)/1:o==maxValue?l=2+(i-e)/1/(maxValue-minValue)/1:i==maxValue&&(l=4+(e-o)/(maxValue-minValue)/1),saturation=(maxValue-minValue)/maxValue),l*=60,valueBrightness=maxValue,l<0&&(l+=360),(a={}).hue=l,a.saturation=saturation,a.brightness=valueBrightness,a},getRgbCodeByRgbColors:function(t,e,o){t=ColorPicker_Util.baseConverter(t,10,16),e=ColorPicker_Util.baseConverter(e,10,16),o=ColorPicker_Util.baseConverter(o,10,16);for(t+="",e+="",o+="";t.length<2;)t="0"+t;for(;e.length<2;)e="0"+e;for(;o.length<2;)o="0"+o;return rgbColor=t+""+e+o,rgbColor.toUpperCase()},getRgbColorsByRgbCode:function(t){var e={};return e.red=ColorPicker_Util.baseConverter(t.substr(0,2),16,10),e.green=ColorPicker_Util.baseConverter(t.substr(2,2),16,10),e.blue=ColorPicker_Util.baseConverter(t.substr(4,2),16,10),e},getRgbColorsByHsv:function(t,e,o){var i,a,l,n,r,s,d,p=Math.floor(t/60);switch(360==t&&(t=0),n=t/60-p,e>1&&(e/=100),o>1&&(o/=100),r=o*(1-e),s=o*(1-n*e),d=o*(1-(1-n)*e),p){case 0:i=o,a=d,l=r;break;case 1:i=s,a=o,l=r;break;case 2:i=r,a=o,l=d;break;case 3:i=r,a=s,l=o;break;case 4:i=d,a=r,l=o;break;default:i=o,a=r,l=s}return 0==e&&(i=o,a=o,l=o),i*=255,a*=255,l*=255,{red:i=Math.round(i),green:a=Math.round(a),blue:l=Math.round(l)}},getRgbCodeByHsv:function(t,e,o){for(;t>=360;)t-=360;var i=ColorPicker_Util.getRgbColorsByHsv(t,e,o);return ColorPicker_Util.getRgbCodeByRgbColors(i.red,i.green,i.blue)},getCmykByRgbColors:function(t){var e,o=1-t[0]/255,i=1-t[1]/255,a=1-t[2]/255,l=Math.min(o,i,a);return o=(o-l)/(1-l),i=(i-l)/(1-l),a=(a-l)/(1-l),e=l,[o=isNaN(o)?0:o,i=isNaN(i)?0:i,a=isNaN(a)?0:a,e]},getRgbColorsByCmyk:function(t,e,o,i){t>1&&(t/=100),e>1&&(e/=100),o>1&&(o/=100),i>1&&(i/=100);var a=255*(1-t)*(1-i),l=255*(1-e)*(1-i),n=255*(1-o)*(1-i);return{red:a=Math.round(a),green:l=Math.round(l),blue:n=Math.round(n)}},getRgbCodeByCmyk:function(t,e,o,i){var a=ColorPicker_Util.getRgbColorsByCmyk(t,e,o,i);return ColorPicker_Util.getRgbCodeByRgbColors(a.red,a.green,a.blue)},getDecimalToHexAlphaCode:function(t){return((t=Math.round(255*t/100))+65536).toString(16).substr(-2).toUpperCase()},getLeftPos:function(t){if(document.getBoxObjectFor&&"INPUT"!=t.tagName&&"SELECT"!=t.tagName&&"TEXTAREA"!=t.tagName)return document.getBoxObjectFor(t).x;for(var e=t.offsetLeft;null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(e+=t.offsetLeft,document.all&&(e+=t.clientLeft));return e},getTopPos:function(t){if(document.getBoxObjectFor&&"INPUT"!=t.tagName&&"SELECT"!=t.tagName&&"TEXTAREA"!=t.tagName)return document.getBoxObjectFor(t).y;for(var e=t.offsetTop;null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(e+=t.offsetTop-t.scrollTop,document.all&&(e+=t.clientTop));return e},getColorPicker:function(t){var e=t.closest("lyte-colorpicker");if(!e){for(var o=LytePopup.components,i=o.length-1;i>=0;i--)if("LYTE-COLORPICKER"==o[i].$node.parentElement.tagName&&"visible"==o[i].childComp.style.visibility){e=o[i].childComp;break}if(e){var a=e.querySelector(".popoverWrapper");if(a&&a.classList.length>1){var l=a.className.split(" ")[1],n=document.querySelectorAll("lyte-colorpicker");for(i=0;i<n.length;i++)if(n[i].component.getData("ltPropWrapperClass")===l){e=n[i];break}}}}return e}};if(!ColorPicker_EventUtil)var ColorPicker_EventUtil={__stopPropagation:!1,__eventBound:!1,__initOpacityMove:function(t,e){if(e)return"mousedown"==t.type&&(document.addEventListener("mousemove",mm=function(t){ColorPicker_EventUtil.__moveOnOpacityTrack(t,e)}),document.addEventListener("mouseup",mu=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),"touchstart"==t.type&&(document.addEventListener("touchmove",tm=function(t){ColorPicker_EventUtil.__moveOnOpacityTrack(t,e)}),document.addEventListener("touchend",te=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),e.setData("opacityStatus",1),e.setData("calledForHueMove",!0),e.setData("opacityTrackSize",e.getData("ltPropInline")?e.$node.querySelector(".opacityslider__track").offsetWidth:e.childComp.querySelector(".opacityslider__track").offsetWidth),e.setData("posXOpacity",ColorPicker_Util.getLeftPos(e.getData("ltPropInline")?e.$node.querySelector(".opacityslider__track"):e.childComp.querySelector(".opacityslider__track"))),ColorPicker_EventUtil.__moveOnOpacityTrack(t,e),!1},__initHueMove:function(t,e){if(e)return"mousedown"==t.type&&(document.addEventListener("mousemove",mm=function(t){ColorPicker_EventUtil.__moveOnHueBar(t,e)}),document.addEventListener("mouseup",mu=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),"touchstart"==t.type&&(document.addEventListener("touchmove",tm=function(t){ColorPicker_EventUtil.__moveOnHueBar(t,e)}),document.addEventListener("touchend",te=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),e.setData("hueStatus",1),e.setData("calledForHueMove",!0),e.setData("hueBarSize",e.getData("ltPropInline")?e.$node.querySelector(".colorSlider_hueBar").offsetWidth:e.childComp.querySelector(".colorSlider_hueBar").offsetWidth),e.setData("poxXHue",ColorPicker_Util.getLeftPos(e.getData("ltPropInline")?e.$node.querySelector(".colorSlider_hueBar"):e.childComp.querySelector(".colorSlider_hueBar"))),ColorPicker_EventUtil.__moveOnHueBar(t,e),!1},__initPaletteMove:function(t,e){if(e){"mousedown"==t.type&&(document.addEventListener("mousemove",mm=function(t){ColorPicker_EventUtil.__moveOnPalette(t,e)}),document.addEventListener("mouseup",mu=function(t){ColorPicker_EventUtil.__endDrag(t,e)})),"touchstart"==t.type&&(document.addEventListener("touchmove",tm=function(t){ColorPicker_EventUtil.__moveOnPalette(t,e)}),document.addEventListener("touchend",te=function(t){ColorPicker_EventUtil.__endDrag(t,e)}));var o=e.getData("posdivElPalette"),i=e.getData("circleOffsetBecauseOfWinWidget"),a=e.getData("ltPropInline")?e.$node.querySelector("#colorDiv"):e.childComp.querySelector("#colorDiv"),l=a.getBoundingClientRect(),n=e.getData("circleOffsetSize");return document.all&&(t=event||window.event),e.__ffHackWinWidget(),o.x=l.left+i,o.y=l.top+i,e.setData("paletteSize",{height:a.offsetHeight,width:a.offsetWidth}),e.setData("posdivElPalette",o),e.setData("dragStatus",1),e.setData("paletteMaxX",a.offsetWidth-n),e.setData("paletteMaxY",a.offsetHeight-n),ColorPicker_EventUtil.__moveOnPalette(t,e),o=null,a=null,!1}},__moveOnPalette:function(t,e){if(e){"mousedown"!=t.type&&"mousemove"!=t.type||t.preventDefault();var o=e.getData("posdivElPalette"),i=e.getData("circleOffsetSize"),a=e.getData("ltPropInline")?e.$node.querySelector(".colorSlider_palette_circle"):e.childComp.querySelector(".colorSlider_palette_circle");if(1!=e.getData("dragStatus"))return;if(e.getData("clickOnPaletteInProgress"))return;e.setData("clickOnPaletteInProgress",!0),e.setData("dragged",!0),document.all&&(t=event);var l,n,r=o.x,s=o.y;"mousedown"!=t.type&&"mousemove"!=t.type||(l=t.clientX-r-i,n=t.clientY-s-i),"touchstart"!=t.type&&"touchmove"!=t.type||(l=t.touches[0].clientX-r-i,n=t.touches[0].clientY-s-i),l<-1*i&&(l=-1*i),n<-1*i&&(n=-1*i),l>e.getData("paletteMaxX")&&(l=e.getData("paletteMaxX")),n>e.getData("paletteMaxY")&&(n=e.getData("paletteMaxY")),a.style.left=l+"px",a.style.top=n+"px",e.setData("currentSaturation",Math.round((l+i)/e.getData("paletteSize").width*100)),e.setData("currentBrightness",100-Math.round((n+i)/e.getData("paletteSize").height*100)),e.__setCurrentRgbCode(),e.__updateRgbInForm(),e.__changeColorInOpacityTrack(),e.__setOpacityColorPreviewDiv(),e.executeOnChange(),e.setData("clickOnPaletteInProgress",!1),o=null,a=null,i=null}},__moveOnHueBar:function(t,e){if(e){if("mousedown"!=t.type&&"mousemove"!=t.type||t.preventDefault(),1!=e.getData("hueStatus"))return;e.setData("dragged",!0),document.all&&(t=event);var o,i=e.getData("sliderOffset"),a=e.getData("poxXHue");"mousedown"!=t.type&&"mousemove"!=t.type||(o=t.clientX+document.documentElement.scrollLeft-a-i),"touchstart"!=t.type&&"touchmove"!=t.type||(o=t.touches[0].clientX+document.documentElement.scrollLeft-a-i),o>e.getData("hueBarSize")-i&&(o=e.getData("hueBarSize")-i),o<0-i&&(o=0-i),(e.getData("ltPropInline")?e.$node:e.childComp).querySelector(".colorSlider_sliderHandle").style.left=o+"px";var l=Math.round((e.getData("hueBarSize")-(o+i))*(360/e.getData("hueBarSize")));360==l&&(l=0),e.setData("currentHue",l),e.__setCurrentRgbCode(),e.__setPaletteBgColor(),e.__updateRgbInForm(),e.__changeColorInOpacityTrack(),e.__setOpacityColorPreviewDiv(),e.executeOnChange()}},__moveOnOpacityTrack:function(t,e){if(e){if("mousedown"!=t.type&&"mousemove"!=t.type||t.preventDefault(),1!=e.getData("opacityStatus"))return;document.all&&(t=event);var o,i=e.getData("posXOpacity"),a=e.getData("sliderOffset");"mousedown"!=t.type&&"mousemove"!=t.type||(o=t.clientX+document.documentElement.scrollLeft-i-a),"touchstart"!=t.type&&"touchmove"!=t.type||(o=t.touches[0].clientX+document.documentElement.scrollLeft-i-a),o>e.getData("opacityTrackSize")-a&&(o=e.getData("opacityTrackSize")-a),o<0-a&&(o=0-a);var l=parseInt((o+a)/e.getData("opacityTrackSize")*100);(e.getData("ltPropInline")?e.$node:e.childComp).querySelector(".opacityslider__circlethumb").style.left=o+"px",e.setData("opacity",l),e.__setOpacityColorPreviewDiv(),e.__updateOpacityInForm(),e.executeOnChange()}},__endDrag:function(t,e){if(e&&e.$node){if(0==e.getData("dragStatus")&&0==e.getData("hueStatus")&&0==e.getData("opacityStatus"))return;"mouseup"==t.type&&(document.removeEventListener("mousemove",mm),document.removeEventListener("mouseup",mu),mm=void 0,mu=void 0),"touchend"==t.type&&(document.removeEventListener("touchmove",tm),document.removeEventListener("touchend",te),tm=void 0,te=void 0),ColorPicker_EventUtil.__stopPropagation=!0,1==e.getData("dragStatus")&&e.__updateRgbInForm(),e.setData("dragStatus",0),e.setData("hueStatus",0),e.setData("opacityStatus",0),e.executeOnSelect(t)}ColorPicker_Util.component=null}};function dtslctscroll(t){if(!t||"resize"!=t.type||!_lyteUiUtils.isMobile)for(var e=document.querySelectorAll("lyte-drop-box:not(.lyteDropdownHidden)"),o=0;o<e.length;o++){var i=e[o];if(i&&i.origindd.parent){var a=i.origindd.parent.component;"orientationchange"==t.type?setTimeout(a.setCss.bind(a),500):a.setCss.call(a)}}}function addEvent(t){var e,o,i,a,l=0;document.addEventListener("mouseup",function(t){for(var e,o=t.target;o.parentElement;)if("lyte-dragdrop"==(o=o.parentElement).tagName.toLowerCase()){e=o.component;break}if(e&&e.getData("isDown"))if(e.setData("isDown",!1),e.getData("isMoved")){if(e.setData("isMoved",!1),e.onBeforeDropFunction(t)){if(e.getData("ltPropMultiselect")&&e.getData("multiSelectedItems").length>1){for(var i=(u=e.getData("placeholder")).getBoundingClientRect(),a=e.getData("multiSelectedItems"),n=0;n<a.length;n++)a[n].style.visibility="hidden";for(document.elementFromPoint(i.left,i.top-4),n=0;n<a.length;n++)a[n].style.visibility="visible";var r="sortableSec"==a[0].parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist",s="sortableSec"==u.parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist",d=[];for(n=0;n<a.length;n++)d.push(e.getElement(a[n]));for(var p=0;p<d.length;p++)Lyte.arrayUtils(e.getData(r),"removeAt",e.getElementPosition(e.getData(r),d[p]),1);for(var c=u.previousElementSibling;c&&"TEMPLATE"==c.tagName;)c=c.previousElementSibling;if(c)Lyte.arrayUtils(e.getData(s),"insertAt",e.getElementPosition(e.getData(s),e.getElement(c))+1,d);else{for(var h=u.nextElementSibling;h&&"TEMPLATE"==h.tagName;)h=h.nextElementSibling;h?Lyte.arrayUtils(e.getData(s),"insertAt",e.getElementPosition(e.getData(s),e.getElement(h)),d):Lyte.arrayUtils(e.getData(s),"push",d)}u.parentElement.removeChild(u),e.setData("multiSelectedItems",[]),e.setData("prevMode",""),e.setData("keyPressed",!1),e.setData("keyValue",""),e.setData("placeholder",""),e.generateArray(),l=0}else{var u,y=e.getData("div"),m=e.getElement(y),g=(c=(u=e.getData("placeholder")).previousElementSibling,"sortableSec"==y.parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist");for(s="sortableSec"==u.parentElement.id?"ltPropAvailablelist":"ltPropSelectedlist";c&&"TEMPLATE"==c.tagName;)c=c.previousElementSibling;if(c)Lyte.arrayUtils(e.getData(g),"removeAt",e.getElementPosition(e.getData(g),m),1),Lyte.arrayUtils(e.getData(s),"insertAt",e.getElementPosition(e.getData(s),e.getElement(c))+1,m);else{for(h=u.nextElementSibling;h&&("TEMPLATE"==h.tagName||h.isEqualNode(y));)h=h.nextElementSibling;h?(Lyte.arrayUtils(e.getData(g),"removeAt",e.getElementPosition(e.getData(g),m),1),Lyte.arrayUtils(e.getData(s),"insertAt",e.getElementPosition(e.getData(s),e.getElement(h)),m)):(Lyte.arrayUtils(e.getData(g),"removeAt",e.getElementPosition(e.getData(g),m),1),Lyte.arrayUtils(e.getData(s),"push",m))}e.$node.querySelector("#sortableSec").contains(e.$node.querySelector("#dummy"))&&e.$node.querySelector("#sortableSec").removeChild(e.$node.querySelector("#dummy")),e.getData("ltPropDraggable")&&e.$node.querySelector("#dropSec").contains(e.$node.querySelector("#dummy"))&&e.$node.querySelector("#dropSec").removeChild(e.$node.querySelector("#dummy")),e.removeDropable(y),e.generateArray()}e.onDropFunction(t)}else{if(e.getData("ltPropMultiselect")&&e.getData("multiSelectedItems").length>1){for(a=e.getData("multiSelectedItems"),p=0;p<a.length;p++)e.removeStyle(a[p]),a[p].classList.remove("lyteDraggableElem");e.removeDropableMultiple(a),e.setData("multiSelectedItems",[]),e.setData("prevMode",""),e.setData("keyPressed",!1),e.setData("keyValue",""),e.setData("placeholder",""),l=0}else e.removeStyle(e.getData("div")),e.getData("div").classList.remove("lyteDraggableElem"),e.removeDropable(e.getData("div"));e.getData("placeholder").remove()}}else{y=e.getData("div");if(e.getData("placeholder").parentElement.replaceChild(y,e.getData("placeholder")),e.$node.querySelector("#sortableSec").contains(e.$node.querySelector("#dummy"))&&e.$node.querySelector("#sortableSec").removeChild(e.$node.querySelector("#dummy")),e.getData("ltPropDraggable")&&e.$node.querySelector("#dropSec").contains(e.$node.querySelector("#dummy"))&&e.$node.querySelector("#dropSec").removeChild(e.$node.querySelector("#dummy")),e.removeStyle(y),e.getData("checkSelection")){var f=e.getData("keyValue");91!=f&&93!=f&&224!=f||(y.classList.remove("lyteDraggableElem"),e.removeFromArray(y)),16==f&&(e.removeClass(),e.setData("multiSelectedItems",[]),e.addToArray(y,"multiple"),e.setData("prevMode","multiple")),0==f&&(e.removeClass(),e.setData("multiSelectedItems",[]),e.getData("multiSelectedItems").push(y),y.classList.add("lyteDraggableElem"),e.setData("prevMode","single")),e.setData("checkSelection",!1)}}else{var v=document.querySelectorAll(".lyteDraggableElem");if(v)for(p=0;p<v.length;p++)v[p].classList.remove("lyteDraggableElem")}},!1),document.addEventListener("mousemove",function(t){for(var n,r=t.target;r.parentElement;)if("lyte-dragdrop"==(r=r.parentElement).tagName.toLowerCase()){n=r.component;break}if(n&&n.getData("isDown")){n.setData("isMoved",!0);var s=n.getData("div"),d=s.offsetParent.getBoundingClientRect(),p=s.getBoundingClientRect(),c=p.width,h=p.height;if(e={x:t.clientX,y:t.clientY},s.style.left=e.x-n.getData("offset")[0]-d.left+"px",s.style.top=e.y-n.getData("offset")[1]-d.top+"px",n.getData("ltPropMultiselect")&&n.getData("multiSelectedItems").length>1){for(var u=n.getData("multiSelectedItems"),y=u.indexOf(s),m=y-1;m>=0;m--)u[m].style.left=s.offsetLeft+"px",u[m].style.top=u[m+1].offsetTop-h+"px",u[m].style.boxSizing="border-box",u[m].style.width=c+"px",u[m].style.height=h+"px",u[m].style.position="absolute",u[m].classList.add("lyteDraggableElem");for(m=y+1;m<u.length;m++)u[m].style.left=s.offsetLeft+"px",u[m].style.top=u[m-1].offsetTop+h+"px",u[m].style.boxSizing="border-box",u[m].style.width=c+"px",u[m].style.height=h+"px",u[m].style.position="absolute",u[m].classList.add("lyteDraggableElem");var g=n.getData("placeholder"),f=u.length*h;f>g.getBoundingClientRect().height&&(document.getElementById("sortableSec").contains(document.getElementById("dummy"))&&document.getElementById("sortableSec").removeChild(document.getElementById("dummy")),n.getData("ltPropDraggable")&&document.getElementById("dropSec").contains(document.getElementById("dummy"))&&document.getElementById("dropSec").removeChild(document.getElementById("dummy")),g.style.height=f+"px",g.classList.add("lyteDragDropDropable"),n.setData("placeholder",g),s.parentElement.insertBefore(n.getData("placeholder"),s));var v=n.getTopNBottom("top"),b=n.getTopNBottom("bottom"),D=(g.getBoundingClientRect(),g.parentElement.getBoundingClientRect());if(p=s.getBoundingClientRect(),v<D.top&&g.parentElement.scrollTop>0&&g.parentElement.scrollTop<=g.parentElement.scrollHeight-D.height&&(g.parentElement.scrollTop-=D.top-v),b>D.bottom&&g.parentElement.scrollTop<=g.parentElement.scrollHeight-D.height&&(g.parentElement.scrollTop+=b-D.bottom),n.makeDroppableMultiple(u),elementAtLeft=document.elementFromPoint(p.left-1,t.clientY),elementAtRight=document.elementFromPoint(p.right+1,t.clientY),dropablePlaceLeft=elementAtLeft.closest(".dropable"),dropablePlaceRight=elementAtRight.closest(".dropable"),!n.getData("left")&&dropablePlaceLeft&&p.left<dropablePlaceLeft.getBoundingClientRect().right-p.width/2)p.bottom>dropablePlaceLeft.getBoundingClientRect().bottom?dropablePlaceLeft.after(g):dropablePlaceLeft.parentElement.insertBefore(g,dropablePlaceLeft),n.setData("left",!0),n.setData("right",!1),a="left";else if(!n.getData("right")&&dropablePlaceRight&&p.right>dropablePlaceRight.getBoundingClientRect().left+p.width/2)p.bottom>dropablePlaceRight.getBoundingClientRect().bottom?dropablePlaceRight.after(g):dropablePlaceRight.parentElement.insertBefore(g,dropablePlaceRight),n.setData("right",!0),n.setData("left",!1),a="right";else if(elementAtLeft&&n.checkElement(elementAtLeft)&&n.checkPossiblePosition(elementAtLeft,"multiple")&&p.left<elementAtLeft.getBoundingClientRect().right-p.width/2)elementAtLeft.appendChild(g),n.setData("left",!1),n.setData("right",!1);else if(elementAtRight&&n.checkElement(elementAtRight)&&n.checkPossiblePosition(elementAtRight,"multiple")&&p.right>elementAtRight.getBoundingClientRect().left+p.width/2)elementAtRight.appendChild(g),n.setData("left",!1),n.setData("right",!1);else if(v<l){if(!(o="left"==a?document.elementFromPoint(p.left,v-1):"right"==a?document.elementFromPoint(p.right,v-1):document.elementFromPoint(t.clientX,v-1)))return;if((i=o.closest(".dropable"))&&(p.left>i.parentElement.getBoundingClientRect().right-p.width/2||p.right<i.parentElement.getBoundingClientRect().left+p.width/2))return;i&&i!=n.$node.querySelector("#dummy")&&v<i.getBoundingClientRect().bottom-16&&i.parentElement.insertBefore(g,i),"sortableSec"!==o.id&&"dropSec"!==o.id||!n.checkIfDroppable(o,"multiple")||o.appendChild(g)}else{if(!(o="left"==a?document.elementFromPoint(p.left,b+1):"right"==a?document.elementFromPoint(p.right,b+1):document.elementFromPoint(t.clientX,b+1)))return;if((i=o.closest(".dropable"))&&(p.left>i.parentElement.getBoundingClientRect().right-p.width/2||p.right<i.parentElement.getBoundingClientRect().left+p.width/2))return;i&&i!=n.$node.querySelector("#dummy")&&b>=i.getBoundingClientRect().top+16&&i.after(g),"sortableSec"!==o.id&&"dropSec"!==o.id||!n.checkIfDroppable(o,"multiple")||o.appendChild(g)}l=v}else{D=(g=n.getData("placeholder")).parentElement.getBoundingClientRect();if((p=s.getBoundingClientRect()).top<D.top&&g.parentElement.scrollTop>0&&g.parentElement.scrollTop<=g.parentElement.scrollHeight-D.height&&(g.parentElement.scrollTop-=D.top-p.top),p.bottom>D.bottom&&g.parentElement.scrollTop<=g.parentElement.scrollHeight-D.height&&(g.parentElement.scrollTop+=p.bottom-D.bottom),n.makeDroppable(s),elementAtLeft=document.elementFromPoint(p.left-1,t.clientY),elementAtRight=document.elementFromPoint(p.right+1,t.clientY),droppableLeft=elementAtLeft.closest(".dropable"),droppableRight=elementAtRight.closest(".dropable"),maxAllowableWidth=p.width/2,droppableLeft&&p.left<droppableLeft.getBoundingClientRect().right-maxAllowableWidth)p.bottom>droppableLeft.getBoundingClientRect().bottom?droppableLeft.after(g):droppableLeft.parentElement.insertBefore(g,droppableLeft);else if(droppableRight&&p.right>droppableRight.getBoundingClientRect().left+maxAllowableWidth)p.bottom>droppableRight.getBoundingClientRect().bottom?droppableRight.after(g):droppableRight.parentElement.insertBefore(g,droppableRight);else if(elementAtLeft&&n.checkElement(elementAtLeft)&&n.checkPossiblePosition(elementAtLeft,"single")&&p.left<elementAtLeft.getBoundingClientRect().right-maxAllowableWidth)elementAtLeft.appendChild(g);else if(elementAtRight&&n.checkElement(elementAtRight)&&n.checkPossiblePosition(elementAtRight,"single")&&p.right>elementAtRight.getBoundingClientRect().left+maxAllowableWidth)elementAtRight.appendChild(g);else{if(s.style.visibility="hidden",o=document.elementFromPoint(t.clientX,t.clientY),s.style.visibility="visible",!o)return;if((i=o.closest(".dropable"))&&(p.left>i.getBoundingClientRect().right-maxAllowableWidth||p.right<i.getBoundingClientRect().left+maxAllowableWidth))return;i&&i!=n.$node.querySelector("#dummy")&&(p.top<i.getBoundingClientRect().top&&i.parentElement.insertBefore(g,i),p.bottom>i.getBoundingClientRect().bottom&&i.after(g)),"sortableSec"!==o.id&&"dropSec"!==o.id||!n.checkIfDroppable(o,"single")||o.appendChild(g)}n.getData("placeholder").classList.add("lyteDragDropDropable")}n.onDragFunction(t)}},!1),document.addEventListener("keydown",function(t){for(var e=document.querySelectorAll("lyte-dragdrop"),o=0;o<e.length;o++){var i=e[o].component;i.setData("keyPressed",!0);var a=t.which;i.setData("keyValue",a)}},!1),document.addEventListener("keyup",function(t){for(var e=document.querySelectorAll("lyte-dragdrop"),o=0;o<e.length;o++){var i=e[o].component;i.setData("keyPressed",!1),i.setData("keyValue",0)}},!1)}function _lyteInput(t){for(var e=window._lyteUiUtils.input,o=Object.keys(e||{}),i=0;i<o.length;i++){var a=e[o[i]].component;"click"==t.type?a.calenderClickHide.call(a,t):a.scrollFunc.call(a,t)}}Lyte.Component.register("lyte-colorpicker",{_template:'<template tag-name="lyte-colorpicker">\n\t<template is="if" value="{{ltPropInline}}"><template case="true">\n\t<div class="lyteColorPicker">\n\t\t<div class="lyteColorPicker__showhidecontainer">\n\t\t\t<template is="if" value="{{ltPropBasicColorPicker}}"><template case="true">\n\t\t\t\t<div class="lyteColorPicker__default">\n\t\t\t\t\t<template is="if" value="{{ltPropNoFillButton}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__nocolorbutton" onclick="{{action(&quot;noFillExecute&quot;,event)}}">\n\t\t\t\t\t\t<span class="lyteColorPicker__noFill">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="lyteColorPicker__text">{{ltPropNoFillLabel}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<template is="if" value="{{ltPropUsedColors}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__palettecontainer usedColor__container">\n\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{lyteUiI18n("Recently.Used.Colors")}}</div>\n\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t<ul class="used__colors">\n\t\t\t\t\t\t\t\t<template is="for" items="{{usedColors}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiCPInsertBreak(indexVal)}}"><template case="true">\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<div class="lyteColorPicker__palettecontainer LCP_predefinedPallete">\n\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{ltPropPaletteLabel}}</div>\n\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<template is="for" items="{{availableColors}}" item="colorArray" index="indexVal">\n\t\t\t\t\t\t\t\t<ul class="lyteColorPicker__shades default__colors">\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{colorArray}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{ltPropStandardColors}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__palettecontainer LCP_standardColorCont">\n\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{lyteUiI18n("Standard.Colors")}}</div>\n\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t<ul class="standard__colors">\n\t\t\t\t\t\t\t\t<template is="for" items="{{ltPropStandardColorArray}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<template is="if" value="{{ltPropAdvancedColorButton}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__navigatable lyteColorPicker__morecolorbutton" onclick="{{action(&quot;goToAdvancedCP&quot;,event)}}">\n\t\t\t\t\t\t<span class="lyteColorPicker__icon"></span>\n\t\t\t\t\t\t<span class="lyteColorPicker__text">{{lyteUiI18n("Advanced.Colors")}}</span>\n\t\t\t\t\t\t<span class="lyteColorpickerForwardArrow h-alignright LCP_rightArrow"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t</div>\n\t\t\t</template><template case="false">\n\t\t\t\t<div class="lyteColorPicker--advanced">\n                    <div class="lyteColorPicker__maparea">\n                        <div class="colorDiv" id="colorDiv">\n                            <div id="lyteCPImgDiv"></div>\n                            <div class="colorSlider_palette_circle colorSlider_palette_circleBlack"></div>\n                        </div>\n                    </div>\n\t\t\t\t\t<div class="lyteColorPicker__previewDiv lyteColorPicker__sliderDiv">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class="colorSlider_hue">\n\t\t\t\t\t\t\t\t<div class="colorSlider_sliderHandle">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="colorSlider_hueBar_border">\n\t\t\t\t\t\t\t\t\t<div class="colorSlider_hueBar"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="lyteColorPicker__opacityslider">\n\t\t\t\t\t\t\t\t<div class="opacityslider__circlethumb"></div>\n\t\t\t\t\t\t\t\t<div class="lyteColorPicker__transparentbg">\n\t\t\t\t\t\t\t\t\t<div class="opacityslider__track"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="lyteCP__transparentbg">\n\t\t\t\t\t\t\t<div class="previewDiv" onmouseover="{{action(&quot;onOverColorPreviewDiv&quot;,event)}}" onclick="{{action(&quot;copyValueToClipboard&quot;)}}" lt-prop-title="{{lyteUiI18n(\'Copy.Color.value.to.Clipboard\')}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;}"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="lyteColorPicker__previewDiv">\n\t\t\t\t\t\t<div class="selectFormat">\n\t\t\t\t\t\t\t<lyte-dropdown class="cPDropDown" lt-prop-yield="true" lt-prop-tabindex="1" on-option-selected="{{method(&quot;changeFormatView&quot;)}}">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="yield">\n\t\t\t\t\t\t\t\t\t<lyte-drop-button class="colorPickerDD">\n\t\t\t\t\t\t\t\t\t\t<span class="lyteMarginRight">{{dropButtonValue}}</span>\n\t\t\t\t\t\t\t\t\t\t<lyte-icon class="dropdown"></lyte-icon>\n\t\t\t\t\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t\t\t\t\t\t<lyte-drop-box class="lyteCPDropbox">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-body>\n\t\t\t\t\t\t\t\t\t\t\t<template is="for" items="{{ltPropColorFormats}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item}}"> {{item}} </lyte-drop-item>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</lyte-drop-body>\n\t\t\t\t\t\t\t\t\t</lyte-drop-box>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-dropdown>\n\t\t\t\t\t\t</div><div class="showValue">\n                            <lyte-table lt-prop-yield="true" class="cpValFormatIp" lt-prop-prevent-scrollbar="true">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="yield">\n\t\t\t\t\t\t\t\t\t<lyte-table-structure>\n\t\t\t\t\t\t\t\t\t\t<lyte-tbody>\n\t\t\t\t\t\t\t\t\t\t\t<template is="switch" value="{{dropButtonValue}}"><template case="HEX">\n\t\t\t\t\t\t                            <lyte-tr>\n\t\t\t\t\t\t                                <lyte-td>\n\t\t\t\t\t\t                                    <lyte-input id="lyteCPShowValue" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="7" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;HEX&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                                <lyte-td>\n\t\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                            </lyte-tr>\n\t\t\t\t\t\t                            <lyte-tr class="lyteCPHexText">\n\t\t\t\t\t\t                                <lyte-td>HEX</lyte-td>\n\t\t\t\t\t\t                                <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                            </lyte-tr>\n\t\t\t\t\t\t                        </template><template case="RGB">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__R" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;R&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;R&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__G" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;G&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;G&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__B" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;B&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;B&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>R</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>G</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>B</lyte-td>\n\t\t\t\t\t\t                            <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template><template case="HSV">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__H" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;H&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;H&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__S" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;S&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;S&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__V" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;V&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;V&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>H</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>S</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>V</lyte-td>\n\t\t\t\t\t\t                            <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template><template case="CMYK">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__C" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;C&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;C&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__M" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;M&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;M&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__Y" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;Y&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;Y&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__K" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;K&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;K&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>C</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>M</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>Y</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>K</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template></template>\n\t\t\t\t\t\t\t\t\t\t</lyte-tbody> \n\t\t\t\t\t\t\t\t\t</lyte-table-structure>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-table>\n                        </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{moreColorOptionSelected}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__commandbar">\n\t\t\t\t\t\t<lyte-button class="LCP_backbtn" lt-prop-size="small" lt-prop-appearance="default" onclick="{{action(&quot;fromAdvCPtoBasic&quot;,event)}}">\n\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropBackBtnText}}</template>\n\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t</div>\n\t\t\t</template></template>\n\t\t</div>\n\t</div>\n\t</template><template case="false">\n\t\t<lyte-popover class="lyteColorPicker popColorPicker" on-close="{{method(&quot;closePopColorPicker&quot;)}}" on-show="{{method(&quot;showColorPickerPopover&quot;,event)}}">\n\t\t\t<template is="registerYield" yield-name="popover">\n\t\t\t\t<lyte-popover-content class="lyteColorPicker__showhidecontainer">\n\t\t\t\t\t<template is="if" value="{{ltPropBasicColorPicker}}"><template case="true">\n\t\t\t\t\t<div class="lyteColorPicker__default">\n\t\t\t\t\t\t<template is="if" value="{{ltPropNoFillButton}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorPicker__nocolorbutton" onclick="{{action(&quot;noFillExecute&quot;,event)}}">\n\t\t\t\t\t\t\t<span class="lyteColorPicker__noFill">\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class="lyteColorPicker__text">{{ltPropNoFillLabel}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<template is="if" value="{{ltPropUsedColors}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorPicker__palettecontainer usedColor__container">\n\t\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{lyteUiI18n("Recently.Used.Colors")}}</div>\n\t\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t\t<ul class="used__colors">\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{usedColors}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiCPInsertBreak(indexVal)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<div class="lyteColorPicker__palettecontainer LCP_predefinedPallete">\n\t\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{ltPropPaletteLabel}}</div>\n\t\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{availableColors}}" item="colorArray" index="indexVal">\n\t\t\t\t\t\t\t\t\t<ul class="lyteColorPicker__shades default__colors">\n\t\t\t\t\t\t\t\t\t\t<template is="for" items="{{colorArray}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<template is="if" value="{{ltPropStandardColors}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorPicker__palettecontainer LCP_standardColorCont">\n\t\t\t\t\t\t\t<div class="lyteColorPicker__paletteheading">{{lyteUiI18n("Standard.Colors")}}</div>\n\t\t\t\t\t\t\t<div class="lyteColorPicker__palette">\n\t\t\t\t\t\t\t\t<ul class="standard__colors">\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{ltPropStandardColorArray}}" item="color" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li class="lyteColorPicker__colorpan" lt-prop-title="{{lyteUiRgbToHex(color)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;,&quot;showdelay&quot; : &quot;1000&quot;}" onclick="{{action(&quot;selectColor&quot;, event, color)}}">{{color}}</li>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<template is="if" value="{{ltPropAdvancedColorButton}}"><template case="true">\n\t\t\t\t\t\t<div class="lyteColorPicker__navigatable lyteColorPicker__morecolorbutton" onclick="{{action(&quot;goToAdvancedCP&quot;,event)}}">\n\t\t\t\t\t\t\t<span class="lyteColorPicker__icon"></span>\n\t\t\t\t\t\t\t<span class="lyteColorPicker__text">{{lyteUiI18n("Advanced.Colors")}}</span>\n\t\t\t\t\t\t\t<span class="lyteColorpickerForwardArrow h-alignright LCP_rightArrow">\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</div>\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t<div class="lyteColorPicker--advanced">\n                        <div class="lyteColorPicker__maparea">\n                            <div class="colorDiv" id="colorDiv">\n                                <div id="lyteCPImgDiv"></div>\n                                <div class="colorSlider_palette_circle colorSlider_palette_circleBlack"></div>\n                            </div>\n                        </div>\n\t\t\t\t\t\t<div class="lyteColorPicker__previewDiv lyteColorPicker__sliderDiv">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="colorSlider_hue">\n\t\t\t\t\t\t\t\t\t<div class="colorSlider_sliderHandle">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="colorSlider_hueBar_border">\n\t\t\t\t\t\t\t\t\t\t<div class="colorSlider_hueBar"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="lyteColorPicker__opacityslider">\n\t\t\t\t\t\t\t\t\t<div class="opacityslider__circlethumb"></div>\n\t\t\t\t\t\t\t\t\t<div class="lyteColorPicker__transparentbg">\n\t\t\t\t\t\t\t\t\t\t<div class="opacityslider__track"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="lyteCP__transparentbg">\n\t\t\t\t\t\t\t\t<div class="previewDiv" onmouseover="{{action(&quot;onOverColorPreviewDiv&quot;,event)}}" onclick="{{action(&quot;copyValueToClipboard&quot;)}}" lt-prop-title="{{lyteUiI18n(\'Copy.Color.value.to.Clipboard\')}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;bottom&quot;}"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="lyteColorPicker__previewDiv">\n\t\t\t\t\t\t\t<div class="selectFormat">\n\t\t\t\t\t\t\t\t<lyte-dropdown class="cPDropDown" lt-prop-yield="true" lt-prop-tabindex="1" on-option-selected="{{method(&quot;changeFormatView&quot;)}}">\n\t\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="yield">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-button class="colorPickerDD">\n\t\t\t\t\t\t\t\t\t\t\t<span class="lyteMarginRight">{{dropButtonValue}}</span>\n\t\t\t\t\t\t\t\t\t\t\t<lyte-icon class="dropdown"></lyte-icon>\n\t\t\t\t\t\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-box class="lyteCPDropbox">\n\t\t\t\t\t\t\t\t\t\t\t<lyte-drop-body>\n\t\t\t\t\t\t\t\t\t\t\t\t<template is="for" items="{{ltPropColorFormats}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item}}"> {{item}} </lyte-drop-item>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</lyte-drop-body>\n\t\t\t\t\t\t\t\t\t\t</lyte-drop-box>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</lyte-dropdown>\n\t\t\t\t\t\t\t</div><div class="showValue">\n                                <lyte-table lt-prop-yield="true" class="cpValFormatIp" lt-prop-prevent-scrollbar="true">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="yield">\n\t\t\t\t\t\t\t\t\t<lyte-table-structure>\n\t\t\t\t\t\t\t\t\t\t<lyte-tbody>\n\t\t\t\t\t\t\t\t\t\t\t<template is="switch" value="{{dropButtonValue}}"><template case="HEX">\n\t\t\t\t\t\t                            <lyte-tr>\n\t\t\t\t\t\t                                <lyte-td>\n\t\t\t\t\t\t                                    <lyte-input id="lyteCPShowValue" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="7" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;HEX&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                                <lyte-td>\n\t\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                            </lyte-tr>\n\t\t\t\t\t\t                            <lyte-tr class="lyteCPHexText">\n\t\t\t\t\t\t                                <lyte-td>HEX</lyte-td>\n\t\t\t\t\t\t                                <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                            </lyte-tr>\n\t\t\t\t\t\t                        </template><template case="RGB">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__R" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;R&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;R&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__G" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;G&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;G&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__B" lt-prop-type="text" lt-prop-appearance="box" lt-prop-direction="vertical" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;B&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;B&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>R</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>G</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>B</lyte-td>\n\t\t\t\t\t\t                            <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template><template case="HSV">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__H" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;H&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;H&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__S" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;S&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;S&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__V" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;V&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;V&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t                                    <lyte-input id="lyteCP__A" lt-prop-type="text" lt-prop-appearance="box" lt-prop-maxlength="3" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;A&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;alpha&quot;)}}" lt-prop-direction="vertical"> </lyte-input>\n\t\t\t\t\t                                </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>H</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>S</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>V</lyte-td>\n\t\t\t\t\t\t                            <lyte-td class="lyteColorPicker_alpha">Alpha</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template><template case="CMYK">\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__C" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;C&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;C&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__M" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;M&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;M&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__Y" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;Y&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;Y&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                            <lyte-td>\n\t\t\t\t\t\t                                <lyte-input id="lyteCP__K" class="lyteCP_CMYK" lt-prop-type="text" lt-prop-maxlength="3" lt-prop-appearance="box" lt-prop-direction="vertical" onkeydown="{{action(&quot;inputKeyDown&quot;, event, this, &quot;K&quot;)}}" on-value-change="{{method(&quot;inputValueChanged&quot;,&quot;K&quot;)}}"> </lyte-input>\n\t\t\t\t\t\t                            </lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                        <lyte-tr>\n\t\t\t\t\t\t                            <lyte-td>C</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>M</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>Y</lyte-td>\n\t\t\t\t\t\t                            <lyte-td>K</lyte-td>\n\t\t\t\t\t\t                        </lyte-tr>\n\t\t\t\t\t\t                    </template></template>\n\t\t\t\t\t\t\t\t\t\t</lyte-tbody> \n\t\t\t\t\t\t\t\t\t</lyte-table-structure>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-table>\n                            </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="lyteColorPicker__commandbar">\n\t\t\t\t\t\t\t<template is="if" value="{{moreColorOptionSelected}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-button class="LCP_backbtn" lt-prop-size="small" lt-prop-appearance="default" onclick="{{action(&quot;fromAdvCPtoBasic&quot;,event)}}">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropBackBtnText}}</template>\n\t\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t\t<lyte-button class="LCP_done" lt-prop-size="small" lt-prop-appearance="primary" onclick="{{action(&quot;callOnSelect&quot;,event,true)}}">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropDoneBtnText}}</template>\n\t\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(ltPropCloseOnSelection,\'!\')}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-button class="LCP_cancel" lt-prop-size="small" style="margin-left: auto; margin-right: 7px;" lt-prop-appearance="default" onclick="{{action(&quot;closeColorPicker&quot;,event)}}">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropCancelBtnText}}</template>\n\t\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t\t<lyte-button class="LCP_done" lt-prop-size="small" lt-prop-appearance="primary" onclick="{{action(&quot;callOnSelect&quot;,event,true)}}">\n\t\t\t\t\t\t\t\t<template is="registerYield" yield-name="text">{{ltPropApplyBtnText}}</template>\n\t\t\t\t\t\t\t</lyte-button>\n\t\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t</template></template>\n\t\t\t\t</lyte-popover-content>\n\t\t\t</template>\n\t\t</lyte-popover>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3,1,1]},{type:"for",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[]}},default:{}}]}]}},default:{}},{type:"text",position:[1,5,1,0]},{type:"attr",position:[1,5,3,1,1]},{type:"for",position:[1,5,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3,1,1]},{type:"for",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1,3,3,1]},{type:"attr",position:[1,5,1,1]},{type:"registerYield",position:[1,5,1,1,1],dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1,5,1,1]},{type:"registerYield",position:[1,5,2,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"switch",position:[1,1,1],cases:{HEX:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3]}]},RGB:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]},HSV:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]},CMYK:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,5,2,1]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3,1,1]},{type:"for",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[]}},default:{}}]}]}},default:{}},{type:"text",position:[1,5,1,0]},{type:"attr",position:[1,5,3,1,1]},{type:"for",position:[1,5,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"attr",position:[1,3,1,1]},{type:"for",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1,3,3,1]},{type:"attr",position:[1,5,1,1]},{type:"registerYield",position:[1,5,1,1,1],dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1,5,1,1]},{type:"registerYield",position:[1,5,2,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"switch",position:[1,1,1],cases:{HEX:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3]}]},RGB:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]},HSV:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]},CMYK:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"componentDynamic",position:[1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5,1]},{type:"componentDynamic",position:[1,5,1]},{type:"componentDynamic",position:[1,5]},{type:"attr",position:[1,7,1]},{type:"componentDynamic",position:[1,7,1]},{type:"componentDynamic",position:[1,7]},{type:"componentDynamic",position:[1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3,3]},{type:"componentDynamic",position:[3,5]},{type:"componentDynamic",position:[3,7]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,5,2,1]},{type:"attr",position:[1,7,1]},{type:"if",position:[1,7,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[3]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropDraggable","ltPropCloseOnBodyClick","ltPropCloseOnSelection","ltPropAdvancedColorButton","ltPropAppearance","ltPropStandardColors","ltPropUsedColors","ltPropBasicColorPicker","ltPropSelectedColor","ltPropOriginElement","ltPropWrapperClass","ltPropCurrentRgbCode","ltPropBoundary","ltPropScrollable","ltPropNoFillButton","ltPropNoFillLabel","ltPropPaletteLabel","ltPropInline","ltPropColorFormats","ltPropDoneBtnText","ltPropCancelBtnText","ltPropBackBtnText","ltPropApplyBtnText","ltPropStandardColorArray","ltPropDuration","ltPropBoardColor","stopObserverOnBoardColorChange","moreColorOptionSelected","availableColors","usedColors","polygonPoints","noFillPath","moreColorsPath","currentHue","currentBrightness","currentSaturation","paletteSize","circleOffsetSize","circleOffsetBecauseOfWinWidget","posdivElPalette","dragStatus","paletteMaxX","paletteMaxY","clickOnPaletteInProgress","component","hueStatus","poxYHue","poxXHue","dropButtonValue","basicDimensions","calledForHueMove","advCPDimensions","changedColor","tooltipTextChanged","inputChangeEvnt","hueBarSize","opacityStatus","opacityTrackSize","posXOpacity","opacity","sliderOffset","dragged"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropCloseOnBodyClick:Lyte.attr("boolean",{default:!0}),ltPropCloseOnSelection:Lyte.attr("boolean",{default:!1}),ltPropAdvancedColorButton:Lyte.attr("boolean",{default:!0}),ltPropAppearance:Lyte.attr("string",{default:"callout"}),ltPropStandardColors:Lyte.attr("boolean",{default:!0}),ltPropUsedColors:Lyte.attr("boolean",{default:!0}),ltPropBasicColorPicker:Lyte.attr("boolean",{default:!0}),ltPropSelectedColor:Lyte.attr("object",{default:null}),ltPropOriginElement:Lyte.attr("string",{default:""}),ltPropWrapperClass:Lyte.attr("string",{default:"lyteColorPickerPopover"}),ltPropCurrentRgbCode:Lyte.attr("string",{default:"90c3d4"}),ltPropBoundary:Lyte.attr("object",{default:null}),ltPropScrollable:Lyte.attr("boolean",{default:!0}),ltPropNoFillButton:Lyte.attr("boolean",{default:!1}),ltPropNoFillLabel:Lyte.attr("string",{default:""}),ltPropPaletteLabel:Lyte.attr("string",{default:""}),ltPropInline:Lyte.attr("boolean",{default:!1}),ltPropColorFormats:Lyte.attr("array",{default:["HEX","RGB","HSV","CMYK"]}),ltPropDoneBtnText:Lyte.attr("string",{default:"Done"}),ltPropCancelBtnText:Lyte.attr("string",{default:"Cancel"}),ltPropBackBtnText:Lyte.attr("string",{default:"Back"}),ltPropApplyBtnText:Lyte.attr("string",{default:"Apply"}),ltPropStandardColorArray:Lyte.attr("array",{default:[]}),ltPropDuration:Lyte.attr("number",{default:600}),ltPropBoardColor:Lyte.attr("string",{default:"#90c3d4"}),stopObserverOnBoardColorChange:Lyte.attr("boolean",{default:!1}),moreColorOptionSelected:Lyte.attr("boolean",{default:!1}),availableColors:Lyte.attr("array",{default:[]}),usedColors:Lyte.attr("array",{default:["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)"]}),polygonPoints:Lyte.attr("string",{default:"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5"}),noFillPath:Lyte.attr("string",{default:"M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M8,1c1.8,0,3.3,0.7,4.6,1.7l-9.9,9.9C1.7,11.3,1,9.8,1,8 C1,4.1,4.1,1,8,1z M8,15c-1.8,0-3.3-0.7-4.6-1.7l9.9-9.9C14.3,4.7,15,6.2,15,8C15,11.9,11.9,15,8,15z"}),moreColorsPath:Lyte.attr("string",{default:"M299.7-0.2C128.3-0.2-7,134,0.2,305.2C7.4,476.9,138,577.3,259.7,595.9c88.2,13.4,107.8-45.1,87.3-67.3 c-35.5-38.3-22.6-68.6-7.3-82.5c17.4-15.7,50.3-17.3,77.3-13.8c65.5,8.5,175-40,182.2-144.8C611,116.5,471.1-0.2,299.7-0.2z M118.1,299.7c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1 C168.2,277.3,145.8,299.7,118.1,299.7z M217.6,166.6c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1 c27.7,0,50.1,22.4,50.1,50.1C267.7,144.1,245.2,166.6,217.6,166.6z M384.9,166.9c-27.7,0-50.1-22.4-50.1-50.1 c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C435,144.4,412.6,166.9,384.9,166.9z M485.2,299.9 c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C535.2,277.5,512.8,299.9,485.2,299.9z"}),currentHue:Lyte.attr("number",{default:0}),currentBrightness:Lyte.attr("number",{default:100}),currentSaturation:Lyte.attr("number",{default:100}),paletteSize:Lyte.attr("object"),circleOffsetSize:Lyte.attr("number",{default:6}),circleOffsetBecauseOfWinWidget:Lyte.attr("number",{default:0}),posdivElPalette:Lyte.attr("object",{default:{}}),dragStatus:Lyte.attr("number",{default:0}),paletteMaxX:Lyte.attr("number",{default:0}),paletteMaxY:Lyte.attr("number",{default:0}),clickOnPaletteInProgress:Lyte.attr("boolean",{default:!1}),component:Lyte.attr("object",{default:null}),hueStatus:Lyte.attr("number",{default:0}),poxYHue:Lyte.attr("number",{default:0}),poxXHue:Lyte.attr("number",{default:0}),dropButtonValue:Lyte.attr("string",{default:"HEX"}),basicDimensions:Lyte.attr("object",{default:{width:222,height:362}}),calledForHueMove:Lyte.attr("boolean",{default:!1}),advCPDimensions:Lyte.attr("object",{default:{width:280,height:322}}),changedColor:Lyte.attr("object"),tooltipTextChanged:Lyte.attr("boolean",{default:!1}),inputChangeEvnt:Lyte.attr("boolean",{default:!1}),hueBarSize:Lyte.attr("number"),opacityStatus:Lyte.attr("number",{default:0}),opacityTrackSize:Lyte.attr("number"),posXOpacity:Lyte.attr("number",{default:0}),opacity:Lyte.attr("number"),sliderOffset:Lyte.attr("number",{default:4}),dragged:Lyte.attr("boolean",{default:!1})}},init:function(){this.setData("availableColors",[["rgb(255, 255, 255)","rgb(239, 22, 22)","rgb(239, 130, 22)","rgb(239, 177, 22)","rgb(93, 195, 90)","rgb(56, 215, 187)","rgb(22, 208, 239)","rgb(57, 142, 243)","rgb(197, 22, 239)","rgb(239, 22, 111)"],["rgb(230, 230, 230)","rgb(253, 232, 232)","rgb(253, 243, 232)","rgb(253, 247, 232)","rgb(239, 249, 239)","rgb(235, 251, 248)","rgb(232, 250, 253)","rgb(235, 244, 254)","rgb(249, 232, 253)","rgb(253, 232, 241)"],["rgb(204, 204, 204)","rgb(252, 208, 208)","rgb(252, 230, 208)","rgb(252, 239, 208)","rgb(223, 243, 222)","rgb(215, 247, 241)","rgb(208, 246, 252)","rgb(215, 232, 253)","rgb(243, 208, 252)","rgb(252, 208, 226)"],["rgb(153, 153, 153)","rgb(249, 162, 162)","rgb(249, 205, 162)","rgb(249, 224, 162)","rgb(190, 231, 189)","rgb(175, 239, 228)","rgb(162, 236, 249)","rgb(176, 210, 250)","rgb(232, 162, 249)","rgb(249, 162, 197)"],["rgb(102, 102, 102)","rgb(245, 115, 115)","rgb(245, 180, 115)","rgb(245, 208, 115)","rgb(158, 219, 156)","rgb(136, 231, 214)","rgb(115, 227, 245)","rgb(136, 187, 248)","rgb(220, 115, 245)","rgb(245, 115, 169)"],["rgb(51, 51, 51)","rgb(242, 69, 69)","rgb(242, 155, 69)","rgb(242, 193, 69)","rgb(125, 207, 123)","rgb(96, 223, 201)","rgb(69, 217, 242)","rgb(97, 165, 245)","rgb(209, 69, 242)","rgb(242, 69, 140)"],["rgb(25, 25, 25)","rgb(171, 12, 12)","rgb(171, 91, 12)","rgb(171, 125, 12)","rgb(56, 146, 53)","rgb(32, 158, 136)","rgb(12, 148, 171)","rgb(12, 97, 198)","rgb(140, 12, 171)","rgb(171, 12, 77)"],["rgb(0, 0, 0)","rgb(73, 5, 5)","rgb(73, 39, 5)","rgb(73, 54, 5)","rgb(24, 63, 23)","rgb(14, 68, 58)","rgb(5, 64, 73)","rgb(5, 42, 85)","rgb(60, 5, 73)","rgb(73, 5, 33)"]]),this.setData("ltPropStandardColorArray",["rgb(192, 0, 0)","rgb(255, 0, 0)","rgb(255, 192, 0)","rgb(255, 255, 0)","rgb(146, 208, 80)","rgb(0, 176, 80)","rgb(0, 176, 240)","rgb(0, 112, 192)","rgb(0, 32, 96)","rgb(112, 48, 160)"])},showColorPicker:function(){if(this.getData("ltPropNoFillLabel")||this.setData("ltPropNoFillLabel",_lyteUiUtils.i18n("No.Fill")),this.getData("ltPropPaletteLabel")||this.setData("ltPropPaletteLabel",_lyteUiUtils.i18n("Theme.Colors")),this.getData("ltPropInline"))this.$node.style.display="inline-block",this.getData("ltPropColorFormats").length>0&&this.setData("dropButtonValue",this.getData("ltPropColorFormats")[0]),this.getData("ltPropBasicColorPicker")?this.initializeBasicColorPicker(event||window.event,this.$node):(this.inputEle=document.createElement("input"),this.inputEle.id="lyteCPHiddenInput",document.body.append(this.inputEle),this.inputEle.style.top="-100px",this.inputEle.style.position="absolute",this.initializeAdvColorPicker(event||window.event,this.$node));else if(this.getData("ltPropShow"))this.getData("ltPropColorFormats").length>0&&this.setData("dropButtonValue",this.getData("ltPropColorFormats")[0]),this.$node.querySelector(".popColorPicker").ltProp("showCloseButton",!1),this.getData("ltPropBoundary")&&this.$node.querySelector(".popColorPicker").ltProp("boundary",this.getData("ltPropBoundary")),this.$node.querySelector(".popColorPicker").ltProp({windowSpacing:{left:1,right:1,top:1,bottom:1},contentPadding:"0px",originElem:this.getData("ltPropOriginElement"),wrapperClass:this.getData("ltPropWrapperClass"),type:this.getData("ltPropAppearance"),duration:this.getData("ltPropDuration"),closeOnBodyClick:!1,freeze:!1,scrollable:this.getData("ltPropScrollable"),draggable:!1,show:!0}),this.executeOnBeforeOpen();else{var t=document.querySelector("."+this.getData("ltPropWrapperClass"));t&&t.classList.contains("lyteColorpickerVisible")&&t.classList.remove("lyteColorpickerVisible"),this.$node.querySelector(".popColorPicker").ltProp&&this.$node.querySelector(".popColorPicker").ltProp("show",!1)}this.setData("component",this)}.observes("ltPropShow","ltPropInline").on("didConnect"),observeColorChange:function(){console.log(this.getData("ltPropBoardColor")),this.getData("ltPropBasicColorPicker")||this.getData("stopObserverOnBoardColorChange")||(console.log("triggered boardColor change"),this.__setCurrentRgbCodeFromBoardColor(),this.__updateRgbInForm(),/rgba/.test(this.getData("ltPropBoardColor"))&&this.__updateOpacityInForm()),this.getData("stopObserverOnBoardColorChange")&&this.setData("stopObserverOnBoardColorChange",!1)}.observes("ltPropBoardColor"),initializeAdvColorPicker:function(t,e){e.querySelector("#lyteCPImgDiv");var o=e.querySelector("#colorDiv");e.querySelector(".colorSlider_palette_circle");e.querySelector(".colorSlider_hue").addEventListener("mousedown",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initHueMove(t,ColorPicker_Util.component)}),o.addEventListener("mousedown",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initPaletteMove(t,ColorPicker_Util.component)}),e.querySelector(".colorSlider_hueBar").addEventListener("mousedown",function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnHueBar(t,ColorPicker_Util.component)}),e.querySelector(".colorSlider_hue").addEventListener("touchstart",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initHueMove(t,ColorPicker_Util.component)}),o.addEventListener("touchstart",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initPaletteMove(t,ColorPicker_Util.component)}),e.querySelector(".colorSlider_hueBar").addEventListener("touchstart",function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnHueBar(t,ColorPicker_Util.component)}),e.querySelector(".lyteColorPicker__opacityslider").addEventListener("mousedown",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initOpacityMove(t,ColorPicker_Util.component)}),e.querySelector(".lyteColorPicker__opacityslider").addEventListener("touchstart",function(t){return ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__initOpacityMove(t,ColorPicker_Util.component)}),e.querySelector(".opacityslider__track").addEventListener("mousedown",function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnOpacityTrack(t,ColorPicker_Util.component)}),e.querySelector(".opacityslider__track").addEventListener("touchstart",function(t){ColorPicker_Util.component=ColorPicker_Util.getColorPicker(t.target).component,ColorPicker_EventUtil.__moveOnOpacityTrack(t,ColorPicker_Util.component)}),this.setData("paletteSize",{height:o.offsetHeight,width:o.offsetWidth}),this.setData("hueBarSize",e.querySelector(".colorSlider_hueBar").offsetWidth),this.setData("opacityTrackSize",e.querySelector(".opacityslider__track").offsetWidth),(void 0===this.getData("opacity")||this.getData("opacity")&&this.getData("opacity")<0)&&this.setData("opacity",100),this.getData("ltPropBoardColor")&&this.__setCurrentRgbCodeFromBoardColor(),this.getData("inputChangeEvnt")&&this.setData("inputChangeEvnt",!1),this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode")),e=null,o=null},initializeBasicColorPicker:function(t,e){for(var o=e.querySelectorAll(".default__colors > li"),i=0;i<o.length;i++)o[i].style.background=o[i].textContent;if(this.getData("ltPropStandardColors")){o=e.querySelectorAll(".standard__colors > li");for(i=0;i<o.length;i++)o[i].style.background=o[i].textContent}if(this.getData("ltPropUsedColors")){o=e.querySelectorAll(".used__colors > li");for(i=0;i<o.length;i++)o[i].style.background=o[i].textContent}if(this.getData("ltPropColorPreview")&&this.getData("ltPropCurrentRgbCode"))ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode"));o=null},executeOnBeforeOpen:function(){this.getMethods("onBeforeOpen")&&this.executeMethod("onBeforeOpen",this)},executeOnSelect:function(t,e){var o=this.getData("usedColors");this.__setSelectedColor();var i=this.getData("ltPropSelectedColor").rgba;-1!=o.indexOf(i)?Lyte.arrayUtils(this.getData("usedColors"),"removeAt",o.indexOf(i),1):Lyte.arrayUtils(this.getData("usedColors"),"removeAt",9,1),Lyte.arrayUtils(this.getData("usedColors"),"insertAt",0,i);var a=(this.getData("ltPropInline")?this.$node:this.childComp).querySelectorAll(".usedColor__container li")[0];a&&(a.style.background=i),this.getMethods("onSelect")&&this.executeMethod("onSelect",t,this.getData("ltPropSelectedColor"),this),(this.getData("ltPropCloseOnSelection")&&this.getData("ltPropBasicColorPicker")||!0===e)&&!this.getData("calledForHueMove")&&this.setData("ltPropShow",!1),this.getData("calledForHueMove")&&this.setData("calledForHueMove",!1)},executeOnOpen:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen",this)},executeOnClose:function(t){if(this&&this.inputEle){var e=this.inputEle;this.inputEle=null,e.remove()}this.getMethods("onClose")&&this.executeMethod("onClose",t,this)},executeOnChange:function(){this.__setSelectedColor(),this.getMethods("onChange")&&this.executeMethod("onChange",event,this.getData("ltPropSelectedColor"),this)},__setSelectedColor:function(){var t=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode")),e={hex:"#"+this.getData("ltPropCurrentRgbCode"),rgb:"rgb("+t.red+", "+t.green+", "+t.blue+")",opacity:this.getData("opacity"),"hex-alpha":"#"+this.getData("ltPropCurrentRgbCode")+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity")),rgba:"rgba("+t.red+", "+t.green+", "+t.blue+", "+this.getData("opacity")/100+")"};this.setData("ltPropSelectedColor",e)},setRgbColor:function(t){var e=ColorPicker_Util.getHsvByRgbCode(t);this.setData("currentHue",e.hue),this.setData("currentBrightness",100*e.brightness),this.setData("currentSaturation",100*e.saturation),this.__changeViewAfterColorChange(),this.__setSelectedColor()},__changeViewAfterColorChange:function(){this.__setPaletteBgColor(),this.__setSliderPos(),this.getData("inputChangeEvnt")?this.setData("inputChangeEvnt",!1):this.__updateRgbInForm(),this.__setSmallCirclePosition(),this.__changeColorInOpacityTrack(),this.__setOpacityColorPreviewDiv(),this.__updateOpacityInForm()},__setCurrentRgbCodeFromBoardColor:function(){var t=this.getData("ltPropBoardColor");if(/#/.test(t))7==t.length?this.setData("ltPropCurrentRgbCode",t.substring(1)):4==t.length&&this.setData("ltPropCurrentRgbCode",ColorPicker_Util.convert3DigitTo6DigitRgbCode(changedProp.newValue.substring(1)));else if(/rgba/.test(t)){var e=t.substring(5,t.length-1).split(",");this.setData("opacity",100*e[3]),this.setData("ltPropCurrentRgbCode",ColorPicker_Util.getRgbCodeByRgbColors(e[0],e[1],e[2]))}else if(/rgb/.test(t)){e=t.substring(4,t.length-1).split(",");this.setData("ltPropCurrentRgbCode",ColorPicker_Util.getRgbCodeByRgbColors(e[0],e[1],e[2]))}},__setCurrentRgbCode:function(t){var e=t||ColorPicker_Util.getRgbCodeByHsv(this.getData("currentHue"),this.getData("currentSaturation")/100,this.getData("currentBrightness")/100);this.setData("stopObserverOnBoardColorChange",!0),this.setData("ltPropBoardColor","#"+e),this.setData("ltPropCurrentRgbCode",e)},__setPaletteBgColor:function(){try{this.getData("ltPropInline")?this.$node.querySelector("#colorDiv").style.backgroundColor="#"+ColorPicker_Util.getRgbCodeByHsv(this.getData("currentHue"),1,1):this.childComp.querySelector("#colorDiv").style.backgroundColor="#"+ColorPicker_Util.getRgbCodeByHsv(this.getData("currentHue"),1,1)}catch(t){}},__setSliderPos:function(){var t=Math.round(this.getData("hueBarSize")-this.getData("currentHue")/360*this.getData("hueBarSize"));this.getData("ltPropInline")?this.$node.querySelector(".colorSlider_sliderHandle").style.left=t-this.getData("sliderOffset")+"px":this.childComp.querySelector(".colorSlider_sliderHandle").style.left=t-this.getData("sliderOffset")+"px"},__setSmallCirclePosition:function(){var t=this.getData("currentBrightness"),e=this.getData("currentSaturation"),o=this.getData("paletteSize"),i=this.getData("circleOffsetSize"),a=this.getData("ltPropInline")?this.$node.querySelector(".colorSlider_palette_circle"):this.childComp.querySelector(".colorSlider_palette_circle"),l=Math.round(e*(o.width/100))-i,n=o.height-Math.round(t*(o.height/100))-i;a.style.left=l+"px",a.style.top=n+"px",a.className=a.className.replace("colorSlider_palette_circleBlack",""),t>80&&(a.className=a.className+"colorSlider_palette_circleBlack"),a=null},__ffHackWinWidget:function(){var t=this.getData("ltPropInline")?this.$node:this.childComp;t.querySelector(".lyteColorPicker--advanced").parentNode.className&&t.querySelector(".lyteColorPicker--advanced").parentNode.className.indexOf("windowContent")>=0&&!document.all&&this.setData("circleOffsetBecauseOfWinWidget",0)},__setBgColorPreviewDiv:function(){this.getData("ltPropInline")?this.$node.querySelector(".previewDiv").style.backgroundColor="#"+this.getData("ltPropCurrentRgbCode"):this.childComp.querySelector(".previewDiv").style.backgroundColor="#"+this.getData("ltPropCurrentRgbCode")},__updateRgbInForm:function(){var t=this.getData("ltPropInline")?this.$node:this.childComp,e=t.querySelector(".selectFormat").querySelector("lyte-dropdown").getData("ltPropSelected");if(this.setData("dropButtonValue",e),"HEX"===e)t.querySelector("#lyteCPShowValue").setData("ltPropValue","#"+this.getData("ltPropCurrentRgbCode")),document.getElementById("lyteCPHiddenInput").value="#"+this.getData("ltPropCurrentRgbCode")+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity"));else if("RGB"===e){var o=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode"));t.querySelector("#lyteCP__R").component.setData("ltPropValue",o.red+""),t.querySelector("#lyteCP__G").component.setData("ltPropValue",o.green+""),t.querySelector("#lyteCP__B").component.setData("ltPropValue",o.blue+""),document.getElementById("lyteCPHiddenInput").value="rgba("+o.red+", "+o.green+", "+o.blue+", "+this.getData("opacity")/100+")"}else if("HSV"===e){var i=Math.round(this.getData("currentHue")),a=Math.round(this.getData("currentSaturation")),l=Math.round(this.getData("currentBrightness"));t.querySelector("#lyteCP__H").component.setData("ltPropValue",i+""),t.querySelector("#lyteCP__S").component.setData("ltPropValue",a+""),t.querySelector("#lyteCP__V").component.setData("ltPropValue",l+""),document.getElementById("lyteCPHiddenInput").value="hsv("+i+"°,"+a+"%,"+l+"%,"+this.getData("opacity")/100+")"}else if("CMYK"===e){o=ColorPicker_Util.getRgbColorsByHsv(this.getData("currentHue"),this.getData("currentSaturation")/100,this.getData("currentBrightness")/100);var n=ColorPicker_Util.getCmykByRgbColors([o.red,o.green,o.blue]);t.querySelector("#lyteCP__C").component.setData("ltPropValue",Math.round(100*n[0])+""),t.querySelector("#lyteCP__M").component.setData("ltPropValue",Math.round(100*n[1])+""),t.querySelector("#lyteCP__Y").component.setData("ltPropValue",Math.round(100*n[2])+""),t.querySelector("#lyteCP__K").component.setData("ltPropValue",Math.round(100*n[3])+""),document.getElementById("lyteCPHiddenInput").value="cmyk("+Math.round(100*n[0])+"%,"+Math.round(100*n[1])+"%,"+Math.round(100*n[2])+"%,"+Math.round(100*n[3])+"%)"}},__setOpacitySliderPos:function(){var t=this.getData("ltPropInline")?this.$node:this.childComp,e=this.getData("opacity")*this.getData("opacityTrackSize")/100;t.querySelector(".opacityslider__circlethumb").style.left=e-this.getData("sliderOffset")+"px"},__changeColorInOpacityTrack:function(){(this.getData("ltPropInline")?this.$node:this.childComp).querySelector(".opacityslider__track").style.backgroundImage="linear-gradient(to right, transparent, #"+this.getData("ltPropCurrentRgbCode")+")"},__setOpacityColorPreviewDiv:function(){var t=this.getData("ltPropInline")?this.$node:this.childComp,e=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode"));t.querySelector(".previewDiv").style.backgroundColor="rgba("+e.red+","+e.green+","+e.blue+","+this.getData("opacity")/100+")"},__updateOpacityInForm:function(){var t=this.getData("ltPropInline")?this.$node:this.childComp;if(t.querySelector("#lyteCP__A")){if(t.querySelector("#lyteCP__A").component.setData("ltPropValue",this.getData("opacity")),"HEX"==this.getData("dropButtonValue")&&(document.getElementById("lyteCPHiddenInput").value="#"+this.getData("ltPropCurrentRgbCode")+ColorPicker_Util.getDecimalToHexAlphaCode(this.getData("opacity"))),"RGB"==this.getData("dropButtonValue")){var e=ColorPicker_Util.getRgbColorsByRgbCode(this.getData("ltPropCurrentRgbCode"));document.getElementById("lyteCPHiddenInput").value="rgba("+e.red+", "+e.green+", "+e.blue+", "+this.getData("opacity")/100+")"}if("HSV"==this.getData("dropButtonValue")){var o=Math.round(this.getData("currentHue")),i=Math.round(this.getData("currentSaturation")),a=Math.round(this.getData("currentBrightness"));document.getElementById("lyteCPHiddenInput").value="hsv("+o+"°,"+i+"%,"+a+"%,"+this.getData("opacity")/100+")"}}},didDestroy:function(){this.tId&&(clearInterval(this.tId),this.tId=!1)},methods:{inputValueChanged:function(t,e){var o=this.getData("ltPropInline")?this.$node:this.childComp;if("HEX"===t&&(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e.newValue)?(this.setData("inputChangeEvnt",!0),7==e.newValue.length?this.__setCurrentRgbCode(e.newValue.substring(1)):4==e.newValue.length&&this.__setCurrentRgbCode(ColorPicker_Util.convert3DigitTo6DigitRgbCode(e.newValue.substring(1))),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")?this.setData("dragged",!1):this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode"))):/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e.newValue)&&(this.setData("inputChangeEvnt",!0),6==e.newValue.length?this.__setCurrentRgbCode(e.newValue):3==e.newValue.length&&this.__setCurrentRgbCode(ColorPicker_Util.convert3DigitTo6DigitRgbCode(e.newValue)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")?this.setData("dragged",!1):this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode")))),"R"===t||"G"===t||"B"===t){this.setData("inputChangeEvnt",!0);var i=o.querySelector("#lyteCP__R").component.getData("ltPropValue"),a=o.querySelector("#lyteCP__G").component.getData("ltPropValue"),l=o.querySelector("#lyteCP__B").component.getData("ltPropValue");i&&a&&l&&(this.__setCurrentRgbCode(ColorPicker_Util.getRgbCodeByRgbColors(i,a,l)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")?this.setData("dragged",!1):this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode")))}if("H"===t||"S"===t||"V"===t){this.setData("inputChangeEvnt",!0);var n=o.querySelector("#lyteCP__H").component.getData("ltPropValue"),r=o.querySelector("#lyteCP__S").component.getData("ltPropValue"),s=o.querySelector("#lyteCP__V").component.getData("ltPropValue");n&&r&&s&&(this.__setCurrentRgbCode(ColorPicker_Util.getRgbCodeByHsv(n,r,s)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")?this.setData("dragged",!1):this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode")))}if("C"===t||"M"===t||"Y"===t||"K"===t){this.setData("inputChangeEvnt",!0);var d=o.querySelector("#lyteCP__C").component.getData("ltPropValue"),p=o.querySelector("#lyteCP__M").component.getData("ltPropValue"),c=o.querySelector("#lyteCP__Y").component.getData("ltPropValue");k=o.querySelector("#lyteCP__K").component.getData("ltPropValue"),d&&p&&c&&k&&(this.__setCurrentRgbCode(ColorPicker_Util.getRgbCodeByCmyk(d,p,c,k)),this.getData("dragged")||1==this.getData("dragStatus")||1==this.getData("hueStatus")?this.setData("dragged",!1):this.setRgbColor("#"+this.getData("ltPropCurrentRgbCode")))}if("alpha"===t){var h=o.querySelector("#lyteCP__A").component.getData("ltPropValue");h&&(this.setData("opacity",parseInt(h)),1!=this.getData("opacityStatus")&&(this.__setOpacitySliderPos(),this.__setOpacityColorPreviewDiv()))}},closePopColorPicker:function(){if(this.executeOnClose(),this.getData("moreColorOptionSelected")){var t=this;t.tId=setTimeout(function(){t.setData("ltPropBasicColorPicker",!0),t.setData("moreColorOptionSelected",!1),t.tId=!1},400)}this.setData("ltPropShow",!1)},showColorPickerPopover:function(){this.childComp=this.$node.querySelector("lyte-popover").component.childComp;var t=document.querySelector("."+this.getData("ltPropWrapperClass"));if(t.classList.add("lyteColorpickerVisible"),t.querySelector("lyte-popover-content").style.height="auto",this.getData("ltPropBasicColorPicker")?this.initializeBasicColorPicker(event,t):(this.inputEle=document.createElement("input"),this.inputEle.id="lyteCPHiddenInput",document.body.append(this.inputEle),this.inputEle.style.top="-100px",this.inputEle.style.position="absolute",this.initializeAdvColorPicker(event,t)),this.getData("ltPropDraggable")){var e=t.querySelector(".lytePopover"),o=t.querySelector("lyte-popover-header")||t.querySelector("lyte-popover-content");e.id="draggableColor",o.id="draghandle",$L("#draggableColor").draggable({handle:["#draghandle"]})}this.$node.querySelector("lyte-popover").component.computeOffsetImpl(),this.executeOnOpen(),t=null},changeFormatView:function(t,e){"LYTE-DROP-BOX"==t.currentTarget.tagName&&this.__updateRgbInForm()}},actions:{inputKeyDown:function(t,e,o){if((t.keyCode||t.which)>=48&&(t.keyCode||t.which)<=57||8==(t.keyCode||t.which)||(t.keyCode||t.which)>=37&&(t.keyCode||t.which)<=40){var i=e.querySelector("input"),a=i.selectionStart,l=i.value;if(8==(t.keyCode||t.which))a==l.length?l=l.slice(0,-1):a>0&&(l=l.slice(0,a-1)+l.slice(a));else{var n=t.key;l=l.slice(0,a)+n+l.slice(a)}"R"==o||"G"==o||"B"==o?l&&(parseInt(l)<0||parseInt(l)>255)&&(t.preventDefault(),t.stopPropagation()):"H"==o?l&&(parseInt(l)<0||parseInt(l)>359)&&(t.preventDefault(),t.stopPropagation()):"S"!=o&&"V"!=o&&"C"!=o&&"M"!=o&&"Y"!=o&&"K"!=o&&"A"!=o||l&&(parseInt(l)<0||parseInt(l)>100)&&(t.preventDefault(),t.stopPropagation())}else t.preventDefault(),t.stopPropagation()},callOnSelect:function(t,e){this.executeOnSelect(t,e)},selectColor:function(t,e){var o,i;"rgba(0, 0, 0, 0)"!=e&&((o=this.getData("ltPropInline")?this.$node.querySelector(".lyteColorPicker").querySelector(".lyteCPSelectedColor"):document.querySelector("."+this.getData("ltPropWrapperClass")).querySelector(".lyteCPSelectedColor"))&&o.classList.remove("lyteCPSelectedColor"),t.target.classList.add("lyteCPSelectedColor"),/rgba/.test(e)?(i=e.substring(5,e.length-1).split(","),this.setData("opacity",100*i[3])):(i=e.substring(4,e.length-1).split(","),this.setData("opacity",100)),this.__setCurrentRgbCode(ColorPicker_Util.getRgbCodeByRgbColors(i[0],i[1],i[2])),this.__setSelectedColor(),this.executeOnSelect(t))},goToAdvancedCP:function(t){var e,o=this.getData("ltPropSelectedColor");null!=o&&this.setData("ltPropCurrentRgbCode",o.hex?o.hex.substring(1):"FF0000"),this.setData("moreColorOptionSelected",!0);var i=this.getData("advCPDimensions");if(this.getData("ltPropInline"))e=this.$node.querySelector(".lyteColorPicker"),this.setData("ltPropBasicColorPicker",!1);else{var a=(e=document.querySelector("."+this.getData("ltPropWrapperClass"))).querySelector(".lytePopover"),l=a.getBoundingClientRect(),n=l.height;this.setData("basicDimensions",{width:l.width,height:n}),a.style.width=i.width+"px",a.style.maxWidth=i.width+"px",this.setData("ltPropBasicColorPicker",!1),this.$node.querySelector("lyte-popover").component.computeOffsetImpl(),l=null,n=null,a=null}this.inputEle=document.createElement("input"),this.inputEle.id="lyteCPHiddenInput",document.body.append(this.inputEle),this.inputEle.style.top="-100px",this.inputEle.style.position="absolute",this.initializeAdvColorPicker(t,e),e=null,o=null,i=null},noFillExecute:function(t){var e={hex:void 0,rgb:"transparent",opacity:0};this.setData("ltPropSelectedColor",e),this.getMethods("onSelect")&&this.executeMethod("onSelect",t,this.getData("ltPropSelectedColor"),this),this.getData("ltPropCloseOnSelection")&&!this.getData("calledForHueMove")&&this.setData("ltPropShow",!1)},defaultColorExecute:function(t){var e="rgb(0, 0, 0)",o=e.substring(4,e.length-1).split(","),i={hex:"#"+ColorPicker_Util.getRgbCodeByRgbColors(o[0],o[1],o[2]),rgb:e,opacity:this.getData("opacity")};this.setData("ltPropSelectedColor",i),this.executeOnSelect(t)},closeColorPicker:function(t){this.executeOnClose(t),this.setData("ltPropShow",!1)},fromAdvCPtoBasic:function(t){var e;this.setData("moreColorOptionSelected",!1);var o=this.getData("basicDimensions");if(this.getData("ltPropInline"))e=this.$node.querySelector(".lyteColorPicker"),this.setData("ltPropBasicColorPicker",!0);else{var i=(e=document.querySelector("."+this.getData("ltPropWrapperClass"))).querySelector(".lytePopover");i.querySelector("lyte-popover-content");i.style.width=o.width+"px",i.style.maxWidth=o.width+"px",this.setData("ltPropBasicColorPicker",!0),this.$node.querySelector("lyte-popover").component.computeOffsetImpl()}if(this.inputEle){var a=this.inputEle;this.inputEle=null,a.remove()}this.initializeBasicColorPicker(t,e),i=null},copyValueToClipboard:function(t){var e=this.getData("ltPropInline")?this.$node:this.childComp;e.querySelector("lyte-dropdown").ltProp("selected");document.getElementById("lyteCPHiddenInput").select();try{document.execCommand("copy");this.getData("tooltipTextChanged")||(e.querySelector(".previewDiv").setAttribute("lt-prop-title","Color value copied.!"),this.setData("tooltipTextChanged",!0),e.querySelector(".previewDiv").dispatchEvent(new Event("mousemove")))}catch(t){}},onOverColorPreviewDiv:function(t){var e=this.getData("ltPropInline")?this.$node:this.childComp;this.getData("tooltipTextChanged")&&(e.querySelector(".previewDiv").setAttribute("lt-prop-title",_lyteUiUtils.i18n("Copy.Color.value.to.Clipboard")),this.setData("tooltipTextChanged",!1))}}}),document.addEventListener("click",function(t){if(ColorPicker_EventUtil.__stopPropagation)ColorPicker_EventUtil.__stopPropagation=!1;else{for(var e=t.target;!e.classList.contains("lyteColorpickerVisible")&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName){var o=document.querySelector(".lyteColorpickerVisible");o&&o.parentElement.parentElement._callee.parentElement.component.getData("ltPropCloseOnBodyClick")&&o.parentElement.parentElement._callee.parentElement.ltProp("show",!1)}}},!0),Lyte.Component.register("lyte-counter",{_template:'<template tag-name="lyte-counter">\n\t<div class="counterDiv {{ltPropClass}}">\n\t\t<span class="counterNegative">{{negative}}</span>\n\t\t<span class="counterPrefix">{{ltPropPrefix}}</span>\n\t\t<span class="counterValue">{{result}}</span>\n\t\t<span class="counterSuffix">{{ltPropSuffix}}</span>\n\t</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"text",position:[1,3,0]},{type:"text",position:[1,5,0]},{type:"text",position:[1,7,0]}],_observedAttributes:["ltPropStart","ltPropEnd","ltPropPrefix","ltPropSuffix","ltPropDecimals","ltPropDuration","ltPropUseEasing","ltPropUseGrouping","ltPropSeparator","ltPropDecimalSeparator","ltPropState","ltPropClass","negative","startValue","endValue","result"],data:function(){return{ltPropStart:Lyte.attr("number",{default:0}),ltPropEnd:Lyte.attr("number",{default:0}),ltPropPrefix:Lyte.attr("string",{default:""}),ltPropSuffix:Lyte.attr("string",{default:""}),ltPropDecimals:Lyte.attr("number",{default:0}),ltPropDuration:Lyte.attr("number",{default:2}),ltPropUseEasing:Lyte.attr("boolean",{default:!0}),ltPropUseGrouping:Lyte.attr("boolean",{default:!0}),ltPropSeparator:Lyte.attr("string",{default:","}),ltPropDecimalSeparator:Lyte.attr("string",{default:"."}),ltPropState:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),negative:Lyte.attr("string",{default:""}),startValue:Lyte.attr("number",{default:0}),endValue:Lyte.attr("number"),result:Lyte.attr("string")}},didConnect:function(){if(this._rAFId&&window.cancelAnimationFrame(this._rAFId),this._initialized=!1,""===this.getData("seperator")&&this.getData("ltPropUseGrouping",!1),null==this.getData("ltPropEnd"))throw new TypeError('"endValue" is null or not defined');if(!this.checkForNumber(Number(this.getData("ltPropStart"))))throw new TypeError('"Start Value" is not a number');if(!this.checkForNumber(Number(this.getData("ltPropEnd"))))throw new TypeError('"End Value" is not a number');this._startVal=Number(this.getData("ltPropStart")),this._endVal=Number(this.getData("ltPropEnd")),delete this._startTime,delete this._paused,this.initialize(),"START"==this.getData("ltPropState").toUpperCase()&&this.start()},stateObs:function(){"START"==this.getData("ltPropState").toUpperCase()?this.start():"RESET"==this.getData("ltPropState").toUpperCase()?this.reset():"PAUSE"==this.getData("ltPropState").toUpperCase()?this._initialized&&(this._paused=!0,cancelAnimationFrame(this._rAFId)):"RESUME"==this.getData("ltPropState").toUpperCase()&&this._paused&&this.resume()}.observes("ltPropState"),updateObs:function(){this._endVal=Number(this.getData("ltPropEnd")),"Running"==this.getData("ltPropState")&&this.update(this.getData("ltPropEnd"))}.observes("ltPropEnd"),startObs:function(){this._rAFId&&window.cancelAnimationFrame(this._rAFId),this._initialized=!1,this._startVal=Number(this.getData("ltPropStart")),this._endVal=Number(this.getData("ltPropEnd")),delete this._startTime,delete this._paused,this.initialize()}.observes("ltPropStart"),start:function(){this._rAFId&&window.cancelAnimationFrame(this._rAFId),this._initialized=!1,delete this._startTime,delete this._paused,this.initialize(),this.setData("ltPropState","Running"),this._startVal=this.getData("ltPropStart"),this._rAFId=requestAnimationFrame(this.count.bind(this))},reset:function(){this._paused=!1,delete this._startTime,this._initialized=!1,this.setData("ltPropState",""),this.initialize()&&(window.cancelAnimationFrame(this._rAFId),this.printValue(this.getData("ltPropStart")))},update:function(t){this._initialized&&this.checkForNumber(t)&&t!==this._frameVal&&(window.cancelAnimationFrame(this._rAFId),this._paused=!1,delete this._startTime,this._startVal=this._frameVal,this.setData("ltPropEnd",t),this._endVal=t,this._endValue=this._endVal,this._countDown=this._startVal>this._endVal,this._rAFId=window.requestAnimationFrame(this.count.bind(this)))},resume:function(){this._initialized&&(this._paused=!1,delete this._startTime,this._remaining&&(this._duration=this._remaining),this._frameVal&&(this._startVal=this._frameVal),this.setData("ltPropState","running"),requestAnimationFrame(this.count.bind(this)))},count:function(){var t=(new Date).getTime();this._startTime||(this._startTime=t),this._timestamp=t;var e=t-this._startTime;if(this._remaining=this._duration-e,this.getData("ltPropUseEasing")?this._countDown?this._frameVal=this._startVal-this.executeMethod("easingFunction",e,0,this._startVal-this._endVal,this._duration):this._frameVal=this.executeMethod("easingFunction",e,this._startVal,this._endVal-this._startVal,this._duration):this._countDown?this._frameVal=this._startVal-(this._startVal-this._endVal)*(e/this._duration):this._frameVal=this._startVal+(this._endVal-this._startVal)*(e/this._duration),this._countDown?this._frameVal=this._frameVal<this._endVal?this._endVal:this._frameVal:this._frameVal=this._frameVal>this._endVal?this._endVal:this._frameVal,this._frameVal=Math.round(this._frameVal*this._dec)/this._dec,this.printValue(this._frameVal),e<=this._duration){var o=this.count.bind(this);this._rAFId=window.requestAnimationFrame(o)}else{var i=this;setTimeout(function(){i.getMethods("onComplete")&&i.executeMethod("onComplete")},100),this.setData("ltPropState",""),this._initialized=!1}},initialize:function(){return!!this._initialized||!(!this.checkForNumber(this._startVal)||!this.checkForNumber(this._endVal))&&(this._decimals=Math.max(0,this.getData("ltPropDecimals")||0),this._dec=Math.pow(10,this._decimals),this._duration=1e3*Number(this.getData("ltPropDuration"))||2e3,this._countDown=this._startVal>this._endVal,this._frameVal=this._startVal,this._initialized=!0,this.printValue(this._startVal),!0)},checkForNumber:function(t){var e=Number(t);return"number"==typeof e&&!isNaN(e)},printValue:function(t){var e=this.formatNumber(t);this.setData("result",e)},formatNumber:function(t){var e,o,i,a,l,n,r=t<0;if(t=Math.abs(t).toFixed(this.getData("ltPropDecimals")),o=(e=(t+="").split("."))[0],i=e.length>1?this.getData("ltPropDecimalSeparator")+e[1]:"",this.getData("ltPropUseGrouping")){for(a="",l=0,n=o.length;l<n;++l)0!==l&&l%3==0&&(a=this.getData("ltPropSeparator")+a),a=o[n-l-1]+a;o=a}return this.setData("negative",r?"-":""),o+i},methods:{easingFunction:function(t,e,o,i){return o*(1-Math.pow(2,-10*t/i))*1024/1023+e}}}),Lyte.Component.register("lyte-daterangepicker",{_template:'<template tag-name="lyte-daterangepicker">\n    <template is="switch" value="{{ltPropSelectionType}}"><template case="continuous">  \n        <div class="lyteDateRangePickerRow" onmousedown="{{action(\'mouseDown\',event)}}" onmouseover="{{action(\'mouseOver\',event)}}">\n            <div class="lyteDateRangePickerCol1">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar1" on-viewdate-change="{{method(\'viewDateChange\',\'cal1\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPLeftNav">\n                            <span case="true" class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'previous\',\'Y\',event)}}"></span>\n                            <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'previous\',\'M\',event)}}"></span>\n                        </div>\n                        <div class="lyteDateRPMonthHeader">\n                            \n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n            <div class="lyteDateRangePickerCol2">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar2" select-date="false" on-viewdate-change="{{method(\'viewDateChange\',\'cal2\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPMonthHeader">\n                            \n\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                        <div class="lyteDateRPRightNav">\n                            <span case="true" class="lyteCalNav lyteCaldRgt" onclick="{{action(\'next\',\'M\',event)}}"></span>\n                            <span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'next\',\'Y\',event)}}"></span>\n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n        </div>\n        </template><template case="separate">\n        <div class="lyteDateRangePickerRow lyteSeperateDRP" onmousedown="{{action(\'separateMouseDown\',event)}}">\n            <div class="lyteDateRangePickerCol1">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar1" on-viewdate-change="{{method(\'viewDateChange\',\'cal1\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPLeftNav">\n                            <span case="true" class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'separatePrevious\',\'Y\',\'cal1\',event)}}"></span>\n                            <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'separatePrevious\',\'M\',\'cal1\',event)}}"></span>\n                        </div>\n                        <div class="lyteDateRPMonthHeader">\n                            \n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames1}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal1\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years1}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                        <div class="lyteDateRPRightNav">\n                            <span case="true" class="lyteCalNav lyteCaldRgt" onclick="{{action(\'separateNext\',\'M\',\'cal1\',event)}}"></span>\n                            <span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'separateNext\',\'Y\',\'cal1\',event)}}"></span>\n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n            <div class="lyteDateRangePickerCol2">\n                <lyte-calendar nav-yield="true" lt-prop-format="{{ltPropFormat}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-fill-rows="false" class="dRPCalendar2" select-date="false" on-viewdate-change="{{method(\'viewDateChange\',\'cal2\')}}">\n                    <template is="registerYield" yield-name="navigator">\n                        <div class="lyteDateRPLeftNav">\n                            <span case="true" class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'separatePrevious\',\'Y\',\'cal2\',event)}}"></span>\n                            <span class="lyteCalNav lyteCaldLft" onclick="{{action(\'separatePrevious\',\'M\',\'cal2\',event)}}"></span>\n                        </div>\n                        <div class="lyteDateRPMonthHeader">\n                            \n\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="monthDD" lt-prop-tabindex="1" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'M\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{monthNames2}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                                <lyte-dropdown on-before-show="{{method(\'addDropdownClass\')}}" on-show="{{method(\'editArrowPosition\')}}" lt-prop-callout="true" class="yearDD" lt-prop-tabindex="2" on-option-selected="{{method(\'optionSelected\',\'cal2\',\'Y\')}}">\n                                    <template is="registerYield" yield-name="yield">\n                                        <lyte-drop-box>\n                                            <lyte-drop-body>\n                                                <template is="for" items="{{years2}}" item="item" index="index">\n                                                    <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item>\n                                                </template>\n                                            </lyte-drop-body>\n                                        </lyte-drop-box>\n                                    </template>\n                                </lyte-dropdown>\n                            \n                        </div>\n                        <div class="lyteDateRPRightNav">\n                            <span case="true" class="lyteCalNav lyteCaldRgt" onclick="{{action(\'separateNext\',\'M\',\'cal2\',event)}}"></span>\n                            <span class="lyteCalNav lyteCalyearNavRgt" onclick="{{action(\'separateNext\',\'Y\',\'cal2\',event)}}"></span>\n                        </div>\n                    </template>\n                </lyte-calendar>\n            </div>\n        </div>\n    </template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{continuous:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"registerYield",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3]}]},{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,3,1]},{type:"registerYield",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"registerYield",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[3,1]},{type:"attr",position:[3,3]}]},{type:"componentDynamic",position:[1,3,1]}]},separate:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"registerYield",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3]},{type:"attr",position:[5,1]},{type:"attr",position:[5,3]}]},{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,3,1]},{type:"registerYield",position:[1,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3]},{type:"registerYield",position:[3,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,3]},{type:"attr",position:[5,1]},{type:"attr",position:[5,3]}]},{type:"componentDynamic",position:[1,3,1]}]}},default:{}}],_observedAttributes:["monthHeader1","monthHeader2","ltPropCurrentDate","ltPropFormat","ltPropMonthHeaderFormat","shortMonthNames","longMonthNames","ltPropStartYear","ltPropEndYear","ltPropStartDate","ltPropEndDate","ltPropDisabledDates","ltPropMinDate","ltPropMaxDate","ltPropSelectionType","ltPropPosition","years","dateSelected","selectedDate1","selectedDate2","calViewDate1","calViewDate2","tempDate","monthNames","dateNode1","dateNode2","clickCount","convertedDates","convert","internallyChanged","monthNames1","monthNames2","years1","years2","triggerInit","triggerDidconnect"],data:function(){return{monthHeader1:Lyte.attr("string",{default:"Initializing.."}),monthHeader2:Lyte.attr("string",{default:"Initializing.."}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropFormat:Lyte.attr("string",{default:"MM/DD/YYYY"}),ltPropMonthHeaderFormat:Lyte.attr("string",{default:"MMM YYYY"}),shortMonthNames:Lyte.attr("array",{default:["Jan","Feb","Mar","Apr","short.may","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),longMonthNames:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),ltPropStartYear:Lyte.attr("number",{default:1900}),ltPropEndYear:Lyte.attr("number",{default:2100}),ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropDisabledDates:Lyte.attr("array",{default:[]}),ltPropMinDate:Lyte.attr("string",{default:""}),ltPropMaxDate:Lyte.attr("string",{default:""}),ltPropSelectionType:Lyte.attr("string",{default:"continuous"}),ltPropPosition:Lyte.attr("string",{default:"left"}),years:Lyte.attr("array",{default:[]}),dateSelected:Lyte.attr("boolean",{default:!1}),selectedDate1:Lyte.attr("string"),selectedDate2:Lyte.attr("string"),calViewDate1:Lyte.attr("object"),calViewDate2:Lyte.attr("object"),tempDate:Lyte.attr("string"),monthNames:Lyte.attr("array"),dateNode1:Lyte.attr("object"),dateNode2:Lyte.attr("object"),clickCount:Lyte.attr("number",{default:0}),convertedDates:Lyte.attr("array",{default:[]}),convert:Lyte.attr("number",{default:0}),internallyChanged:Lyte.attr("boolean",{default:!1}),monthNames1:Lyte.attr("array"),monthNames2:Lyte.attr("array"),years1:Lyte.attr("array",{default:[]}),years2:Lyte.attr("array",{default:[]}),triggerInit:Lyte.attr("number",{default:0}),triggerDidconnect:Lyte.attr("number",{default:0})}},initFunc:function(){for(var t=[],e=this.getData("ltPropStartYear");e<=this.getData("ltPropEndYear");e++)t.push(e);"continuous"==this.getData("ltPropSelectionType")&&this.setData("years",t),"separate"==this.getData("ltPropSelectionType")&&(this.setData("years1",t),this.setData("years2",t));var o=[];if("MMMM YYYY"===this.getData("ltPropMonthHeaderFormat"))for(e=0;e<12;e++)o.push(_lyteUiUtils.i18n(this.getData("longMonthNames")[e]));else for(e=0;e<12;e++)o.push(_lyteUiUtils.i18n(this.getData("shortMonthNames")[e]));this.setData("monthNames",o),"separate"==this.getData("ltPropSelectionType")&&(this.setData("monthNames1",o),this.setData("monthNames2",o))}.observes("ltPropStartYear","ltPropEndYear","triggerInit").on("init"),toggleSelectionType:function(){this.setData("triggerInit",this.getData("triggerInit")+1),this.setData("triggerDidconnect",this.getData("triggerDidconnect")+1)}.observes("ltPropSelectionType"),convertDisabledDates:function(){this.getData("ltPropDisabledDates").length>0&&this.checkAndMarkDisabledDates()}.observes("ltPropDisabledDates.[]","convert"),setMonths:function(){var t=[];if("MMMM YYYY"===this.getData("ltPropMonthHeaderFormat"))for(var e=0;e<12;e++)t.push(_lyteUiUtils.i18n(this.getData("longMonthNames")[e]));else for(e=0;e<12;e++)t.push(_lyteUiUtils.i18n(this.getData("shortMonthNames")[e]));"continuous"==this.getData("ltPropSelectionType")&&this.setData("monthNames",t),"separate"==this.getData("ltPropSelectionType")&&(this.setData("monthNames1",t),this.setData("monthNames2",t))}.observes("ltPropMonthHeaderFormat"),didConnectFunc:function(){var t=this.$node.querySelector(".dRPCalendar1"),e=this.$node.querySelector(".dRPCalendar2"),o=new Date,i=this.getData("ltPropCurrentDate")?this.stringToDate(this.getData("ltPropCurrentDate"),this.getData("ltPropFormat")):o;"continuous"==this.getData("ltPropSelectionType")&&this.getData("ltPropStartDate")&&this.getData("ltPropEndDate")&&(i=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat"))),"separate"==this.getData("ltPropSelectionType")&&this.getData("ltPropStartDate")&&(i=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat")),this.restrictCalendarDates("cal2",this.getData("ltPropStartDate"),"min"));var a=i.getDate(),l=i.getMonth(),n=i.getFullYear();if("continuous"==this.getData("ltPropSelectionType")){if("right"==this.getData("ltPropPosition")?((l-=1)<0&&(l=11,n-=1),t.setData("selectDate",!1),this.setMonthAndYear(t,{dd:1,mm:l,yy:n},"cal1"),t.setData("selectDate",!0)):this.setMonthAndYear(t,{dd:a,mm:l,yy:n},"cal1"),l<11?l+=1:(l=0,n+=1),"right"==this.getData("ltPropPosition")?(e.setData("selectDate",!0),this.setMonthAndYear(e,{dd:a,mm:l,yy:n}),e.setData("selectDate",!1)):this.setMonthAndYear(e,{dd:1,mm:l,yy:n}),r=this.$node.querySelector(".lyteCalSel")){if("Invalid Date"===(s=new Date(r.dataset.date)).toString()){if(!$L.moment)return void console.error("INCLUDE LYTE-MOMENT PLUGIN");s=$L.moment(r.dataset.date,this.getData("ltPropFormat").toUpperCase()).getDObj()}s.getMonth()===o.getMonth()&&s.getDate()===o.getDate()&&s.getFullYear()===o.getFullYear()&&(r.classList.remove("lyteCalSel"),r.classList.add("lyteCalToday"))}}else if("separate"==this.getData("ltPropSelectionType")){if(this.setMonthAndYear(t,{dd:a,mm:l,yy:n},"cal1"),this.getData("ltPropEndDate")){i=this.stringToDate(this.getData("ltPropEndDate"),this.getData("ltPropFormat")),this.restrictCalendarDates("cal1",this.getData("ltPropEndDate"),"max");a=i.getDate(),l=i.getMonth(),n=i.getFullYear()}var r;if(this.setMonthAndYear(e,{dd:a,mm:l,yy:n}),(r=this.$node.querySelectorAll(".lyteCalSel")).length>0){var s;if("Invalid Date"===(s=new Date(r[0].dataset.date)).toString()){if(!$L.moment)return void console.error("INCLUDE LYTE-MOMENT PLUGIN");s=$L.moment(r[0].dataset.date,this.getData("ltPropFormat").toUpperCase()).getDObj()}for(var d=0;d<r.length;d++)s.getMonth()===o.getMonth()&&s.getDate()===o.getDate()&&s.getFullYear()===o.getFullYear()&&(r[0].classList.remove("lyteCalSel"),r[0].classList.add("lyteCalToday"))}this.validateNavigationAndDropdown()}this.getData("ltPropDisabledDates").length>0&&this.setData("convert",this.getData("convert")+1),"continuous"==this.getData("ltPropSelectionType")&&this.getData("ltPropStartDate")&&this.getData("ltPropEndDate")&&(this.setData("selectedDate1",this.getData("ltPropStartDate")),this.setData("selectedDate2",this.getData("ltPropEndDate")),this.checkForSelectedDates(this.getData("ltPropStartDate"),this.getData("ltPropEndDate")))}.observes("ltPropCurrentDate","ltPropMinDate","ltPropMaxDate","triggerDidconnect").on("didConnect"),restrictCalendarDates:function(t,e,o){var i;if("cal1"==t?i=this.$node.querySelector(".dRPCalendar1"):"cal2"==t&&(i=this.$node.querySelector(".dRPCalendar2")),"min"===o){i.ltProp("minDate",e);var a=this.stringToDate(e,this.getData("ltPropFormat"));this.calculateYears(t,a.getFullYear(),this.getData("ltPropEndYear"))}else"max"==o&&(i.ltProp("maxDate",e),maxDate=this.stringToDate(e,this.getData("ltPropFormat")),this.calculateYears(t,this.getData("ltPropStartYear"),maxDate.getFullYear()))},calculateYears:function(t,e,o){for(var i=[],a=e;a<=o;a++)i.push(a);"cal1"==t&&this.setData("years1",i),"cal2"==t&&this.setData("years2",i)},changeStartAndEndDate:function(){"separate"==this.getData("ltPropSelectionType")&&(this.getData("ltPropStartDate")&&this.restrictCalendarDates("cal2",this.getData("ltPropStartDate"),"min"),this.getData("ltPropEndDate")&&this.restrictCalendarDates("cal1",this.getData("ltPropEndDate"),"max"),this.getData("ltPropStartDate")&&(this.checkAndRemoveSelectedDateClass("start"),this.checkforStartDateAndEndDate(this.$node.querySelector(".dRPCalendar1"),this.getData("ltPropStartDate"),"start")),this.getData("ltPropEndDate")&&(this.checkAndRemoveSelectedDateClass("end"),this.checkforStartDateAndEndDate(this.$node.querySelector(".dRPCalendar2"),this.getData("ltPropEndDate"),"end"))),"continuous"==this.getData("ltPropSelectionType")&&(this.getData("internallyChanged")?this.setData("internallyChanged",!1):""===this.getData("ltPropStartDate")||""===this.getData("ltPropEndDate")?(this.checkAndRemoveAllSelectedClasses(),this.removeMonthEndAndStart()):this.getData("ltPropStartDate")&&this.getData("ltPropEndDate")&&(this.setData("selectedDate1",this.getData("ltPropStartDate")),this.setData("selectedDate2",this.getData("ltPropEndDate")),this.checkForSelectedDates(this.getData("ltPropStartDate"),this.getData("ltPropEndDate"))))}.observes("ltPropStartDate","ltPropEndDate"),checkforStartDateAndEndDate:function(t,e,o){for(var i=t.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)"),a=0;a<i.length;a++)if(i[a].dataset.date==e)return"start"==o&&(i[a].classList.add("lyteDateRPFirstDateSelected"),this.setData("dateNode1",i[a])),void("end"==o&&(i[a].classList.add("lyteDateRPLastDateSelected"),this.setData("dateNode2",i[a])))},checkAndRemoveSelectedDateClass:function(t){if("start"==t){var e=this.$node.querySelector(".dRPCalendar1"),o=Array.from(e.querySelectorAll(".lyteDateRPFirstDateSelected"));if(Lyte.arrayUtils(o,"push",Array.from(this.$node.querySelectorAll(".lyteCalToday"))),Lyte.arrayUtils(o,"push",Array.from(this.$node.querySelectorAll(".lyteCalSel"))),o.length>0)for(var i=0;i<o.length;i++)o[i].classList.remove("lyteDateRPFirstDateSelected","lyteCalToday","lyteCalSel")}if("end"==t){e=this.$node.querySelector(".dRPCalendar2"),o=Array.from(e.querySelectorAll(".lyteDateRPLastDateSelected"));if(Lyte.arrayUtils(o,"push",Array.from(this.$node.querySelectorAll(".lyteCalToday"))),Lyte.arrayUtils(o,"push",Array.from(this.$node.querySelectorAll(".lyteCalSel"))),o.length>0)for(i=0;i<o.length;i++)o[i].classList.remove("lyteDateRPLastDateSelected","lyteCalToday","lyteCalSel")}},validateNavigationAndDropdown:function(){if(this.getData("ltPropStartDate")){var t=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat")),e=this.getData("calViewDate2"),o=this.$node.querySelector(".lyteDateRangePickerCol2 .lyteDateRPLeftNav");if(t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()?o.classList.add("lyteDateRPNavDisabled"):o.classList.remove("lyteDateRPNavDisabled"),t.getFullYear()===e.getFullYear())-1!=(a=(i=this.getData("monthNames2")).indexOf(this.getData("monthNames")[t.getMonth()]))&&0==a||this.calculateMonths("cal2",t.getMonth());else this.getData("monthNames2").length<12&&this.setData("monthNames2",this.getData("monthNames"))}if(this.getData("ltPropEndDate")){var i,a;t=this.stringToDate(this.getData("ltPropEndDate"),this.getData("ltPropFormat")),e=this.getData("calViewDate1"),o=this.$node.querySelector(".lyteDateRangePickerCol1 .lyteDateRPRightNav");if(t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()?o.classList.add("lyteDateRPNavDisabled"):o.classList.remove("lyteDateRPNavDisabled"),t.getFullYear()===e.getFullYear())-1!=(a=(i=this.getData("monthNames1")).indexOf(this.getData("monthNames")[t.getMonth()]))&&a==i.length-1||this.calculateMonths("cal1",t.getMonth());else this.getData("monthNames1").length<12&&this.setData("monthNames1",this.getData("monthNames"))}},calculateMonths:function(t,e){if("cal1"==t){var o=this.getData("monthNames");this.setData("monthNames1",o.slice(0,e+1))}if("cal2"==t){o=this.getData("monthNames");this.setData("monthNames2",o.slice(e))}},setMonthAndYear:function(t,e,o){t.ltProp("currentDate",this.constructDateString(e.mm+1,e.dd,e.yy)),t.setData("currentDatechanged",t.getData("currentDatechanged")+1),"separate"==this.getData("ltPropSelectionType")&&("cal1"==o&&-1==this.getData("monthNames1").indexOf(this.getData("monthNames")[e.mm])&&this.setData("monthNames1",this.getData("monthNames")),"cal2"==o&&-1==this.getData("monthNames2").indexOf(this.getData("monthNames")[e.mm])&&this.setData("monthNames2",this.getData("monthNames"))),t.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[e.mm]),t.querySelector(".yearDD").ltProp("selected",""+e.yy),"cal1"==o?this.setData("calViewDate1",t.getData("viewDate")):this.setData("calViewDate2",t.getData("viewDate"))},selectDates:function(t){var e=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)"),o=this.getData("dateNode1"),i=this.getData("dateNode2"),a=Date.parse(this.stringToDate(this.getData("selectedDate1"),this.getData("ltPropFormat"))),l=Date.parse(this.stringToDate(t,this.getData("ltPropFormat"))),n=this.$node.querySelector(".lyteDateRPTempFirstDateSelected"),r=this.$node.querySelector(".lyteDateRPTempLastDateSelected");if(n&&n.classList.remove("lyteDateRPTempFirstDateSelected"),r&&r.classList.remove("lyteDateRPTempLastDateSelected"),this.removeMonthEndAndStart(),a<l)for(var s=0;s<e.length;s++){(d=Date.parse(this.stringToDate(e[s].dataset.date,this.getData("ltPropFormat"))))>=a&&d<=l?e[s].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(e,s,a,l):(d==a?o.classList.add("lyteDateRPTempFirstDateSelected"):d==l?i.classList.add("lyteDateRPTempLastDateSelected"):e[s].classList.contains("lyteDateRPTempSelected")||e[s].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(e,s,this.getData("selectedDate1"),t)):(e[s].classList.contains("lyteDateRPTempSelected")||e[s].classList.contains("lyteCalSel"))&&e[s].classList.remove("lyteDateRPTempSelected","lyteCalSel")}else if(a>l)for(s=0;s<e.length;s++){var d;(d=Date.parse(this.stringToDate(e[s].dataset.date,this.getData("ltPropFormat"))))>=l&&d<=a?e[s].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(e,s,l,a):(d==l?i.classList.add("lyteDateRPTempFirstDateSelected"):d==a?o.classList.add("lyteDateRPTempLastDateSelected"):e[s].classList.contains("lyteDateRPTempSelected")||e[s].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(e,s,t,this.getData("selectedDate1"))):(e[s].classList.contains("lyteDateRPTempSelected")||e[s].classList.contains("lyteCalSel"))&&e[s].classList.remove("lyteDateRPTempSelected","lyteCalSel")}else this.checkAndRemoveAllSelectedClasses(),this.setData("selectedDate1",t),i.classList.add("lyteDateRPTempFirstDateSelected","lyteDateRPTempLastDateSelected"),this.checkForMonthEndAndStart(e,Array.from(e).indexOf(i),t,this.getData("selectedDate1"));this.setData("tempDate",t)},checkAndMarkDisabledDates:function(){var t=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");if(0!=t.length)for(var e,o=0;o<t.length;o++)e=t[o].dataset.date,this.checkForDisabledDates(e)&&t[o].classList.add("lyteCalDisabled")},checkForDisabledDates:function(t){for(var e=this.getData("ltPropDisabledDates"),o=0;o<e.length;o++)if(new RegExp(e[o]).test(t))return!0;return!1},checkForBeforeAndAfter:function(t,e,o,i){if(e>0&&e<t.length-1){var a=Date.parse(this.stringToDate(t[e-1].dataset.date,this.getData("ltPropFormat"))),l=Date.parse(this.stringToDate(t[e+1].dataset.date,this.getData("ltPropFormat")));a>=o&&a<=i&&t[e-1].classList.add("lyteDateRPInterimEndDate"),l>=o&&l<=i&&t[e+1].classList.add("lyteDateRPInterimStartDate")}},checkAndRemoveAllSelectedClasses:function(){var t=Array.from(this.$node.querySelectorAll(".lyteDateRPFirstDateSelected"));Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPLastDateSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPTempLastDateSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPTempFirstDateSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPTempSelected"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteCalSel"))),Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteCalToday")));for(var e=0;e<t.length;e++)t[e].classList.remove("lyteDateRPFirstDateSelected","lyteDateRPTempSelected","lyteDateRPLastDateSelected","lyteDateRPTempFirstDateSelected","lyteDateRPTempLastDateSelected","lyteCalSel","lyteCalToday");this.setData("selectedDate1",""),this.setData("selectedDate2","")},checkForMonthEndAndStart:function(t,e,o,i){var a=this.$node.querySelectorAll(".lyteCalCdate"),l=a[a.length-1];"1"===t[e].innerText&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))>=Date.parse(this.stringToDate(o,this.getData("ltPropFormat")))&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(i,this.getData("ltPropFormat")))?(t[e].classList.remove("lyteDateRPTempSelected"),t[e].classList.add("lyteDateRPMonthStartDate")):(e+1<t.length&&"1"===t[e+1].innerText&&Date.parse(this.stringToDate(t[e+1].dataset.date,this.getData("ltPropFormat")))>=Date.parse(this.stringToDate(o,this.getData("ltPropFormat")))&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(i,this.getData("ltPropFormat")))||e==t.length-1&&t[e].isEqualNode(l)&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))>=Date.parse(this.stringToDate(o,this.getData("ltPropFormat")))&&Date.parse(this.stringToDate(t[e].dataset.date,this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(i,this.getData("ltPropFormat"))))&&(t[e].classList.remove("lyteDateRPTempSelected"),t[e].classList.add("lyteDateRPMonthEndDate"))},removeMonthEndAndStart:function(){var t=Array.from(this.$node.querySelectorAll(".lyteDateRPMonthStartDate"));Lyte.arrayUtils(t,"push",Array.from(this.$node.querySelectorAll(".lyteDateRPMonthEndDate")));for(var e=0;e<t.length;e++)t[e].classList.remove("lyteDateRPMonthStartDate","lyteDateRPMonthEndDate")},executeSelected:function(t){this.getMethods("onDateSelected")&&(Date.parse(this.stringToDate(this.getData("selectedDate1"),this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(this.getData("selectedDate2"),this.getData("ltPropFormat")))?("continuous"==this.getData("ltPropSelectionType")&&(this.setData("internallyChanged",!0),this.setData("ltPropStartDate",this.getData("selectedDate1")),this.setData("internallyChanged",!0),this.setData("ltPropEndDate",this.getData("selectedDate2"))),this.executeMethod("onDateSelected",t,this.getData("selectedDate1"),this.getData("selectedDate2"),this)):("continuous"==this.getData("ltPropSelectionType")&&(this.setData("internallyChanged",!0),this.setData("ltPropStartDate",this.getData("selectedDate2")),this.setData("internallyChanged",!0),this.setData("ltPropEndDate",this.getData("selectedDate1"))),this.executeMethod("onDateSelected",t,this.getData("selectedDate2"),this.getData("selectedDate1"),this)))},checkForSelectedDates:function(t,e){var o=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");if(t&&e)for(var i=Date.parse(this.stringToDate(t,this.getData("ltPropFormat"))),a=Date.parse(this.stringToDate(e,this.getData("ltPropFormat"))),l=0;l<o.length;l++){(r=Date.parse(this.stringToDate(o[l].dataset.date,this.getData("ltPropFormat"))))>=i&&r<=a&&(o[l].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(o,l,i,a):(r==i&&o[l].classList.add("lyteDateRPFirstDateSelected"),r==a&&o[l].classList.add("lyteDateRPLastDateSelected"),r!==i&&r!==a&&o[l].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(o,l,t,e)))}else{this.getData("ltPropDisabledDates").length>0&&this.checkAndMarkDisabledDates();i=this.getData("selectedDate1"),a=this.getData("selectedDate2");var n=this.getData("tempDate");if(i&&a)if((i=Date.parse(this.stringToDate(i,this.getData("ltPropFormat"))))<(a=Date.parse(this.stringToDate(a,this.getData("ltPropFormat")))))for(l=0;l<o.length;l++){(r=Date.parse(this.stringToDate(o[l].dataset.date,this.getData("ltPropFormat"))))>=i&&r<=a&&(o[l].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(o,l,i,a):(r==i&&o[l].classList.add("lyteDateRPFirstDateSelected"),r==a&&o[l].classList.add("lyteDateRPLastDateSelected"),r!==i&&r!==a&&o[l].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(o,l,this.getData("selectedDate1"),this.getData("selectedDate2"))))}else for(l=0;l<o.length;l++){(r=Date.parse(this.stringToDate(o[l].dataset.date,this.getData("ltPropFormat"))))>=a&&r<=i&&(o[l].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(o,l,a,i):(r==a&&o[l].classList.add("lyteDateRPFirstDateSelected"),r==i&&o[l].classList.add("lyteDateRPLastDateSelected"),r!==i&&r!==a&&o[l].classList.add("lyteDateRPTempSelected"),this.checkForMonthEndAndStart(o,l,this.getData("selectedDate2"),this.getData("selectedDate1"))))}else if(i&&n)if((i=Date.parse(this.stringToDate(i,this.getData("ltPropFormat"))))<(n=Date.parse(this.stringToDate(n,this.getData("ltPropFormat")))))for(l=0;l<o.length;l++){var r=Date.parse(this.stringToDate(o[l].dataset.date,this.getData("ltPropFormat")));o[l].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(o,l,i,n):i<=n&&r==i?o[l].classList.add("lyteDateRPTempFirstDateSelected"):r==n?o[l].classList.add("lyteDateRPTempLastDateSelected"):r>i&&r<n&&o[l].classList.add("lyteDateRPTempSelected")}else for(l=0;l<o.length;l++){r=Date.parse(this.stringToDate(o[l].dataset.date,this.getData("ltPropFormat")));o[l].classList.contains("lyteCalDisabled")?this.checkForBeforeAndAfter(o,l,n,i):n<=i&&r==i?o[l].classList.add("lyteDateRPTempFirstDateSelected"):r==i?o[l].classList.add("lyteDateRPTempLastDateSelected"):r>=a&&r<i&&o[l].classList.add("lyteDateRPTempSelected")}}},callOnNavigate:function(t,e,o,i,a){this.getMethods("onNavigation")&&this.executeMethod("onNavigation",t,e,o,this,a)},getProperMonth:function(t){var e;return(e={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}[t=t.toLowerCase()]||{january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12}[t])||0===e?e-1:parseFloat(t)-1},stringToDate:function(t,e){try{var o=t.match(/([\da-z]+)/gi),i=(e=e.toUpperCase()).match(/([a-z]+)/gi),a=new Date,l=0,n=["Y","M","D"];if(a.setDate(1),3!==o.length)return"Invalid Date";for(;l<i.length;){var r=this.getOrderIndex(i,n[l]);if(0==l?a.setFullYear(o[r]):1==l?a.setMonth(this.getProperMonth(o[r])):2==l&&a.setDate(o[r]),"Invalid Date"===a.toString())return a.toString();l++}return a}catch(t){return"Invalid Date"}},getOrderIndex:function(t,e){for(var o=0;o<t.length;o++)if(t[o].charAt(0)===e)return o;return-1},constructDateString:function(t,e,o){var i,a,l=this.getData("ltPropFormat"),n="";if($L.moment){var r=new Date(t+"/"+e+"/"+o);return n=$L.moment(r).format(l.toUpperCase())}if(-1==l.indexOf("/")){if(!$L.moment)return void console.error("INCLUDE LYTE-MOMENT PLUGIN");r=new Date(t+"/"+e+"/"+o);return n=$L.moment(r).format(l.toUpperCase())}if(a="/",3!=(i=l.split("/")).length)return"Invalid Format";for(var s=0;s<3;s++)"M"===i[s].toUpperCase().charAt(0)?(n+=t,2!=s&&(n+=a)):"D"===i[s].toUpperCase().charAt(0)?(n+=e,2!=s&&(n+=a)):"Y"===i[s].toUpperCase().charAt(0)&&(n+=o,2!=s&&(n+=a));return n},actions:{previous:function(t,e){var o=this.$node.querySelector(".dRPCalendar1"),i={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};o.setData("selectDate",!1);var a,l;if(a="M"==t?o.getData("viewDate").getMonth()-1:o.getData("viewDate").getMonth(),l="Y"==t?o.getData("viewDate").getFullYear()-1:o.getData("viewDate").getFullYear(),-1==a&&(a=11,l-=1),!(l<this.getData("ltPropStartYear"))){this.setMonthAndYear(o,{dd:1,mm:a,yy:l},"cal1"),a<11?a+=1:(a=0,l+=1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar2"),{dd:1,mm:a,yy:l}),this.checkForSelectedDates();var n={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};this.callOnNavigate(e,i,n,this)}},next:function(t,e){var o=this.$node.querySelector(".dRPCalendar2");o.setData("selectDate",!1);var i,a,l={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};if(i="M"==t?o.getData("viewDate").getMonth()+1:o.getData("viewDate").getMonth(),a="Y"==t?o.getData("viewDate").getFullYear()+1:o.getData("viewDate").getFullYear(),12==i&&(i=0,a+=1),!(a>this.getData("ltPropEndYear"))){this.setMonthAndYear(o,{dd:1,mm:i,yy:a}),i>0?i-=1:(i=11,a-=1),this.$node.querySelector(".dRPCalendar1").setData("selectDate",!1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar1"),{dd:1,mm:i,yy:a},"cal1"),this.checkForSelectedDates();var n={date1:this.getData("monthNames")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear(),date2:this.getData("monthNames")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()};this.callOnNavigate(e,l,n,this)}},mouseDown:function(t){for(var e=t.target;e.parentElement&&!e.classList.contains("lyteCalCdate");)e=e.parentElement;if("HTML"!==e.tagName){var o=this.getData("clickCount");o++,this.setData("clickCount",o);var i=this;if(1===o)singleClickTimer=setTimeout(function(){o=0,i.setData("clickCount",o)},400);else if(2===o){if(clearTimeout(singleClickTimer),o=0,this.setData("clickCount",o),e.classList.contains("lyteCalCdate")&&!e.classList.contains("lyteCalGray")){this.checkAndRemoveAllSelectedClasses(),this.removeMonthEndAndStart(),this.setData("dateNode1",e),this.setData("dateNode2",e),e.classList.add("lyteDateRPFirstDateSelected","lyteDateRPLastDateSelected");var a=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");this.checkForMonthEndAndStart(a,Array.from(a).indexOf(e),e.dataset.date,e.dataset.date),this.setData("selectedDate1",e.dataset.date),this.setData("selectedDate2",e.dataset.date),this.setData("dateSelected",!1),this.executeSelected(t)}return}if(e.classList.contains("lyteCalCdate")&&!e.classList.contains("lyteCalGray"))if(this.getData("dateSelected")){e.classList.contains("lyteDateRPTempSelected")&&e.classList.remove("lyteDateRPTempSelected"),Date.parse(this.stringToDate(this.getData("selectedDate1"),this.getData("ltPropFormat")))<=Date.parse(this.stringToDate(e.dataset.date,this.getData("ltPropFormat")))?(this.getData("dateNode1").classList.remove("lyteDateRPTempFirstDateSelected"),this.getData("dateNode1").classList.add("lyteDateRPFirstDateSelected"),this.getData("dateNode2").classList.remove("lyteDateRPTempLastDateSelected"),this.getData("dateNode2").classList.add("lyteDateRPLastDateSelected")):(this.getData("dateNode1").classList.remove("lyteDateRPTempLastDateSelected"),this.getData("dateNode1").classList.add("lyteDateRPLastDateSelected"),this.getData("dateNode2").classList.remove("lyteDateRPTempFirstDateSelected"),this.getData("dateNode2").classList.add("lyteDateRPFirstDateSelected")),this.setData("selectedDate2",e.dataset.date),this.setData("tempDate",""),this.setData("dateSelected",!1),this.executeSelected(t)}else{this.checkAndRemoveAllSelectedClasses(),this.removeMonthEndAndStart(),this.setData("dateNode1",e),e.classList.add("lyteDateRPTempFirstDateSelected"),e.classList.add("lyteDateRPTempLastDateSelected");a=this.$node.querySelectorAll(".lyteCalCdate:not(.lyteCalGray)");this.checkForMonthEndAndStart(a,Array.from(a).indexOf(e),e.dataset.date,e.dataset.date),this.setData("selectedDate1",e.dataset.date),this.setData("dateSelected",!0)}}},mouseOver:function(t){if(this.getData("dateSelected")){for(var e=t.target;e.parentElement&&!e.classList.contains("lyteCalCdate");)e=e.parentElement;if("HTML"===e.tagName)return;e.classList.contains("lyteCalCdate")&&(e.classList.contains("lyteCalGray")||(this.setData("dateNode2",e),this.selectDates(e.dataset.date)))}},separateMouseDown:function(t){for(var e=t.target;e.parentElement&&!e.classList.contains("lyteCalCdate");)e=e.parentElement;if("HTML"!==e.tagName&&e.classList.contains("lyteCalCdate")&&!e.classList.contains("lyteCalGray")){var o=e.closest("lyte-calendar");if(o.classList.contains("dRPCalendar1")){this.setData("selectedDate1",e.dataset.date),this.setData("ltPropStartDate",e.dataset.date);var i=this.getData("calViewDate1"),a=this.getData("calViewDate2");if(i.getMonth()>a.getMonth()&&i.getFullYear()==a.getFullYear()||i.getFullYear()>a.getFullYear()){var l=this.$node.querySelector(".dRPCalendar2"),n=this.getData("calViewDate1").getMonth(),r=this.getData("calViewDate1").getFullYear();this.setMonthAndYear(l,{dd:1,mm:n,yy:r},"cal2"),this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(l,this.getData("ltPropEndDate"),"end")}}else if(o.classList.contains("dRPCalendar2")){this.setData("selectedDate2",e.dataset.date),this.setData("ltPropEndDate",e.dataset.date);i=this.getData("calViewDate1");if((a=this.getData("calViewDate2")).getMonth()<i.getMonth()&&a.getFullYear()==i.getFullYear()||a.getFullYear()<i.getFullYear()){var s=this.$node.querySelector(".dRPCalendar1");n=this.getData("calViewDate2").getMonth(),r=this.getData("calViewDate2").getFullYear();this.setMonthAndYear(s,{dd:1,mm:n,yy:r},"cal1"),this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(s,this.getData("ltPropStartDate"),"start")}}this.validateNavigationAndDropdown(),this.getData("dateNode1")&&this.getData("dateNode2")&&this.executeSelected(t)}},separatePrevious:function(t,e,o){var i,a,l;if("cal1"==e?(i=this.$node.querySelector(".dRPCalendar1"),a=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(i=this.$node.querySelector(".dRPCalendar2"),a=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),i){i.setData("selectDate",!1);var n,r;if(n="M"==t?i.getData("viewDate").getMonth()-1:i.getData("viewDate").getMonth(),r="Y"==t?i.getData("viewDate").getFullYear()-1:i.getData("viewDate").getFullYear(),-1==n&&(n=11,r-=1),r<this.getData("ltPropStartYear"))return;this.setMonthAndYear(i,{dd:1,mm:n,yy:r},e),"cal1"==e?(this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(i,this.getData("ltPropStartDate"),"start"),l=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(i,this.getData("ltPropEndDate"),"end"),l=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),this.validateNavigationAndDropdown(),this.callOnNavigate(o,a,l,this,"cal1"==e?"from Calendar":"to Calendar")}},separateNext:function(t,e,o){var i,a,l;if("cal1"==e?(i=this.$node.querySelector(".dRPCalendar1"),a=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(i=this.$node.querySelector(".dRPCalendar2"),a=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),i){i.setData("selectDate",!1);var n,r;if(n="M"==t?i.getData("viewDate").getMonth()+1:i.getData("viewDate").getMonth(),r="Y"==t?i.getData("viewDate").getFullYear()+1:i.getData("viewDate").getFullYear(),12==n&&(n=0,r+=1),r>this.getData("ltPropEndYear"))return;this.setMonthAndYear(i,{dd:1,mm:n,yy:r},e),"cal1"==e?(this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(i,this.getData("ltPropStartDate"),"start"),l=this.getData("monthNames1")[this.getData("calViewDate1").getMonth()]+" "+this.getData("calViewDate1").getFullYear()):"cal2"==e&&(this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(i,this.getData("ltPropEndDate"),"end"),l=this.getData("monthNames2")[this.getData("calViewDate2").getMonth()]+" "+this.getData("calViewDate2").getFullYear()),this.validateNavigationAndDropdown(),this.callOnNavigate(o,a,l,this,"cal1"==e?"from Calendar":"to Calendar")}}},methods:{addDropdownClass:function(t,e){e.childComp.classList.add("lyteCalendarDropdown")},editArrowPosition:function(t,e){var o=e.childComp.querySelector(".lyteArrow");_lyteUiUtils.getRTL()?(o.style.right="20%",o.style.left="auto"):(o.style.left="20%",o.style.right="auto")},optionSelected:function(t,e,o,i,a){if("separate"==this.getData("ltPropSelectionType")){if("cal1"==t){(r=this.$node.querySelector(".dRPCalendar1")).setData("selectDate",!1);var l=1;if(s="M"==e?this.getData("monthNames").indexOf(i):r.getData("viewDate").getMonth(),d="Y"==e?parseInt(i):r.getData("viewDate").getFullYear(),this.getData("ltPropEndDate"))if(s>(n=this.stringToDate(this.getData("ltPropEndDate"),this.getData("ltPropFormat"))).getMonth()&&d>=n.getFullYear())return"M"==e&&r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]),void("Y"==e&&r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:l,mm:s,yy:d},"cal1"),this.getData("ltPropStartDate")&&this.checkforStartDateAndEndDate(r,this.getData("ltPropStartDate"),"start")}else if("cal2"==t){(r=this.$node.querySelector(".dRPCalendar2")).setData("selectDate",!1);var n;l=1;if(s="M"==e?this.getData("monthNames").indexOf(i):r.getData("viewDate").getMonth(),d="Y"==e?i:r.getData("viewDate").getFullYear(),this.getData("ltPropStartDate"))if(s<(n=this.stringToDate(this.getData("ltPropStartDate"),this.getData("ltPropFormat"))).getMonth()&&d<=n.getFullYear())return"M"==e&&r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]),void("Y"==e&&r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:l,mm:s,yy:d}),this.getData("ltPropEndDate")&&this.checkforStartDateAndEndDate(r,this.getData("ltPropEndDate"),"end")}this.validateNavigationAndDropdown()}if("continuous"==this.getData("ltPropSelectionType")){if("cal1"==t){(r=this.$node.querySelector(".dRPCalendar1")).setData("selectDate",!1);l=1;if(s="M"==e?this.getData("monthNames").indexOf(i):r.getData("viewDate").getMonth(),d="Y"==e?parseInt(i):r.getData("viewDate").getFullYear(),s>10&&d==this.getData("ltPropEndYear"))return void(i==_lyteUiUtils.i18n("Dec")||i==_lyteUiUtils.i18n("December")?r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]):r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:l,mm:s,yy:d},"cal1"),s<11?s+=1:(s=0,d+=1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar2"),{dd:l,mm:s,yy:d})}else if("cal2"==t){var r;(r=this.$node.querySelector(".dRPCalendar2")).setData("selectDate",!1);var s,d;l=1;if(s="M"==e?this.getData("monthNames").indexOf(i):r.getData("viewDate").getMonth(),d="Y"==e?i:r.getData("viewDate").getFullYear(),s<1&&d==this.getData("ltPropStartYear"))return void(i==_lyteUiUtils.i18n("Jan")||i==_lyteUiUtils.i18n("January")?r.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[r.getData("viewDate").getMonth()]):r.querySelector(".yearDD").ltProp("selected",""+r.getData("viewDate").getFullYear()));this.setMonthAndYear(r,{dd:l,mm:s,yy:d}),s>0?s-=1:(s=11,d-=1),this.$node.querySelector(".dRPCalendar1").setData("selectDate",!1),this.setMonthAndYear(this.$node.querySelector(".dRPCalendar1"),{dd:l,mm:s,yy:d},"cal1")}this.checkForSelectedDates()}},viewDateChange:function(t,e,o){if("cal1"==t){var i=o.getMonth(),a=o.getFullYear();"continuous"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[i]),e.$node.querySelector(".yearDD").ltProp("selected",""+a)),"separate"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames1")[i]),e.$node.querySelector(".yearDD").ltProp("selected",""+a))}else if("cal2"==t){i=o.getMonth(),a=o.getFullYear();"continuous"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames")[i]),e.$node.querySelector(".yearDD").ltProp("selected",""+a)),"separate"==this.getData("ltPropSelectionType")&&(e.$node.querySelector(".monthDD").ltProp("selected",this.getData("monthNames2")[i]),e.$node.querySelector(".yearDD").ltProp("selected",""+a))}}}}),Lyte.Component.register("lyte-dateselect",{_template:'<template tag-name="lyte-dateselect">\n\t<lyte-dropdown lt-prop="{{stringify(ltPropDropdown)}}" on-before-show="{{method(\'bfSw\')}}" on-show="{{method(\'sw\')}}" on-before-hide="{{method(\'bfHde\')}}" on-hide="{{method(\'hde\')}}" on-option-selected="{{method(\'optSel\')}}" lt-prop-selected="{{lbind(ltPropSelected)}}">\n\t\t<template is="registerYield" yield-name="yield">\n\t\t\t<lyte-drop-button>\n\t\t\t\t<template is="if" value="{{ltPropButtonYield}}"><template case="true">\n\t\t\t\t\t<lyte-yield yield-name="buttonYield"></lyte-yield>\n\t\t\t\t</template><template case="false">\n\t\t\t\t\t<template is="if" value="{{ltPropSelected}}"><template case="true">\n\t\t\t\t\t\t{{ltPropDisplayValue}}\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t<span class="lyteDropPlaceholderMultiple">{{ltPropDropdown.placeholder}}</span>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<lyte-icon class="dropdown"></lyte-icon>\n\t\t\t\t</template></template>\n\t\t\t</lyte-drop-button>\n\t\t\t<lyte-drop-box class="{{ltPropDropdownWrapperClass}}" id="lyteDateSelect">\n\t\t\t\t<lyte-drop-body class="lyteList">\n\t\t\t\t\t<template is="forIn" object="{{ltPropOptions}}" value="value" key="key">\n\t\t\t\t\t\t<lyte-drop-item data-value="{{key}}" class="{{key}}">\n\t\t\t\t\t\t\t<template is="if" value="{{ltPropItemYield}}"><template case="true">\n\t\t\t\t\t\t\t\t<lyte-yield yield-name="item" item-value="{{ltPropOptions[key]}}"></lyte-yield>\n\t\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(value,\'==\',true)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t{{lyteUiI18n(key)}}\n\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t{{value}}\n\t\t\t\t\t\t\t\t</template></template></template></template><template is="if" value="{{expHandlers(expHandlers(key,\'==\',\'specificDate\'),\'||\',expHandlers(key,\'==\',\'customRange\'))}}"><template case="true">\n\t\t\t\t\t\t\t\t\t<span class="{{if(ifEquals(pos, \'left\'), \'dateArrow arrowLeft\', \'dateArrow arrowRight\')}}"></span>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t</lyte-drop-item>\n\t\t\t\t\t</template>\n\t\t\t\t</lyte-drop-body>\n\t\t\t</lyte-drop-box>\n\t\t</template>\n\t</lyte-dropdown>\n\t<div class="dateSelectcal lyteDropdownHidden {{ltPropCalendarWrapperClass}}">\n\t\t<template is="if" value="{{opend}}"><template case="true">\n\t\t\t<template is="if" value="{{ltPropOptions.specificDate}}"><template case="true">\n\t\t\t\t<div class="specificDate lyteDropdownHidden">\n\t\t\t\t\t<lyte-calendar lt-prop="{{stringify(ltPropCalendar)}}" lt-prop-current-date="{{lbind(ltPropCurrentDate)}}" on-date-selected="{{method(\'dateselected1\')}}">\n\t\t\t\t\t\t<template is="if" value="{{ltPropCalendarYield}}"><template case="true"> \n\t                        <template is="registerYield" yield-name="footer">\n\t                            <lyte-yield yield-name="footer"></lyte-yield>\n\t                        </template>\n\t                     </template></template>   \n\t\t\t\t\t</lyte-calendar>\n\t\t\t\t</div>\n\t\t\t</template></template>\n\t\t\t<template is="if" value="{{ltPropOptions.customRange}}"><template case="true">\n\t\t\t\t<div class="customRange lyteDropdownHidden">\n\t\t\t\t\t<lyte-daterangepicker lt-prop="{{stringify(ltPropDateRangePicker)}}" lt-prop-start-date="{{lbind(ltPropStartDate)}}" lt-prop-end-date="{{lbind(ltPropEndDate)}}" short-month-names="{{shortMonthNames}}" long-month-names="{{longMonthNames}}" cal-view-date1="{{lbind(ltPropStartDateObject)}}" cal-view-date2="{{lbind(ltPropEndDateObject)}}" on-date-selected="{{method(\'dateselected\')}}">\n\t\t\t\t\t</lyte-daterangepicker>\n\t\t\t\t</div>\t\n\t\t\t</template></template></template></template>\n\t</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"forIn",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,2]},{type:"if",position:[1,2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"insertYield",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}}],_observedAttributes:["shortMonthNames","longMonthNames","ltPropStartDateObject","ltPropEndDateObject","ltPropStartDate","ltPropEndDate","ltPropCurrentDate","ltPropCalendarYield","ltPropCalendar","ltPropDateRangePicker","ltPropItemYield","ltPropSelected","ltPropOptions","ltPropDropdownWrapperClass","ltPropDropdown","ltPropDisplayValue","ltPropButtonYield","ltPropCalendarWrapperClass","pos","prevSel","opend"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node),this.$node.toggle=function(){this._drop.toggle()}.bind(this)},data:function(){return{shortMonthNames:Lyte.attr("array",{default:["Jan","Feb","Mar","Apr","short.may","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),longMonthNames:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),ltPropStartDateObject:Lyte.attr("object"),ltPropEndDateObject:Lyte.attr("object"),ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropCalendarYield:Lyte.attr("boolean",{default:!1}),ltPropCalendar:Lyte.attr("object",{default:{headerType:"dropdown",fillRows:!1}}),ltPropDateRangePicker:Lyte.attr("object",{default:{monthHeaderFormat:"MMMM YYYY"}}),ltPropItemYield:Lyte.attr("boolean",{default:!1}),ltPropSelected:Lyte.attr("string",{default:"today"}),ltPropOptions:Lyte.attr("object",{default:{today:!0,yesterday:!0,last7days:!0,last30days:!0,thisWeek:!0,thisMonth:!0,specificDate:!0,customRange:!0}}),ltPropDropdownWrapperClass:Lyte.attr("string",{default:""}),ltPropDropdown:Lyte.attr("object",{default:{}}),ltPropDisplayValue:Lyte.attr("string",{default:""}),ltPropButtonYield:Lyte.attr("boolean",{default:!1}),ltPropCalendarWrapperClass:Lyte.attr("string",{default:""}),pos:Lyte.attr("string",{default:""}),prevSel:Lyte.attr("string",{default:""}),opend:Lyte.attr("boolean",{default:!1})}},selectValue:function(t){this.data.ltPropButtonYield||this.setData("ltPropDisplayValue",this.getVal(t))},didConnect:function(){this._drop=this.$node.querySelector("lyte-dropdown"),this._drop.parent=this.$node;var t=this._drop.component;this._cmp=t.childComp?t.childComp:this._drop.querySelector("lyte-drop-box"),this._end=this.tranEnd.bind(this),this._indend=this.tranEnd1.bind(this),this._caldiv=this.$node.querySelector(".dateSelectcal"),_lyteUiUtils.appendChild(document.body,this._caldiv),this.data.ltPropButtonYield||this.setData("ltPropDisplayValue",this.getVal(this.data.ltPropSelected)),document._dateselectResize||(document._dateselectResize=!0,window.addEventListener("resize",dtslctscroll),window.addEventListener("scroll",dtslctscroll),window.addEventListener("orientationchange",dtslctscroll)),this.$node.toggle=function(t,e){this._drop.toggle(t,e)}.bind(this),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){this._dir=_lyteUiUtils.getRTL(),this._dir&&$L.fastdom.mutate(function(){this._caldiv.classList.add("lyteRTL")}.bind(this))}.bind(this))},didDestroy:function(){document.body.removeChild(this._caldiv),document._dateselectResize&&0==document.querySelectorAll("lyte-dateselect").length&&(delete document._dateselectResize,window.removeEventListener("resize",dtslctscroll),window.removeEventListener("scroll",dtslctscroll),window.removeEventListener("orientationchange",dtslctscroll)),delete this._caldiv,delete this._cmp,delete this._drop,delete this.$node.toggle},getVal:function(t){if(!t)return"";var e=this.data.ltPropOptions[t],o=e.constructor==Boolean?_lyteUiUtils.i18n(t):e;if(-1==["specificDate","customRange"].indexOf(t))return o;if("specificDate"==t)return this.data.ltPropCurrentDate||o;if("customRange"==t){var i=this.data.ltPropStartDate,a=this.data.ltPropEndDate;return i&&a?i+" - "+a:o}},selectedObs:function(t){if(t.newValue&&this._cmp&&!this._cmp.classList.contains("lyteDropdownHidden")){var e=-1!=["specificDate","customRange"].indexOf(t.oldValue)?this._caldiv.querySelector("."+t.oldValue):null;if(-1!=["specificDate","customRange"].indexOf(t.newValue)?this._caldiv.querySelector("."+t.newValue):null){if(e){var o=new Promise(function(t,o){this._new=t,this.hideele(e)}.bind(this));Promise.resolve(o).then(function(){$L.fastdom.mutate(this.openele.bind(this))}.bind(this))}else this.openele();this.data.prevSel=this.data.prevSel||t.oldValue}}else t.newValue&&(this._cmp&&this._cmp.classList.contains("lyteDropdownHidden")||-1!=["specificDate","customRange"].indexOf(t.newValue))&&this.selectValue(t.newValue)}.observes("ltPropSelected"),tranEnd:function(t){this._cmp.removeEventListener("transitionend",this._end,!0),this._el&&(this._el.classList.add("lyteDropdownHidden"),delete this._el),this._res&&(this._res(!0),this._caldiv.classList.add("lyteDropdownHidden"),delete this._res)},tranEnd1:function(t){this._el.removeEventListener("transitionend",this._indend,!0),this._el.classList.add("lyteDropdownHidden"),this._new&&(this._new(!0),delete this._new),delete this._el},hideele:function(t){t.addEventListener("transitionend",this._indend,!0),this._el=t,t.style.opacity=0},openele:function(){var t=this.data.ltPropSelected;-1!=["specificDate","customRange"].indexOf(t)&&(this._caldiv.classList.remove("lyteDropdownHidden"),this._caldiv.querySelector("."+t).classList.remove("lyteDropdownHidden"),$L.fastdom.measure(this.setCss.bind(this)))},methods:{bfSw:function(t,e){var o;return this.getMethods("onBeforeShow")&&(o=this.executeMethod("onBeforeShow",t,e)),this.data.opend||0==o?o:(this.setData("opend",!0),new Promise(function(t){setTimeout(function(){t()},40)}))},sw:function(t,e){this.getMethods("onShow")&&this.executeMethod("onShow",t,e),$L.fastdom.mutate(function(){this.openele(),e.childComp.style.opacity=1}.bind(this))},bfHde:function(t,e){return this._prevent||this._caldiv.contains((t||{}).target)?(delete this._prevent,!1):(this.getMethods("onBeforeHide")&&(o=this.executeMethod("onBeforeHide",t,e)),0!=o?new Promise(function(t,o){this._res=t,e.childComp.addEventListener("transitionend",this._end,!0);var i=this._caldiv.querySelector(".specificDate:not(.lyteDropdownHidden),.customRange:not(.lyteDropdownHidden)");i&&(this._el=i,i.style.opacity=0),e.childComp.style.opacity=0}.bind(this)):o);var o},hde:function(t,e){if(!this._rest&&this.data.prevSel&&(this.setData("ltPropSelected",this.data.prevSel),this.data.ltPropButtonYield||this.setData("ltPropDisplayValue",this.getVal(this.data.ltPropSelected))),delete this._rest,this.data.prevSel="","specificDate"!=this.data.ltPropSelected&&this.setData("ltPropCurrentDate",""),"customRange"!=this.data.ltPropSelected&&(this.setData("ltPropStartDate",""),this.setData("ltPropEndDate","")),this.getMethods("onHide"))return this.executeMethod("onHide",t,e)},dateselected:function(t){this.selected(t,!0)},dateselected1:function(t){this.selected(t)},optSel:function(t,e,o,i){-1==["specificDate","customRange"].indexOf(e)?(this.selectValue(e),this.getMethods("onSelect")&&this.executeMethod("onSelect",t,this.$node,e,i),this._rest=!0):this._prevent=!0}},setCss:function(t){function e(t,e,o){if(this._dir){if(e)return"right"==t?o-e.left:o-e.right;if("left"==t)return"right"}return e?e[t]:"left"}var o,i=this._caldiv,a=this._cmp,l=i.getBoundingClientRect(),n=a.getBoundingClientRect(),r=window.innerWidth,s=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),d=window.pageYOffset||document.documentElement.scrollTop,p=a.querySelector('lyte-drop-item[selected = "true"]'),c=p.getBoundingClientRect(),h=p.querySelector(".dateArrow"),u=h?h.getBoundingClientRect():{width:0},y=e.call(this,"left",n,r)+n.width+u.width/2+s,m=e.call(this,"left",n,r)-u.width/2-l.width+s,g=a.style.top;parseFloat(g)+l.height<c.bottom+d&&(g=d+c.bottom-l.height+"px"),y+l.width<r+s?o="right":m>s?(y=m,o="left"):r-e.call(this,"right",n,r)>e.call(this,"left",n,r)?o="right":(y=m,o="left"),$L.fastdom.mutate(function(){i.style[e.call(this,"left")]=y+"px",i.style.top=g;var t=this._caldiv.getElementsByClassName(this.data.ltPropSelected)[0];t&&(t.style.opacity=1),this.setData("pos",o)}.bind(this))},selected:function(t,e){this.data.ltPropButtonYield||this.setData("ltPropDisplayValue",this.getVal(this.data.ltPropSelected)),this.getMethods("onSelect")&&(e?this.executeMethod("onSelect",t,this.$node,"customRange",this.data.ltPropStartDate,this.data.ltPropEndDate):this.executeMethod("onSelect",t,this.$node,"specificDate",this.data.ltPropCurrentDate)),this._rest=!0,this._drop.toggle()}}),Lyte.Component.register("lyte-dragdrop",{_template:'<template tag-name="lyte-dragdrop">\n\t<div class="lyteDragDropFields">\n\t\t<div class="lyteDragDropColumns">\n\t\t\t<div class="lyteDragDropFL lytePosRel">\n\t\t\t\t<span class="lyteDragDropHeading">{{ltPropAvailableLabel}}</span>\t\n\t\t\t\t<div class="lyteDragDropAvailable">\n\t\t\t\t\t<span class="lyteSelectedNone" id="AvailableNone">{{ltPropAvailablelistEmptyMessage}}</span>\n\t\t\t\t\t<template is="if" value="{{ltPropEnableSearch}}">\n\t\t\t\t\t<template case="true">\n\t\t\t\t\t<div class="lytePosRel">\n\t\t\t\t\t\t<lyte-search style="display: block;" lt-prop-style="{{ltPropSearchStyle}}" lt-prop-query-selector="{{querySelector}}" lt-prop-appearance="box" lt-prop-error="{{ltPropErrorMessage}}" lt-prop-width="464px"></lyte-search>\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class="lyteAvailableUL" id="sortableSec">\n\t\t\t\t\t<template is="for" items="{{ltPropAvailablelist}}" item="item">\n                     \t<li class="filterlabel sortableElem" data-pos="{{item.pos}}" data-propvalue="{{item}}" onmousedown="{{action(\'mouseDown\', event)}}" onmouseover="{{action(\'mouseOver\',event)}}" onmouseout="{{action(\'mouseOut\', event)}}">\n                     \t\t<span class="item">{{item.name}}</span>\n                     \t\t<template is="if" value="{{ltPropDraggable}}">\n                     \t\t\t<template case="true">\n                     \t\t\t\t<template is="if" value="{{ltPropEnableIcon}}">\n                     \t\t\t\t\t<template case="true"><span class="lyteDragDropAdd"></span></template>\n                     \t\t\t\t</template>\n                     \t\t\t</template>\n                     \t\t</template>\n                     \t</li>\n\t\t\t\t\t</template>\n                    </ul>\n                    </template>\n                    <template case="false">\n\t\t\t\t\t<ul class="lyteAvailableUL" id="sortableSec" style="height: 336px;">\n\t\t\t\t\t<template is="for" items="{{ltPropAvailablelist}}" item="item">\n                     \t<li class="filterlabel sortableElem" data-pos="{{item.pos}}" data-propvalue="{{item}}" onmousedown="{{action(\'mouseDown\', event)}}" onmouseover="{{action(\'mouseOver\',event)}}" onmouseout="{{action(\'mouseOut\', event)}}">\n                     \t\t<span class="item">{{item.name}}</span>\n                     \t\t<template is="if" value="{{ltPropDraggable}}">\n                     \t\t\t<template case="true">\n                     \t\t\t\t<template is="if" value="{{ltPropEnableIcon}}">\n                     \t\t\t\t\t<template case="true"><span class="lyteDragDropAdd"></span></template>\n                     \t\t\t\t</template>\n                     \t\t\t</template>\n                     \t\t</template>\n                     \t</li>\n\t\t\t\t\t</template>\n                    </ul>\n                    </template>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<template is="if" value="{{ltPropDraggable}}">\n\t\t\t\t<template case="true">\n\t\t\t\t\t<div class="lyteDragDropFL lytePosRel">\n\t\t\t\t\t\t<span class="lyteDragDropHeading">{{ltPropSelectedLabel}}</span>\t\n\t\t\t\t\t\t<div class="lyteDragDropSelected">\n\t\t\t\t\t\t\t<span class="lyteSelectedNone" id="SelectedNone">{{ltPropSelectedlistEmptyMessage}}</span>\n\t\t\t\t\t\t\t<ul class="lyteSelectedUL" id="dropSec">\n\t\t\t\t\t\t\t<template is="for" items="{{ltPropSelectedlist}}" item="item">\n\t\t                     \t<li data-pos="{{item.pos}}" data-propvalue="{{item}}" onmousedown="{{action(\'mouseDown\', event)}}" onmouseover="{{action(\'mouseOver\',event)}}" onmouseout="{{action(\'mouseOut\', event)}}">\n\t\t                     \t\t<span>{{item.name}}</span>\n\t\t                     \t\t<template is="if" value="{{ltPropEnableIcon}}">\n\t\t                     \t\t\t<template case="true"><span class="lyteDragDropRemove"></span></template>\n\t\t                     \t\t</template>\n\t\t                     \t</li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>',_dynamicNodes:[{type:"text",position:[1,1,1,1,0]},{type:"text",position:[1,1,1,3,1,0]},{type:"attr",position:[1,1,1,3,3]},{type:"if",position:[1,1,1,3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}}]}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,3,1,0]},{type:"attr",position:[1,3,3,1]},{type:"for",position:[1,3,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[]}},default:{}}]}]}},default:{}}],_observedAttributes:["ltPropAvailablelist","ltPropSelectedlist","ltPropMultiselect","ltPropEnableSearch","ltPropEnableIcon","ltPropDraggable","ltPropErrorMessage","ltPropAvailablelistEmptyMessage","ltPropSelectedlistEmptyMessage","ltPropSearchStyle","ltPropAvailableLabel","ltPropSelectedLabel","clickCount","component","placeholder","div","offset","isDown","isMoved","top","bottom","prevScrollTop","multiSelectedItems","keyPressed","keyValue","prevMode","checkSelection","querySelector","left","right","availableList","selectedList","checkOnDidconnect","draggedItems"],init:function(){this.getData("ltPropErrorMessage")||this.setData("ltPropErrorMessage",_lyteUiUtils.i18n("no.results.found")),this.setData("ltPropAvailableLabel",_lyteUiUtils.i18n("Available")),this.setData("ltPropSelectedLabel",_lyteUiUtils.i18n("Selected"))},didConnect:function(){for(var t=document.querySelectorAll("lyte-dragdrop"),e=0;e<t.length;e++)if(t[e]==this.$node){this.$node.querySelector("#sortableSec").classList.add("searchable"+e),this.setData("querySelector",{scope:".searchable"+e,target:".filterlabel",search:".item"});break}this.setData("checkOnDidconnect",!0)},data:function(){return{ltPropAvailablelist:Lyte.attr("array",{default:[]}),ltPropSelectedlist:Lyte.attr("array",{default:[]}),ltPropMultiselect:Lyte.attr("boolean",{default:!0}),ltPropEnableSearch:Lyte.attr("boolean",{default:!0}),ltPropEnableIcon:Lyte.attr("boolean",{default:!0}),ltPropDraggable:Lyte.attr("boolean",{default:!0}),ltPropErrorMessage:Lyte.attr("string",{default:""}),ltPropAvailablelistEmptyMessage:Lyte.attr("string",{default:"Empty List"}),ltPropSelectedlistEmptyMessage:Lyte.attr("string",{default:"Drop Here"}),ltPropSearchStyle:Lyte.attr("string",{default:""}),ltPropAvailableLabel:Lyte.attr("string"),ltPropSelectedLabel:Lyte.attr("string"),clickCount:Lyte.attr("number",{default:0}),component:Lyte.attr("object",{default:null}),placeholder:Lyte.attr("object",{default:null}),div:Lyte.attr("object",{default:null}),offset:Lyte.attr("array",{default:[0,0]}),isDown:Lyte.attr("boolean",{default:!1}),isMoved:Lyte.attr("boolean",{default:!1}),top:Lyte.attr("number",{default:0}),bottom:Lyte.attr("number",{default:0}),prevScrollTop:Lyte.attr("number",{default:0}),multiSelectedItems:Lyte.attr("array",{default:[]}),keyPressed:Lyte.attr("boolean",{default:!1}),keyValue:Lyte.attr("number",{default:0}),prevMode:Lyte.attr("string",{default:""}),checkSelection:Lyte.attr("boolean",{default:!1}),querySelector:Lyte.attr("object",{default:{scope:"#sortableSec",target:".filterlabel",search:".item"}}),left:Lyte.attr("boolean",{default:!1}),right:Lyte.attr("boolean",{default:!1}),availableList:Lyte.attr("array",{default:[]}),selectedList:Lyte.attr("array",{default:[]}),checkOnDidconnect:Lyte.attr("boolean",{default:!1}),draggedItems:Lyte.attr("array",{default:[]})}},makeDroppable:function(t){var e=this.$node.querySelectorAll("#sortableSec>li"),o=this.$node.querySelectorAll("#dropSec>li");if(e.length>0)for(var i=0;i<e.length;i++)e[i]!==t&&e[i].classList.add("dropable");if(o.length>0)for(i=0;i<o.length;i++)o[i]!==t&&o[i].classList.add("dropable")},showMsgForEmpty:function(){this.getData("ltPropAvailablelist").length>0&&(this.$node.querySelector("#AvailableNone").style.visibility="hidden"),0==this.getData("ltPropAvailablelist").length&&(this.$node.querySelector("#AvailableNone").style.visibility="visible"),this.getData("ltPropDraggable")&&(0==this.getData("ltPropSelectedlist").length&&(this.$node.querySelector("#SelectedNone").style.visibility="visible"),this.getData("ltPropSelectedlist").length>0&&(this.$node.querySelector("#SelectedNone").style.visibility="hidden"))}.observes("ltPropAvailablelist.[]","ltPropSelectedlist.[]","checkOnDidconnect"),removeDropable:function(t){var e=this.$node.querySelectorAll("#sortableSec>li"),o=this.$node.querySelectorAll("#dropSec>li");if(e.length>0)for(var i=0;i<e.length;i++)e[i]!==t&&e[i].classList.remove("dropable");if(o.length>0)for(i=0;i<o.length;i++)o[i]!==t&&o[i].classList.remove("dropable")},generateArray:function(){var t=Array.from(this.$node.querySelectorAll("#sortableSec>li")),e=Array.from(this.$node.querySelectorAll("#dropSec>li"));ltPropAvailablelist=[],ltPropSelectedlist=[];for(var o=1;o<=t.length;o++){(i=this.getElement(t[o-1]))&&(i.pos=o,ltPropAvailablelist.push(i))}for(o=1;o<=e.length;o++){var i;(i=this.getElement(e[o-1])).pos=o,ltPropSelectedlist.push(i)}this.setData("availableList",ltPropAvailablelist),this.setData("selectedList",ltPropSelectedlist)},removeClass:function(){for(var t=Array.from(this.$node.querySelectorAll("#sortableSec>li")),e=Array.from(this.$node.querySelectorAll("#dropSec>li")),o=0;o<t.length;o++)t[o].classList.contains("lyteDraggableElem")&&t[o].classList.remove("lyteDraggableElem");for(o=0;o<e.length;o++)e[o].classList.contains("lyteDraggableElem")&&e[o].classList.remove("lyteDraggableElem")},positionalPush:function(t,e){for(var o=this.getData("multiSelectedItems"),i=0,a=0;a<o.length&&!(o[a].offsetTop>t.offsetTop);a++)++i;o.splice(i,0,t),this.setData("multiSelectedItems",o)},addToArray:function(t,e){if("single"===e){var o=[];if((s=this.getData("multiSelectedItems")).length>0){var i=Array.from(this.$node.querySelectorAll("#sortableSec>li")),a=Array.from(this.$node.querySelectorAll("#dropSec>li")),l=s[s.length-1];if(-1==(d=i.indexOf(l)))d=a.indexOf(l),-1==(p=a.indexOf(t))?(this.setData("multiSelectedItems",o),this.removeClass(),this.addToArray(t,e)):(this.positionalPush(t),t.classList.contains("lyteDraggableElem")||t.classList.add("lyteDraggableElem"));else-1==(p=i.indexOf(t))?(this.setData("multiSelectedItems",o),this.removeClass(),this.addToArray(t,e)):(this.positionalPush(t),t.classList.contains("lyteDraggableElem")||t.classList.add("lyteDraggableElem"))}else this.getData("multiSelectedItems").push(t),t.classList.contains("lyteDraggableElem")||t.classList.add("lyteDraggableElem");this.setData("prevMode",e)}if("multiple"==e){if("multiple"==this.getData("prevMode")||""==this.getData("prevMode")){this.removeClass();var n=[];i=Array.from(this.$node.querySelectorAll("#sortableSec>li")),a=Array.from(this.$node.querySelectorAll("#dropSec>li"));if(-1==(p=i.indexOf(t))){p=a.indexOf(t);for(var r=0;r<=p;r++)n.push(a[r]),a[r].classList.add("lyteDraggableElem")}else for(r=0;r<=p;r++)n.push(i[r]),i[r].classList.add("lyteDraggableElem");this.setData("multiSelectedItems",n)}if("single"==this.getData("prevMode")){var s;i=Array.from(this.$node.querySelectorAll("#sortableSec>li")),a=Array.from(this.$node.querySelectorAll("#dropSec>li"));if((s=this.getData("multiSelectedItems")).length>0){var d,p;l=s[s.length-1];if(-1==(d=i.indexOf(l))){if(d=a.indexOf(l),-1==(p=a.indexOf(t)))this.setData("prevMode",e),this.removeClass(),this.addToArray(t,e);else if(-1!=d)if(d<=p)for(r=d;r<=p;r++)-1==s.indexOf(a[r])&&(a[r].classList.add("lyteDraggableElem"),this.positionalPush(a[r]));else for(r=p;r<=d;r++)-1==s.indexOf(a[r])&&(a[r].classList.add("lyteDraggableElem"),this.positionalPush(a[r]))}else if(-1===(p=i.indexOf(t)))this.setData("prevMode",e),this.removeClass(),this.addToArray(t,e);else if(-1!=d)if(d<=p)for(r=d;r<=p;r++)-1==s.indexOf(i[r])&&(i[r].classList.add("lyteDraggableElem"),this.positionalPush(i[r]));else for(r=p;r<=d;r++)-1==s.indexOf(i[r])&&(i[r].classList.add("lyteDraggableElem"),this.positionalPush(i[r]))}else this.setData("prevMode",e),this.removeClass(),this.addToArray(t,e)}this.setData("prevMode",e)}},removeFromArray:function(t){if(this.getData("multiSelectedItems").length>0){var e=this.getData("multiSelectedItems").indexOf(t);this.getData("multiSelectedItems").splice(e,1)}},getTopNBottom:function(t){return"top"===t?this.getData("multiSelectedItems")[0].getBoundingClientRect().top:"bottom"==t?this.getData("multiSelectedItems")[this.getData("multiSelectedItems").length-1].getBoundingClientRect().bottom:void 0},makeDroppableMultiple:function(t){var e=Array.from(this.$node.querySelectorAll("#sortableSec>li")),o=Array.from(this.$node.querySelectorAll("#dropSec>li"));if(-1==e.indexOf(t[0])){if(e.length>0)for(var i=0;i<e.length;i++)e[i].classList.add("dropable");if(o.length>0)for(i=0;i<o.length;i++){flag=!1;for(var a=0;a<t.length;a++)if(o[i]==t[a]){flag=!0;break}flag||o[i].classList.add("dropable")}}else{if(e.length>0)for(i=0;i<e.length;i++){flag=!1;for(a=0;a<t.length;a++)if(e[i]==t[a]){flag=!0;break}flag||e[i].classList.add("dropable")}if(o.length>0)for(i=0;i<o.length;i++)o[i].classList.add("dropable")}},removeDropableMultiple:function(t){var e=Array.from(this.$node.querySelectorAll("#sortableSec>li")),o=Array.from(this.$node.querySelectorAll("#dropSec>li"));if(-1==e.indexOf(t[0])){if(e.length>0)for(var i=0;i<e.length;i++)e[i].classList.remove("dropable");if(o.length>0)for(i=0;i<o.length;i++){flag=!1;for(var a=0;a<t.length;a++)if(o[i]==t[a]){flag=!0;break}flag||o[i].classList.remove("dropable")}}else{if(e.length>0)for(i=0;i<e.length;i++){flag=!1;for(a=0;a<t.length;a++)if(e[i]==t[a]){flag=!0;break}flag||e[i].classList.remove("dropable")}if(o.length>0)for(i=0;i<o.length;i++)o[i].classList.remove("dropable")}},checkElement:function(t){return t==this.$node.querySelector("#sortableSec")||t==this.$node.querySelector("#dropSec")},checkPossiblePosition:function(t,e){var o=Array.from(this.$node.querySelectorAll("#"+t.id+" > li"));if("single"==e){if(!(o.length>0))return!0;var i=o[o.length-1];if(this.getData("div").getBoundingClientRect().top>i.getBoundingClientRect().bottom)return!0}if("multiple"==e){if(!(o.length>0))return!0;i=o[o.length-1];if(this.getTopNBottom("top")>i.getBoundingClientRect().bottom)return!0}return!1},checkIfDroppable:function(t,e){if("multiple"===e){var o=this.getData("multiSelectedItems");if(o[0].parentElement.id===t.id&&"sortableSec"===t.id&&t.querySelectorAll("li").length===o.length&&o[0].getBoundingClientRect().left<t.getBoundingClientRect().left+o[0].getBoundingClientRect().width/2)return!0;if(o[0].parentElement.id===t.id&&"dropSec"===t.id&&t.querySelectorAll("li").length===o.length&&o[0].getBoundingClientRect().right>t.getBoundingClientRect().right-o[0].getBoundingClientRect().width/2)return!0}if("single"===e){var i=this.getData("div");if(i.parentElement.id===t.id&&"sortableSec"===t.id&&1===t.querySelectorAll("li").length&&i.getBoundingClientRect().left<t.getBoundingClientRect().left+i.getBoundingClientRect().width/2)return!0;if(i.parentElement.id===t.id&&"dropSec"===t.id&&1===t.querySelectorAll("li").length&&i.getBoundingClientRect().right>t.getBoundingClientRect().right-i.getBoundingClientRect().width/2)return!0}return!1},appendElement:function(t,e){var o,i=t.target;if("span"==e)i.classList.contains("lyteDragDropAdd")&&this.onClickFunction(t,this.getElement(i.parentElement),"availableList")&&(o=this.getElement(i.parentElement),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"removeAt",this.getElementPosition(this.getData("ltPropAvailablelist"),o),1),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"push",o),o=null,this.generateArray(),this.onDropFunction(t)),i.classList.contains("lyteDragDropRemove")&&this.onClickFunction(t,this.getElement(i.parentElement),"selectedList")&&(o=this.getElement(i.parentElement),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"removeAt",this.getElementPosition(this.getData("ltPropSelectedlist"),o),1),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"push",o),o=null,this.generateArray(),this.onDropFunction(t));else for(;i;){if(i.parentElement&&"sortableSec"==i.parentElement.id&&this.onClickFunction(t,this.getElement(i),"availableList")){o=this.getElement(i),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"removeAt",this.getElementPosition(this.getData("ltPropAvailablelist"),o),1),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"push",o),o=null,this.generateArray(),this.onDropFunction(t);break}if(i.parentElement&&"dropSec"==i.parentElement.id&&this.onClickFunction(t,this.getElement(i),"selectedList")){o=this.getElement(i),Lyte.arrayUtils(this.getData("ltPropSelectedlist"),"removeAt",this.getElementPosition(this.getData("ltPropSelectedlist"),o),1),Lyte.arrayUtils(this.getData("ltPropAvailablelist"),"push",o),o=null,this.generateArray(),this.onDropFunction(t);break}i=i.parentElement}},removeStyle:function(t){t.style.left="",t.style.top="",t.style.boxSizing="",t.style.width="",t.style.height="",t.style.position="",t.style.visibility=""},getElement:function(t){return t.dataset.propvalue?JSON.parse(t.dataset.propvalue):null},getElementPosition:function(t,e){for(var o=0;o<t.length;o++){var i=!0;for(var a in t[o])if(t[o][a]!=e[a]){i=!1;break}if(i)return o}return-1},hideOrShowMessageOnEmpty:function(t,e){"availableList"==t?this.getData("ltPropAvailablelist").length>0?this.$node.querySelector("#AvailableNone").style.visibility="hidden":(e&&(this.$node.querySelector("#AvailableNone").innerHTML=e),this.$node.querySelector("#AvailableNone").style.visibility="visible"):"selectedList"==t&&(this.getData("ltPropSelectedlist").length>0?this.$node.querySelector("#SelectedNone").style.visibility="hidden":(e&&(this.$node.querySelector("#SelectedNone").innerHTML=e),this.$node.querySelector("#SelectedNone").style.visibility="visible"))},selectFunction:function(t,e){var o,i="sortableSec"==e.parentElement.id?"availableList":"selectedList";return this.getMethods("onSelect")&&(o=this.executeMethod("onSelect",t,this.getElement(e),this.getData("ltPropAvailablelist"),this.getData("ltPropSelectedlist"),i)),void 0==o||o},onDragFunction:function(t){var e;e=this.getData("ltPropMultiselect")?this.getData("multiSelectedItems"):this.getData("div"),this.getMethods("onDrag")&&this.executeMethod("onDrag",t,e)},onBeforeDropFunction:function(t){var e,o=[];if(this.getData("ltPropMultiselect"))for(var i=0;i<this.getData("multiSelectedItems").length;i++)o.push(this.getElement(this.getData("multiSelectedItems")[i]));else o.push(this.getElement(this.getData("div")));return this.setData("draggedItems",o),this.getMethods("onBeforeDrop")&&(e=this.executeMethod("onBeforeDrop",t,o,this.getData("ltPropAvailablelist"),this.getData("ltPropSelectedlist"))),void 0==e||e},onDropFunction:function(t){this.getMethods("onDrop")&&this.executeMethod("onDrop",t,this.getData("draggedItems"),this.getData("availableList"),this.getData("selectedList"))},onClickFunction:function(t,e,o){var i,a=[];return a.push(e),this.setData("draggedItems",a),this.getMethods("onClick")&&(i=this.executeMethod("onClick",t,e,this.getData("ltPropAvailablelist"),this.getData("ltPropSelectedlist"),o)),void 0==i||i},actions:{mouseDown:function(t){if(3!=t.which&&(t.preventDefault(),3!=t.which)){var e=this.getData("clickCount");e++,this.setData("clickCount",e);var o,i=this;if(1===e)singleClickTimer=setTimeout(function(){e=0,i.setData("clickCount",e)},400);else if(2===e)return clearTimeout(singleClickTimer),e=0,this.setData("clickCount",e),void this.appendElement(t);var a=t.target;if(a.classList.contains("lyteDragDropAdd")?this.appendElement(t,"span"):a.classList.contains("lyteDragDropRemove")?this.appendElement(t,"span"):o="span"==a.tagName.toLowerCase()?t.target.parentElement:t.target,o&&this.selectFunction(t,o)){var l=o.getBoundingClientRect(),n=o.offsetParent.getBoundingClientRect(),r=o.clientHeight,s=o.clientWidth,d=this.getData("multiSelectedItems");if(this.getData("ltPropMultiselect")){if(d.length>0&&-1!=d.indexOf(o)){this.setData("offset",[t.clientX-l.left,t.clientY-l.top]),this.setData("div",o);var p=this.getData("div");r=o.clientHeight,s=o.clientWidth;p.style.left=l.left-n.left+"px",p.style.top=l.top-n.top+"px",p.style.boxSizing="border-box",p.style.width=s+"px",p.style.height=r+"px",p.style.position="absolute",p.classList.add("lyteDraggableElem"),this.setData("placeholder",document.createElement("li")),(h=this.getData("placeholder")).setAttribute("id","dummy"),h.style.width=s+"px",h.style.height=r+"px",h.style.boxSizing="border-box",p.parentNode.insertBefore(h,p),this.setData("checkSelection",!0)}else{var c=this.getData("keyValue");91==c||93==c||224==c?o.classList.contains("lyteDraggableElem")?(o.classList.remove("lyteDraggableElem"),this.removeFromArray(o)):(o.classList.add("lyteDraggableElem"),this.addToArray(o,"single")):16==c?o.classList.contains("lyteDraggableElem")?(o.classList.remove("lyteDraggableElem"),this.addToArray(o,"multiple")):(o.classList.add("lyteDraggableElem"),this.addToArray(o,"multiple")):0==c&&(o.classList.contains("lyteDraggableElem")?("multiple"==this.getData("prevMode")?(this.removeClass(),this.setData("multiSelectedItems",[]),o.classList.add("lyteDraggableElem"),this.getData("multiSelectedItems").push(o)):(o.classList.remove("lyteDraggableElem"),this.removeFromArray(o)),this.setData("prevMode","single")):(this.removeClass(),this.setData("multiSelectedItems",[]),o.classList.add("lyteDraggableElem"),this.getData("multiSelectedItems").push(o),this.setData("prevMode","single"))),this.setData("offset",[t.clientX-l.left,t.clientY-l.top]),this.setData("div",o);p=this.getData("div"),r=o.clientHeight,s=o.clientWidth;p.style.left=l.left-n.left+"px",p.style.top=l.top-n.top+"px",p.style.boxSizing="border-box",p.style.width=s+"px",p.style.height=r+"px",p.style.position="absolute",p.classList.add("lyteDraggableElem"),this.setData("placeholder",document.createElement("li")),(h=this.getData("placeholder")).setAttribute("id","dummy"),h.style.width=s+"px",h.style.height=r+"px",h.style.boxSizing="border-box",p.parentNode.insertBefore(h,p)}this.setData("isDown",!0)}else{this.removeClass(),o.classList.add("lyteDraggableElem"),this.setData("offset",[t.clientX-l.left,t.clientY-l.top]);this.setData("div",o);var h;p=this.getData("div");this.setData("isDown",!0),p.style.left=l.left-n.left+"px",p.style.top=l.top-n.top+"px",p.style.boxSizing="border-box",p.style.width=s+"px",p.style.height=r+"px",p.style.position="absolute",p.classList.add("lyteDraggableElem"),this.setData("placeholder",document.createElement("li")),(h=this.getData("placeholder")).setAttribute("id","dummy"),h.style.width=s+"px",h.style.height=r+"px",h.style.boxSizing="border-box",p.parentNode.insertBefore(h,p)}}}},mouseOver:function(t){var e;(e="span"==t.target.tagName.toLowerCase()?t.target.parentElement:t.target).classList.contains("lyteDraggableElem")?("sortableSec"==e.parentElement.id&&e.querySelector(".lyteDragDropAdd")&&(e.querySelector(".lyteDragDropAdd").style.visibility="hidden"),"dropSec"==e.parentElement.id&&e.querySelector(".lyteDragDropRemove")&&(e.querySelector(".lyteDragDropRemove").style.visibility="hidden")):("sortableSec"==e.parentElement.id&&e.querySelector(".lyteDragDropAdd")&&(e.querySelector(".lyteDragDropAdd").style.visibility="visible"),"dropSec"==e.parentElement.id&&e.querySelector(".lyteDragDropRemove")&&(e.querySelector(".lyteDragDropRemove").style.visibility="visible"))},mouseOut:function(t){"span"==t.target.tagName.toLowerCase()?target=t.target.parentElement:target=t.target,"sortableSec"==target.parentElement.id&&target.querySelector(".lyteDragDropAdd")&&(target.querySelector(".lyteDragDropAdd").style.visibility="hidden"),"dropSec"==target.parentElement.id&&target.querySelector(".lyteDragDropRemove")&&(target.querySelector(".lyteDragDropRemove").style.visibility="hidden")}}}),"complete"===document.readyState||"interactive"===document.readyState?addEvent():document.addEventListener("DOMContentLoaded",function(t){addEvent(t)}),Lyte.Component.register("lyte-dropdown",{_template:'<template tag-name="lyte-dropdown">\n\t<template is="if" value="{{expHandlers(ltPropHover,\'==\',true)}}"><template case="true">\n\t\t<template is="if" value="{{expHandlers(multiple,\'==\',true)}}"><template case="true">\n\t\t\t<template is="if" value="{{expHandlers(search,\'==\',true)}}"><template case="true">\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',\'noyield\')}}"><template case="true">\n\t\t\t\t\t<lyte-drop-button>\n\t\t\t\t\t\t<div class="lyteMultiselect">\n\t\t\t\t\t\t\t<ul class="lyteMultipleSelect">\n\t\t\t\t\t\t\t\t<template is="for" items="{{allSelected}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li data-value="{{item[\'value\']}}">\n\t\t\t\t\t\t\t\t\t\t<span class="lyteDropdownVisible">{{item[\'display\']}}</span>\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-remove class="lyteCloseIcon"></lyte-drop-remove>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<li class="lyteMultiselectInput">\n\t\t\t\t\t\t\t\t\t<input onkeydown="{{action(\'preventDefault\',event)}}" type="text" placeholder="{{ltPropPlaceholder}}" class="lyteDropdownTextField" autocomplete="off" tabindex="{{ltPropTabindex}}" onclick="{{action(\'showHide\',event)}}">\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t</template><template case="false">\n\n\t\t\t\t</template></template>\n\t\t\t</template><template case="false">\n\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t\t<div class="lyteDummyEventContainer" onclick="{{action(\'showHide\',event)}}" onkeyup="{{action(\'checkKey\',event)}}" tabindex="{{ltPropTabindex}}">\n\t\t\t\t\t\t<lyte-drop-button>\n\t\t\t\t\t\t\t<template is="if" value="{{expHandlers(allSelected.length,\'==\',0)}}"><template case="true">\n\t\t\t\t\t\t\t\t<span class="lyteDropPlaceholderMultiple">{{ltPropPlaceholder}}</span>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t<ul class="lyteMultipleSelect">\n\t\t\t\t\t\t\t\t<template is="for" items="{{allSelected}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li data-value="{{item[\'value\']}}">\n\t\t\t\t\t\t\t\t\t\t<span class="lyteDropdownVisible">{{item[\'display\']}}</span>\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-remove class="lyteCloseIcon"></lyte-drop-remove>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t\t</div>\n\t\t\t\t</template><template case="false">\n\n\t\t\t\t</template></template>\n\t\t\t</template></template>\n\t\t</template><template case="false">\n\t\t\t<div onmouseenter="{{action(\'showHide\',event,\'enter\')}}" onmouseleave="{{action(\'closeIt\',event)}}" class="lyteDummyEventContainer" tabindex="{{ltPropTabindex}}" style="">\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t\t<lyte-drop-button>\n\t\t\t\t\t\t<template is="if" value="{{ltPropDisplayValue}}"><template case="true">\n\t\t\t\t\t\t\t<span class="lyteMarginRight lyteDropdownLabel" onmouseenter="{{action(\'toolTipConfig\',this)}}" lt-prop-title="{{if(showToolTip,ltPropDisplayValue,\'\')}}" lt-prop-tooltip-config="{{ltPropTooltip}}">{{ltPropDisplayValue}}</span>\n\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(expHandlers(ltPropSelected,\'!\'),\'&amp;&amp;\',expHandlers(ltPropDisplayValue,\'!\'))}}"><template case="true">\n\t\t\t\t\t\t\t<span class="lyteDropPlaceholderNormal">{{ltPropPlaceholder}}</span>\n\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t\t<lyte-icon class="{{ltPropIconClass}}"></lyte-icon>\n\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(drophead,\'==\',&quot;yield&quot;)}}"><template case="true">\n\t\t\t\t\t\n\t\t\t\t</template></template></template></template>\n\t\t\t</div>\n\t\t</template></template>\n\t</template><template case="false">\n\t\t<template is="if" value="{{expHandlers(multiple,\'==\',true)}}"><template case="true">\n\t\t\t<template is="if" value="{{expHandlers(search,\'==\',true)}}"><template case="true">\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',\'noyield\')}}"><template case="true">\n\t\t\t\t\t<lyte-drop-button onclick="{{action(\'showHide\',event)}}">\n\t\t\t\t\t\t<div class="lyteMultiselect">\n\t\t\t\t\t\t\t<ul class="lyteMultipleSelect">\n\t\t\t\t\t\t\t\t<template is="for" items="{{allSelected}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t\t<li data-value="{{item[\'value\']}}">\n\t\t\t\t\t\t\t\t\t\t<span class="lyteDropdownVisible">{{item[\'display\']}}</span>\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-remove class="lyteCloseIcon"></lyte-drop-remove>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<li class="lyteMultiselectInput">\n\t\t\t\t\t\t\t\t\t<input onkeydown="{{action(\'preventDefault\',event)}}" type="text" placeholder="{{ltPropPlaceholder}}" class="lyteDropdownTextField" autocomplete="off" tabindex="{{ltPropTabindex}}">\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t</template><template case="false">\n\t\t\t\t\t<div class="lyteDummyEventContainer" tabindex="{{ltPropTabindex}}" style="" onclick="{{action(\'showHide\',event)}}">\n\n\t\t\t\t\t</div>\n\t\t\t\t</template></template>\n\t\t\t</template><template case="false">\n\t\t\t\t<div class="lyteDummyEventContainer" onclick="{{action(\'showHide\',event)}}" tabindex="{{ltPropTabindex}}">\n\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t\t<lyte-drop-button>\n\t\t\t\t\t\t<template is="if" value="{{expHandlers(allSelected.length,\'==\',0)}}"><template case="true">\n\t\t\t\t\t\t\t<span class="lyteDropPlaceholderMultiple">{{ltPropPlaceholder}}</span>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t<ul class="lyteMultipleSelect">\n\t\t\t\t\t\t\t<template is="for" items="{{allSelected}}" item="item" index="indexVal">\n\t\t\t\t\t\t\t\t<li data-value="{{item[\'value\']}}">\n\t\t\t\t\t\t\t\t\t<span class="lyteDropdownVisible">{{item[\'display\']}}</span>\n\t\t\t\t\t\t\t\t\t<lyte-drop-remove class="lyteCloseIcon"></lyte-drop-remove>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t</template><template case="false">\n\n\t\t\t\t</template></template>\n\t\t\t\t</div>\n\t\t\t</template></template>\n\t\t</template><template case="false">\n\t\t\t<div onclick="{{action(\'showHide\',event)}}" class="lyteDummyEventContainer" tabindex="{{ltPropTabindex}}" style="">\n\t\t\t\t<template is="if" value="{{expHandlers(drophead,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t\t<lyte-drop-button>\n\t\t\t\t\t\t<template is="if" value="{{ltPropDisplayValue}}"><template case="true">\n\t\t\t\t\t\t\t<span onmouseenter="{{action(\'toolTipConfig\',this)}}" lt-prop-tooltip-config="{{ltPropTooltip}}" lt-prop-title="{{if(showToolTip,ltPropDisplayValue,\'\')}}" class="lyteMarginRight lyteDropdownLabel">{{ltPropDisplayValue}}</span>\n\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(expHandlers(ltPropSelected,\'!\'),\'&amp;&amp;\',expHandlers(ltPropDisplayValue,\'!\'))}}"><template case="true">\n\t\t\t\t\t\t\t<span class="lyteDropPlaceholderNormal">{{ltPropPlaceholder}}</span>\n\t\t\t\t\t\t</template></template></template></template>\n\t\t\t\t\t\t<lyte-icon class="{{ltPropIconClass}}"></lyte-icon>\n\t\t\t\t\t</lyte-drop-button>\n\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(drophead,\'==\',&quot;yield&quot;)}}"><template case="true">\n\t\t\t\t\t\n\t\t\t\t</template></template></template></template>\n\t\t\t</div>\n\t\t</template></template>\n\t</template></template>\n\t\t<template is="if" value="{{expHandlers(ltPropHover,\'==\',false)}}"><template case="true">\n\t\t\t<template is="if" value="{{expHandlers(dropbody,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t<lyte-drop-box class="lyteDropdownHidden">\n\t\t\t\t<lyte-drop-body>\n\t\t\t\t\t<template is="for" items="{{ltPropOptions}}" item="item" index="indexVal"><template is="if" value="{{lyteUiOptGroupCheck(item)}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-drop-group>\n\t\t\t\t\t\t\t\t<lyte-drop-label>{{lyteUiReturnOnlyKey(item)}}</lyte-drop-label>\n\t\t\t\t\t\t\t\t<template is="for" items="{{lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item))}}" item="subitem" index="indexval">\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIsObject(subitem)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{subitem[ltPropSystemValue]}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,subitem[ltPropSystemValue])}}">{{subitem[ltPropUserValue]}}</lyte-drop-item>\n\t\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{subitem}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,subitem)}}">{{subitem}}</lyte-drop-item>\n\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-drop-group>\n\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIsObject(item)}}"><template case="true">\n\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item[ltPropSystemValue]}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,item[ltPropSystemValue])}}">{{item[ltPropUserValue]}}</lyte-drop-item>\n\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,item)}}">{{item}}</lyte-drop-item>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</template>\n\t\t\t\t\t\n\t\t\t\t</lyte-drop-body>\n\t\t\t\t</lyte-drop-box>\n\t\t\t</template><template case="false">\n\n\t\t\t</template></template>\n\t\t\t<div class="lyteLoadMsg" style="display:none;">Loading</div>\n\t\t</template><template case="false">\n\t\t\t<template is="if" value="{{expHandlers(dropbody,\'==\',&quot;noyield&quot;)}}"><template case="true">\n\t\t\t\t<lyte-drop-box>\n\t\t\t\t<lyte-drop-body>\n\t\t\t\t\t<template is="for" items="{{ltPropOptions}}" item="item" index="indexVal"><template is="if" value="{{lyteUiOptGroupCheck(item)}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-drop-group>\n\t\t\t\t\t\t\t\t<lyte-drop-label>lyteUiReturnOnlyKey(item)</lyte-drop-label>\n\t\t\t\t\t\t\t\t<template is="for" items="{{lyteUiReturnValueBy(item,lyteReturnOnlyKey(item))}}" item="subitem" index="indexval">\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIsObject(subitem)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{subitem[ltPropSystemValue]}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,subitem[ltPropSystemValue])}}">{{subitem[ltPropUserValue]}}</lyte-drop-item>\n\t\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{subitem}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,subitem)}}">{{subitem}}</lyte-drop-item>\n\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-drop-group>\n\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t<template is="if" value="{{lyteUiIsObject(item)}}"><template case="true">\n\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item[ltPropSystemValue]}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,item[ltPropSystemValue])}}">{{item[ltPropUserValue]}}</lyte-drop-item>\n\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t<lyte-drop-item data-value="{{item}}" disabled="{{lyteUiCheckDisabled(ltPropDisabledList,item)}}">{{item}}</lyte-drop-item>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</template>\n\t\t\t\t</lyte-drop-body>\n\t\t\t\t</lyte-drop-box>\n\t\t\t</template><template case="false">\n\n\t\t\t</template></template>\n\t\t\t<div class="lyteLoadMsg" style="display:none;">Loading</div>\n\t\t</template></template>\n\t\t<lyte-yield yield-name="yield" style="display: none;"></lyte-yield>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]}]},{type:"attr",position:[1,1,1,3,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,1,3,1]},{type:"for",position:[1,1,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]}]},{type:"componentDynamic",position:[1,1]}]},false:{dynamicNodes:[]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]}]},{type:"attr",position:[1,1,1,3,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"for",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,3]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[]}},default:{}}]}},default:{}},{type:"insertYield",position:[5]}],_observedAttributes:["changeItToInvoke","dummy1","dummy2","savedPositions","ltPropRemoveMultiple","ltPropYield","ltPropType","ltPropTabindex","ltPropShow","ltPropFreeze","ltPropOptions","ltPropUserValue","ltPropSystemValue","ltPropPosition","ltPropIconClass","ltPropSelected","ltPropCallout","ltPropPlaceholder","ltPropDisabled","ltPropHover","ltPropNoResult","ltPropMaxCount","ltPropInputClass","allSelected","ltPropBoundary","pos","firePos","ltPropAjaxRequest","firstRequest","ltPropDisplayValue","ltPropDisabledList","ltPropAnimate","ltPropSetPos","ltPropTooltip","ltPropBoxClass","ltPropIsOpen","ltPropFixPositionOnOpen"],init:function(){var t,e=this.getData("ltPropType"),o=this.getData("ltPropSelected");(this._close=this.closeDrop1.bind(this),this._transEnd=this.tranEnd.bind(this),document.getElementById("lytedropdownfreezelayer"))||((t=document.createElement("div")).setAttribute("id","lytedropdownfreezelayer"),t.style.display="none",t.style.opacity="0.01",t.style.background="#fff",document.body.appendChild(t));this.$node.resetPosition=function(){var t=this.component,e=t.getData("ltPropFixPositionOnOpen");t.setCss(!1,e)},this.$node.toggle=function(t,e){var o=t||void 0;this.component.getData("ltPropDisabled")||this.constructor._actions.showHide.call(this.component,o,e,!0)},this.$node.open=function(){this.component.getData("ltPropIsOpen")||this.toggle()},this.$node.close=function(){this.component;this.getData("ltPropIsOpen")&&this.toggle()},-1===e.indexOf("multiple")&&-1===e.indexOf("multisearch")||(this.setData("multiple",!0),this.setData("allSelected",[]),o||this.setData("ltPropSelected","[]"),-1!==e.indexOf("multisearch")&&this.setData("search",!0))},didDestroy:function(){var t=this.childComp,e=this.$node.mutobserver,o=this.getData("ltPropFreeze");t&&(!t.classList.contains("lyteDropdownHidden")&&o&&(document.getElementById("lytedropdownfreezelayer").style.display="none"),delete t.origindd,t.remove()),e&&e.disconnect(),_lyteDropdown.autoClosed===this.$node&&(_lyteDropdown.autoClosed=null),_lyteDropdown.lastDropdownWithAPromise===this.$node&&(_lyteDropdown.lastDropdownWithAPromise=null),this._inputElement&&(this._inputElement.removeEventListener("keyup",this._function),$L(this._inputElement).removeSearch(),this._inputElement=null),delete this.childComp,delete this.$node.toggle,delete this.$node.element,this.$node.mutobserver=null},prerequisites:function(){var t,e=this.getDropBody(this.childComp);this.data.ltPropAnimate&&(this._hgtRemoval=!0,e.style.height=""),this.setCss(!1,!0),this.openSlideAnimate(),this.getData("call")&&this.childComp.removeAttribute("lyte-hidden"),this.getData("call")&&this.getMethods("onShow")&&(t=!0===(t=this.getData("call"))?void 0:t,this.executeMethod("onShow",t,this)),this.setData("call",null)},getChildren:function(t){var e,o=this.getData("drophead"),i=this.getData("dropbody"),a=0,l=this.$node;if("yield"!==o||"yield"!==i)for(;a<t.length;a++)"LYTE-DROPDOWN"!==(e=t[a].tagName)&&"TEMPLATE"!==e&&("LYTE-DROP-BOX"===e?(this.setData("dropbody","yield"),l.querySelector("lyte-drop-box").classList.add("lyteDropdownHidden")):"LYTE-DROP-BUTTON"===e?(this.setData("drophead","yield"),_lyteUiUtils.appendChild(l.querySelector(".lyteDummyEventContainer"),l.querySelector("lyte-drop-button")),a--):this.getChildren(t[a].children))},setBoxClass:function(t){var e=this.getData("ltPropBoxClass"),o=this.childComp||this.$node.querySelector("lyte-drop-box");"noyield"===this.getData("dropbody")&&(e&&o.classList.add(e),t&&o.classList.remove(t))},didConnect:function(){var t,e,o,i,a,l,n,r,s,d,p=this.$node,c=this.childComp,h=this.getData("ltPropNoResult"),u=p.querySelector("lyte-yield"),y=this.getData("ltPropPlaceholder"),m=this.getData("ltPropHover"),g=this.getData("ltPropSelected"),f=this.getData("ltPropOptions"),v=this.getData("ltPropType"),b=this.getData("ltPropDisabled"),D=this.getData("ltPropTabindex"),P=this.getData("ltPropShow"),C=this.getData("ltPropDisabledList");this.getData("ltPropDisplayValue");if(this.determine(u),n=this.getData("drophead"),r=this.getData("dropbody"),"yield"!==n&&this.setData("drophead",n="noyield"),"yield"!==r&&this.setData("dropbody",r="noyield"),t=p.querySelector("lyte-drop-box"),this.setBoxClass(),p.mutobserver=new MutationObserver(function(t){if(this._prevent||this._preventClass)this._preventClass=!1;else if(this._hgtRemoval)delete this._hgtRemoval;else{var e,o,i=this.childComp?this.childComp:p.querySelector("lyte-drop-box");if(!this.getData("ltPropSetPos")&&!i.classList.contains("lyteDropdownHidden")){if(this.getData("multiple")){var a=!1;for(e=0;e<t.length;e++){if("attributes"!==t[e].type||"lyte-hidden"!==t[e].attributeName)if(n="childList"==t[e].type||"selected"==t[e].attributeName||"class"==t[e].attributeName&&!t[e].target.classList.contains("lyteArrow")&&("LYTE-DROP-ITEM"!==t[e].target.tagName||!this.hasClassToggled(t[e],"lyteDropdownSelection")&&!this.hasClassToggled(t[e],"lyteMenuSelected"))||"style"==t[e].attributeName&&"LYTE-DROP-BOX"!=t[e].target.tagName&&!t[e].target.classList.contains("lyteArrow")||"style"===t[e].attributeName&&"LYTE-DROP-BOX"===t[e].target.tagName&&this.isVisibilityModified(t[e].oldValue,t[e].target.getAttribute("style"))){a=!0;break}}if(a)return void this.prerequisites()}else{a=!1;var l=!1;for(e=0;e<t.length;e++)"style"!=t[e].attributeName||"LYTE-DROP-BOX"!=t[e].target.tagName||this.isVisibilityModified(t[e].oldValue,t[e].target.getAttribute("style"))||(l=!0);for(e=0;e<t.length;e++){var n;if("attributes"!==t[e].type||"lyte-hidden"!==t[e].attributeName)if((n="childList"==t[e].type||"style"==t[e].attributeName&&"LYTE-DROP-BOX"!=t[e].target.tagName&&!t[e].target.classList.contains("lyteArrow")||"class"==t[e].attributeName&&"attributes"===t[e].type&&!t[e].target.classList.contains("lyteArrow")&&("LYTE-DROP-ITEM"!==t[e].target.tagName||!this.hasClassToggled(t[e],"lyteDropdownSelection")&&!this.hasClassToggled(t[e],"lyteMenuSelected"))||"style"===t[e].attributeName&&"LYTE-DROP-BOX"===t[e].target.tagName&&this.isVisibilityModified(t[e].oldValue,t[e].target.getAttribute("style")))&&"class"==t[e].attributeName&&"LYTE-DROP-BOX"==t[e].target.tagName){if(!l){a=!0;break}}else n&&!l&&(a=!0)}if(a)return void this.prerequisites()}this.getData("call")&&this.childComp.removeAttribute("lyte-hidden"),this.getData("call")&&this.getMethods("onShow")&&(o=!0===(o=this.getData("call"))?void 0:o,this.executeMethod("onShow",o,this)),this.setData("call",null)}}}.bind(this)),e={attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0},p.mutobserver.observe(t,e),(o=document.createElement("div")).setAttribute("class","lyteDropdownNoResult"),o.textContent=h,o.style.display="none",t.addEventListener("click",function(t){this.actions.processElements.call(this,t)}.bind(this)),m&&t.addEventListener("mouseout",function(t){this.actions.closeIt.call(this,t)}.bind(this)),(i=document.createElement("span")).setAttribute("class","lyteArrow"),t.insertBefore(i,t.children[0]),!y&&!g&&f.length>0){var L,x=f[0],w=!1;x.constructor==Object&&1==Object.keys(x).length&&(L=x[Object.keys(x)[0]]).constructor==Array&&(w=!0),this.setData("preventDisp",!0),w?"[object Object]"===Object.prototype.toString.call(L[0])?this.setData("ltPropSelected",L[0][this.getData("ltPropSystemValue")]):this.setData("ltPropSelected",L[0]):"[object Object]"===Object.prototype.toString.call(x)?this.setData("ltPropSelected",x[this.getData("ltPropSystemValue")]):this.setData("ltPropSelected",x),this.setData("preventDisp",!1)}else y||this.getData("ltPropSelected")||"yield"!=r||"multiple"===v||"multisearch"===v||(a=(s=p.querySelectorAll("lyte-drop-body"))[s.length-1].querySelector("lyte-drop-item"))&&(this.setData("preventDisp",!0),a.setAttribute("selected",!0),this.setData("preventDisp",!1));l=p.querySelector("[tabindex]"),b?(this.disableClickableItem(l),l.setAttribute("tabindex",-1)):(this.enableClickableItem(l),l.setAttribute("tabindex",D)),"multisearch"===v&&(this._inputElement=l,this._function=this.fireCheckKey.bind(this),l.addEventListener("keyup",this._function)),this.setData("preventDisp",!0),this.setData("changeItToInvoke",this.getData("changeItToInvoke")+1),this.setData("preventDisp",!1),P&&(this.setData("ltPropShow",!1),p.toggle(),$L.fastdom.measure(function(){l.focus();var t=p.getBoundingClientRect();(t.left<0||t.top<0)&&p.scrollIntoView()})),c=this.childComp,(d=this.getDropBody(c)).appendChild(o),d.addEventListener("scroll",function(t){this.callOnScroll(t,this)}.bind(this)),d.addEventListener("mousemove",function(t){var e=t.target,o=t.currentTarget.querySelector(".lyteDropdownSelection");e=_lyteDropdown.traverse(e,["LYTE-DROP-ITEM"]),this.hasMousePositionNotChanged(t)||e===o||(o&&o.classList.remove("lyteDropdownSelection"),e&&"LYTE-DROP-ITEM"===e.tagName&&e&&e.classList.add("lyteDropdownSelection"))}.bind(this)),f.length>0&&C&&C.length>0&&this.addDisabledClass(p.querySelectorAll("lyte-drop-item"))},hasMousePositionNotChanged:function(t){var e=t.clientX,o=t.clientY,i=this.prevClientX,a=this.prevClientY;return this.prevClientX=e,this.prevClientY=o,i===e&&a===o},tranEnd:function(t){var e=this.childComp;e.classList.remove("lyteAnimate"),e.removeEventListener("transitionend",this._transEnd),delete this._prevent},openSlideAnimate:function(){if(this.getData("ltPropAnimate")){if(this._preventSetcss)return;this._preventSetcss=!0,this._prevent=!0;var t=this.childComp?this.childComp:this.$node.querySelector("lyte-drop-box"),e=this.getDropBody(this.childComp);this._oriStyle=e.style.height,e.style.height=0,-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(t.style.top=parseInt(t.style.top)+this._hgt+"px"),setTimeout(function(){t.classList.add("lyteAnimate"),setTimeout(function(){-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(t.style.top=parseInt(t.style.top)-this._hgt+"px"),e.style.height=this._hgt+"px",setTimeout(function(){t.addEventListener("transitionend",this._transEnd),this._hgt||this.tranEnd.call(this,{})}.bind(this),20)}.bind(this),20)}.bind(this),20)}},determine:function(t){var e,o,i,a=t.children,l=this.$node;l.querySelector("lyte-dropdown")?this.getChildren(a):(o=t.querySelector("lyte-drop-box"),(e=t.querySelector("lyte-drop-button"))&&(i=l.querySelector(".lyteDummyEventContainer"),this.setData("drophead","yield"),_lyteUiUtils.appendChild(i,e)),o&&(this.setData("dropbody","yield"),o.classList.add("lyteDropdownHidden")))},addClass:function(){this.childComp.classList.add("lyteMultiSelectDropdown")},closeDrop:function(t,e,o){_lyteDropdown.autoClosed=null,this.setData("ltPropIsOpen",!1),this._prevent||(this.getData("ltPropAnimate")?(this._prevent=!0,this._arguments=arguments,this.childComp.classList.add("lyteAnimate"),setTimeout(function(){var t=this.childComp?this.childComp:this.$node.querySelector("lyte-drop-box"),e=this.getDropBody(this.childComp);e.style.height=0,-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(t.style.top=parseInt(t.style.top)+this._hgt+"px"),this._elem=e,this._box=t,e.addEventListener("transitionend",this._close),this._hgt||this.closeDrop1.call(this)}.bind(this),20)):this.closeDrop1(t,e,o))},closeDrop1:function(t,e,o){var i,a=this.$node.querySelector("lyte-drop-button"),l=this.getData("pos"),n=this.getData("multiple");this._arguments&&(t=this._arguments[0],e=this._arguments[1],o=this._arguments[2],this._elem.style.height=this._oriStyle,this._box.classList.remove("lyteAnimate"),this._elem.removeEventListener("transitionend",this._close),delete this._hgt,delete this._oriStyle,delete this._arguments,delete this._elem,delete this._box),n&&(this.getDropBody(t).scrollTop=0),t.classList.add("lyteDropdownHidden"),document.querySelector("#lytedropdownfreezelayer")&&(document.querySelector("#lytedropdownfreezelayer").style.display="none"),t.style.left="",o&&document.body.classList.remove("lyteBodyWrapper"),(i=this.removeClass(a.classList,l,"lyteDropButton",!0))&&a.classList.remove(i),this.getMethods("onHide")&&this.executeMethod("onHide",e,this),this.setData("pos",""),this.setData("savedPositions",{}),delete this._prevent,delete this._preventSetcss},callOnScroll:function(t){this.getMethods("onScroll")&&this.executeMethod("onScroll",t,this)},addDisabledClass:function(t){for(var e,o=0;o<t.length;o++)"true"==(e=t[o]).getAttribute("disabled")?e.classList.add("lyteDropdown-disabled"):e.classList.contains("lyteDropdown-disabled")&&e.classList.remove("lyteDropdown-disabled")},changeBoxClass:function(t){var e=t.oldValue;this.setBoxClass(e)}.observes("ltPropBoxClass"),noResultChanged:function(){var t=this.childComp,e=this.getData("ltPropType"),o=this.getData("drophead"),i=this.getDropBody(t).querySelector(".lyteDropdownNoResult"),a=this.getData("ltPropNoResult");t=this.childComp;i.textContent=a,a||(i.style.display="none"),t&&this.showError(t,e,o)}.observes("ltPropNoResult"),onChangeInDisabledList:function(){for(var t,e=this.childComp?this.childComp.querySelectorAll("lyte-drop-item"):this.$node.querySelectorAll("lyte-drop-item"),o=0;o<e.length;o++)t=Lyte.Component.registeredHelpers.lyteUiCheckDisabled(this.getData("ltPropDisabledList"),e[o].dataset.value),e[o].setAttribute("disabled",t),"true"===t&&e[o].classList.remove("lyteDropdownSelection");this.addDisabledClass(e)}.observes("ltPropDisabledList.[]"),removeClass:function(t,e,o,i){if(!e)return"";for(var a=0,l=t.length,n=o+(i?e[0].toUpperCase()+e.substring(1):{up:"Down",down:"Up",left:"Right",right:"Left"}[e]);a<l;a++)if(t[a]===n)return n;return""},firePosCallBack:function(){var t=this.getData("pos"),e=this.getData("widthAdjusted");if(""!==t){var o=this.childComp,i=this.$node.querySelector("lyte-drop-button"),a=this.removeClass(o.classList,t,"lyteDropdown");a&&(this._preventClass=!0,o.classList.remove(a)),o.classList.add("lyteDropdown"+t[0].toUpperCase()+t.substring(1)),(a=this.removeClass(i.classList,t,"lyteDropButton"))&&(this._preventClass=!0,i.classList.remove(a)),i.classList.add("lyteDropButton"+t[0].toUpperCase()+t.substring(1)),2===e&&o.classList.add("lyteDropdownCurve"),this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",t,this)}}.observes("pos","firePos"),setLeftExceedForDown:function(t,e,o,i,a){var l=o;return a+l.left+l.width-i},setLeftNotExceedForDown:function(t,e,o){return o+e.left},setTopAboveForDown:function(t,e,o,i,a){return a+o.top-i.height},setTopBelowForDown:function(t,e,o){var i=e;return o+i.top+i.height},setLeftForRight:function(t,e,o){var i=e;return o+i.left+i.width},setRightForRight:function(t,e,o,i,a){return a+o.left-i},setTopForRight:function(t,e,o){return o+e.top},setTopForRightAbove:function(t,e,o,i,a){var l=o;return a+l.top+l.height-i.height},setCorrectClass:function(t){for(var e=this.childComp.querySelector(".lyteArrow"),o=e.classList,i=0;i<o.length;i++)"lyteArrow"!=o[i]&&o[i]!=t&&(e.classList.remove(o[i]),i--);e.classList.add(t),e.classList.add("lyteArrowIcon")},hasClassToggled:function(t,e){var o=t.oldValue?t.oldValue.split(" "):[],i=t.target,a=o.length,l=i.classList.length;return!(!(~o.indexOf(e)&&!i.classList.contains(e)||!~o.indexOf(e)&&i.classList.contains(e))||1!==Math.abs(a-l))},wasVisibilityAddedOrRemoved:function(t,e){return!!~t.indexOf("visibility")&&!~e.indexOf("visibility")||!!~e.indexOf("visibility")&&!~t.indexOf("visibility")},didValueChange:function(t,e){return!!~t.indexOf("visible")&&!!~e.indexOf("hidden")||!!~t.indexOf("hidden")&&!!~e.indexOf("visible")},isVisibilityModified:function(t,e){if(t=t||"",e=e||"",this.wasVisibilityAddedOrRemoved(t,e)||this.didValueChange(t,e))return!0},adjustWidth:function(t,e,o){return this.setData("widthAdjusted",1),o>e&&this.setData("widthAdjusted",2),t.style.minWidth=e+"px",o>e?parseFloat(o):parseFloat(e)},getDropBody:function(t){var e;return(e=t?t.querySelectorAll("lyte-drop-body"):this.$node.querySelectorAll("lyte-drop-body"))[e.length-1]},toggleCurrent:function(t,e){var o="lyteDropdownSelection",i=e.querySelector("."+o);i&&i.classList.remove(o),t.classList.add(o)},scrollSel:function(){var t,e=this.getData("ltPropSelected"),o=this.childComp,i=this.getDropBody(o),a=t=i.querySelector('[data-value="'+window._lyteUiUtils.escape(e)+'"]');if(this.getData("multiple"))(t=i.querySelector("lyte-drop-item:not(.lyteDropdownActive):not(.lyteSearchHidden)"))&&this.toggleCurrent(t,i);else{for(;a&&(a=a.previousElementSibling)&&("LYTE-DROP-ITEM"!==a.tagName&&"LYTE-DROP-LABEL"!==a.tagName||!_lyteDropdown.isVisible(a)););(a=a||t)&&(i.scrollTop=a.offsetTop),t&&!t.classList.contains("lyteDropdown-disabled")&&this.toggleCurrent(t,i)}},clone:function(t){var e={};for(var o in t)e[o]=t[o];return e},isFF:function(){return!!~navigator.userAgent.indexOf("Firefox")},isBodyScrollable:function(){var t=this.childComp,e=this.getDropBody(t);return e.scrollHeight>e.offsetHeight},addProperScrollbar:function(){var t=this.childComp,e=this.getDropBody(t);e.classList.contains("lyteDropdownFFScroll")||e.classList.add("lyteDropdownFFScroll"),e.classList.contains("lyteDropdownFFZeroScroll")&&e.classList.remove("lyteDropdownFFZeroScroll")},removeScrollbar:function(){var t=this.childComp,e=this.getDropBody(t);e.classList.contains("lyteDropdownFFZeroScroll")||e.classList.add("lyteDropdownFFZeroScroll"),e.classList.contains("lyteDropdownFFScroll")&&e.classList.remove("lyteDropdownFFScroll")},setCss:function(t,e){var o=this.childComp,i=this.getData("call");if(e||this.setData("savedPositions",{}),o&&!o.classList.contains("lyteDropdownHidden")){var a=this.getData("ltPropCallout"),l=o,n=this.$node.element,r=n||this.$node.querySelector("lyte-drop-button"),s=window.innerWidth,d=window.innerHeight,p=this.getData("savedPositions"),c=this.clone(l.getBoundingClientRect()),h=this.getDropBody(l).getBoundingClientRect(),u=window.pageXOffset||document.documentElement.scrollLeft,y=window.pageYOffset||document.documentElement.scrollTop,m=l.offsetHeight,g=l.offsetWidth,f=o.querySelector(".lyteArrow"),v=this.getData("ltPropPosition"),b=r.getBoundingClientRect(),D=this.isFF();this.data.ltPropAnimate&&(this._hgt=h.height,this.getDropBody(l).style.height=this._hgt+"px"),i&&(this._preventClass=!0,this.scrollSel(),t||(g=this.adjustWidth(l,b.width,g),c.width=g,a||(f.style.width=b.width+"px"))),a&&!l.classList.contains("lyteDropBodyCallout")&&l.classList.add("lyteDropBodyCallout"),D&&this.isBodyScrollable()?this.addProperScrollbar():D&&!this.isBodyScrollable()&&this.removeScrollbar();var P,C,L,x,w,_,S,T,M,E,k,A=_lyteUiUtils.getRTL();"down"===v?(P=!0,P=!(b.top+b.height+m>d&&b.top>m),C=0,b.left+b.width-g>0&&(C=1),b.left+g<=s&&(C+=2),C=A?!(1&C||!C):!(!(2&C)&&C),e&&!_lyteDropdown.isEmpty(p)?(C=p.rightPos,P=p.downPos):e&&(p.rightPos=C,p.downPos=P,this.setData("savedPositions",p)),P?a?(this.setCorrectClass("lyteArrowTop"),E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),w=this.setTopBelowForDown(r,b,y)+parseFloat(E||"0px")+"px"):l.style.top=this.setTopBelowForDown(r,b,y)+"px":a?(this.setCorrectClass("lyteArrowBottom"),E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),w=this.setTopAboveForDown(r,l,b,c,y)-parseFloat(E||"0px")+"px"):l.style.top=this.setTopAboveForDown(r,l,b,c,y)+"px",C?(a&&(k=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),k=parseFloat(k||"0px"),_=window.getComputedStyle(f,":before").marginLeft,_=Math.abs(parseFloat(_||"0px")),M=(b.width/2-k+_)/(T=g/100),f.style.left=M+"%"),l.style.top=w||l.style.top,l.style.left=this.setLeftNotExceedForDown(r,b,u)+"px"):(a&&(k=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),k=parseFloat(k||"0px"),_=window.getComputedStyle(f,":before").marginLeft,_=Math.abs(parseFloat(_||"0px")),T=g/100,M=(g-b.width/2-k+_)/T,f.style.left=M+"%"),l.style.top=w||l.style.top,l.style.left=this.setLeftExceedForDown(r,l,b,g,u)+"px"),P?this.setData("pos","down"):this.setData("pos","up")):"right"===v?(C=0,b.left-c.width>0&&(C=1),b.left+b.width+c.width<s&&(C+=2),C=A?!(1&C||!C):!(!(2&C)&&C),P=!0,P=!(b.top+c.height>d),e&&!_lyteDropdown.isEmpty(p)?(C=p.rightPos,P=p.downPos):e&&(p.rightPos=C,p.downPos=P,this.setData("savedPositions",p)),C?a?(this.setCorrectClass("lyteArrowLeft"),k=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),k=parseFloat(k||"0px"),w=this.setLeftForRight(r,b,u)+k+"px"):l.style.left=this.setLeftForRight(r,b,u)+"px":a?(this.setCorrectClass("lyteArrowRight"),k=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),k=parseFloat(k||"0px"),w=this.setRightForRight(r,l,b,g,u)-k+"px"):l.style.left=this.setRightForRight(r,l,b,g,u)+"px",P?(a&&(E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),S=window.getComputedStyle(f,":before").marginTop,S=Math.abs(parseFloat(S||"0px")),M=100*(b.height/2-E+S)/(T=c.height),f.style.top=M+"%"),l.style.left=w||l.style.left,l.style.top=this.setTopForRight(r,b,y)+"px"):(a&&(E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),S=window.getComputedStyle(f,":before").marginTop,S=Math.abs(parseFloat(S||"0px")),M=100*(c.height-b.height/2-E+S)/(T=c.height),f.style.top=M+"%"),l.style.left=w||l.style.left,l.style.top=this.setTopForRightAbove(r,l,b,c,y)+"px"),C?this.setData("pos","right"):this.setData("pos","left")):"up"===v?(L=!0,L=!(b.top-c.height<0&&b.top+b.height+m<d),C=0,b.left+b.width-g>0&&(C=1),b.left+g<=s&&(C+=2),C=A?!(1&C||!C):!(!(2&C)&&C),e&&!_lyteDropdown.isEmpty(p)?(C=p.rightPos,L=p.topPos):e&&(p.rightPos=C,p.topPos=L,this.setData("savedPositions",p)),L?a?(this.setCorrectClass("lyteArrowBottom"),E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),w=this.setTopAboveForDown(r,l,b,c,y)-E+"px"):l.style.top=this.setTopAboveForDown(r,l,b,c,y)+"px":a?(this.setCorrectClass("lyteArrowTop"),E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),w=this.setTopBelowForDown(r,b,y)+E+"px"):l.style.top=this.setTopBelowForDown(r,b,y)+"px",C?(a&&(k=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),k=parseFloat(k||"0px"),_=window.getComputedStyle(f,":before").marginLeft,_=Math.abs(parseFloat(_||"0px")),M=(b.width/2+_-k)/(T=g/100),f.style.left=M+"%"),l.style.top=w||l.style.top,l.style.left=this.setLeftNotExceedForDown(r,b,u)+"px"):(a&&(k=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),k=parseFloat(k||"0px"),_=window.getComputedStyle(f,":before").marginLeft,_=Math.abs(parseFloat(_||"0px")),T=g/100,M=(g-b.width/2+_-k)/T,f.style.left=M+"%"),l.style.top=w||l.style.top,l.style.left=this.setLeftExceedForDown(r,l,b,g,u)+"px"),L?this.setData("pos","up"):this.setData("pos","down")):"left"===v&&(x=0,b.left+b.width+g<s&&(x=1),b.left-g>0&&(x+=2),x=A?!(1&x||!x):!(!(2&x)&&x),P=!0,P=!(b.top+c.height>d),e&&!_lyteDropdown.isEmpty(p)?(x=p.leftPos,P=p.downPos):e&&(p.leftPos=x,p.downPos=P,this.setData("savedPositions",p)),x?a?(this.setCorrectClass("lyteArrowRight"),k=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),k=parseFloat(k||"0px"),w=this.setRightForRight(r,l,b,g,u)-k+"px"):l.style.left=this.setRightForRight(r,l,b,g,u)+"px":a?(this.setCorrectClass("lyteArrowLeft"),k=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),k=parseFloat(k||"0px"),w=this.setLeftForRight(r,b,u)+k+"px"):l.style.left=this.setLeftForRight(r,b,u)+"px",P?(a&&(E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),S=window.getComputedStyle(f,":before").marginTop,S=Math.abs(parseFloat(S||"0px")),M=100*(b.height/2-E+S)/(T=c.height),f.style.top=M+"%"),l.style.left=w||l.style.left,l.style.top=this.setTopForRight(r,b,y)+"px"):(a&&(E=window.getComputedStyle(f,":before").getPropertyValue("border-left-width"),E=parseFloat(E||"0px"),S=window.getComputedStyle(f,":before").marginTop,S=Math.abs(parseFloat(S||"0px")),M=100*(c.height-b.height/2-E+S)/(T=c.height),f.style.top=M+"%"),l.style.left=w||l.style.left,l.style.top=this.setTopForRightAbove(r,l,b,c,y)+"px"),x?this.setData("pos","left"):this.setData("pos","right"))}},setFreezeLayer:function(){var t=document.getElementById("lytedropdownfreezelayer");t.style.display="block",t.classList.add("lyteDropdownZIndex"),document.body.classList.add("lyteBodyWrapper")},scrollIntoView:function(t,e){var o=this.getDropBody(this.childComp),i=t.offsetTop,a=o.scrollTop,l=o.getBoundingClientRect().height,n=t.getBoundingClientRect().height;"down"===e&&a+l<i+n?o.scrollTop=o.scrollTop+i+n-(l+a):"up"===e&&i<a&&(o.scrollTop=i)},open:function(){var t,e=this,o=this.getData("ltPropType"),i=this.getData("drophead"),a=this.getData("multiple"),l=this.getData("ltPropFreeze"),n=this.getData("ltPropHover");t=this.childComp=this.$node.querySelector("lyte-drop-box"),this.hideNodes(),"multisearch"===o&&"yield"!==i&&$L(this.$node.querySelector(".lyteDropdownTextField")).search({scope:t,search:"lyte-drop-item",onSearch:function(t){for(var o=0,i=e.childComp,a=e.getDropBody(i).querySelector(".lyteDropdownNoResult"),l=e.getData("ltPropNoResult");o<t.length;o++)if(!t[o].classList.contains("lyteDropdownActive"))return void(a&&(a.style.display="none"));"none"===a.style.display&&l&&(a.style.display="block")}}),_lyteUiUtils.appendChild(document.body,t),t.origindd=this.$node,t.classList.remove("lyteDropdownHidden"),!l||a||n||this.setFreezeLayer()},hideNodes:function(){var t,e,o=this.childComp,i=0,a=this.getData("multiple"),l=this.getData("ltPropType"),n=this.getData("drophead"),r=this.getData("ltPropSelected");if(a&&r&&r.length>2){if(!o)return;try{t=JSON.parse(this.getData("ltPropSelected")||"[]")}catch(t){return void console.error("Unable to parse ltPropSelected",t)}for(;i<t.length;i++)(e=o.querySelector('[data-value="'+window._lyteUiUtils.escape(t[i])+'"]'))&&(e.classList.add("lyteDropdownActive"),this.setData("preventSel",!0),e.setAttribute("selected",!0),this.setData("preventSel",!1))}this.showError(o,l,n)},showNodes:function(t){var e,o,i,a,l=0,n=this.childComp,r=this.getDropBody(n),s=this.getData("multiple"),d=this.getData("ltPropType"),p=this.getData("drophead"),c=this.getData("allSelected"),h=t.newValue,u=t.oldValue;if(s){n&&(a=r.querySelector(".lyteDropdownNoResult"));try{h=JSON.parse(h||"[]").map(function(t){return""+t}),u=JSON.parse(u||"[]").map(function(t){return""+t})}catch(t){return void console.error("Unable to parse ltPropSelected",t)}for(o=u.length;l<o;l++)if(-1===h.indexOf(u[l])){if(n&&(i=n.querySelector('[data-value="'+window._lyteUiUtils.escape(u[l])+'"]'))&&(i.classList.remove("lyteDropdownActive"),this.setData("preventSel",!0),i.removeAttribute("selected"),this.setData("preventSel",!1)),"noyield"===p)for(e=0;e<c.length;e++)if(c[e].value===u[l]){Lyte.arrayUtils(c,"removeAt",e,1);break}a&&("multisearch"===d&&"yield"!==p||"multiple"===d)&&(a.style.display="none")}}},selObs:function(t){var e=t.oldValue;if(!this.getData("prev")){if(this.checkLimit(0))return this.setData("prev",!0),this.setData("ltPropSelected",e),void this.setData("prev",!1);this.hideNodes(),this.showNodes(t)}}.observes("ltPropSelected"),first:function(){var t=this.getData("ltPropType");this.setData("ltPropShow",!0),this.setData("ltPropIsOpen",!0),this.open(),"multisearch"===t&&this.focusInput()},subsequent:function(t,e,o,i){var a=this.getData("ltPropType");this.setData("ltPropIsOpen",!0),t.classList.remove("lyteDropdownHidden"),!e||o||i||this.setFreezeLayer(),"multisearch"===a&&this.focusInput()},beforeShow:function(t,e,o){var i,a=this,l=this.getDropBox(),n=this.getData("ltPropFreeze"),r=this.getData("multiple"),s=this.getData("ltPropHover");(i=this.executeMethod("onBeforeShow",t,this))&&i.then?(_lyteDropdown.lastDropdownWithAPromise=this.$node,this.setData("blockShowHide",!0),i.then(function(i){a.setData("blockShowHide",!1),a.isNotLastDropdownWithPromise()||(a.setData("call",!!e||t),o?a.first():a.subsequent(l,n,r,s))}).catch(function(t){a.setData("blockShowHide",!1),l.removeAttribute("lyte-hidden"),console.error(t)})):!1!==i?(a.setData("call",!!e||t),o?a.first():a.subsequent(l,n,r,s)):!1===i&&l.removeAttribute("lyte-hidden")},getDropBox:function(){var t=this.childComp;return t||(t=this.$node.querySelector("lyte-drop-box")),t},isNotLastDropdownWithPromise:function(){var t=_lyteDropdown.lastDropdownWithAPromise;return this.$node!==t},closeError:function(t,e){var o=this.getDropBody(t).querySelector(".lyteDropdownNoResult"),i=this.getData("ltPropType");o&&("yield"!==e&&"multisearch"===i||"multiple"===i)&&(o.style.display="none")},checkLimit:function(t){var e,o=this.getData("ltPropType"),i=this.getData("ltPropMaxCount"),a=this.getData("ltPropSelected");if("multiple"===o||"multisearch"===o)return e=JSON.parse(a||"[]").length+t,i>0&&e>i||void 0},findMarked:function(t,e){var o,i,a=[],l=e.length;try{t=JSON.parse(t||"[]").map(function(t){return""+t})}catch(t){console.error("Unable to parse ltPropSelected",t)}for(o=0;o<l;o++)i=t.indexOf(e[o].getAttribute("data-value")),a=a.concat(t.splice(i,1));return{removed:a,selected:t}},removeMarked:function(t,e,o,i){var a,l,n,r,s=e.length,d=this.getData("allSelected");if("noyield"==o)for(a=0;a<s;a++)for(l=0;l<d.length;l++)if(d[l].value==e[a].getAttribute("data-value")){Lyte.arrayUtils(d,"removeAt",l);break}for(n=this.getDropBody(i),a=0;a<e.length;a++)(r=n.querySelector('[data-value="'+window._lyteUiUtils.escape(e[a].getAttribute("data-value"))+'"]'))&&(r.classList.remove("lyteDropdownActive"),r.classList.remove("lyteSearchHidden"),r.removeAttribute("selected"));this.setData("prev",!0),this.setData("ltPropSelected",JSON.stringify(t)),this.setData("prev",!1)},removeAll:function(t){var e,o,i=this.$node,a=this.childComp,l=this.getData("drophead"),n=i.querySelector("lyte-drop-button").querySelectorAll(".lyteDropMark"),r=this.getData("ltPropSelected"),s=this.getData("ltPropSelected");o=this.findMarked(s,n),e=this.getData("isKeyDown")?"keydown":"click",this.beforeRemove(t,o.removed,e,n)?t.stopPropagation():(this.removeMarked(o.selected,n,l,a),this.closeError(a,l),this.getMethods("onRemove")&&this.executeMethod("onRemove",t,o.removed,this.getData("ltPropSelected"),this,e,n),this.fireOnChange(r,t,n),t.stopPropagation())},hasClassToggled:function(t,e){var o=t.oldValue?t.oldValue.split(" "):[],i=t.target,a=o.length,l=i.classList.length;return!(!(~o.indexOf(e)&&!i.classList.contains(e)||!~o.indexOf(e)&&i.classList.contains(e))||1!==Math.abs(a-l))},relativePosition:function(t,e){var o=t;if(1===e.length&&e[0]===t)return!0;for(;o=o.previousElementSibling;)if(o.getAttribute("lyte-last"))return!0;return!1},shade:function(t){var e,o=this.$node.querySelector("lyte-drop-button").querySelectorAll(".lyteDropMark");if(!(o.length>1&&t.classList.contains("lyteDropMark"))){e=0===o.length||this.relativePosition(t,o)?"previousElementSibling":"nextElementSibling";do{t.classList.add("lyteDropMark")}while((t=t[e])&&!t.getAttribute("lyte-last"))}},fireCheckKey:function(){this.$node.constructor._actions.checkKey.call(this,event)},fireOnChange:function(t,e,o){var i=this.getData("ltPropSelected");this.hasValueChanged(t)&&this.getMethods("onChange")&&this.executeMethod("onChange",e,i,this,o)},hasValueChanged:function(t){var e=this.getData("ltPropSelected");return this.getData("multiple")?(t=this.stringifyALS(t))!==(e=this.stringifyALS(e)):t!==e},stringifyALS:function(t){return t=t||"[]",t=JSON.parse(t).map(function(t){return""+t}),JSON.stringify(t)},mark:function(t,e,o){e?(_lyteDropdown.unmark(this),this.shade(t)):o?(_lyteDropdown.unmark(this),t.classList.add("lyteDropMark")):(_lyteDropdown.unmark(),t.classList.add("lyteDropMark")),this.setLast(t)},beforeSelect:function(t,e){var o=this.getData("ltPropSelected"),i=!0,a=e.getAttribute("data-value");return this.getMethods("beforeSelect")&&(i=!1!==(i=this.executeMethod("beforeSelect",t,o,this,e,a))),i},focusInput:function(){var t;window._lyteUiUtils.isMobile?(t=this.$node.querySelector("input"))&&t.focus():$L.fastdom.measure(function(){var t=this.$node.querySelector("input");t&&t.focus()},this)},showError:function(t,e,o){var i,a=this.getDropBody(t),l=a.querySelectorAll("lyte-drop-item:not(.lyteDropdownActive):not(.lyteSearchHidden)");this.getData("ltPropNoResult")&&0===l.length&&(i=a.querySelector(".lyteDropdownNoResult"))&&("multisearch"===e&&"yield"!==o||"multiple"===e)&&(i.style.display="block")},beforeRemove:function(t,e,o,i){var a;return this.getMethods("onBeforeRemove")&&(a=0==(a=this.executeMethod("onBeforeRemove",t,e,this.getData("ltPropSelected"),this,o,i))),a},beforeAdd:function(t,e,o){var i;return this.getMethods("onBeforeAdd")&&(i=0==(i=this.executeMethod("onBeforeAdd",t,o,this.getData("ltPropSelected"),this,e))),i},beforeHide:function(t,e,o){var i=!1;if(this.getMethods("onBeforeHide")){if((i=this.executeMethod("onBeforeHide",e,this))&&i.then)return i.then(function(){this.closeDrop(t,e,o)}.bind(this,t,e,o)).catch(function(t){console.error(t)}),!0;i=0==i}return i},setHighlight:function(t,e){for(var o,i,a=0;a<t.length&&!t[a].classList.contains("lyteDropdownSelection");a++);t[a]&&t[a]===e&&(i=o=a,(a=_lyteDropdown.find(t,a+1,!0))!=t.length?t[a].classList.add("lyteDropdownSelection"):-1!=(o=_lyteDropdown.find(t,o-1,!1))&&t[o].classList.add("lyteDropdownSelection"),t[i].classList.remove("lyteDropdownSelection"))},setLast:function(t){var e=document.querySelector('[lyte-last="true"]');e&&e.removeAttribute("lyte-last"),t.setAttribute("lyte-last",!0)},optCall:function(t,e,o){this.getMethods("onOptionSelected")&&this.executeMethod("onOptionSelected",t,e,this,o)},setInitialSelected:function(){var t,e=this.getData("ltPropOptions")[0],o=!1;e.constructor==Object&&1==Object.keys(e).length&&(t=e[Object.keys(e)[0]]).constructor==Array&&(o=!0),o?"[object Object]"===Object.prototype.toString.call(t[0])?this.setData("ltPropSelected",t[0][this.getData("ltPropSystemValue")]):this.setData("ltPropSelected",t[0]):"[object Object]"===Object.prototype.toString.call(e)?this.setData("ltPropSelected",e[this.getData("ltPropSystemValue")]):this.setData("ltPropSelected",e)},contentChange:function(t){var e=t.oldValue,o=t.newValue,i=this.getData("ltPropSelected"),a=this.getData("ltPropPlaceholder"),l=(this.getData("ltPropDisplayValue"),"yield"===this.getData("dropbody"));!((e&&0===e.length||!e)&&o&&o.length>0)||i||a||l||this.setInitialSelected()}.observes("ltPropOptions"),hideOptionsBasedOnSelected:function(){var t=this.childComp,e=this.getData("drophead"),o=this.getData("multiple"),i=this.getData("ltPropType");t&&o&&(this.hideNodes(),this.closeError(t,e),this.showError(t,i,e))}.observes("ltPropOptions"),selChange:function(){var t,e,o,i,a,l,n,r=this.getData("multiple"),s=this.getData("drophead"),d=this.childComp,p=this.getData("ltPropDisplayValue"),c=this.getData("preventDisp"),h=this.getData("ltPropSelected"),u=(p=this.getData("ltPropDisplayValue"),c=this.getData("preventDisp"),d||this.$node.querySelector("lyte-drop-box")),y=this.getDropBody(u),m=0,g=0;if(r&&"yield"!==s){if(!h)return;try{o=JSON.parse(h||"[]")}catch(t){return void console.error("Could not parse ltPropSelected",t)}for(i=this.getData("allSelected");m<o.length;m++){for(l=!0,g=0;g<i.length;g++)if(o[m]==i[g].value){l=!1;break}if(l){if(n=u.querySelector('[data-value="'+window._lyteUiUtils.escape(o[m])+'"]'),!(a={value:o[m],display:(n||{}).textContent}).display)continue;Lyte.arrayUtils(this.getData("allSelected"),"push",a)}}}else if(!r){for((e=u.querySelector('[data-value="'+window._lyteUiUtils.escape(h)+'"]'))&&this.toggleCurrent(e,y),t=u.querySelectorAll("[selected]");m<t.length;m++)t[m].getAttribute("data-value")!=h&&t[m].removeAttribute("selected");if("yield"!==s)if(e){var f=e.textContent;(p&&!c||!p)&&this.setData("ltPropDisplayValue",(f||"").trim())}else h||c||this.setData("ltPropDisplayValue","")}e&&e.setAttribute("selected","true")}.observes("ltPropOptions","ltPropSelected","changeItToInvoke"),tabIndexChange:function(){var t=this.getData("ltPropDisabled"),e=this.$node.querySelector("[tabindex]"),o=this.getData("ltPropTabindex");t?(this.disableClickableItem(e),e.tabIndex=-1):(this.enableClickableItem(e),e.tabIndex=o)}.observes("ltPropDisabled"),disableClickableItem:function(t){var e=this.getData("ltPropType"),o=this.getData("drophead");"multisearch"===e&&"noyield"===o&&(t=this.getClickableItem(t)),t&&t.classList&&t.classList.add("lyteDropdown-disabled")},enableClickableItem:function(t){var e=this.getData("ltPropType"),o=this.getData("drophead");"multisearch"===e&&"noyield"===o&&(t=this.getClickableItem(t)),t&&t.classList&&t.classList.remove("lyteDropdown-disabled")},getClickableItem:function(t){return _lyteDropdown.traverse(t,["HTML","LYTE-DROP-BUTTON"])},focusDropdown:function(){var t=this.$node.querySelector("[tabindex]"),e=this.getData("ltPropFocus"),o=this.getData("search");e&&(!o&&t?t.focus():o&&this.$node.open()),this.data.ltPropFocus=!1}.observes("ltPropFocus").on("didConnect"),data:function(){return{changeItToInvoke:Lyte.attr("number",{default:1}),dummy1:Lyte.attr("boolean",{default:!0}),dummy2:Lyte.attr("boolean",{default:!1}),savedPositions:Lyte.attr("object",{default:{}}),ltPropRemoveMultiple:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropType:Lyte.attr("string",{default:"default"}),ltPropTabindex:Lyte.attr("number",{default:0}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropOptions:Lyte.attr("array",{default:[]}),ltPropUserValue:Lyte.attr("string",{default:void 0}),ltPropSystemValue:Lyte.attr("string",{default:void 0}),ltPropPosition:Lyte.attr("string",{default:"down"}),ltPropIconClass:Lyte.attr("string",{default:"dropdown"}),ltPropSelected:Lyte.attr("string",{default:""}),ltPropCallout:Lyte.attr("boolean",{default:!1}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropHover:Lyte.attr("boolean",{default:!1}),ltPropNoResult:Lyte.attr("string",{default:_lyteUiUtils.i18n("no.results.found")}),ltPropMaxCount:Lyte.attr("number",{default:0}),ltPropInputClass:Lyte.attr("string",{default:"lyteSearch"}),allSelected:Lyte.attr("array",{default:[]}),ltPropBoundary:Lyte.attr("object",{default:{}}),pos:Lyte.attr("string",{default:""}),firePos:Lyte.attr("number",{default:1}),ltPropAjaxRequest:Lyte.attr("object",{default:{}}),firstRequest:Lyte.attr("boolean",{default:!0}),ltPropDisplayValue:Lyte.attr("string",{default:"",hideAttr:!0}),ltPropDisabledList:Lyte.attr("array",{default:[]}),ltPropAnimate:Lyte.attr("boolean",{default:!1}),ltPropSetPos:Lyte.attr("boolean",{default:!1}),ltPropTooltip:Lyte.attr("object",{default:{position:"bottom",appearance:"box",margin:5,keeptooltip:!0}}),ltPropBoxClass:Lyte.attr("string",{default:""}),ltPropIsOpen:Lyte.attr("boolean",{default:!1}),ltPropFixPositionOnOpen:Lyte.attr("boolean",{default:!1})}},actions:{toolTipConfig:function(t){var e=t.offsetWidth,o=t.scrollWidth,i=this.getData("ltPropTooltip");this.setData("showToolTip",e<o&&!_lyteDropdown.isEmpty(i))},preventDefault:function(t){13===t.keyCode&&t.preventDefault()},closeIt:function(t){var e=t.clientX,o=t.clientY,i=this.$node.querySelector("lyte-drop-button"),a=i.getBoundingClientRect().top,l=i.getBoundingClientRect().height,n=i.getBoundingClientRect().left,r=i.getBoundingClientRect().width,s=this.childComp,d=s.getBoundingClientRect().top,p=s.getBoundingClientRect().height,c=s.getBoundingClientRect().left,h=s.getBoundingClientRect().width;e>Math.floor(n)&&e<Math.floor(n+r)&&o>Math.floor(a)&&o<Math.floor(a+l)||e>Math.floor(c)&&e<Math.floor(c+h)&&o>Math.floor(d)&&o<Math.floor(d+p)||this.$node.toggle(t,"leave")},processElements:function(t){var e,o,i,a=this.childComp,l=t.target,n=this.getData("multiple"),r=this.getData("drophead"),s=this.getData("ltPropFreeze"),d=this.getData("ltPropType"),p=this.getDropBody(a),c=this.getData("search"),h=this.getData("ltPropSelected");if(c&&(i=this.$node.querySelector("lyte-search")||this.$node.querySelector("input"),this.focusInput()),(l=_lyteDropdown.traverse(l,["HTML","LYTE-DROP-ITEM"]))&&"HTML"!==l.tagName)if(n||"yield"===r)if(n){if(this.checkLimit(1))return;if(o=l.getAttribute("data-value"),this.getMethods("onBeforeAdd")&&this.beforeAdd(t,l,o))return;c&&i.setValue&&i.setValue(""),e=a.querySelectorAll("lyte-drop-item"),this.setHighlight(e,l),this.setData("prev",!0),l.setAttribute("selected","true"),this.setData("prev",!1),l.classList.add("lyteDropdownActive"),this.getMethods("onAdd")&&this.executeMethod("onAdd",t,o,this.getData("ltPropSelected"),this,l),this.showError(a,d,r),this.fireOnChange(h,t,l)}else{if(!this.beforeSelect(t,l))return;if(this.toggleCurrent(l,p),this.setData("ltPropSelected",l.getAttribute("data-value")),this.optCall(t,this.getData("ltPropSelected"),l),this.fireOnChange(h,t,l),this.beforeHide.call(this,a,t,s))return;this.closeDrop(a,t,s)}else{if(!this.beforeSelect(t,l))return;if(l.setAttribute("selected","true"),this.optCall(t,this.getData("ltPropSelected"),l),this.fireOnChange(h,t,l),this.beforeHide.call(this,a,t,s))return;this.toggleCurrent(l,p),this.closeDrop(a,t,s)}},closeFun:function(t){for(var e,o,i,a=this.childComp,l=this.getData("drophead"),n=this.getData("ltPropRemoveMultiple"),r=this.getData("ltPropSelected"),s=t.target,d=this.getData("ltPropSelected");!s.getAttribute("data-value")&&s;)s=s.parentElement;s&&(e=s.getAttribute("data-value"),o=this.getData("isKeyDown")?"keydown":"click",this.beforeRemove(t,n?[e]:e,o,n?[s]:s)?t.stopPropagation():(this.closeError(a,l),i=this.findMarked(d,[s]),this.removeMarked(i.selected,[s],l,a),this.getMethods("onRemove")&&this.executeMethod("onRemove",t,n?[e]:e,this.getData("ltPropSelected"),this,o,n?[s]:s),this.fireOnChange(r,t,n?[s]:s),t.stopPropagation()))},checkKey:function(t){var e=this.getData("ltPropType");9==t.keyCode&&(this.$node.constructor._actions.showHide.call(this,t,t.type),"multisearch"==e&&this.focusInput())},showHide:function(t,e,o){var i,a=this.childComp,l=this.getData("ltPropFreeze"),n=this.getData("multiple"),r=this.getData("ltPropType"),s=this.getData("ltPropHover"),d=this.getData("ltPropRemoveMultiple"),p=this.getData("ltPropShow");if(!this.getData("blockShowHide")){if(_lyteDropdown.autoClosed=null,d&&t&&n){for(i=t.target;i&&"LYTE-DROPDOWN"!==i.tagName&&!i.getAttribute("data-value");)i=i.parentNode;if(i&&i.getAttribute("data-value"))return void this.mark(i,t.shiftKey,t.ctrlKey||t.metaKey);_lyteDropdown.unmark()}else _lyteDropdown.unmark();if("enter"==e){if(a&&!a.classList.contains("lyteDropdownHidden"))return;this.$node.querySelector("[tabindex]").focus()}if("leave"!=e||!a||!a.classList.contains("lyteDropdownHidden"))if(p)if(a&&a.classList.contains("lyteDropdownHidden"))a.setAttribute("lyte-hidden",""),this.getMethods("onBeforeShow")?this.beforeShow(t,o,!1):(this.setData("call",!!o||t),this.subsequent(a,l,n,s));else if(!a||!o&&n)a&&"multisearch"===r&&this.focusInput();else{if(this.beforeHide.call(this,a,t,l))return;this.closeDrop(a,t,l)}else a||(this.childComp=this.$node.querySelector("lyte-drop-box")),this.childComp&&this.childComp.setAttribute("lyte-hidden",""),this.getMethods("onBeforeShow")?this.beforeShow(t,o,!0):(this.setData("call",!!o||t),this.first()),n&&this.addClass()}}}}),window.addEventListener("scroll",function(t){$L.fastdom.measure(function(){var e,o,i,a,l,n,r=_lyteDropdown.getVisibleDropbox(),s=t.target;if(r){for(;s!=document&&"LYTE-DROP-BOX"!==s.tagName&&"HTML"!==s.tagName;)s=s.parentElement;if("LYTE-DROP-BOX"!==s.tagName)if(o=r.origindd){if(l=(i=o.component).childComp,n=_lyteDropdown.buildBounds(i),(a=o.getBoundingClientRect()).top<n.top||a.left<n.left||a.right>n.right||a.bottom>n.bottom){if(i.beforeHide.call(i,l,t,i.getData("ltPropFreeze")))return;i.closeDrop.call(i,l,t,i.getData("ltPropFreeze")),_lyteDropdown.autoClosed=o}o.component._preventSetcss||(e=o.component.getData("ltPropFixPositionOnOpen"),o.component.setCss(!0,e))}else _lyteDropdown.openAutoClosedDropdown(s)}else _lyteDropdown.openAutoClosedDropdown(s)})},!0),document.addEventListener("click",function(t){var e,o,i,a,l,n,r,s,d,p,c=t.target,h=t.target,u=0,y=0;if(_lyteDropdown.isScrollBar(h)||(_lyteDropdown.autoClosed=null),c=_lyteDropdown.traverse(c,["LYTE-DROPDOWN","HTML","LYTE-DROP-BOX","LYTE-DROP-REMOVE"]),_lyteDropdown.focusOut&&(_lyteDropdown.preventClose=!(!c||"HTML"===c.tagName)),c)if("HTML"==c.tagName){for(_lyteDropdown.unmark(),a=document.querySelectorAll("lyte-drop-box:not(.lyteDropdownHidden)");y<a.length;y++)if(l=a[y]){if((n=l.origindd.component).beforeHide.call(n,l,t,n.getData("ltPropFreeze")))continue;r=document.getElementById("lytedropdownfreezelayer"),n.closeDrop.call(n,l,t,r)}(p=document.activeElement)&&"INPUT"===p.tagName&&_lyteDropdown.traverse(p,["LYTE-DROPDOWN"])&&p.blur()}else if("LYTE-DROPDOWN"===c.tagName)for(e=c,o=document.querySelectorAll("lyte-drop-box:not(.lyteDropdownHidden)");u<o.length;u++)o[u].origindd!=e&&(n=(s=o[u].origindd).component,_lyteDropdown.unmark(),n.beforeHide.call(n,n.childComp,t,n.getData("ltPropFreeze"))||n.closeDrop.call(n,n.childComp,t,n.getData("ltPropFreeze")));else if("LYTE-DROP-REMOVE"===c.tagName){for(s=c;"LYTE-DROPDOWN"!=s.tagName;)s.getAttribute("data-value")&&(d=s),s=s.parentElement;i=s.ltProp("type"),s.component.getData("drophead"),"multisearch"===i&&s.component.focusInput(),d.classList.contains("lyteDropMark")?s.component.removeAll(t):(_lyteDropdown.unmark(),s.component.actions.closeFun.call(s.component,t))}},!0),window._lyteUiUtils.isIos&&document.addEventListener("focusout",function(t){var e,o,i,a,l=t.target;(o=_lyteDropdown.traverse(l,"LYTE-DROPDOWN"))&&"INPUT"===t.target.tagName&&(i=o.component,e=i.childComp,a=i.getData("ltPropFreeze"),_lyteDropdown.focusOut=!0,setTimeout(function(){if(_lyteDropdown.preventClose)_lyteDropdown.preventClose=_lyteDropdown.focusOut=!1;else{if(e&&!e.classList.contains("lyteDropdownHidden")){if(i.beforeHide(e,t,a))return;i.closeDrop(e,t,a)}_lyteDropdown.focusOut=!1}},0))},!0),document.addEventListener("keydown",function(t){var e,o,i,a,l,n,r,s,d,p,c,h,u=t.keyCode,y=document.querySelector("lyte-drop-box:not(.lyteDropdownHidden)"),m=0;if(32!==u&&13!==u||(a=document.activeElement,!(a=_lyteDropdown.traverse(a,["LYTE-DROPDOWN","HTML","INPUT"]))||("LYTE-DROPDOWN"===a.tagName&&t.preventDefault(),"LYTE-DROPDOWN"!==a.tagName||y&&a===y.origindd)))if(38!=u&&40!=u&&13!=u||!y){if(8===u){if((e=_lyteDropdown.getActive())&&(o=e.component,i=e.querySelector("lyte-drop-button").querySelector(".lyteDropMark")),!(n=_lyteDropdown.getDropdownWithFocusedInput()))return;l=(r=n&&n.component)&&r.getData("ltPropType"),i?(t.preventDefault(),o.setData("isKeyDown",!0),o.removeAll(t),o.setData("isKeyDown",!1)):n&&"multisearch"===l&&_lyteDropdown.isInput(t)&&(s=n.querySelectorAll("lyte-drop-remove")).length>0&&(n.component.setData("isKeyDown",!0),s[s.length-1].click(),n.component.setData("isKeyDown",!1))}else if((27===u||9===u)&&y){if(!(y=_lyteDropdown.traverse(y,["LYTE-DROP-BOX"])))return;if((r=y.origindd.component).beforeHide.call(r,r.childComp,t,r.getData("ltPropFreeze")))return;r.closeDrop.call(r,r.childComp,t,r.getData("ltPropFreeze"))}}else{if(38!=u&&40!=u||t.preventDefault(),l=(r=(n=y.origindd).component).getData("ltPropType"),!(d=(y=r.getDropBody(y)).querySelector(".lyteDropdownSelection"))||d&&!_lyteDropdown.isVisible(d)){for(c=y.querySelectorAll("lyte-drop-item:not(.lyteSearchHidden):not(.lyteDropdownActive)");m<c.length;m++)if(_lyteDropdown.isVisible(c[m])&&"true"!==c[m].getAttribute("disabled")){p=c[m];break}if(d&&d.classList.remove("lyteDropdownSelection"),p)return void p.classList.add("lyteDropdownSelection")}for(u=t.keyCode,c=y.querySelectorAll("lyte-drop-item"),m=0;m<c.length&&!c[m].classList.contains("lyteDropdownSelection");m++);if(13==u)if(r.getData("multiple")){if(!c[m])return;c[m].click()}else c[m]&&c[m].click();else 38==u&&0!=m?(h=m,-1!=(m=_lyteDropdown.find(c,m-1,!1))&&(r.scrollIntoView(c[m],"up"),c[h].classList.remove("lyteDropdownSelection"),c[m].classList.add("lyteDropdownSelection"))):40==u&&m!=c.length-1&&(h=m,(m=_lyteDropdown.find(c,m+1,!0))<c.length&&(r.scrollIntoView(c[m],"down"),c[h].classList.remove("lyteDropdownSelection"),c[m].classList.add("lyteDropdownSelection")))}else a.constructor._actions.showHide.call(a.component,t,t.type)}),document.addEventListener("keypress",function(t){var e,o,i,a=t.which||t.keyCode,l=0,n=document.querySelectorAll("lyte-drop-box:not(.lyteDropdownHidden)");if(n.length>0&&(a>=65&&a<=90||a>=97&&a<=122||a>=48&&a<=57)&&(_lyteDropdown.pressedCharacter=_lyteDropdown.pressedCharacter?_lyteDropdown.pressedCharacter+=String.fromCharCode(a):String.fromCharCode(a),_lyteDropdown.checkDDtimeoutId&&clearTimeout(_lyteDropdown.checkDDtimeoutId),_lyteDropdown.checkDDtimeoutId=setTimeout(function(){_lyteDropdown.pressedCharacter=null},500),i="LYTE-DROPDOWN"==((i=(document.activeElement||{}).parentElement)||{}).tagName?i:null,n.length>0&&i)){for(l=0;l<n.length&&n[l].origindd!=i;l++);if(i=(n=n[l]).origindd,e=n.querySelectorAll("lyte-drop-item"),_lyteDropdown.cachePreviousVal.char&&_lyteDropdown.cachePreviousVal.char==_lyteDropdown.pressedCharacter&&_lyteDropdown.cachePreviousVal.pos+1<e.length&&e[_lyteDropdown.cachePreviousVal.pos+1].textContent.substring(0,_lyteDropdown.pressedCharacter.length).toLowerCase()===_lyteDropdown.pressedCharacter.toLowerCase())o=_lyteDropdown.cachePreviousVal.pos+1;else for(l=0;l<e.length;l++)if(e[l].textContent.substring(0,_lyteDropdown.pressedCharacter.length).toLowerCase()===_lyteDropdown.pressedCharacter.toLowerCase()){o=l;break}if(void 0!=o){for(var r=n.querySelectorAll(".lyteDropdownSelection"),s=0;s<r.length;s++)r[s].classList.remove("lyteDropdownSelection");e[o].classList.add("lyteDropdownSelection");var d=n.querySelector("lyte-drop-body");d.scrollTop+=parseInt(e[o].getBoundingClientRect().top-d.getBoundingClientRect().top)}_lyteDropdown.cachePreviousVal.char=_lyteDropdown.pressedCharacter,_lyteDropdown.cachePreviousVal.pos=o}}),window._lyteUiUtils.isMobile||window.addEventListener("resize",function(t){delete this._hgt,_lyteDropdown.autoClosed=null;var e,o=document.querySelector("lyte-drop-box:not(.lyteDropdownHidden)");o&&!o.origindd.component._preventSetcss&&(e=o.origindd.component.getData("ltPropFixPositionOnOpen"),o.origindd.component.setCss(!0,e))}),_lyteUiUtils.registeredCustomElements["lyte-drop-item"]||(_lyteUiUtils.registeredCustomElements["lyte-drop-item"]=!0,Lyte.createCustomElement("lyte-drop-item",{static:{observedAttributes:{get:function(){return["selected"]}}},attributeChangedCallback:function(t,e,o,i){var a,l,n,r,s,d=this,p=this.getAttribute("data-value");if("selected"==t&&this.hasAttribute("selected")){if(!(d=_lyteDropdown.traverse(d,["LYTE-DROP-BOX","BODY"]))||"HTML"==d.tagName)return;if((a=d.origindd)||(a=d=_lyteDropdown.traverse(d,["LYTE-DROPDOWN","BODY"])),(l=a.component).getData("preventSel"))return;"multiple"==(n=l.getData("ltPropType"))||"multisearch"==n?(r=l.getData("ltPropSelected"))&&2==r.length||!r?(r=JSON.stringify([p]),l.setData("ltPropSelected",r)):((s=JSON.parse(r)).push(p),l.setData("ltPropSelected",JSON.stringify(s))):l.setData("ltPropSelected",p)}}})),_lyteDropdown={lastDropdownWithAPromise:null,preventClose:!1,autoClosed:null,focusOut:!1,getDropdownWithFocusedInput:function(){var t,e=document.activeElement;if(e&&"input"===e.nodeName.toLowerCase()&&(t=_lyteDropdown.traverse(e,["HTML","LYTE-DROPDOWN"])),t&&"lyte-dropdown"===t.nodeName.toLowerCase())return t},getVisibleDropbox:function(){for(var t=(document.body||{}).children||[],e=0;e<t.length;e++)if("LYTE-DROP-BOX"===t[e].tagName&&_lyteDropdown.isVisible(t[e]))return t[e]},isScrollBar:function(t){return t&&(t.classList.contains("lyteScrollContainer")||t.classList.contains("lyteScrollDiv"))},isInBounds:function(t,e){return t.top<e.top&&t.bottom>e.bottom&&t.left<e.left&&t.right>e.right},buildVisibleBounds:function(t,e,o){return{top:e?0:Math.max(t.top,0),left:e?0:Math.max(t.left,0),right:e?window.innerWidth:Math.min(window.innerWidth,t.left+o.offsetWidth),bottom:e?window.innerHeight:Math.min(window.innerHeight,t.top+o.offsetHeight)}},openAutoClosedDropdown:function(t){var e,o,i,a=t===document,l=_lyteDropdown.autoClosed;l&&(e=a?{}:t.getBoundingClientRect(),o=_lyteDropdown.buildVisibleBounds(e,a,t),i=l.component.childComp,l&&t.contains(l)&&_lyteDropdown.isInBounds(o,l.getBoundingClientRect())&&i.classList.contains("lyteDropdownHidden")&&(l.toggle(),_lyteDropdown.autoClosed=null))},isEmpty:function(t){for(var e in t)return!1;return!0},buildBounds:function(t){var e=t.getData("ltPropBoundary");return{left:e.left||0,right:e.right||window.innerWidth,top:e.top||0,bottom:e.bottom||window.innerHeight}},traverse:function(t,e){for(;t&&!~e.indexOf(t.tagName);)t=t.parentNode;return t},find:function(t,e,o){for(var i=o?1:-1,a=t.length;o?e<a:e>-1;e+=i)if(_lyteDropdown.isVisible(t[e])&&"true"!==t[e].getAttribute("disabled"))return e;return o?a:-1},isVisible:function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},pressedCharacter:null,checkDDtimeoutId:null,cachePreviousVal:{},isInput:function(t){var e=t.target;return!(!(e=_lyteDropdown.traverse(e,["LYTE-DROPDOWN"]))||"INPUT"!==t.target.tagName||"text"!==t.target.type||t.target.value)},unmark:function(t){for(var e,o=document.querySelectorAll(".lyteDropMark"),i=0,a=o.length;i<a;i++)(e=t?_lyteDropdown.findParent(o[i]):void 0)&&e==t.$node||o[i].classList.remove("lyteDropMark")},findParent:function(t){return t=_lyteDropdown.traverse(t,["LYTE-DROPDOWN"])},getActive:function(){var t=document.querySelector(".lyteDropMark");return _lyteDropdown.findParent(t)}},_lyteUiUtils.registeredCustomElements["lyte-drop-group"]||(_lyteUiUtils.registeredCustomElements["lyte-drop-group"]=!0,Lyte.createCustomElement("lyte-drop-group",{static:{observedAttributes:{get:function(){return["label"]}}},attributeChangedCallback:function(t,e,o,i){var a,l;"label"==t&&(a=this.querySelector("lyte-drop-label"),l=this.getAttribute("label"),a?a.textContent=l:((a=document.createElement("lyte-drop-label")).textContent=l,this.insertBefore(a,this.children[0])))}})),Lyte.Component.register("lyte-expresstable",{_template:'<template tag-name="lyte-expresstable">\n<div class="lyteExpTableWrapper">\n\t<template is="if" value="{{expHandlers(ltPropHeaderLabelKey,\'&amp;&amp;\',tableHeader.length)}}"><template case="true">\n\t<div class="lyteExpTableFakeHeaderWrapper">\n\t\t\n\t\t\t<div class="lyteExpTableFixedColHeader">\n\t\t\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true"> \n\t\t\t\t\t<lyte-exptable-thead class="fixedColumnTableHeader lyteExpTableHeaderGroup">\n\t\t\t\t\t\t<lyte-exptable-tr class="fixedColumnTableRow lyteExpTableRow">\n\t\t\t\t\t\t \t<template is="for" items="{{fixedTableHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t \t\t<lyte-exptable-th class="fixedColumn lyteExpTableHead {{list.class}}" id="{{list.id}}" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}">\n\t\t\t\t\t\t\t\t{{list[ltPropHeaderLabelKey]}}\n\t\t\t\t\t\t\t\t</lyte-exptable-th>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</lyte-exptable-tr>\n\t\t\t\t\t</lyte-exptable-thead>\n\t\t\t\t</template><template case="false">\t\n\t\t\t\t\t<lyte-yield class="lyteExpTableFakeHeaderGroup lyteExpTableHeaderGroup" yield-name="headerYield" lt-prop-table-header="{{fixedTableHeader}}"></lyte-yield>\n\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\n\t\t\t</div>\n\t\t\n\t\t\t<div class="lyteExpTableFakeColHeaderWrapper">\n\t\t\t\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">  \n\t\t\t\t\t\t\t<lyte-exptable-thead class="lyteExpTableFakeColHeader lyteExpTableHeaderGroup">\n\t\t\t\t\t\t\t\t<lyte-exptable-tr class="originalColumnTableRow lyteExpTableRow">\n\t\t\t\t\t\t\t\t<template is="for" items="{{tableHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t\t\t\t<lyte-exptable-th id="{{list.id}}" class="originalColumn lyteExpTableHead list.class" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}">\n\t\t\t\t\t\t\t\t\t\t{{list[ltPropHeaderLabelKey]}}\n\t\t\t\t\t\t\t\t\t</lyte-exptable-th>\n\t\t\t\t\t\t\t\t</template>\t\n\t\t\t\t\t\t\t\t</lyte-exptable-tr>\n\t\t\t\t\t\t\t</lyte-exptable-thead>\n\t\t\t\t\t</template><template case="false">\t\n\t\t\t\t\t\t\t<lyte-yield class="lyteExpTableFakeColHeader lyteExpTableHeaderGroup" yield-name="headerYield" lt-prop-table-header="{{tableHeader}}"></lyte-yield>\n\t\t\t\t\t</template></template>\t\t\n\t\t\t</div>\n\t</div>\n\t</template></template>\n\n\t<div class="lyteExpTableOrigTableWrapper ">\n\t\t\t\n\t\t\t\n\t\t\t<div class="lyteExpTableFixedColWrapper" onscroll="{{action(\'fixedColScroll\', event)}}">\n\t\t\t\t<lyte-exptable class="lyteExpTableFixedColTable">\n\t\t\t\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t\t\t\t<lyte-exptable-thead class="fixedColumn lyteExpTableHeaderGroup">\n\t\t\t\t\t\t\t<lyte-exptable-tr class="fixedColumn lyteExpTableRow">\n\t\t\t\t\t\t\t   <template is="for" items="{{fixedTableHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t\t\t\t<lyte-exptable-th id="{{list.id}}" class="fixedColumn lyteExpTableHead list.class" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}">\n\t\t\t\t\t\t\t\t\t\t{{unescape(list[ltPropHeaderLabelKey])}}\n\t\t\t\t\t\t\t\t\t</lyte-exptable-th>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lyte-exptable-tr>\n\t\t\t\t\t\t</lyte-exptable-thead>\n\t\t\t\t\t\t<lyte-exptable-tbody class="fixedColumn lyteExpTableRowGroup">\n\t\t\t\t\t\t\t<template is="for" items="{{ltPropContent}}" item="list" index="indexVal">\t\n\t\t\t\t\t\t\t\t<lyte-exptable-tr id="{{list.id}}" class="fixedColumn lyteExpTableRow {{list.class}}">\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{fixedTableHeader}}" item="header">\n\t\t\t\t\t\t\t\t\t\t<lyte-exptable-td class="fixedColumn lyteExpTableCell">{{unescape(lyteUiGetValue(list,header[ltPropBodyLabelKey]))}}</lyte-exptable-td>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t </lyte-exptable-tr>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</lyte-exptable-tbody>\n\t\t\t\t\t</template><template case="false">\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<lyte-yield class="lyteExpTableHeaderGroup" yield-name="headerYield" lt-prop-table-header="{{fixedTableHeader}}"></lyte-yield>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<lyte-yield class="lyteExpTableRowGroup" yield-name="contentYield" lt-prop-table-header="{{fixedTableHeader}}">\n\t\t\t\t\t\t\t\t</lyte-yield>\n\t\t\t\t\t\t\n\t\t\t\t\t</template></template>\n\t\t\t\t</lyte-exptable>\n\t\t\t</div>\n\t\t\t\n\t\t\t<template is="if" value="{{expHandlers(ltPropHeaderLabelKey,\'&amp;&amp;\',tableHeader.length)}}"><template case="true"> \n\t\t\t<div class="lyteExpTableOrigTableInnerWrap" tabindex="0" onscroll="{{action(\'scroll\',event)}}">\n\t\t\t\t<lyte-exptable class="lyteExpOriginalTable">\n\t\t\t\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t\t\t<lyte-exptable-thead class="originalColumn lyteExpTableHeaderGroup">\n\t\t\t\t\t\t<lyte-exptable-tr class="originalColumn lyteExpTableRow">\n\t\t\t\t\t\t   <template is="for" items="{{tableHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t\t\t<lyte-exptable-th id="{{list.id}}" class="originalColumn lyteExpTableHead list.class" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}">\n\t\t\t\t\t\t\t\t\t{{list[ltPropHeaderLabelKey]}}\n\t\t\t\t\t\t\t\t</lyte-exptable-th>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</lyte-exptable-tr>\n\t\t\t\t\t</lyte-exptable-thead>\n\t\t\t\t\t<lyte-exptable-tbody class="originalColumn lyteExpTableRowGroup">\n\n\t\t\t\t\t\t\t<template is="for" items="{{ltPropContent}}" item="list" index="indexVal">\t\n\t\t\t\t\t\t\t\t<lyte-exptable-tr id="{{list.id}}" class="originalColumn lyteExpTableRow {{list.class}}">\n\t\t\t\t\t\t\t\t\t<template is="for" items="{{tableHeader}}" item="header">\n\n\t\t\t\t\t\t\t\t\t\t<lyte-exptable-td class="originalColumn lyteExpTableCell">{{unescape(lyteUiGetValue(list,header[ltPropBodyLabelKey]))}}</lyte-exptable-td>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</lyte-exptable-tr>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t</lyte-exptable-tbody>\n\t\t\t\t\t</template><template case="false">\t\n\t\t\t\t\t\t<lyte-yield class="lyteExpTableHeaderGroup" yield-name="headerYield" lt-prop-table-header="{{tableHeader}}"></lyte-yield>\n\t\t\t\t\t\t<lyte-yield class="lyteExpTableRowGroup" yield-name="contentYield" lt-prop-table-header="{{tableHeader}}"></lyte-yield>\n\t\t\t\t\t\n\t\t\t\t\t</template></template>\t\n\t\t\t\t</lyte-exptable>\n\t\t\t</div>\n\t\t</template></template>\n\t\n\t</div>\n</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"attr",position:[1,3,1,1,1]},{type:"if",position:[1,3,1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]},{type:"attr",position:[3]},{type:"insertYield",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,3,1,1]},{type:"attr",position:[1,3,3]},{type:"if",position:[1,3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]},{type:"attr",position:[3]},{type:"insertYield",position:[3]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]}},default:{}}],_observedAttributes:["ltPropHeader","ltPropContent","ltPropHeaderLabelKey","ltPropBodyLabelKey","ltPropYield","ltPropInfiniteScroll","ltPropYield","ltPropMinWidth","ltPropMaxWidth","ltPropResize","ltPropFixedTableScroll","ltPropHeight","fixedTableHeader","fixedTableContent","tableHeader","tableContent","fixedColumns","columns","minWidth1","minWidth2"],data:function(){return{ltPropHeader:Lyte.attr("array",{default:[]}),ltPropContent:Lyte.attr("array",{default:[]}),ltPropHeaderLabelKey:Lyte.attr("string",{default:""}),ltPropBodyLabelKey:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropInfiniteScroll:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropMinWidth:Lyte.attr("string",{default:"50px"}),ltPropMaxWidth:Lyte.attr("string",{default:"1000px"}),ltPropResize:Lyte.attr("object",{default:{}}),ltPropFixedTableScroll:Lyte.attr("boolean",{default:!1}),ltPropHeight:Lyte.attr("string",{default:"auto"}),fixedTableHeader:Lyte.attr("array",{default:[]}),fixedTableContent:Lyte.attr("array",{default:[]}),tableHeader:Lyte.attr("array",{default:[]}),tableContent:Lyte.attr("array",{default:[]}),fixedColumns:Lyte.attr("array",{default:[]}),columns:Lyte.attr("array",{default:[]}),minWidth1:Lyte.attr("string",{default:""}),minWidth2:Lyte.attr("string",{default:""})}},didDestroy:function(){this.$node.fixRowHeight=null,this.$node.scrollTo=null,this.$node.setHeaderWidth=null,clearTimeout(this._scrollTimeOut)},init:function(){var t=navigator.userAgent;this._dir=_lyteUiUtils.getRTL(),this.isIE11Lyte=/rv:11/gi.test(t),this.isEdgeLyte=/Edge/gi.test(t),this._scrollWidth=_lyteUiUtils.getScrollBarWidth(),this._verticalScrollWidth=this._scrollWidth,this._heightScrollWidth=this._scrollWidth,this._isIE=this.isIE11Lyte||this.isEdgeLyte,this._fixHeaderCount=0,this._tmpScrollTop=0,this._chrome=/Chrome/i.test(navigator.userAgent)&&/Google Inc/i.test(navigator.vendor),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node),this.setTableHeader(),this.setData("tableContent",this.getData("ltPropContent"));this.getData("tableHeader"),this.getData("fixedTableHeader")},didConnect:function(){this.$node.fixRowHeight=function(t){this.setFixTableRowHeight(t)}.bind(this),this._scrollDiv=this.$node.querySelector(".lyteExpTableWrapper"),this.getData("ltPropHeader").length>=1&&(this.initProcess(),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)),this.$node.scrollTo=function(t,e,o){this._scrolled=!0,void 0!=t&&(this._originalDiv.scrollLeft=t),void 0!=e&&(this._originalDiv.scrollTop=e),this._scrolled&&(clearTimeout(this._scrollTimeOut),this._scrollTimeOut=setTimeout(function(){this.actions.scroll.call(this,o,t,e,!0)}.bind(this),20)),delete this._scrolled}.bind(this),this.$node.setHeaderWidth=function(){this.fixHeaderHeight()}.bind(this)},initProcess:function(){var t=this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0],e=/firefox/gi.test(navigator.userAgent);this._originalDiv=t,this._oHeader=this.$node.getElementsByClassName("lyteExpTableFakeColHeader")[0],this._headerDiv=this.$node.getElementsByClassName("lyteExpTableFakeHeaderWrapper")[0],this._originalTable=this.$node.getElementsByClassName("lyteExpOriginalTable")[0];var o=this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],i=this.getData("ltPropHeight");this._scrollWidth;"auto"!=i&&(this.$node.style.height=this.getData("ltPropHeight")),$L.fastdom.measure(function(){var i=this._dir?"left":"right";this._startScrollLeft=e?0:t.scrollLeft,this.setScrollWidth(!0);var a=this._originalDiv.getBoundingClientRect().height;$L.fastdom.mutate(function(){this._headerDiv.style[i]=this._verticalScrollWidth+"px",o.style.height=parseFloat(a)-this._heightScrollWidth+"px"}.bind(this))}.bind(this)),this.fixHeaderHeight(),this._prevScollLeft=0,window.requestAnimationFrame(function(){this.setVisibleFixHeader()}.bind(this))},setTableHeader:function(){for(var t=[],e=this.getData("ltPropHeader"),o=[],i=0;i<e.length;++i)t[i]=e[i],t[i].fixed&&"enable"==t[i].fixed&&Lyte.arrayUtils(o,"push",t[i]);this.setData("tableHeader",t),this.setData("fixedTableHeader",o)},setScrollWidth:function(t){if(this._oriwrap=this._oriwrap||this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0],this._oriwrap){var e=this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],o=this._scrollWidth,i=this._scrollWidth;this._oriwrap.scrollHeight<=this._oriwrap.offsetHeight&&(this._verticalScrollWidth=0,o=0),this._oriwrap.scrollWidth<=this._oriwrap.offsetWidth&&(this._heightScrollWidth=0,i=0),t||$L.fastdom.measure(function(){var t=this._dir?"left":"right",a=this._originalDiv.getBoundingClientRect().height;$L.fastdom.mutate(function(){this._headerDiv.style[t]=o+"px",e.style.height=parseFloat(a)-i+"px"}.bind(this))}.bind(this))}},setWidth:function(){},fixHeaderHeight:function(){this.getData("tableHeader"),this.getData("fixedTableHeader");var t=this._oHeader.getElementsByTagName("lyte-exptable-th"),e=this._originalDiv.getElementsByTagName("lyte-exptable-th"),o=(this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],[]);this._othead=this._originalDiv.getElementsByClassName("lyteExpTableHeaderGroup")[0],$L.fastdom.measure(function(){for(var i=0;i<t.length;++i){var a=e[i].getBoundingClientRect();o[i]=a.width+"px"}}.bind(this)),$L.fastdom.mutate(function(){this.getData("tableHeader"),this.getData("fixedTableHeader");for(var t=this._oHeader.getElementsByTagName("lyte-exptable-th"),e=this._originalDiv.getElementsByTagName("lyte-exptable-th"),i=this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],a=0;a<o.length;a++)t[a].style.minWidth=o[a];i.getElementsByTagName("lyte-exptable-tr");var l=[],n=this.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0],r=(t=n.getElementsByTagName("lyte-exptable-th"),i.getElementsByTagName("lyte-exptable-th")),s=0;if(e)for(var d=0;d<e.length;d++)e[d].classList.contains("lyteFixedColumn")&&l.push(e[d]);for(a=0;a<this._fixHeaderCount;++a){var p=this.getIndex(l[a]);t[a].style.minWidth=o[p],t[a].style.width=o[p],r[a].style.minWidth=o[p],s+=parseFloat(o[p])}this._fHeader=n,this._fthList=i.getElementsByClassName("lyteExpTableHeaderGroup")[0],this._setHeight=!0,0==this._fixHeaderCount&&(delete this._setHeight,delete this._fHeader,delete this._fthList),i.style.width=s+"px"}.bind(this))},setFixTableRowHeight:function(t){var e,o=(this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0]).getElementsByTagName("lyte-exptable-tr"),i=this._originalDiv.getElementsByTagName("lyte-exptable-tr"),a=[],l=this,n=this.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0].getElementsByTagName("lyte-exptable-tr")[0];!t||1!==t.nodeType&&isNaN(t)?($L.fastdom.measure(function(){if(l.$node)for(var t=0;t<i.length;t++)a.push(i[t].getBoundingClientRect().height+"px"),i[t]._relatedRow=o[t],o[t]._relatedRow=i[t]}),$L.fastdom.mutate(function(){if(l.$node){for(var t=0;t<i.length;t++)o[t].style.height=a[t];i.length>0&&n&&(n.style.height=a[0])}})):(e=1===t.nodeType?Array.from(i).indexOf(t):t,$L.fastdom.measure(function(){l.$node&&(a=i[e].getBoundingClientRect().height+"px",i[e]._relatedRow=o[e],o[e]._relatedRow=i[e])}),$L.fastdom.mutate(function(){l.$node&&(o[e].style.height=a)}))},setVisibleFixHeader:function(){for(var t=this.$node.getElementsByClassName("lyteExpTableFixedColHeader")[0].getElementsByTagName("lyte-exptable-th"),e=this._fixHeaderCount,o=this.$node.getElementsByClassName("lyteExpTableFakeColHeaderWrapper")[0].getElementsByClassName("lyteFixedColumn"),i=this.$node,a=0;a<t.length;a++)a+1<=e?(t[a].style.display="",t[a].style.width=o[a].style.minWidth):t[a].style.display="none";e=this._fixHeaderCount;var l=this.$node.getElementsByClassName("lyteExpTableFixedColTable")[0].getElementsByTagName("lyte-exptable-tr");for(a=l.length-1;a>=0;a--)for(var n=l[a].getElementsByTagName(0==a?"lyte-exptable-th":"lyte-exptable-td"),r=0;r<n.length;++r)r+1<=e?(n[r].style.display="",n[r].style.width=o[r].style.minWidth):0!=r&&(n[r].style.display="none");this.setFixTableRowHeight(),0==e?!i.classList.contains("lyteExpTableNoShadow")&&i.classList.add("lyteExpTableNoShadow"):i.classList.contains("lyteExpTableNoShadow")&&i.classList.remove("lyteExpTableNoShadow")},headerObs:function(){this.setTableHeader(),this._fixHeaderCount=0,this.setData("columns",[]),this.getData("ltPropHeader").length>=1&&this.initProcess(),this._oHeader.style.transform="translateX(0)"}.observes("ltPropHeader.[]"),contentObs:function(){this.fixHeaderHeight(),this.setFixTableRowHeight(),this.setScrollWidth()}.observes("ltPropContent.[]"),HeightObs:function(){this.getData("ltPropHeight"),this._scrollWidth;this.$node.style.height=this.getData("ltPropHeight"),this.setScrollWidth()}.observes("ltPropHeight"),fixedTableScrollObs:function(){var t=this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0];this.getData("ltPropFixedTableScroll")?t.style.overflow="":t.style.overflow="hidden"}.observes("ltPropFixedTableScroll").on("didConnect"),getIndex:function(t){return Array.from(this._originalDiv.getElementsByTagName("lyte-exptable-th")).indexOf(t)},composePath:function(t){for(var e=[],o=t.target.correspondingElement||t.target;o&&"HTML"!=o.tagName;)e.push(o),o=o.parentNode;return e},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e.clientX:o-e.right;if("left"==t)return"right";if("right"==t)return"left"}return e?e[t]:t},scrollCheck:function(t,e,o){this._colwrap=this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0],this._oriwrap=this._oriwrap||this.$node.getElementsByClassName("lyteExpTableOrigTableInnerWrap")[0],this._tableWrp=this._tableWrp||this.$node.getElementsByClassName("lyteExpTableOrigTableWrapper")[0];var i=this._colwrap.getElementsByClassName("lyteFixedColumn"),a=this._oriwrap?this._oriwrap.getElementsByClassName("lyteFixedColumn"):[],l=this._tableWrp.getBoundingClientRect(),n=window.innerWidth;if(e!=this._prevScrollLeft||o){for(var r=this.getData("columns"),s=(this.getData("fixedColumns"),this.getData("tableHeader"),this.data.ltPropFixedColumnClass,0),d=0;d<i.length;d++)i[d]._off=i[d].getBoundingClientRect(),a[d]._off=a[d].getBoundingClientRect();for(var p=0;p<r.length;p++)s+=r[p]._off.width;this._fixHeaderCount;var c=[],h=this._colwrap;this._fthList||(this._fthList=h.getElementsByClassName("lyteExpTableHeaderGroup")[0]),this._fthList&&(h.scrollTop=t);for(d=r.length;d<i.length;d++){var u=a[d];if(!(Math.round(this.rtlfunc("left",u._off,n)-this.rtlfunc("left",l,n))<s))break;r.push(i[d]),h.style.width=parseFloat(h.style.width)+a[d]._off.width+"px",s+=a[d]._off.width,this._fixHeaderCount++,this.setVisibleFixHeader(),c.push(d)}for(var y=r.length-1;y>=0;y--)-1==c.indexOf(y)&&this.rtlfunc("right",r[y]._off,n)<=this.rtlfunc("right",a[y]._off,n)+(this._isIE?2:0)&&(this._oHeader.style.transform="translateX("+(this._isIE?e*(this._dir?1:-1):this._dir?this._startScrollLeft-e:-e)+"px)",h.style.width=parseFloat(h.style.width)-a[y]._off.width+"px",this._fixHeaderCount--,this.setVisibleFixHeader(),Lyte.arrayUtils(r,"removeAt",y))}this.prevScollTop=t,this._prevScrollLeft=e},hideTempHeader:function(t){$L.fastdom.measure(function(){var e=this._colwrap||this.$node.querySelector(".lyteExpTableFixedColWrapper"),o=e.scrollTop,i=this._originalDiv.scrollTop;$L.fastdom.mutate(function(){this.getData("ltPropFixedTableScroll")&&(t?e.scrollTop=i:this._originalDiv.scrollTop=o)}.bind(this))}.bind(this)),clearTimeout(this._scrollY),delete this._scrollY},scrollF:function(t,e,o){this.scrollCheck(t,e,o)},verticalScroll:function(t,e){clearTimeout(this._scrollY),this._scrollY=setTimeout(this.hideTempHeader.bind(this,e),200)},fixedScroll:function(t){if(this._parentScroll)delete this._parentScroll;else{var e=(this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0]).scrollTop,o=this._originalDiv.scrollLeft;if(e!=this.prevScollTop){if(this.getData("ltPropFixedTableScroll"))this._originalDiv.scrollTop=e;o=this._dir?this._startScrollLeft-o:-o,this.prevScollTop=e,clearTimeout(this._fixedscrollY),this.setTranslate=this.setTranslate.bind(this),this._fixedscrollY=setTimeout(this.setTranslate,200)}}},setTranslate:function(){this._originalDiv.scrollTop;clearTimeout(this._fixedscrollY),delete this._fixedscrollY},actions:{scroll:function(t,e,o,i){if(delete this._scrolled,this._scrolltriggered)delete this._scrolltriggered;else{var a=this._originalDiv,l=(o=o||a.scrollTop,e=e||a.scrollLeft,a.scrollWidth),n=a.offsetWidth;if((o!=this.prevScollTop||i)&&($L.fastdom.mutate(function(){this.getData("ltPropFixedTableScroll")&&((this._colwrap||this.$node.getElementsByClassName("lyteExpTableFixedColWrapper")[0]).scrollTop=o)}.bind(this)),this.verticalScroll(e,!0),this.prevScollTop=o,this._parentScroll=!0),(e!=this._prevScollLeft||i)&&($L.fastdom.mutate(function(){var t;t=this._isIE?e*(this._dir?1:-1):this._dir?this._chrome?l-n-e+this._verticalScrollWidth:this._startScrollLeft-e:-e,this._oHeader.style.transform="translateX("+t+"px)"}.bind(this)),this.scrollF(o,e,i),this._prevScollLeft=e,this.fixHeaderHeight()),!this._dir&&0==e&&this._fixHeaderCount>=0){this._fixHeaderCount=0,this.setVisibleFixHeader();this.setData("columns",[])}this._scrollTimeOut&&(clearTimeout(this._scrollTimeOut),delete this._scrollTimeOut)}},fixedColScroll:function(t){return this.fixedScroll(t),!1}}}),window.addEventListener("resize",function(){window.clearTimeout(_lyteUiUtils._expressDebounce),_lyteUiUtils._expressDebounce=setTimeout(function(){for(var t=document.getElementsByTagName("lyte-expresstable"),e=0;e<t.length;e++)t[e].component.setFixTableRowHeight(),t[e].component.fixHeaderHeight()},250)},!0),_lyteUiUtils.registeredCustomElements["lyte-exptable-th"]||(_lyteUiUtils.registeredCustomElements["lyte-exptable-th"]=!0,Lyte.createCustomElement("lyte-exptable-th",{static:{observedAttributes:{get:function(){return["fixed","resize","icon"]}}},attributeChangedCallback:function(t,e,o){if("fixed"==t){for(var i=this;"DIV"!=i.tagName;)i=i.parentElement;"enable"==o?this.classList.add("lyteFixedColumn"):this.classList.remove("lyteFixedColumn")}else"icon"==t&&("disable"==o?this.classList.add("lytePreventIcon"):this.classList.remove("lytePreventIcon"))}})),Lyte.Component.register("lyte-fileupload",{_template:'<template tag-name="lyte-fileupload">\n\t<input class="fileuploadInput {{ltPropClass}}" id="{{ltPropId}}" type="file" name="{{ltPropName}}" onchange="{{action(\'change\', event, this)}}" multiple="{{ltPropMultiple}}" accept="{{ltPropAccept}}">\n\t<div tabindex="{{ltPropTabindex}}" class="fileUploadWrapper {{fileClass}} {{if(ltPropMultiple, \'multiFileupload\', \'singleFileUpload\')}} lyteFileUpd{{ltPropAppearance}}Type {{if(ltPropDisabled,\'lyteFileUpdDisabled\')}}" ondragenter="{{action(\'drag\', event)}}" ondragleave="{{action(\'drag\', event)}}" ondragover="{{action(\'drag\', event)}}" ondrop="{{action(\'drop\', event)}}" onclick="{{action(\'click\', event)}}" style="outline: none;" onpaste="{{action(\'paste\', event)}}" onkeydown="{{action( \'keydown\', event)}}">\n\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t<lyte-yield yield-name="file" queue-list="{{queueList}}" predefined-list="{{predefinedList}}"></lyte-yield>\n\t\t</template><template case="false">\n\t\t\t<template is="if" value="{{ltPropMultiple}}"><template case="true">\n\t\t\t\t<lyte-file-select-area>\n\t\t\t \t\t<lyte-file-message class="lyteFileUpdMsgWrap"> <span class="lyteFileUpdMsg">{{lyteUiI18n(ltPropMessage,"fileupload")}}</span> </lyte-file-message>\n\t\t\t\t </lyte-file-select-area>\n\t\t\t\t <div class="lyteFileUpdList">\n\t\t\t\t\t<template is="for" items="{{predefinedList}}" item="item" index="index">\n\t\t\t\t\t\t<div class="lyteFileUpdListFile">\n\t\t\t\t\t\t\t<div class="lyteFileUpdTypePreview">\n\t\t\t\t\t\t\t\t<template is="if" value="{{item.src}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t<img class="lyteFileUpdThumb" src="{{item.src}}">\n\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>\n\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<lyte-text class="lyteFileUpdFileName" lt-prop-value="{{item.name}}"></lyte-text>\n\t\t\t\t\t\t\t<span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<lyte-file-close data-value="{{item.id}}" class="{{item.status}}"></lyte-file-close>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t \t<template is="for" items="{{queueList}}" item="item" index="index">\n\t\t\t\t \t\t<div class="lyteFileUpdListFile {{item.status}}">\n\t\t\t\t \t\t\t<div class="lyteFileUpdTypePreview">\n\t\t\t\t\t \t\t\t<template is="if" value="{{item.src}}"><template case="true">\n\t\t\t\t\t \t\t\t\t\t<img class="lyteFileUpdThumb" src="{{item.src}}">\n\t\t\t\t \t\t\t\t</template><template case="false">\n\t\t\t\t \t\t\t\t\t<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>\n\t\t\t\t \t\t\t\t</template></template>\n\t\t\t \t\t\t\t</div>\n\t\t\t\t \t\t\t<lyte-text class="lyteFileUpdFileName" lt-prop-value="{{item.name}}"></lyte-text>\n\t\t\t\t\t\t\t <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>\n\t\t\t\t\t\t\t <template is="if" value="{{expHandlers(expHandlers(ltPropUploadMultiple,\'!\'),\'&amp;&amp;\',expHandlers(item.percentage,\'!=\',undefined))}}"><template case="true">\n\t\t\t\t\t\t\t\t<div class="lyteFileUpdFileStatus" data-completed="{{item.percentage}}">\n\t\t\t\t\t\t\t\t\t<div class="lyteFileUpdProgressBar {{item.status}}">\n\t\t\t\t\t\t\t\t\t\t<div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t</template></template><template is="if" value="{{expHandlers(item.status,\'==\',&quot;error&quot;)}}"><template case="true">\n\t\t\t\t \t\t\t\t<lyte-file-retry data-value="{{item.id}}">\n\t\t\t\t\t\t\t\t\t <span class="lyteFileUpdFailMsg">{{lyteUiI18n(ltPropFailureMessage,"fileupload")}}</span>\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{expHandlers(ltPropUploadMultiple,\'!\')}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t<span class="lyteFileUpdRetryMsg">{{lyteUiI18n(ltPropRetryText,"fileupload")}}</span>\n\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t \t\t\t\t</lyte-file-retry>\n\t\t\t\t\t\t\t </template></template>\n\t\t\t\t\t\t\t <template is="if" value="{{expHandlers(expHandlers(ltPropUploadMultiple,\'!\'),\'||\',expHandlers(expHandlers(expHandlers(item.status,\'!\'),\'||\',expHandlers(item.status,\'==\',&quot;error&quot;)),\'||\',expHandlers(item.status,\'==\',&quot;success&quot;)))}}"><template case="true">\n\t\t\t\t\t\t\t\t<lyte-file-close data-value="{{item.id}}" class="{{item.status}}"></lyte-file-close>\n\t\t\t\t\t\t\t</template></template>\n\t\t\t\t \t\t</div>\n\t\t\t\t \t</template>\n\t\t\t\t  </div>\n\t\t\t</template><template case="false">\n\t\t\t\t<lyte-file-select-area>\n\t\t\t \t\t<lyte-file-message class="lyteFileUpdMsgWrap {{if((queueList.length || predefinedList.length), \'lyteHide\', \'\')}}"> \n\t\t\t \t\t\t<span class="lyteFileUpdMsg">\n\t\t\t\t\t\t\t{{lyteUiI18n(ltPropMessage,"fileupload")}}\n\t\t\t \t\t\t</span> \n\t\t\t \t\t</lyte-file-message>\n\t\t\t \t\t <div class="lyteFileUpdList">\n\t\t\t\t\t\t<template is="for" items="{{predefinedList}}" item="item" index="index">\n\t\t\t\t\t\t\t<div class="lyteFileUpdListFile">\n\t\t\t\t\t\t\t\t<div class="lyteFileUpdTypePreview">\n\t\t\t\t\t\t\t\t\t<template is="if" value="{{item.src}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t<img class="lyteFileUpdThumb" src="{{item.src}}">\n\t\t\t\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t\t\t\t<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>\n\t\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<lyte-text class="lyteFileUpdFileName" lt-prop-value="{{item.name}}"></lyte-text>\n\t\t\t\t\t\t\t\t<span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<lyte-file-close data-value="{{item.id}}" class="{{item.status}}"></lyte-file-close>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t \t<template is="for" items="{{queueList}}" item="item" index="index">\n\t\t\t\t\t \t\t<div class="lyteFileUpdListFile {{item.status}}">\n\t\t\t\t\t \t\t\t<div class="lyteFileUpdTypePreview">\n\t\t\t\t\t\t \t\t\t<template is="if" value="{{item.src}}"><template case="true">\n\t\t\t\t\t\t \t\t\t\t\t<img class="lyteFileUpdThumb" src="{{item.src}}">\n\t\t\t\t\t \t\t\t\t</template><template case="false">\n\t\t\t\t\t \t\t\t\t\t<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>\n\t\t\t\t\t \t\t\t\t</template></template>\n\t\t\t\t \t\t\t\t</div>\n\t\t\t\t\t \t\t\t<lyte-text class="lyteFileUpdFileName" lt-prop-value="{{item.name}}"></lyte-text>\n\t\t\t\t\t\t\t\t<span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>\n\t\t\t\t\t\t\t\t<template is="if" value="{{expHandlers(item.percentage,\'!=\',undefined)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t<div class="lyteFileUpdFileStatus" data-completed="{{item.percentage}}">\n\t\t\t\t\t\t\t\t\t\t<div class="lyteFileUpdProgressBar {{item.status}}">\n\t\t\t\t\t\t\t\t\t\t\t<div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t \t\t\t</template></template><template is="if" value="{{expHandlers(item.status,\'==\',&quot;error&quot;)}}"><template case="true">\n\t\t\t\t\t \t\t\t\t<lyte-file-retry data-value="{{item.id}}">\n\t\t\t\t\t \t\t\t\t\t<span class="lyteFileUpdFailMsg">{{lyteUiI18n(ltPropFailureMessage,"fileupload")}}</span>\n\t\t\t\t\t \t\t\t\t\t<span class="lyteFileUpdRetryMsg">{{lyteUiI18n(ltPropRetryText,"fileupload")}}</span>\n\t\t\t\t\t \t\t\t\t</lyte-file-retry>\n\t\t\t\t\t\t\t\t</template></template>\n\t\t\t\t\t\t\t\t<lyte-file-close data-value="{{item.id}}" class="{{item.status}}"></lyte-file-close>\n\t\t\t\t\t \t\t</div>\n\t\t\t\t\t \t</template>\n\t\t\t\t\t  </div>\n\t\t\t\t </lyte-file-select-area>\n\t\t\t</template></template>\n\t\t\t \n\t\t</template></template>\n\t</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"componentDynamic",position:[1,7]}]},{type:"attr",position:[3,3]},{type:"for",position:[3,3],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width: '","item.percentage","'%'"]}}}}]}},default:{}},{type:"attr",position:[1,8]},{type:"if",position:[1,8],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,10]},{type:"if",position:[1,10],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"for",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"componentDynamic",position:[1,7]}]},{type:"attr",position:[1,3,3]},{type:"for",position:[1,3,3],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width: '","item.percentage","'%'"]}}}}]}},default:{}},{type:"attr",position:[1,8]},{type:"if",position:[1,8],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,10]},{type:"componentDynamic",position:[1,10]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropName","ltPropMultiple","ltPropAccept","ltPropId","ltPropClass","ltPropAppearance","ltPropDisabled","ltPropYield","ltPropFileLimit","ltPropMinimumFileSize","ltPropParallel","ltPropAutoUpload","ltPropTriggerUpload","ltPropParamName","ltPropThumb","ltPropTabindex","ltPropRetry","ltPropFileUnit","ltPropDigits","ltPropMessage","ltPropFailureMessage","ltPropRetryText","ltPropFiles","ltPropFolder","ltPropChunk","ltPropChunkSize","ltPropParallelChunkUpload","ltPropParallelChunkCount","ltPropChunkRetry","ltPropUploadMultiple","ltPropUploadMultipleCount","ltPropAjax","queueList","predefinedList","currentUpload","chunkUpload","fileClass","chunkCount","abort","lxhrs","uploadedFiles","manualUpdFiles","uploadMultipleRetry","retryFiles","retry","manualUpload"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){this._file=this.$node.querySelector("input.fileuploadInput"),this.$node.upload=this.processqueue.bind(this),this.$node.removeUpload=function(t){t?(this.removeFrmUpload(t,"queueList"),this._file.value=""):this.removeFrmUpload(this.data.queueList,"queueList",!0)}.bind(this),this.$node.predefined=function(t){Lyte.arrayUtils(this.data.predefinedList,"push",t)}.bind(this),this.folderUpload(),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},didDestroy:function(){this.$node.removeUpload(),delete this._file,delete this.$node.upload,delete this.$node.removeUpload},data:function(){return{ltPropName:Lyte.attr("string",{default:"file"}),ltPropMultiple:Lyte.attr("boolean",{default:!0}),ltPropAccept:Lyte.attr("string",{default:""}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropAppearance:Lyte.attr("string",{default:"Box"}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropFileLimit:Lyte.attr("number",{default:void 0}),ltPropMinimumFileSize:Lyte.attr("number",{default:0}),ltPropParallel:Lyte.attr("number",{default:2}),ltPropAutoUpload:Lyte.attr("boolean",{default:!0}),ltPropTriggerUpload:Lyte.attr("boolean",{default:!1}),ltPropParamName:Lyte.attr("string",{default:"file"}),ltPropThumb:Lyte.attr("boolean",{default:!1}),ltPropTabindex:Lyte.attr("number",{default:1}),ltPropRetry:Lyte.attr("number",{default:2}),ltPropFileUnit:Lyte.attr("string",{default:""}),ltPropDigits:Lyte.attr("number",{default:1}),ltPropMessage:Lyte.attr("string",{default:"Drag file here or browse to upload"}),ltPropFailureMessage:Lyte.attr("string",{default:"Attachment failed"}),ltPropRetryText:Lyte.attr("string",{default:"Retry"}),ltPropFiles:Lyte.attr("array",{default:[]}),ltPropFolder:Lyte.attr("boolean",{default:!1}),ltPropChunk:Lyte.attr("boolean",{default:!1}),ltPropChunkSize:Lyte.attr("number",{default:2e6}),ltPropParallelChunkUpload:Lyte.attr("boolean",{default:!1}),ltPropParallelChunkCount:Lyte.attr("number",{default:1/0}),ltPropChunkRetry:Lyte.attr("number",{default:2}),ltPropUploadMultiple:Lyte.attr("boolean",{default:!1}),ltPropUploadMultipleCount:Lyte.attr("number",{default:1/0}),ltPropAjax:Lyte.attr("object",{default:{url:""}}),queueList:Lyte.attr("array",{default:[]}),predefinedList:Lyte.attr("array",{default:[]}),currentUpload:Lyte.attr("array",{default:[]}),chunkUpload:Lyte.attr("array",{default:[]}),fileClass:Lyte.attr("string",{default:""}),chunkCount:Lyte.attr("number",{default:0}),abort:Lyte.attr("boolean",{default:!1}),lxhrs:Lyte.attr("array",{default:[]}),uploadedFiles:Lyte.attr("array",{default:[]}),manualUpdFiles:Lyte.attr("array",{default:[]}),uploadMultipleRetry:Lyte.attr("number",{default:0}),retryFiles:Lyte.attr("array",{default:[]}),retry:Lyte.attr("boolean",{default:!1}),manualUpload:Lyte.attr("boolean",{default:!1})}},folderUpload:function(){this.data.ltPropFolder?this._file.setAttribute("webkitdirectory",!0):this._file.removeAttribute("webkitdirectory")},folderUploadObserver:function(){this.folderUpload()}.observes("ltPropFolder"),trigUpl:function(t){t.newValue&&(this.processqueue(),this.setData("ltPropTriggerUpload",!1))}.observes("ltPropTriggerUpload"),validate:function(t){var e=[],o=!1;acceptRegex=new RegExp(this.data.ltPropAccept.replace(/\s+/g,"").split(",").join("|"));for(var i=0;i<t.length;i++){var a,l={},n=this.data.ltPropChunk,r=t[i].name,s=t[i].type,d="";if(r&&(d=r.substring(r.lastIndexOf(".")+1,r.length)),acceptRegex.test(s)?a=(a=s.match(/(video|image|pdf|zip)/gi))&&a[0]?a[0]:d:acceptRegex.test(d)?a=d:l.type="Invalid_Type",t[i].size<this.data.ltPropMinimumFileSize?l.size="Lower_Size":t[i].size>this.data.ltPropFileLimit&&(l.size="Higher_Size"),l.size||l.type)o=!0,this.getMethods("onReject")&&this.executeMethod("onReject",t[i],l,this.$node);else{var p;if(this.getMethods("onBeforeAdd")&&(p=this.executeMethod("onBeforeAdd",t[i],this.$node)),0==p)continue;if(p&&p.then){e.push(p);var c=t[i];Promise.resolve(p).then(this.add.bind(this,c,n,a))}else this.add(t[i],n,a);if(!this.data.ltPropMultiple)break}}o&&(this._file.value=""),this.data.ltPropAutoUpload&&(e.length?Lyte.resolvePromises(e).then(this.processqueue.bind(this)):this.processqueue())},add:function(t,e,o){var i={id:"lyte"+(new Date).getTime()+parseInt(1e11*Math.random()),file:t,size:t.size,name:t.name,isChunk:e,retry:0,fileType:o||"document"};this.data.ltPropThumb&&/image/i.test(t.type)&&Lyte.Component.set(i,"src",URL.createObjectURL(t)),Lyte.arrayUtils(this.data.uploadedFiles,"push",i),Lyte.arrayUtils(this.data.queueList,"push",i),Lyte.arrayUtils(this.data.ltPropFiles,"push",t),this.getMethods("onAdd")&&this.executeMethod("onAdd",t,this.$node)},chkId:function(t,e){return e.id==t},SendingFile:function(){for(var t=this.data,e=t.manualUpdFiles,o=0;o<e.length;){var i=e[o];if(!i.status||i.isChunk&&"uploading"==i.status)if(i.isChunk){if(!i.status){this.setData("manualUpload",!0),this.uploadFile(i);break}if(i.finished+i.currentUploadingChunks<i.chunks.length){this.setData("manualUpload",!0),this.uploadFile(i);break}o++}else{if(!(t.currentUpload.length<t.ltPropParallel))break;this.setData("manualUpload",!0),Lyte.arrayUtils(t.currentUpload,"push",i),this.uploadFile(i),o++}else o++}o===e.length&&this.finishcallback(e)},processqueue:function(t,e,o){var i=this.data,a=0,l=[];if(t&&!o){t.constructor!=Array&&(t=[t]);for(var n=0;n<t.length;n++){var r=t[n].id||t[n],s=i.queueList[this.findIndex(i.queueList,this.chkId.bind(this,r))];s&&Lyte.arrayUtils(this.data.manualUpdFiles,"push",s)}if(this.data.manualUpdFiles.length)return void this.SendingFile()}if(i.manualUpload)this.SendingFile();else{for(;i.currentUpload.length<i.ltPropParallel||i.ltPropUploadMultiple&&i.currentUpload.length<i.ltPropUploadMultipleCount||o&&i.queueList.length;){var d=i.queueList[a];if(t&&(t=t.constructor==Object?t.id:t,d=i.queueList[this.findIndex(i.queueList,this.chkId.bind(this,t))],o&&d))return Lyte.arrayUtils(this.data.retryFiles,"push",d),Lyte.Component.set(d,"status","reloading"),void(i.uploadedFiles.indexOf(d)<0&&(Lyte.arrayUtils(this.data.uploadedFiles,"push",d),this.retrySendingFile()));if(!d){this.data.retryFiles.length&&this.retrySendingFile(),e&&this.finishcallback();break}if(/uploading|success/.test(d.status)){if(t)break;if(/uploading/.test(d.status)&&d.isChunk&&d.finished+d.currentUploadingChunks<d.chunks.length){this.processChunkQueue(d.chunks);break}a++}else if("error"!=d.status||!(this.data.ltPropUploadMultiple||d.retry>=i.ltPropRetry-1||d.isChunk)||t)if("reloading"!=d.status){if(d.isChunk||Lyte.arrayUtils(i.currentUpload,"push",d),this.data.ltPropUploadMultiple)l.push(d);else if(this.uploadFile(d),t||d.isChunk)break;a++}else a++;else a++}this.data.ltPropUploadMultiple&&l.length&&this.uploadFile(l)}},retrySendingFile:function(){for(var t=this.data,e=t.retryFiles,o=0;o<e.length;){var i=e[o];if("reloading"==i.status||"uploading"==i.status)if(i.isChunk){if(i.finished+i.currentUploadingChunks<i.chunks.length){this.setData("retry",!0),this.processChunkQueue(i.chunks);break}o++}else{if(!(t.currentUpload.length<t.ltPropParallel))break;this.setData("retry",!0),Lyte.arrayUtils(e,"removeAt",o),Lyte.arrayUtils(t.currentUpload,"push",i),this.uploadFile(i)}else Lyte.arrayUtils(e,"removeAt",o)}e.length||(this.setData("retry",!1),this.processqueue(void 0,!0))},findIndex:function(t,e){if(e.constructor!=Function)return t.indexOf(e);for(var o=0;o<t.length;o++){if(e.call(t[o],t[o]))return o}},abortChunksFrmUpload:function(t){for(var e=this.data.chunkUpload,o=0;o<e.length;){var i=e[o];i.chunkProp.origin.id===t&&i.xhr?(this.setData("abort",!0),i.xhr.ret.abort()):o++}},removeFrmUpload:function(t,e,o,i){t.constructor!=Array&&(t=[t]);for(var a=0;a<t.length;a++){id=t[a].id||t[a];var l,n,r=this.data[e],s=this.findIndex(r,this.chkId.bind(this,id));if((void 0===s||s<0)&&(r=this.data.predefinedList,(s=this.findIndex(r,this.chkId.bind(this,id)))>-1&&(e="predefinedList")),s>=0){if(!o&&this.getMethods("onBeforeRemove")&&0==this.executeMethod("onBeforeRemove",e,r[s],this.$node))continue;if("uploading"==(n=r[s]).status&&(l=!0,n.xhr&&(this.setData("abort",!0),n.xhr.ret.abort()),n.isChunk&&this.abortChunksFrmUpload(n.id)),Lyte.arrayUtils(r,"removeAt",s),"queueList"===e){var d,p=this.getData("lxhrs"),c=$L.search(p,"fileId",n.id)[0];n.isChunk&&l&&this.getMethods("onFileFailure")&&this.executeMethod("onFileFailure",c,n,this.$node,!0),Lyte.arrayUtils(this.data.ltPropFiles,"removeAt",s);var h=this.data.uploadedFiles;(u=this.findIndex(h,this.chkId.bind(this,id)))>=0&&Lyte.arrayUtils(h,"removeAt",u);var u;h=this.data.retryFiles;(u=this.findIndex(h,this.chkId.bind(this,id)))>=0&&Lyte.arrayUtils(h,"removeAt",u),(d=p.indexOf(c))>-1&&Lyte.arrayUtils(p,"removeAt",d),s<=a&&a--}!o&&this.getMethods("onRemove")&&this.executeMethod("onRemove",e,n,this.$node)}}!this.data.ltPropUploadMultiple&&("queueList"==e&&l||i)&&(this.data.retry?this.retrySendingFile():this.processqueue(void 0,!0))},uploadFile:function(t){var e=Lyte.deepCopyObject(this.data.ltPropAjax);t.isChunk?this.proceedChunk(t,e):this.proceedUpload(t,e,!1)},succFunc:function(t){if(this.$node){var e,o=arguments[2].xhr.file,i=arguments[2].xhr.ret,a=[];o.xhr&&delete o.xhr,this.getMethods("onRequestSuccess")&&this.executeMethod("onRequestSuccess",i,o,this.$node),o.constructor!=Array&&(o=[o]);for(var l=0;l<o.length;l++)if(Lyte.Component.set(o[l],"status","success"),Lyte.objectUtils(o[l],"delete","xhr"),this.data.ltPropUploadMultiple)a.push(o[l].id),this.removeFrmUpload(o[l].id,"currentUpload",!0);else{var n=this.getData("lxhrs");(e=$L.search(n,"fileId",o[l].id)).length&&Lyte.arrayUtils(n,"removeAt",n.indexOf(e[0])),i.fileId=o[l].id,Lyte.arrayUtils(this.getData("lxhrs"),"push",i),this.getMethods("onFileSuccess")&&this.executeMethod("onFileSuccess",i,o[l],this.$node),this.removeFrmUpload(o[l].id,"currentUpload",!0,!0)}this.data.ltPropUploadMultiple&&(i.fileId=a,Lyte.arrayUtils(this.getData("lxhrs"),"push",i),this.setData("uploadMultipleRetry",0),this.processqueue(void 0,!0)),delete arguments[2].xhr.file}},reject:function(t){if(this.$node){var e,o=t.xhr.file,i=t.xhr.ret,a=o.retry,l=[];if(this.data.abort||a>=this.data.ltPropRetry||this.data.ltPropUploadMultiple&&this.data.uploadMultipleRetry>=this.data.ltPropRetry){o.xhr&&delete o.xhr,this.getMethods("onRequestFailure")&&this.executeMethod("onRequestFailure",i,o,this.$node,this.data.abort),o.constructor!=Array&&(o=[o]);for(var n=0;n<o.length;n++){if(Lyte.Component.set(o[n],"status","error"),Lyte.objectUtils(o[n],"delete","xhr"),this.data.ltPropUploadMultiple)l.push(o[n].id);else{var r=this.getData("lxhrs");(e=$L.search(r,"fileId",o[n].id)).length&&Lyte.arrayUtils(r,"removeAt",r.indexOf(e[0])),i.fileId=o[n].id,this.getMethods("onFileFailure")&&this.executeMethod("onFileFailure",i,o[n],this.$node,this.data.abort),!this.data.abort&&Lyte.arrayUtils(this.getData("lxhrs"),"push",i)}this.removeFrmUpload(o[n].id,"currentUpload",!0,!this.data.abort)}this.data.ltPropUploadMultiple&&(i.fileId=l,Lyte.arrayUtils(this.getData("lxhrs"),"push",i),this.setData("uploadMultipleRetry",0),this.processqueue(void 0,!0)),this.data.abort&&(Lyte.objectUtils(t.xhr.file,"add","retry",this.data.ltPropRetry),this.setData("abort",!1)),delete t.xhr.file}else if(this.data.ltPropUploadMultiple){delete o.xhr;for(n=0;n<o.length;n++)Lyte.Component.set(t.xhr.file[n],"status","retrying"),Lyte.Component.set(t.xhr.file[n],"retry",t.xhr.file[n].retry+1);this.setData("uploadMultipleRetry",this.data.uploadMultipleRetry+1),this.getMethods("onRetry")&&this.executeMethod("onRetry",i,o,this.$node),this.uploadFile(o)}else Lyte.Component.set(t.xhr.file,"status","retrying"),Lyte.objectUtils(t.xhr.file,"add","retry",a+1),this.getMethods("onRetry")&&this.executeMethod("onRetry",i,o,this.$node),this.uploadFile(o)}},progress:function(t){if(t.lengthComputable){var e=t.total,o=t.loaded,i=t.target.xhr,a=i.file;a.constructor!=Array&&(a=[a]);for(var l=0;l<a.length;l++)this.data.ltPropUploadMultiple?Lyte.Component.set(a[l],{size:a[l].size,loaded:a[l].size,percentage:100}):Lyte.Component.set(a[l],{size:e,loaded:o,percentage:Math.round(100*o/e)}),this.getMethods("onProgress")&&this.executeMethod("onProgress",t,i,a[l],this.$node)}},removeChunk:function(t,e,o){var i=this.data.chunkUpload,a=this.findIndex(i,function(e){return e.chunkProp.chunkId==t});a>-1&&(Lyte.arrayUtils(i,"removeAt",a),!o&&this.processChunkQueue(e.chunks))},chunkReject:function(t){if(this.$node){var e=t.xhr.file,o=e.chunkProp.origin,i=arguments[0].xhr.ret;if(!this.data.abort&&e.retry<this.data.ltPropChunkRetry)Lyte.Component.set(e,"status","retrying"),Lyte.objectUtils(e,"add","retry",e.retry+1),this.removeChunk(e.chunkProp.chunkId,o,!0),this.getMethods("onRetry")&&this.executeMethod("onRetry",i,e,this.$node),Lyte.Component.set(o,"currentUploadingChunks",o.currentUploadingChunks-1),this.processChunkQueue(e,!0);else{if(this.getMethods("onRequestFailure")&&this.executeMethod("onRequestFailure",i,e,this.$node,this.data.abort),Lyte.Component.set(e,"status","error"),this.removeChunk(e.chunkProp.chunkId,o,!0),this.getMethods("onChunkError")&&this.executeMethod("onChunkError",i,e,o,this.$node,this.data.abort),Lyte.objectUtils(e,"delete","xhr"),delete t.xhr.file,Lyte.Component.set(o,"currentUploadingChunks",o.currentUploadingChunks-1),Lyte.Component.set(o,"error",o.error+1),"error"!=o.status){var a,l=this.getData("lxhrs");Lyte.Component.set(o,"status","error"),(a=$L.search(l,"fileId",o.id)).length&&Lyte.arrayUtils(l,"removeAt",l.indexOf(a[0])),i.fileId=o.id,Lyte.arrayUtils(this.getData("lxhrs"),"push",i)}this.data.abort?this.setData("abort",!1):(this.abortChunksFrmUpload(o.id),this.getMethods("onFileFailure")&&this.executeMethod("onFileFailure",i,o,this.$node,this.data.abort),this.data.retry?this.retrySendingFile():this.processqueue(void 0,!0))}}},chunkSuccess:function(t){if(this.$node){var e=arguments[2].xhr.file,o=e.chunkProp.origin,i=arguments[2].xhr.ret;if(this.getMethods("onRequestSuccess")&&this.executeMethod("onRequestSuccess",i,e,this.$node),Lyte.Component.set(e,"status","success"),this.removeChunk(e.chunkProp.chunkId,o,!0),this.getMethods("onChunkSuccess")&&this.executeMethod("onChunkSuccess",i,e,o,this.$node),Lyte.objectUtils(e,"delete","xhr"),delete arguments[2].xhr.file,Lyte.Component.set(o,"finished",o.finished+1),Lyte.Component.set(o,"currentUploadingChunks",o.currentUploadingChunks-1),o.finished==o.total){var a,l=this.getData("lxhrs");Lyte.Component.set(o,"status","success"),(a=$L.search(l,"fileId",o.id)).length&&Lyte.arrayUtils(l,"removeAt",l.indexOf(a[0])),i.fileId=o.id,Lyte.arrayUtils(this.getData("lxhrs"),"push",i),this.getMethods("onFileSuccess")&&this.executeMethod("onFileSuccess",i,o,this.$node),this.data.retry?this.retrySendingFile():this.processqueue(void 0,!0)}else this.processChunkQueue(o.chunks,!0)}},chunkProgress:function(t){if(t.lengthComputable){t.total;var e=t.loaded,o=t.target.xhr.file,i=o.chunkProp.origin,a=e-o.loaded;Lyte.Component.set(o,"loaded",e),Lyte.Component.set(i,{loaded:Math.min(i.loaded+a,i.size),percentage:Math.min(Math.round(100*(i.loaded+a)/i.size),100)}),this.getMethods("onProgress")&&this.executeMethod("onProgress",t,xhr,i,this.$node)}},proceedChunk:function(t,e){for(var o=this.data,i=o.ltPropChunkSize,a=t.size,l=0,n=[];l<=a;){var r=l,s=Math.min(a,l+=i),d=s-r;n.push({file:t.file.slice(r,s),chunkProp:{chunkOffset:r,chunkEnd:s,chunkSize:d,chunkId:"lyteChunk"+(new Date).getTime()+parseInt(1e11*Math.random()),chunkIndex:n.length,origin:t,chunkCount:Math.ceil(t.size/i),totalSize:t.size},name:t.file.name,loaded:0,retry:0})}Lyte.Component.set(t,{chunks:n,error:0,finished:0,total:n.length}),o.ltPropParallelChunkCount===1/0&&this.setData("chunkCount",n.length),this.processChunkQueue(n)},processChunkQueue:function(t,e){var o=this.data,i=0;for(t.constructor!=Array&&(t=[t]);!o.ltPropParallelChunkUpload&&o.chunkUpload.length<1||o.ltPropParallelChunkUpload&&o.ltPropParallelChunkCount===1/0||o.ltPropParallelChunkCount!=1/0&&o.chunkUpload.length<o.ltPropParallelChunkCount;){var a=t[i];if(!a){o.retry?this.retrySendingFile():o.ltPropParallelChunkUpload&&(o.ltPropParallelChunkCount!=1/0&&o.chunkUpload.length<o.ltPropParallelChunkCount&&this.processqueue(),o.ltPropParallelChunkCount==1/0&&this.processqueue());break}/success|uploading/.test(a.status)||e&&(!e||/error/.test(a.status))?i++:(file=a.chunkProp.origin,Lyte.Component.set(file,{status:"uploading",percentage:file.percentage||0,loaded:file.loaded||0,size:file.size,currentUploadingChunks:file.currentUploadingChunks+1||1}),this.proceedUpload(a,Lyte.deepCopyObject(o.ltPropAjax),!0),Lyte.arrayUtils(o.chunkUpload,"push",a),i++)}},proceedUpload:function(t,e,o){if(!/success|uploading/.test(t[0]&&t[0].status||t.status)){var i,a,l=new FormData,n=["chunkOffset","chunkSize","chunkIndex","chunkCount","totalSize"];if(t.constructor==Array)for(var r=0;r<t.length;r++)a=this.data.ltPropFolder?t[r].file.webkitRelativePath:t[r].name,l.append(this.data.ltPropParamName+"["+r+"]",t[r].file,a);else a=this.data.ltPropFolder&&!o?t.file.webkitRelativePath:t.name,l.append(this.data.ltPropParamName,t.file,a);if(o){for(var s=0;s<n.length;s++)l.append(n[s],t.chunkProp[n[s]]);var d=t.chunkProp.origin;l.append("fileId",d.id),a=this.data.ltPropFolder?d.file.webkitRelativePath:d.name,l.append("fileName",a)}e.success=o?this.chunkSuccess.bind(this):this.succFunc.bind(this),e.error=o?this.chunkReject.bind(this):this.reject.bind(this);var p=new XMLHttpRequest;if(e.type=e.type||"POST",t.xhr=p,p.file=t,p.upload.xhr=p,p.upload.addEventListener("progress",o?this.chunkProgress.bind(this):this.progress.bind(this),!1),e.xhr=function(){return p},e.data=e.data||l,e.processData=e.processData||!1,this.getMethods("onBeforeSend")&&(i=this.executeMethod("onBeforeSend",p,t,o,this.$node,l)),i&&i.then)Promise.resolve(i).then(function(){this.finishSend(e,p,t)}.bind(this));else{if(0==i){t.constructor!=Array&&(t=[t]);for(var c=0;c<t.length;c++)this.removeFrmUpload(t[c].id,"currentUpload",!0);return}i&&i.constructor==FormData&&(e.data=i),this.finishSend(e,p,t,o)}}},finishSend:function(t,e,o,i){if(o.constructor==Array)for(var a=0;a<o.length;a++)Lyte.Component.set(o[a],"status","uploading");else Lyte.Component.set(o,"status","uploading");t.contentType=!1;var l=$L.ajax(t);l.xhr=e,e.ret=l,this.getMethods("onSend")&&this.executeMethod("onSend",e,l,o,!!i,this.$node)},finishcallback:function(t){var e,o=t||this.data.uploadedFiles,i=this.data.chunkUpload,a=this.data.lxhrs;if(o.length){for(var l=0;l<o.length;l++){if(!o[l].status||"uploading"==o[l].status)return;"error"==o[l].status&&(e=!0)}for(l=0;l<i.length;l++){if("uploading"==i[l].status)return;"error"==i[l].status&&(e=!0)}this.data.ltPropMultiple||(o=o[0],a=a[0]),e?(this.getMethods("onFailure")&&this.executeMethod("onFailure",o,this.$node,a),this.setData("uploadedFiles",[]),this.setData("lxhrs",[]),1==this.data.manualUpload&&this.setData("manualUpdFiles",[])||this.getData("manualUpload",!1)):(this.getMethods("onSuccess")&&this.executeMethod("onSuccess",o,this.$node,a),this.setData("uploadedFiles",[]),this.setData("lxhrs",[]),1==this.data.manualUpload&&this.setData("manualUpdFiles",[])||this.getData("manualUpload",!1))}},actions:{change:function(t,e){this.data.ltPropMultiple||this.$node.removeUpload(),e.files.length&&this.validate(e.files)},drag:function(t){var e=t.type,o="onDrag",i=e.match(/drag(.+)/);if(i&&i[1]&&(o+=i[1].slice(0,1).toUpperCase()+i[1].slice(1),/enter|over/.test(t.type))){if("dragover"==t.type){var a=t.dataTransfer;if(a){var l=a.effectAllowed;a.dropEffect="move"===l||"linkMove"===l?"move":"copy"}}t.preventDefault()}"dragenter"==e?this.setData("fileClass","fileDragEnter"):"dragleave"==e&&this.setData("fileClass",""),this.getMethods(o)&&this.executeMethod(o,t,this.$node)},drop:function(t){this.setData("fileClass","");var e=t.dataTransfer;if(e){if(this.getMethods("onBeforeDrop")&&0==this.executeMethod("onBeforeDrop",t,this.$node))return;t.preventDefault(),this.data.ltPropMultiple||this.$node.removeUpload(),this.validate(e.files),this.getMethods("onDrop")&&this.executeMethod("onDrop",t,this.$node)}},click:function(t){var e;if(!this.data.ltPropYield&&this.data.ltPropMultiple&&(t.shiftKey?t.preventDefault():$L("#lyteFileUpdSelectedFile.lyteFileUpdListFile").removeAttr("id"),"lyteFileUpdRetryMsg"!=t.target.className&&$L(t.target).closest(".lyteFileUpdListFile").attr("id","lyteFileUpdSelectedFile")),!(t.ctrlKey||t.shiftKey||t.metaKey))if((e=$L(t.target).closest("lyte-file-close")).length)this.$node.removeUpload(e.eq(0).attr("data-value"));else if((e=$L(t.target).closest("lyte-file-retry")).length)this.$node.upload(e.eq(0).attr("data-value"),void 0,!0);else if($L(t.target).closest("lyte-file-select-area").length&&this.data.ltPropMultiple||0==this.data.queueList.length&&0==this.data.predefinedList.length){if(this.getMethods("onBeforeOpen")&&0==this.executeMethod("onBeforeOpen",t,this.$node))return;this._file.click()}},paste:function(t){for(var e=(t.clipboardData||window.clipboardData).items,o=[],i=0;i<e.length;i++){var a=e[i].getAsFile();a&&o.push(a)}if(o.length){if(this.getMethods("onBeforePaste")&&0==this.executeMethod("onBeforePaste",t,o,this.$node))return;this.data.ltPropMultiple||this.$node.removeUpload(),this.validate(o),this.getMethods("onPaste")&&this.executeMethod("onPaste",t,o,this.$node)}},keydown:function(t){if(8==t.which){for(var e=$L("#lyteFileUpdSelectedFile lyte-file-close",this.$node),o=0;o<e.length;o++)this.$node.removeUpload(e.eq(o).attr("data-value"));e.length&&t.preventDefault()}}}}),Lyte.Component.register("lyte-gridstack",{_template:'<template tag-name="lyte-gridstack">\n\t\t<lyte-yield yield-name="lyteGridStack">\n\t\t</lyte-yield>\n</template>',_dynamicNodes:[{type:"insertYield",position:[1]}],_observedAttributes:["ltPropScope","ltPropHandler","ltPropMarginLeft","ltPropMarginTop","ltPropUnitX","ltPropUnitY","ltPropResizeDirection","ltPropFloat","ltPropDirection","ltPropUndo","ltPropResize","ltPropBestfit","ltPropMinUnitX","ltPropMinMarginLeft","ltPropBestfitClass","ltPropFreezeMode","ltPropDefaultLength","ltPropDefaultHeight","ltPropDefaultMinLength","ltPropDefaultMinHeight","ltPropDefaultMaxHeight","ltPropDefaultMaxLength","ltPropColumnMode","ltPropColumn","ltPropPrevent","ltPropGridLength","ltPropBestfitType","ltPropForcedReposition","ltPropSquareGrid","ltPropGridSpaceColor","ltPropHitBottom","ltPropGridSelectionClass","ltPropVisibleBoundary","ltPropVisible","ltPropCheckCurrentPosition","ltPropContainment","gridLength","ltPropGridHeight","ltPropMarginLeftCopy","ltPropUnitXCopy","lyteGridStack","elements","oriNode","xElements","yElements","iniData","lyteQuerySelector","direction"],init:function(){var t=navigator.userAgent;this.isSaf={safari:!!window.safari,isIE11Lyte:/rv:11/gi.test(t),isEdgeLyte:/Edge/gi.test(t),chrome:!!window.chrome,firefox:/firefox/gi.test(t)},this._childGrids=[],this.freeezeModeObs.call(this,this.data.ltPropFreezeMode),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didDestroy:function(){if(document.removeEventListener("keydown",this.data.lyteQuerySelector.keydown),window.removeEventListener("resize",this._resizeFunc,!0),window.removeEventListener("orientationchange",this._resizeFunc,!0),document.removeEventListener("click",this._click),this.$node.removeEventListener("scroll",this._scroll,!0),this._parentGrid){var t=this._parentGrid.component._childGrids;Lyte.arrayUtils(t,"removeAt",t.indexOf(this._parentGridIndex))}this._parentComp&&delete this._parentComp._childGrid,document._lyteCurrentGrid==this&&delete document._lyteCurrentGrid,delete this.scopeElement,delete this._style,this.data.lyteGridStack=[],delete this.data.lyteQuerySelector.previousNode,delete this.$node.addGrid,delete this.$node.removeGrid,delete this.$node.reRender,delete this.$node.setProperty},rtlfunc:function(t,e){return this.data.direction?"left"==t?"right":"right"==t?"left":"clientX"==e?window.innerWidth-t:"bccr"==e?window.innerWidth-t.right:e.offsetParent.getBoundingClientRect().right-e.getBoundingClientRect().right:"bccr"==e?t.left:e&&"clientX"!=e?e.offsetLeft:t},windowResize:function(t){t&&"resize"==t.type&&_lyteUiUtils.isMobile||(clearTimeout(window._gridResize),window._gridResize=setTimeout(function(){if(this.$node.offsetParent){var t=this.data.ltPropMinUnitX,e=this.scopeElement.getBoundingClientRect().width-this.data.gridLength*this.data.ltPropMarginLeft,o=this._initialXRatio*e;this.setData("ltPropUnitXCopy",Math.max(o,t)),this.MarginLeftAndXObs.call(this,!0),this.observerFunc.call(this),delete window._gridResize,this.getMethods("onWindowResize")&&$L.fastdom.measure(function(){$L.fastdom.mutate(function(){this.executeMethod("onWindowResize",event,this.$node)}.bind(this))}.bind(this))}}.bind(this),t&&"orientationchange"==t.type?500:250))},MarginLeft:function(){this.MarginLeftAndXObs.apply(this,arguments)}.observes("ltPropMarginLeft","ltPropUnitX"),MarginLeftAndXObs:function(t){t.constructor==Object&&(this.setData("ltPropUnitXCopy",this.data.ltPropUnitX),this.setData("ltPropMarginLeftCopy",this.data.ltPropMarginLeft));var e=this.getData("ltPropUnitXCopy"),o=this.getData("ltPropMarginLeftCopy");this.setData("gridLength",Math.round((this.scopeElement.getBoundingClientRect().width-o)/(e+o)))},squareGridObs:function(){arguments[0].newValue?(this._originalY=this.getData("ltPropUnitY"),this.setData("ltPropUnitY",this.data.ltPropUnitX)):this._originalY?(this.setData("ltPropUnitY",this._originalY),delete this._originalY):this.setData("ltPropUnitY",50)}.observes("ltPropSquareGrid"),obsfunc:function(){this.getData("ltPropSquareGrid")&&("ltPropUnitX"==arguments[0].item?this.setData("ltPropUnitY",arguments[0].newValue):"ltPropUnitY"==arguments[0].item&&this.setData("ltPropUnitX",arguments[0].newValue)),this._prevObs||this.observerFunc.apply(this,arguments)}.observes("ltPropUnitX","ltPropUnitY","ltPropMarginLeft","ltPropMarginTop"),observerFunc:function(t){var e=this._style;e&&(this.$node.removeChild(e),delete this._style,this.initialValSet.call(this,null,!t))},freezeobs:function(){this.freeezeModeObs.apply(this,arguments)}.observes("ltPropFreezeMode"),freeezeModeObs:function(t){t.constructor!=Object&&t.constructor!=Boolean||(0==t.oldValue||1==t?this.$node.classList.add("gridFreezeMode"):1!=t.oldValue&&0!=t||this.$node.classList.remove("gridFreezeMode"))},columnMode:function(t){if(0==t.newValue){for(var e=this.getData("ltPropHandler"),o=this.getData("iniData"),i=this.scopeElement.querySelectorAll(e),a=0;a<i.length;a++)for(var l in o[a])o[a][l]&&i[a].setAttribute("lyte-grid-"+l,o[a][l]);this.data.ltPropUnitX==(this._originalX||this.getData("ltPropUnitXCopy"))?this.initialValSet(!0):this.setData("ltPropUnitX",this._originalX||this.getData("ltPropUnitXCopy"))}else this._originalX=this.getData("ltPropUnitXCopy"),"ltPropForcedReposition"!=t.item&&(this.columnModeLengthFind(),this.setData("gridLength",this.gridLength(null,this.getData("ltPropUnitXCopy")))),this.initialValSet.call(this)}.observes("ltPropColumn","ltPropColumnMode","ltPropForcedReposition"),bestFitObs:function(t){var e=this._bestfit;e&&(t.newValue&&e.classList.add(t.newValue),t.oldValue&&e.classList.remove(t.oldValue))}.observes("ltPropBestfitClass"),bfObs:function(){var t=this.getData("ltPropBestfit"),e=this.getData("ltPropBestfitType");if(t&&"grid"==e){var o=this.getData("ltPropGridSpaceColor"),i=this.getData("ltPropMarginLeftCopy"),a=this.getData("ltPropMarginTop"),l=this.getData("ltPropUnitXCopy"),n=this.getData("ltPropUnitY");this.scopeElement.style.backgroundImage="linear-gradient(to right,"+o+" "+i+"px,transparent 0px),linear-gradient(to bottom,"+o+" "+a+"px,transparent 0px)",this.scopeElement.style.backgroundSize=l+i+"px "+(n+a)+"px",this._bestfit&&("grid"==arguments[0].newValue&&this._bestfit.classList.add("lyteGrid"),this._bestfit.style.transform="translate(-"+i+"px,-"+a+"px)")}else t&&"default"!=e||(this.scopeElement.style.removeProperty("background-image"),this.scopeElement.style.removeProperty("background-size"),this._bestfit&&(this._bestfit.style.removeProperty("background-image"),this._bestfit.style.removeProperty("background-size"),this._bestfit.style.removeProperty("transform"),"default"==arguments[0].newValue&&this._bestfit.classList.remove("lyteGrid")))}.observes("ltPropBestfit","ltPropBestfitType"),lengthObs:function(){this.setData("gridLength",0),this.$node.reRender()}.observes("ltPropGridLength"),gridColorObs:function(t){"grid"==this.getData("ltPropBestfitType")&&this.getData("ltPropBestfit")&&(this.scopeElement.style.backgroundImage="linear-gradient(to right,"+t.newValue+" "+this.getData("ltPropMarginLeftCopy")+"px,transparent 0px),linear-gradient(to bottom,"+t.newValue+" "+this.getData("ltPropMarginTop")+"px,transparent 0px)")}.observes("ltPropGridSpaceColor"),dataSetting:function(t,e,o,i,a){var l={x:void 0,y:void 0,length:1,height:1,nodeName:"",preX:[],preY:[],preLength:[],preHeight:[],component:void 0};if(o){var n=parseInt(a/i);l.x=void 0,l.y=void 0,l.length=n,l.height=parseInt(this.getData("ltPropDefaultHeight")),this._dopeHgt=l.height}else l=this.initialPosFind.call(this,t);return l.nodeName=t,l.nodeName.dataSet={},l.oldX=[],l.oldY=[],l.oldLength=[],l.oldHeight=[],t.elemNum=e,l.minLength=t.getAttribute("lyte-grid-min-length")?this.returnWid(t.getAttribute("lyte-grid-min-length"),!0):this.returnWid(this.getData("ltPropDefaultMinLength"),!0),l.minHeight=t.getAttribute("lyte-grid-min-height")?this.returnWid(t.getAttribute("lyte-grid-min-height")):this.returnWid(this.getData("ltPropDefaultMinHeight")),l.maxLength=t.getAttribute("lyte-grid-max-length")?this.returnWid(t.getAttribute("lyte-grid-max-length"),!0):this.returnWid(this.getData("ltPropDefaultMaxLength"),!0),l.maxHeight=t.getAttribute("lyte-grid-max-height")?this.returnWid(t.getAttribute("lyte-grid-max-height")):this.returnWid(this.getData("ltPropDefaultMaxHeight")),l.component=this,l},append:function(t,e,o,i){$L.fastdom.mutate(function(){var a=document.createElement("div");t.querySelector(".lyteGridResize."+e[o.indexOf(i)])||(a.setAttribute("class",e[o.indexOf(i)]+" lyteGridResize"),t.appendChild(a))})},maxPosFind:function(t,e,o,i,a){for(var l=[],n=[],r=[],s=[],d=0;d<t.length;d++){if(!a){var p=this.emptySpaceFind.call(this,{length:i[d].length,height:i[d].height,x:i[d].x,y:i[d].y,nodeName:i[d].nodeName});t[d]._addGrid&&!o||(i[d].x=p[0].x,i[d].y=p[0].y),t[d]._addGrid&&delete t[d]._addGrid}n.push(i[d].length),l.push(i[d].height),r.push(i[d].y+i[d].height),s.push(i[d].x+i[d].length)}a||this.previousPos.call(this,t,!0),e.MaxLength=Math.max.apply(null,n.length?n:[0]),e.MaxHeight=Math.max.apply(null,l.length?l:[0]),e.MaxBottom=Math.max.apply(null,r.length?r:[0]),e.MaxLeft=Math.max.apply(null,s.length?s:[this.getData("gridLength")])},initialValSet:function(t,e){var o=this.getData("lyteQuerySelector"),i=this.getData("lyteGridStack"),a=this.$node.querySelector(this.data.ltPropScope),l=parseFloat(this.getData("ltPropUnitXCopy")),n=parseFloat(this.getData("ltPropUnitY")),r=parseFloat(this.data.ltPropUnitX),s=parseFloat(this.getData("ltPropMarginTop")),d=parseFloat(this.getData("ltPropMarginLeftCopy")),p=parseInt(this.getData("gridLength")),c=this.getData("ltPropColumnMode"),h=this.getData("ltPropColumn"),u=this.bcrrelem?this.bcrrelem:this.scopeElement.getBoundingClientRect(),y=this.getData("ltPropResizeDirection");o.occupied=[],o.currentPos=0,o.verticalMove=!0;var m=a.querySelectorAll(this.data.ltPropHandler);if(a.dataSet={},o.elementCount=[],!e){for(var g=0;g<m.length;g++){if(i[g]=this.dataSetting.call(this,m[g],g,c,h,p),o.elementCount.push(g),1==this.getData("ltPropResize"))if(0==i[g].nodeName.querySelectorAll(".lyteGridResize").length&&"disabled"!=i[g].nodeName.getAttribute("lyte-grid-resize"))for(var f=0;f<y.length;f++){var v=["left","right","bottom","bottomLeft","bottomRight","top","topLeft","topRight"];-1!=v.indexOf(y[f])&&this.append(m[g],["lyteGridStackLeft","lyteGridStackRight","lyteGridStackBottom","lyteGridStackBottomLeft","lyteGridStackBottomRight","lyteGridStackTop","lyteGridStackTopLeft","lyteGridStackTopRight"],v,y[f])}}this.maxPosFind(m,o,c,i)}if(this._initialWindowWidth==window.innerWidth&&(this._initialXRatio=r/(u.width-this.data.gridLength*this.data.ltPropMarginLeft)),$L.fastdom.mutate(function(){if(a.style.height=o.MaxBottom*n+(o.MaxBottom+1)*parseInt(this.getData("ltPropMarginTop"))+"px","grid"==this.getData("ltPropBestfitType")&&this.getData("ltPropBestfit")){var t=this.getData("ltPropGridSpaceColor");this.scopeElement.style.backgroundImage="linear-gradient(to right,"+t+" "+d+"px,transparent 0px),linear-gradient(to bottom,"+t+" "+s+"px,transparent 0px)",this.scopeElement.style.backgroundSize=l+d+"px "+(n+s)+"px"}}.bind(this)),!t){var b,D=this._style;D||((D=document.createElement("style")).type="text/css",D.id="lyteGridStack",this._style=D,$L.fastdom.mutate(function(){this.$node.appendChild(D)}.bind(this)));var P=this.$node.querySelectorAll(this.data.ltPropHandler);if(P&&P.length)for(var C=0;C<P.length;C++)P[C].classList.add("lyteGridstackHandler");var L=u.width;this._initialXRatio=l/(u.width-this.data.gridLength*this.data.ltPropMarginLeft);for(g=1;g<=Math.max(p,o.MaxBottom)+1;g++)g<=p&&(0==this.$node.querySelectorAll("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridx"+(g-1)).length&&(b=this.data.ltPropScope+" "+this.data.ltPropHandler+'[lyte-grid-x = "'+(g-1)+'"]{'+this.rtlfunc("left")+":"+100*((g-1)*l+g*d)/L+"%;}",this.styleFormation.call(this,b,this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridx"+(g-1))),g<=p&&0==this.$node.querySelectorAll("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridlength"+(g-1)).length&&(b=this.data.ltPropScope+" "+this.data.ltPropHandler+'[lyte-grid-length = "'+g+'"]{width:'+100*(g*l+(g-1)*d)/L+"%;}",this.styleFormation.call(this,b,this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridlength"+(g-1)))),g<=o.MaxBottom+1&&(0==this.$node.querySelectorAll("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridy"+(g-1)).length&&(b=this.data.ltPropScope+" "+this.data.ltPropHandler+'[lyte-grid-y = "'+(g-1)+'"]{top:'+((g-1)*n+g*s)+"px;}",this.styleFormation.call(this,b,this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridy"+(g-1))),g<=o.MaxHeight&&0==this.$node.querySelectorAll("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridheight"+(g-1)).length&&(b=this.getData("ltPropScope")+" "+this.data.ltPropHandler+'[lyte-grid-height = "'+g+'"]{height:'+(g*n+(g-1)*s)+"px;}",this.styleFormation.call(this,b,this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridheight"+(g-1))));this.setData("ltPropGridHeight",o.MaxBottom)}this.displayGrid.call(this,null),this.bcrrelem&&delete this.bcrrelem},maxHeight:function(t){for(var e=this.$node.querySelectorAll(this.data.ltPropHandler),o=[],i=[],a=[],l=0;l<e.length;l++)i.push(t[l].length),o.push(t[l].height),a.push(t[l].y+t[l].height);return[Math.max.apply(null,i),Math.max.apply(null,o),Math.max.apply(null,a)]},styleFormation:function(t,e){$L.fastdom.mutate(function(){if(0==this.$node.querySelectorAll("."+e).length){var o=document.createElement("style");o.type="text/css",o.setAttribute("class",e),this._style.appendChild(o),o.append(t)}}.bind(this))},cssConstruct:function(t,e,o){var i,a=this.data.lyteGridStack,l=this.$node.querySelector(this.data.ltPropScope),n=this.data.lyteQuerySelector,r=this.returnWid(t.getAttribute("lyte-grid-height"),null,t),s=(this.returnWid(t.getAttribute("lyte-grid-length"),!0,t),parseInt(t.getAttribute("lyte-grid-x")),parseInt(t.getAttribute("lyte-grid-y"))),d=(this.data.ltPropUnitXCopy,this.data.ltPropUnitY),p=this.data.ltPropMarginTop;this.data.ltPropMarginLeftCopy;if("lyte-grid-height"==e)for(var c=Math.max(r,n.MaxHeight),h=0;h<=c;h++){var u=this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridheight"+h;0==this.$node.querySelectorAll("."+u).length&&(i=this.data.ltPropScope+" "+this.data.ltPropHandler+'[lyte-grid-height = "'+(h+1)+'"]{height:'+((h+1)*d+h*p)+"px;}",this.styleFormation.call(this,i,u))}else if("lyte-grid-y"==e&&s+r>=n.MaxBottom){for(h=n.MaxBottom-r;h<=s+r;h++){u=this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridy"+h;0==this.$node.querySelectorAll("."+u).length&&(i=this.data.ltPropScope+" "+this.data.ltPropHandler+'[lyte-grid-y = "'+h+'"]{top:'+(h*d+(h+1)*p)+"px;}",this.styleFormation.call(this,i,u))}n.previousNode=t}if(-1!=["lyte-grid-height","lyte-grid-y"].indexOf(e)){var y=this.maxHeight(a);if(this.setData("ltPropGridHeight",y[2]),n.MaxBottom>y[2])for(var m=n.MaxBottom;m>y[2];m--)if(this.$node.querySelector("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridy"+m)){var g=this._style;if(g){var f=this.$node.querySelector("."+this.data.ltPropHandler.replace(/[.|#]/gi,"")+"lytegridy"+m);f&&f.parentElement==g&&g.removeChild(f)}}n.MaxBottom=y[2]}l.style.height=n.MaxBottom*d+(n.MaxBottom+1)*p+"px"},setVal:function(t,e,o){t.setAttribute(e,o),"lyte-grid-y"!=e&&"lyte-grid-height"!=e&&"lyte-grid-length"!=e&&"lyte-grid-x"!=e||this.cssConstruct.call(this,t,e),t.dataSet[e]=o},displayGrid:function(t,e){for(var o=this.scopeElement.querySelectorAll(this.data.ltPropHandler),i=this.data.lyteQuerySelector,a=this.data.lyteGridStack,l=0;l<o.length;l++)(l!=t&&!e||e&&l==t)&&(this.setVal(o[l],"lyte-grid-y",a[l].y),this.setVal(o[l],"lyte-grid-x",a[l].x),a[l].length!=a[l].nodeName.getAttribute("lyte-grid-length-old")&&this.setVal(o[l],"lyte-grid-length",a[l].length,!0),a[l].height!=a[l].nodeName.getAttribute("lyte-grid-height-old")&&this.setVal(o[l],"lyte-grid-height",a[l].height));this.scopeElement.dataSet["lt-prop-grid-height"]=i.MaxBottom,this.scopeElement.dataSet["lt-prop-grid-length"]=parseInt(this.data.gridLength),$L.fastdom.mutate(function(){this.positionFind.call(this,o)}.bind(this))},positionFind:function(t){t=t||this.scopeElement.querySelectorAll(this.data.ltPropHandler);for(var e,o=[],i=[],a=[],l=[],n=[],r=[],s=this.getData("lyteGridStack"),d=0;d<t.length;d++)s[d]&&(a.push(s[d].x),l.push(s[d].y),n.push(s[d].x+s[d].length),r.push(s[d].y+s[d].height));e=Math.max(Math.max.apply(null,a),Math.max.apply(null,l),Math.max.apply(null,n),Math.max.apply(null,r));for(var p=0;p<=e;p++){a=[],l=[],n=[],r=[];for(var c=0;c<s.length;c++)s[c].x<=p&&p<=s[c].x+s[c].length&&a.push(c),s[c].y<=p&&p<=s[c].y+s[c].height&&l.push(c);o.push(a),i.push(l)}Lyte.arrayUtils(this.data.xElements,"remove",0,this.data.xElements.length),Lyte.arrayUtils(this.data.xElements,"concat",o),Lyte.arrayUtils(this.data.yElements,"remove",0,this.data.yElements.length),Lyte.arrayUtils(this.data.yElements,"concat",i)},multipleRemoval:function(t){t=t||[];for(var e=0;e<t.length;e++)for(var o=e+1;o<t.length;o++)t[e]==t[o]&&(Lyte.arrayUtils(t,"removeAt",o),o--);return t},similarData:function(t,e){var o=[];if(void 0!=t&&void 0!=e){for(var i=0;i<t.length;i++)for(var a=0;a<e.length;a++)if(t[i]==e[a]){o.push(t[i]);break}}else o=t||e;return o},elementCheck:function(t,e,o){var i,a=[],l=this.getData("xElements"),n=1,r=this.getData("lyteGridStack");return r[e.elemNum].length>1?(o?(i=r[e.elemNum].x,n=0):i=r[e.elemNum].x+1,a=this.yElementsFind(i,r[e.elemNum].x+r[e.elemNum].length-n,l)):a=this.similarData.call(this,l[r[e.elemNum].x],l[r[e.elemNum].x+1]),a?this.multipleRemoval.call(this,a):[]},nodeName:function(t){var e=t.target.correspondingElement||t.target;if(e){var o,i=!1,a=this.$node.querySelector(this.data.ltPropScope);if("mousedown"!=t.type&&t.type){if("click"==t.type){for(;e&&e!=a&&e.classList&&"BODY"!=e.tagName&&"HTML"!=e.tagName;){if(e.classList.contains("lyteGridstackHandler")&&e.querySelectorAll(".lyteGridResize").length){i=!0;break}e=e.parentNode}if(i)return e}}else{for(;e&&e!=a&&e.classList&&"BODY"!=e.tagName&&"HTML"!=e.tagName;){if(e.classList.contains("lyteGridStackLeft")){o="left",i=!0;break}if(e.classList.contains("lyteGridStackRight")){o="right",i=!0;break}if(e.classList.contains("lyteGridStackBottom")){o="bottom",i=!0;break}if(e.classList.contains("lyteGridStackBottomLeft")){o="BottomLeft",i=!0;break}if(e.classList.contains("lyteGridStackBottomRight")){o="BottomRight",i=!0;break}if(e.classList.contains("lyteGridStackTop")){o="top",i=!0;break}if(e.classList.contains("lyteGridStackTopLeft")){o="topLeft",i=!0;break}if(e.classList.contains("lyteGridStackTopRight")){o="topRight",i=!0;break}if("LYTE-GRID-CONTENT"==e.tagName){o="content",i=!0;break}e=e.parentNode}if(e!=a&&i)return[o,e.parentElement,e.parentElement.parentElement]}}return null},valueUpdating:function(t,e,o){var i=this.getData("lyteGridStack");i[t][e]!=i[t].nodeName.dataSet[o]&&(i[t].nodeName.dataSet[o+"-old"]=i[t].nodeName.dataSet[o],i[t].nodeName.dataSet[o]=parseInt(i[t][e]))},bottomElementsCount:function(t,e){var o,i,a,l,n,r;"vertical"==e?(r="y",o="x",i="height",a="length",l="xElements",n="yElements","offsetTop","lyte-grid-height","ltPropMarginTop"):(r="x",o="y",i="length",a="height",l="yElements",n="xElements","offsetLeft","lyte-grid-length","ltPropMarginLeftCopy");var s=this.getData("lyteGridStack"),d=this.getData(l),p=this.getData(n),c=[],h=[],u=[];c=s[t.elemNum][i]>1?this.yElementsFind(s[t.elemNum][r]+1,s[t.elemNum][r]+s[t.elemNum][i]-1,p):this.similarData.call(this,p[s[t.elemNum][r]],p[s[t.elemNum][r]+s[t.elemNum][i]]),h=this.multipleRemoval.call(this,h.concat(d[s[t.elemNum][o]+s[t.elemNum][a]])),u=this.multipleRemoval.call(this,u.concat(d[s[t.elemNum][o]])),c=this.multipleRemoval.call(this,c),h.length&&Lyte.arrayUtils(h,"removeAt",h.indexOf(t.elemNum)),u.length&&Lyte.arrayUtils(u,"removeAt",u.indexOf(t.elemNum)),c.length&&Lyte.arrayUtils(c,"removeAt",c.indexOf(t.elemNum));var y=[];return y[y.length]=this.similarData.call(this,c,h).length,y[y.length]=this.similarData.call(this,c,u).length,y},returnY:function(t,e){var o,i,a;return e?(o="offTop",i=this.getData("ltPropMarginTop"),a=this.getData("ltPropUnitY")):(o="offLeft",i=this.getData("ltPropMarginLeftCopy"),a=this.getData("ltPropUnitXCopy")),parseInt(((t[o]-i)/(a+i)).toFixed(0))},scrollCheckY:function(t,e,o,i,a,l,n,r,s,d){if(!this._scrollCheck||d){var p,c="scrollTop",h="top",u="clientY",y="bottom",m="prevEvY",g="height";if(s&&(c="scrollLeft",h="left",u="clientX",y="right",m="prevEvX","prevEvY","clientY",g="width","scrollWidth"),!(e[g]>=n||_lyteUiUtils.isIos&&e[this.rtlfunc(y)]>a)){var f=Math.max(e[h],0)>Math.min(i[h],l[u])&&!(e[y]<i[y])&&(l[u]<t[m]||void 0==t[m]),v=Math.min(e[y],a)<Math.max(i[y],l[u])&&!(e[h]>i[h])&&(l[u]>t[m]||void 0==t[m]),b=(this.$node[c],(this.isSaf.isEdgeLyte||this.isSaf.isIE11Lyte)&&this.data.direction?-1:1);if(D.call(this,e,n,r,!s,-o*b,this.data.direction)&&f)this.$node[c]-=1*o*b,p=!0;else{if(!D.call(this,e,n,r,!s,o*b,this.data.direction)||!v)return window.cancelAnimationFrame(this._reqId),delete this._reqId,delete this._scrollCheck,void(t[m]=l[u]);this.$node[c]+=1*o*b,p=!0}p&&(this._scrollCheck=!0,this._reqId=window.requestAnimationFrame(function(){i=t.getBoundingClientRect(),this.scrollCheckY.call(this,t,e,o,i,a,l,n,this.$node[s?"scrollLeft":"scrollTop"],s,!0)}.bind(this)))}}function D(t,e,o,i,a,l){var n=i?"height":"width";return!(a>0&&o+t[n]>=e||a<0&&-o+t[n]>=e)&&(!!(!i&&this.isSaf.firefox&&l&&a<0&&0==o)||!(a<0&&0==o&&!(a<0&&this.isSaf.safari&&l&&0==o)))}},resetInitial:function(t,e,o,i,a){var l=t.initialLeft,n=t.initialTop;e>l&&e<i?t.initialLeft=i:e<l&&e>i&&(t.initialLeft=i),o>n&&o<a?t.initialTop=a:o<n&&o>a&&(t.initialTop=a)},checkLeftandWidth:function(t,e,o,i,a){var l=void 0==a?e.width:a;return t+l+o>i.width&&(t=i.width-o-l),t<o&&(t=o),t},checkTop:function(t,e){return t<e&&(t=e),t},widthcheck:function(t,e,o,i){return o.width-i<e.offLeft+t&&(t=o.width-i-e.offLeft),t},mousemoveFun:function(t,e){if(!this._scrollCheck){var o=this.elementSorting.call(this,this.data.lyteQuerySelector),i=this.getData("lyteGridStack");o.previousPosFind||(o.previousPosFind=!0,this.getMethods("onDragStart")&&this.executeMethod("onDragStart",this.retNode(o.SelectedNodes,i),this.$node));for(var a=0;a<o.SelectedNodes.length;a++){var l,n,r,s,d=!0,p=[],c=[],h=i[o.SelectedNodes[a]].nodeName,u=h.xPos,y=h.yPos,m=t.querySelectorAll(this.data.ltPropHandler),g=this.rtlfunc(e.clientX,"clientX"),f=e.clientY,v=this.data.gridLength,b=(this.data.ltPropGridHeight,this.data.xElements),D=this.data.yElements,P=this.data.ltPropUnitXCopy,C=this.data.ltPropUnitY,L=this.data.ltPropMarginTop,x=this.data.ltPropMarginLeftCopy,w=this.data.ltPropPrevent,_=h.offLeft,S=h.offTop,T=this.getData("ltPropContainment");h.offLeft=this.rtlfunc("offsetLeft",h),h.offTop=h.offsetTop,h.classList.add("lyteGridStackMove");var M=this.$node.getBoundingClientRect(),E=this.$node.scrollWidth,k=this.$node.scrollHeight,A=h.getBoundingClientRect(),N=window.innerWidth,I=this.$node.scrollLeft,F=this.$node.scrollTop,$=window.innerHeight,R=t.getBoundingClientRect();if(i[l=h.elemNum].length!=parseInt(h.getAttribute("lyte-grid-length"))||i[l].height!=parseInt(h.getAttribute("lyte-grid-height"))||h.offLeft<h.initialLeft&&h.offTop<h.initialTop?d=!0:i[l].x==parseInt(h.getAttribute("lyte-grid-x"))?d=!1:h.offTop>h.initialTop+C&&(d=!1),h.flag){n=g-u;var B=f-y;w.horizontal||(T&&(n=this.checkLeftandWidth(n,A,x,R)),h.style[this.rtlfunc("left")]=n+"px",h.offLeft=n),w.vertical||(T&&(B=this.checkTop(B,L)),h.style.top=B+"px",h.offTop=B);var O=this.returnY(h);O!=i[l].x&&(s=!0),i[l].x=O>0?O:0,i[l].x=i[l].x>v-i[l].length?v-i[l].length:i[l].x,i[l].x<0&&(i[l].length-=i[l].x,i[l].x=0),this.scrollCheckY.call(this,h,M,C,A,$,e,k,F),this.scrollCheckY.call(this,h,M,P,A,N,e,E,I,!0)}else{var H=i[l].minLength*P+(i[l].minLength-1)*x,q=i[l].maxLength*P+(i[l].maxLength-1)*x,U=i[l].minHeight*C+(i[l].minHeight-1)*L,Y=i[l].maxHeight*C+(i[l].maxHeight-1)*L;if(!w.horizontal&&-1!=["right","BottomRight","topRight"].indexOf(h.value)&&h.xOff+g-this.rtlfunc(A,"bccr")>=P){var V=h.xOff+g-this.rtlfunc(A,"bccr");V=q>=H?Math.min(Math.max(V,H),q):Math.max(V,H),T&&(V=this.widthcheck(V,h,R,x)),h.style.width=V+"px",i[h.elemNum].length=Math.min(parseInt(((V+x)/(x+P)).toFixed(0)),v-i[h.elemNum].x)}else if(!w.horizontal&&-1!=["left","BottomLeft","topLeft"].indexOf(h.value)&&h.xOff+Math.abs(g-this.rtlfunc(A,"bccr")-A.width)>=P){var z=h.offLeft,W=g-u,j=W-z,X=A.width;T&&(W=this.checkLeftandWidth(W,A,x,R,A.width-j)),(X-=j=W-z)>0&&X>=H&&(X<=q||q<0)&&(h.style.width=X+"px",h.style[this.rtlfunc("left")]=W+"px",h.offLeft=W);var G=Math.max(0,this.returnY(h));i[h.elemNum].length-=G-i[h.elemNum].x,i[l].x=G}if(!w.vertical&&-1!=["BottomRight","BottomLeft","bottom"].indexOf(h.value)&&h.yOff+f-A.top>=C){var K=h.yOff+f-A.top;h.style.height=Y>=U?Math.min(Math.max(K,U),Y)+"px":Math.max(K,U)+"px",i[h.elemNum].height=parseInt((((h.style.height?parseInt(h.style.height):A.height)+L)/(L+C)).toFixed(0))}else if(!w.vertical&&-1!=["top","topRight","topLeft"].indexOf(h.value)&&h.yOff+Math.abs(f-A.top-A.height)>=C){var Q=h.offTop,Z=f-y,J=A.height;T&&(Z=this.checkTop(Z,L)),(J-=Z-Q)>0&&J>=U&&(J<=Y||Y<0)&&(h.style.height=J+"px",h.style.top=Z+"px",h.offTop=Z);var tt=Math.max(0,this.returnY(h,!0));i[h.elemNum].height-=tt-i[h.elemNum].y,i[l].y=tt}this._parentGrid&&(h._percentHeight=100*(h.style.height?parseInt(h.style.height):A.height+2*L)/M.height+"%",h._percentLength=100*(h.style.width?parseInt(h.style.width):A.width+2*x)/M.width+"%")}var et=this.bottomElementsCount.call(this,h,"horizontal"),ot=this.bottomElementsCount.call(this,h,"vertical");if(h.initialTop>h.offTop&&!w.vertical?this.verticalMoveBottomToTop.call(this,t,h):h.initialTop<h.offTop&&!w.vertical&&this.verticalMoveTopToBottom.call(this,t,h),w.horizontal||(0!=ot[0]&&h.offLeft>h.initialLeft||!h.flag||0!=ot[1]&&h.initialLeft>h.offLeft&&i[h.elemNum].height<=parseInt(h.getAttribute("lyte-grid-height"))||i[l].length>h.dataSet["lyte-grid-length-old"]&&i[h.elemNum].height<=parseInt(h.getAttribute("lyte-grid-height")))&&(this.topCheck.call(this,h,t),this.getData("ltPropFloat")||this.topMoveFunc.call(this,h,null,null,null,!0)),!w.vertical&&(d||0==et[0]&&h.initialTop<h.offTop||0==et[1]&&h.initialTop>h.offTop||!this.getData("ltPropFloat"))){var it=parseInt(((h.offTop-L)/(C+L)).toFixed(0));-1!=["top","topLeft","topRight"].indexOf(h.value)?i[l].y=it:0==et[0]&&h.initialTop<h.offTop?i[l].y<=it&&(i[l].y=it):0==et[1]&&h.initialTop>h.offTop&&i[l].y>=it&&(i[l].y=it),i[l].y=i[l].y>0?i[l].y:0}if(s||i[h.elemNum].x!=parseInt(h.getAttribute("lyte-grid-x"))||i[h.elemNum].length!=parseInt(h.getAttribute("lyte-grid-length"))||i[h.elemNum].height!=parseInt(h.getAttribute("lyte-grid-height"))){this.valueUpdating.call(this,l,"x","lyte-grid-x"),this.valueUpdating.call(this,l,"y","lyte-grid-y"),this.valueUpdating.call(this,l,"length","lyte-grid-length"),this.valueUpdating.call(this,l,"height","lyte-grid-height"),this.positionFind.call(this,m);var at,lt=0;i=this.getData("lyteGridStack");for((h.initialLeft>h.offLeft||h.initialLeft<h.offLeft||h.dataSet["lyte-grid-length-old"]>i[h.elemNum].length)&&(p=b[i[h.elemNum].x].concat(b[i[h.elemNum].x+i[h.elemNum].length])),c=this.yElementsFind.call(this,i[h.elemNum].y+i[h.elemNum].height,o.MaxBottom,D),-1!=(p=this.multipleRemoval.call(this,this.similarData.call(this,p,c))).indexOf(h.elemNum)&&Lyte.arrayUtils(p,"removeAt",p.indexOf(h.elemNum)),at=0;at<p.length;at++)if(i[h.elemNum].y+i[h.elemNum].height<=i[p[at]].y+1&&(h.initialLeft>h.offLeft&&i[p[at]].x==i[h.elemNum].x+i[h.elemNum].length||h.initialLeft<h.offLeft&&i[h.elemNum].x==i[p[at]].x+i[p[at]].length||h.dataSet["lyte-grid-length-old"]-i[h.elemNum].length==1)&&(r=this.heightGet.call(this,i[p[at]].nodeName))){!1,lt=i[p[at]].y,i[p[at]].y=i[p[at]].y-(this.getData("ltPropFloat")&&i[p[at]].y-r<i[h.elemNum].y?i[p[at]].y-i[h.elemNum].y:r),this.valueUpdating.call(this,p[at],"y","lyte-grid-y"),this.positionFind.call(this,m),this.topMoveFunc.call(this,i[p[at]].nodeName,lt,!1,h),this.displayGrid.call(this,h.elemNum);break}(i[h.elemNum].y<parseInt(h.getAttribute("lyte-grid-y"))||h.initialTop-h.offTop>parseInt(L))&&!this.getData("ltPropFloat")&&this.topMoveFunc.call(this,h,parseInt(h.getAttribute("lyte-grid-y")),!1,h),i[h.elemNum].height>h.dataSet["lyte-grid-height-old"]&&!h.flag?(o.verticalMove=!1,h.setAttribute("lyte-grid-height",i[h.elemNum].height),this.verticalCheck.call(this,i[h.elemNum],i[h.elemNum].y+i[h.elemNum].height,i[h.elemNum].y+i[h.elemNum].height,h,!0),this.displayGrid.call(this,h.elemNum)):i[h.elemNum].height<h.dataSet["lyte-grid-height-old"]&&!h.flag&&(o.verticalMove=!1,h.setAttribute("lyte-grid-height",i[h.elemNum].height),this.topMoveFunc.call(this,h,i[h.elemNum].y,!0),this.displayGrid.call(this,h.elemNum)),this.getData("ltPropFloat")||this.topMoveAllGrid.call(this,h,i)}else this.getData("ltPropCheckCurrentPosition")&&this.positionFind.call(this);r=this.getData("ltPropFloat")?0:this.heightGet.call(this,h),this.getMethods("onDrag")&&this.executeMethod("onDrag",h,e,this.$node),this.resetInitial(h,h.offLeft,h.offTop,_,S)}var nt=this._bestfit;if(nt&&h&&this.getData("ltPropBestfit")&&1==o.SelectedNodes.length){var rt=this.getData("ltPropBestfitType");if(nt.style[this.rtlfunc("left")]=i[h.elemNum].x*P+(i[h.elemNum].x+1)*x+"px",nt.style.top=(i[h.elemNum].y-r)*C+(i[h.elemNum].y+1-r)*L+"px",nt.style.width=i[h.elemNum].length*P+(i[h.elemNum].length-1)*x+("grid"==rt?x:0)+"px",nt.style.height=i[h.elemNum].height*C+(i[h.elemNum].height-1)*L+("grid"==rt?L:0)+"px",nt.style.display="block","grid"==rt){var st=this.getData("ltPropGridSpaceColor");nt.style.backgroundImage="linear-gradient(to right,"+st+" "+x+"px,transparent 0px),linear-gradient(to bottom,"+st+" "+L+"px,transparent 0px)",nt.style.backgroundSize=x+P+"px "+(C+L)+"px",nt.style.transform="translate(-"+(this.data.direction?0:x)+"px,-"+L+"px)"}}}},topMoveAllGrid:function(t,e){for(var o=this.getData("yElements"),i=t.constructor==Number?t:e[t.elemNum].y+e[2*t.elemNum.height],a=this.similarData(this.elementSorting(this.yElementsFind(t.constructor==Number?t:e[t.elemNum].y+e[t.elemNum].height,Math.min(this.getData("lyteQuerySelector").MaxBottom,isNaN(i)?this.getData("lyteQuerySelector").MaxBottom:i),o))),l=0;l<a.length;l++)if(a[l]!=t.elemNum){var n=this.heightGet.call(this,e[a[l]].nodeName);n&&(e[a[l]].y=e[a[l]].y-n,this.valueUpdating.call(this,a[l],"y","lyte-grid-y"),this.topMoveFunc.call(this,e[a[l]].nodeName,e[a[l]].y),this.displayGrid.call(this,a[l],!0))}},verticalMoveBottomToTop:function(t,e){$L.fastdom.measure(function(){var o,i,a=[],l=0,n=[],r=this.getData("ltPropFloat"),s=this.getData("ltPropMarginTop"),d=this.getData("lyteGridStack"),p=this.getData("ltPropCheckCurrentPosition");n=this.elementCheck.call(this,t,e),o=p?this.returnY(e,!0):d[e.elemNum].y,i=this.getData("yElements")[Math.max(0,o)];var c=e.offTop;for(i&&(n=this.similarData.call(this,n,i)),-1!=n.indexOf(e.elemNum)&&Lyte.arrayUtils(n,"removeAt",n.indexOf(e.elemNum)),u=0;u<n.length;u++){var h=d[n[u]].nodeName.offsetTop;(p?c<h+d[n[u]].nodeName.offsetHeight-.5*s&&(c>h+s||o<=0)&&o<d[n[u]].y+d[n[u]].height&&(o>d[n[u]].y||o<=0)&&e.initialTop>c:c<h+d[n[u]].nodeName.offsetHeight-.5*s&&c>h+s&&d[e.elemNum].y==d[n[u]].y+d[n[u]].height&&e.initialTop>c)&&(a[a.length]=n[u])}if(a.length){a=this.elementSorting.call(this,a||[]),this._occupied=a.slice();for(var u=0;u<a.length;u++){l=this.heightGet.call(this,e,d[a[u]].nodeName),r&&(l=d[a[u]].height>l?l:d[a[u]].height);var y=d[a[u]].y+d[a[u]].height;-1==["top","topLeft","topRight"].indexOf(e.value)&&(d[e.elemNum].y=y-l,this.valueUpdating.call(this,e.elemNum,"y","lyte-grid-y"));var m=d[e.elemNum].y+d[e.elemNum].height<d[a[u]].y-this.heightGet.call(this,d[a[u]].nodeName)?d[a[u]].y-this.heightGet.call(this,d[a[u]].nodeName):d[e.elemNum].y+d[e.elemNum].height;this.verticalCheck.call(this,d[a[u]],y,m+d[a[u]].height,e,!0),d[a[u]].y=m,this.valueUpdating.call(this,a[u],"y","lyte-grid-y"),(!r||u==a.length-1&&0!=u)&&this.topMoveFunc.call(this,e,d[e.elemNum].y+l,!1),r||this.topMoveFunc.call(this,d[a[u]].nodeName,d[a[u]].y,!0)}delete this._occupied,this.displayGrid.call(this)}}.bind(this))},verticalMoveTopToBottom:function(t,e){$L.fastdom.measure(function(){var o,i,a,l=[],n=[],r=0,s=this.getData("lyteGridStack"),d=this.getData("ltPropUnitY"),p=this.getData("ltPropCheckCurrentPosition");for(n=this.elementCheck.call(this,t,e),i=s[e.elemNum].y,(a=this.getData("yElements")[(p?this.returnY(e,!0):i)+s[e.elemNum].height])&&(n=this.similarData.call(this,n,a)),-1!=n.indexOf(e.elemNum)&&Lyte.arrayUtils(n,"removeAt",n.indexOf(e.elemNum)),o=0;o<n.length;o++){var c=s[n[o]].nodeName.offsetTop,h=s[n[o]].nodeName.offsetHeight,u=this.rtlfunc("offsetLeft",s[n[o]].nodeName),y=s[n[o]].nodeName.offsetWidth,m=e.offsetHeight;(p?e.offTop>c+(this.getData("ltPropHitBottom")?h-parseInt(this.getData("ltPropMarginTop")):parseInt(this.getData("ltPropMarginTop"))-m)&&e.initialTop<=e.offTop:e.offTop>c+(this.getData("ltPropHitBottom")?h-parseInt(this.getData("ltPropMarginTop")):parseInt(this.getData("ltPropMarginTop"))-m)&&e.initialTop<=e.offTop&&u+y>e.initialLeft&&e.initialLeft+e.clientWidth>u&&(e.initialTop+m<c||e.initialTop>c+h))&&(l[l.length]=n[o])}if(l.length){var g=[];for(o=0;o<l.length;o++)g.push(s[l[o]].height+s[l[o]].y);for(var f=g.reduce(function(t,e){return Math.max(t,e)}),v=0;v<l.length;v++)this.getData("ltPropFloat")?(s[e.elemNum].y=parseInt(((e.offsetTop-d)/(d+parseInt(this.getData("ltPropMarginTop")))).toFixed(0)),this.verticalCheck.call(this,s[e.elemNum],parseInt(e.getAttribute("lyte-grid-y"))+s[e.elemNum].height,s[e.elemNum].y+s[e.elemNum].height,e,!0)):((r=this.heightGet.call(this,s[l[v]].nodeName,e))&&(s[l[v]].y-=r,this.valueUpdating.call(this,l[v],"y","lyte-grid-y"),f=0==v?s[l[v]].height+s[l[v]].y:s[l[v]].height+s[l[v]].y>s[l[v-1]].height+s[l[v-1]].y?s[l[v]].height+s[l[v]].y:s[l[v-1]].height+s[l[v-1]].y),s[e.elemNum].y=f,o!=l.length-1&&0==o||this.topMoveFunc.call(this,s[l[v]].nodeName));this.valueUpdating.call(this,e.elemNum,"y","lyte-grid-y"),this.verticalCheck.call(this,s[e.elemNum],parseInt(e.getAttribute("lyte-grid-y"))+s[e.elemNum].height,s[e.elemNum].y+s[e.elemNum].height,s[e.elemNum].nodeName,!0),this.displayGrid.call(this)}}.bind(this))},heightGet:function(t,e,o){if(t.elemNum>=0){var i,a,l=[],n=0,r=[],s=[],d=this.getData("lyteGridStack");e||(e=t);var p=this.getData("xElements"),c=this.getData("yElements");r=d[t.elemNum].length>1?this.yElementsFind(d[t.elemNum].x+1,d[t.elemNum].length+d[t.elemNum].x-1,p):this.similarData.call(this,p[d[t.elemNum].x],p[d[t.elemNum].x]);for(var h=d[t.elemNum].y+d[t.elemNum].height-1;h>=0;h--)s=this.yElementsFind(0,d[t.elemNum].y+d[t.elemNum].height-1,c);for(-1!=(r=this.multipleRemoval(this.elementSorting.call(this,this.similarData.call(this,r,s)))).indexOf(t.elemNum)&&Lyte.arrayUtils(r,"removeAt",r.indexOf(t.elemNum)),i=0;i<r.length;i++)(r[i]!=e.elemNum||o)&&d[t.elemNum].y>=d[r[i]].y&&(d[r[i]].x>d[t.elemNum].x&&d[r[i]].x<d[t.elemNum].x+d[t.elemNum].length||d[r[i]].x+d[r[i]].length>d[t.elemNum].x&&d[r[i]].x+d[r[i]].length<d[t.elemNum].x+d[t.elemNum].length||d[r[i]].x>d[t.elemNum].x&&d[r[i]].x+d[r[i]].length<d[t.elemNum].x+d[t.elemNum].length||d[r[i]].x<d[t.elemNum].x&&d[r[i]].x+d[r[i]].length>d[t.elemNum].x+d[t.elemNum].length||d[r[i]].x==d[t.elemNum].x||d[r[i]].x+d[r[i]].length==d[t.elemNum].length+d[t.elemNum].x)&&(l[l.length]=r[i]);for(a=0;a<l.length;a++)0==a?n+=-d[l[0]].y-d[l[0]].height+d[t.elemNum].y:-d[l[a]].y-d[l[a]].height+d[t.elemNum].y<n&&(n=-(d[l[a]].y+d[l[a]].height-d[t.elemNum].y));return 0==l.length&&(n=d[t.elemNum].y),n<0&&(n=0),n}},topMoveFunc:function(t,e,o,i,a){var l,n,r=[],s=this.getData("lyteQuerySelector"),d=s.occupied,p=s.element,c=this.getData("lyteGridStack");for(d.push(t.elemNum),i=i||t,-1!=(r=this.elementSorting.call(this,this.elementCheck.call(this,p,t,a))).indexOf(t.elemNum)&&Lyte.arrayUtils(r,"removeAt",r.indexOf(t.elemNum)),d=d.concat(r),l=0;l<r.length;l++)c[r[l]].nodeName.classList.contains("gridSelected")||(c[t.elemNum].x>=c[r[l]].x&&c[t.elemNum].x+c[t.elemNum].length<=c[r[l]].x||c[t.elemNum].x+c[t.elemNum].length>=c[r[l]].x&&c[t.elemNum].x+c[t.elemNum].length<=c[r[l]].x+c[r[l]].length||c[t.elemNum].x>c[r[l]].x||c[t.elemNum].x+c[t.elemNum].length>c[r[l]].x+c[r[l]].length)&&(c[t.elemNum].y+c[t.elemNum].height<=c[r[l]].y+c[r[l]].height||o)&&(n=this.heightGet.call(this,c[r[l]].nodeName,null,!o),c[r[l]].y=c[r[l]].y-n,this.valueUpdating.call(this,r[l],"y","lyte-grid-y"),this.positionFind.call(this),n&&(this.topMoveFunc.call(this,c[r[l]].nodeName,c[r[l]].y+n,o,i),o||this.displayGrid.call(this,i.elemNum)))},elementSorting:function(t,e){var o;o=e?"x":"y";for(var i=this.getData("lyteGridStack"),a=0;a<t.length;a++)for(var l=a+1;l<t.length;l++)if(i[t[a]][o]>i[t[l]][o]){var n=t[a];t[a]=t[l],t[l]=n}return t},topCheck:function(t,e,o,i,a,l){var n,r,s,d=!1,p=[],c=[],h=[],u=0,y=this.getData("lyteGridStack"),m=this.getData("xElements"),g=this.getData("yElements");for(r=y[t.elemNum].y,c=y[t.elemNum].length>1?this.elementSorting(this.multipleRemoval(this.yElementsFind.call(this,y[t.elemNum].x+1,y[t.elemNum].x+y[t.elemNum].length-1,m))):this.similarData.call(this,m[y[t.elemNum].x],m[y[t.elemNum].x+1]),(h=y[t.elemNum].height>1?this.yElementsFind(r+1,y[t.elemNum].y+y[t.elemNum].height-1,g):this.similarData.call(this,g[y[t.elemNum].y],g[y[t.elemNum].y+1]))&&(c=this.similarData.call(this,c,this.multipleRemoval.call(this,h))),-1!=(c=this.elementSorting.call(this,this.multipleRemoval.call(this,c))).indexOf(t.elemNum)&&Lyte.arrayUtils(c,"removeAt",c.indexOf(t.elemNum)),n=c.length-1;n>-1&&(o?y[t.elemNum].x==t.getAttribute("lyte-grid-x")&&y[t.elemNum].length==t.getAttribute("lyte-grid-length")||(d=!0):((y[t.elemNum].x+y[t.elemNum].length>y[c[n]].x&&y[t.elemNum].x<y[c[n]].x||y[t.elemNum].x<y[c[n]].x+y[c[n]].length&&y[c[n]].x+y[c[n]].length<=y[t.elemNum].x+y[t.elemNum].length)&&r+y[t.elemNum].height>y[c[n]].y&&r<y[c[n]].y||r<y[c[n]].y+y[c[n]].height&&y[c[n]].y+y[c[n]].height<r+y[t.elemNum].height||r>=y[c[n]].y&&y[c[n]].y+y[c[n]].height>=r+y[t.elemNum].height||y[c[n]].y+y[c[n]].height<r+y[t.elemNum].height&&r<y[c[n]].y)&&(d=!0),!d||y[c[n]].nodeName.classList.contains("gridSelected")||!(y[t.elemNum].x<=y[c[n]].x+y[c[n]].length-1||y[c[n]].x+1>=y[t.elemNum].x+y[t.elemNum].length)||(p[p.length]=c[n],u+=y[c[n]].height,"horizontal"==this.getData("ltPropDirection")||i));n--)d=!1;if(p.length){o||this.valueUpdating.call(this,t.elemNum,"x","lyte-grid-x"),p=this.elementSorting.call(this,p,!0);for(var f=0;f<p.length;f++){var v=this.heightGet.call(this,y[p[f]].nodeName),b=y[t.elemNum].height+y[t.elemNum].y-v;if(s=b,"horizontal"==this.getData("ltPropDirection")||a){if(f>0&&(parseInt(y[p[f]].nodeName.getAttribute("lyte-grid-x"))+parseInt(y[p[f]].nodeName.getAttribute("lyte-grid-length"))==this.getData("gridLength")||0==parseInt(y[p[f]].nodeName.getAttribute("lyte-grid-x"))))break;this.rtlfunc("offsetLeft",t)>this.rtlfunc("offsetLeft",y[p[f]].nodeName)&&!a?this.horiMovement.call(this,t,p[f],"left",u,1==p.length||p.length>2&&1!=f,l):(this.rtlfunc("offsetLeft",t)<this.rtlfunc("offsetLeft",y[p[f]].nodeName)||a)&&this.horiMovement.call(this,t,p[f],"right",u,1==p.length||p.length>2&&1!=f,l)}else this.verticalCheck.call(this,y[p[f]],y[p[f]].y+y[p[f]].height,b+v+y[p[f]].height,t,y[t.elemNum].height<y[p[f]].height),y[p[f]].y=(s>y[t.elemNum].height+y[t.elemNum].y?s:y[t.elemNum].height+y[t.elemNum].y)-(this.getData("ltPropFloat")?0:this.heightGet.call(this,y[t.elemNum].nodeName)),this.valueUpdating.call(this,p[f],"y","lyte-grid-y");this.data.ltPropFloat||this.topMoveFunc.call(this,y[p[f]].nodeName,0==f||0!=y[p[f]].x&&y[p[f]].x+y[p[f]].length!=parseInt(this.data.gridLength)),this.displayGrid.call(this,t.elemNum)}}},horiMovement:function(t,e,o,i,a,l){var n=this.getData("lyteGridStack"),r=this.getData("lyteQuerySelector");if(n[e].x="left"==o?n[e].x-(l||1):n[e].x+(l||1),n[e].x<0||n[e].x+n[e].length>parseInt(this.getData("gridLength"))){n[e].x<0?n[e].x=0:n[e].x=parseInt(this.getData("gridLength"))-n[e].length,this.valueUpdating.call(this,e,"x","lyte-grid-x");var s=n[e].y+n[e].height;n[e].y=n[t.elemNum].y+n[t.elemNum].height;var d=this.getData("ltPropHandler");this.positionFind.call(this,this.scopeElement.querySelectorAll(d)),this.verticalCheck.call(this,n[e],s,n[t.elemNum].y+n[t.elemNum].height+n[e].height,t),this.valueUpdating.call(this,e,"y","lyte-grid-y"),this.displayGrid.call(this)}else{this.valueUpdating.call(this,e,"x","lyte-grid-x"),n[e].nodeName.initialLeft=[],n[e].nodeName.initialTop=[];for(var p=0;p<3;p++)n[e].nodeName.initialLeft[p]=this.rtlfunc("offsetLeft",n[e].nodeName),n[e].nodeName.initialTop[p]=n[e].nodeName.offsetTop;if(this.topCheck.call(this,n[e].nodeName,r.element,!0,null,!!l,l),a){var c=this.heightGet.call(this,n[e].nodeName);this.getData("ltPropFloat")||(n[e].y-=c,c&&this.topMoveFunc.call(this,n[e].nodeName))}this.displayGrid.call(this)}},verticalCheck:function(t,e,o,i,a,l){var n,r=[],s=[],d=!1,p=!1,c=[],h=[],u=[],y=this.getData("lyteGridStack");i=i||t.nodeName;var m=this.getData("xElements"),g=this.getData("yElements"),f=this.scopeElement;s="left"==l?s.concat(m[t.x]||[]):"right"==l?s.concat(m[t.x+t.length]||[]):t!=y[i.elemNum]?t.length>1?this.yElementsFind(t.x+1,t.x+t.length-1,m):this.similarData.call(this,m[t.x]||[],m[t.x+1]||[]):this.elementCheck.call(this,f,t.nodeName),s=this.multipleRemoval.call(this,s);for(var v=o-t.height;v<=o;v++)c=c.concat(g[v]||[]);for(c&&(s=this.similarData.call(this,s,this.multipleRemoval.call(this,c))),-1!=(s=this.elementSorting.call(this,s)).indexOf(t.nodeName.elemNum)&&Lyte.arrayUtils(s,"removeAt",s.indexOf(t.nodeName.elemNum)),-1!=s.indexOf(i.elemNum)&&Lyte.arrayUtils(s,"removeAt",s.indexOf(i.elemNum)),l&&(this.similarData.call(this,s,g[t.y+t.height].concat(g[t.y])).length||(s=[])),L=0;L<s.length;L++)s[L]!=t.nodeName.elemNum&&s[L]!=i.elemNum&&(a&&t.y==y[s[L]].y&&(p=!0),t.y<y[s[L]].y+y[s[L]].height||p?(r[r.length]=s[L],d=!0):a&&y[s[L]].y+y[s[L]].height>=t.y+t.height&&(r[r.length]=s[L],d=!0)),d&&(d=!1,h.push(y[r[r.length-1]].height+y[r[r.length-1]].y),r.length>1&&u.push(y[r[r.length-1]].y-(y[r[0]].y+y[r[0]].height)));if(r.length){r=this.elementSorting.call(this,r),n=o;var b=[],D=[];o=Math.max.apply(null,h)-y[r[0]].y+n;for(var P=0;P<r.length;P++){var C=this.heightGet.call(this,y[r[P]].nodeName);if(0==P){if(n<=y[r[P]].y&&a)break;y[r[P]].y-n<1&&(y[r[P]].y=n,C=this.heightGet.call(this,y[r[P]].nodeName),y[r[P]].y-C>=n&&(y[r[P]].y-=C))}else y[r[P]].y=y[r[0]].y+y[r[0]].height+u[P-1],C=this.heightGet.call(this,y[r[P]].nodeName),y[r[P]].y-C>=n&&(y[r[P]].y-=C);this.valueUpdating.call(this,r[P],"y","lyte-grid-y")}b=this.yElementsFind.call(this,Math.min(t.x,y[i.elemNum].x),Math.max(t.x+t.length,y[i.elemNum].x+y[i.elemNum].length),m);for(var L=(b=this.elementSorting.call(this,this.multipleRemoval.call(this,this.similarData.call(this,b,r)))).length-1;L>=0;L--){D=[];var x=[];for(P=y[b[L]].x+1;P<y[b[L]].x+y[b[L]].length;P++)D=D.concat(m[P]);1==y[b[L]].length&&(D=this.similarData.call(this,m[y[b[L]].x],m[y[b[L]].x+1])),x=a?this.elementSorting.call(this,this.multipleRemoval.call(this,this.similarData.call(this,D,this.yElementsFind.call(this,parseInt(y[b[L]].nodeName.getAttribute("lyte-grid-y"))+1,parseInt(y[b[L]].nodeName.getAttribute("lyte-grid-y"))+y[b[L]].height,g)))):this.elementSorting.call(this,this.multipleRemoval.call(this,this.similarData.call(this,D,this.yElementsFind.call(this,parseInt(y[b[L]].nodeName.getAttribute("lyte-grid-y"))+1,parseInt(y[b[L]].nodeName.getAttribute("lyte-grid-y"))+y[b[L]].height,g)).concat(this.similarData.call(this,D,this.yElementsFind.call(this,parseInt(y[b[L]].y)+1,parseInt(y[b[L]].y)+y[b[L]].height,g)))));for(var w=0;w<x.length;w++)if(-1==r.indexOf(x[w])&&t.nodeName.elemNum!=x[w]&&i.elemNum!=x[w]){if(this._occupied&&-1!=this._occupied.indexOf(x[w]))continue;this.additionalCheck.call(this,x[w],y[b[L]].y+y[b[L]].height,r)}}}},yElementsFind:function(t,e,o){for(var i=[],a=t;a<=e;a++)i=i.concat(o[a]||[]);return i},additionalCheck:function(t,e,o){var i=this.getData("xElements"),a=this.getData("yElements"),l=this.getData("lyteGridStack"),n=[],r=[],s=e,d=t;n=n.concat(this.yElementsFind.call(this,parseInt(l[t].nodeName.getAttribute("lyte-grid-y"))+l[t].height,l[t].y+l[t].height,a)),r=l[t].length>1?(r=r.concat(i[l[t].x+1])).concat(i[l[t].x+l[t].length-1]):r.concat(this.similarData.call(this,i[l[t].x],i[l[t].x+1])),-1!=(n=this.similarData.call(this,n,r)).indexOf(t)&&Lyte.arrayUtils(n,"removeAt",n.indexOf(t));for(var p=0;p<n.length;p++)-1==o.indexOf(n[p])&&(o.push(n[p]),this.additionalCheck.call(this,n[p],e+l[t].height,o));if(l[d].y>s){var c=this.heightGet.call(this,l[d].nodeName);l[d].y-c<=s?l[d].y=s:l[d].y-=c}else l[d].y=s;o.push(d),this.valueUpdating.call(this,d,"y","lyte-grid-y")},previousPos:function(t,e){if(t&&t.length){for(var o=this.getData("lyteGridStack"),i=this.getData("lyteQuerySelector"),a=0;a<t.length;a++)i.currentPos<o[a].oldX.length&&(Lyte.arrayUtils(o[a].oldX,"remove",i.currentPos+1,o[a].oldX.length),Lyte.arrayUtils(o[a].oldY,"remove",i.currentPos+1,o[a].oldY.length),Lyte.arrayUtils(o[a].oldLength,"remove",i.currentPos+1,o[a].oldLength.length),Lyte.arrayUtils(o[a].oldHeight,"remove",i.currentPos+1,o[a].oldHeight.length)),o[a].oldX[o[a].oldX.length]=e?o[a].x:o[a].nodeName.getAttribute("lyte-grid-x"),o[a].oldY[o[a].oldY.length]=e?o[a].y:o[a].nodeName.getAttribute("lyte-grid-y"),o[a].oldLength[o[a].oldLength.length]=e?o[a].length:o[a].nodeName.getAttribute("lyte-grid-length"),o[a].oldHeight[o[a].oldHeight.length]=e?o[a].height:o[a].nodeName.getAttribute("lyte-grid-height");i.currentPos=o[0].oldX.length-1}},mousedown:function(t,e){if(!this.getData("ltPropFreezeMode")){var o=this.data.lyteQuerySelector,i=this,a=this.data.lyteGridStack,l=this.nodeName.call(this,e?t.touches[0]:t);if(l){this.mvefunc=this.mvefunc||this.mMove.bind(this),this.upfunc=this.upfunc||this.mouseup.bind(this);var n=l[0],r=l[1],s=this.$node.querySelector(this.data.ltPropScope),d=e?t.touches[0]:t;if(t.shiftKey){if(!o.allowMovement){this.getMethods("onBeforeSelect")&&(p=this.executeMethod("onBeforeSelect",l[1],t,this.$node)),0!=p&&((r=l[1]).initialLeft=[],r.initialTop=[],r.classList.contains("gridSelected")?r.classList.remove("gridSelected"):r.classList.add("gridSelected"))}}else if(o.BottomToTopFlag=!0,o.allowMovement=!0,this.mvefunc=this.mMove.bind(this),0==s.querySelectorAll(this.data.ltPropHandler+".gridSelected").length){if(r&&r.classList.contains("gridSelected"))return;var p;if(this.getMethods("onBeforeSelect")&&(p=this.executeMethod("onBeforeSelect",l[1],t,this.$node)),r&&0!=p){if(o.SelectedNodes=[],$L.fastdom.mutate(function(){r.classList.add("gridSelected"),$L(this.data.ltPropHandler+".lyteGridFocused:not(.gridSelected)",this.$node).removeClass("lyteGridFocused")}.bind(this)),$L.fastdom.measure(function(){if(o.SelectedNodes.push(r.elemNum),o.element=s,r.initialLeft=this.rtlfunc("offsetLeft",r),r.initialTop=r.offsetTop,r.initialy=a[r.elemNum].y,r.initialx=a[r.elemNum].x,r.xPos=this.rtlfunc(d.clientX,"clientX")-this.rtlfunc("offsetLeft",r),r.yPos=d.clientY-r.offsetTop,"content"==n)r.flag=!0;else{r.value=n;var t=r.getBoundingClientRect();-1!=["BottomRight","right","topRight"].indexOf(n)?r.xOff=this.rtlfunc(t,"bccr")+t.width-this.rtlfunc(d.clientX,"clientX"):r.xOff=-this.rtlfunc(t,"bccr")+this.rtlfunc(d.clientX,"clientX"),-1!=["BottomRight","bottom","BottomLeft"].indexOf(n)?r.yOff=t.top+t.height-d.clientY:r.yOff=-t.top+d.clientY,r.flag=!1}}.bind(this)),this.getData("ltPropBestfit")&&!this._bestfit){var c=this.getData("ltPropBestfitClass"),h=document.createElement("div");h.classList.add("lyteBestFit"),"grid"==this.getData("ltPropBestfitType")&&h.classList.add("lyteGrid"),c&&h.classList.add(c),h.style.display="none",this._bestfit=h,$L.fastdom.mutate(function(){s.appendChild(h)})}document.body.addEventListener(e?"touchmove":"mousemove",this.mvefunc,!0),this.getMethods("onSelect")&&this.executeMethod("onSelect",r,t,this.$node)}}else{o.SelectedNodes=[];r=this.$node.querySelectorAll(this.data.ltPropHandler+".gridSelected");$L.fastdom.measure(function(){for(var t=0;t<r.length;t++)o.SelectedNodes.push(s.querySelectorAll(i.getData("ltPropHandler")+".gridSelected")[t].elemNum),r[t].left=r[t].offsetLeft,r[t].top=r[t].offsetTop,r[t].flag=!0,r[t].initialLeft=r[t].offsetLeft,r[t].initialTop=r[t].offsetTop,r[t].xPos=this.rtlfunc(d.clientX,"clientX")-r[t].offsetLeft,r[t].yPos=d.clientY-r[t].offsetTop;o.SelectedNodes=this.elementSorting.call(this,o.SelectedNodes)}.bind(this)),document.body.addEventListener(e?"touchmove":"mousemove",this.mvefunc,!0),this.getMethods("onSelect")&&this.executeMethod("onSelect",r,t,this.$node)}o.previousPosFind=!1}}},mMove:function(t){var e="touchmove"==t.type;e&&1!=t.touches.length||(this.mousemoveFun.call(this,this.scopeElement,e?t.touches[0]:t),e||(t.preventDefault(),t.stopPropagation(),t.preventDefault()))},mouseup:function(t){var e,o=this.getData("lyteQuerySelector"),i=this.getData("lyteGridStack"),a="touchend"==t.type,l=(this.nodeName.call(this,t),this.$node.querySelector(this.data.ltPropScope));this.elementSorting.call(this,o.elementCount);if(!t.shiftKey||o.allowMovement){var n,r,s=this._bestfit;if(o.verticalMove=!0,o.allowMovement=!1,o.SelectedNodes.length){for(r=this.$node.querySelectorAll(this.data.ltPropHandler+".gridSelected"),this.getMethods("onBeforeDrop")&&(n=this.executeMethod("onBeforeDrop",r,event,this.$node)),e=o.SelectedNodes.length-1;e>=0;e--){var d=i[o.SelectedNodes[e]].nodeName;if(d.classList.contains("gridSelected")){if(!this.getData("ltPropFloat")&&0!=n){var p=this.heightGet.call(this,d);i[d.elemNum].y-=p,this.topCheck.call(this,d,this.scopeElement),this.topMoveFunc.call(this,d,i[d.elemNum].y+p,!1)}this.displayGrid.call(this),d.classList.remove("gridSelected"),d.classList.remove("lyteGridStackMove"),d.style.removeProperty(this.rtlfunc("left")),d.style.removeProperty("top"),d.style.removeProperty("height"),d.style.removeProperty("width"),Lyte.arrayUtils(o.occupied,"remove",0,o.occupied.length),0!=n&&this.topCheck.call(this,d,l),0==d.flag&&d._childGrid&&setTimeout(d._childGrid.reRender,150,!0),delete d.initialy,delete d.xPos,delete d.yPos,delete d.flag,delete d.offLeft,delete d.offTop,delete d.initialx,delete d.instantPreviousX,delete d.instantPreviousY,delete d.val,delete d.xOff,delete d.yOff,delete d.initialLeft,delete d.initialTop,delete d.flag,delete d.value,delete d.prevEvX,delete d.prevEvY}s&&(s.style.display="none"),this.findGrid()}window.cancelAnimationFrame(this._reqId),delete this._reqId,delete this._scrollCheck,t.stopPropagation(),a||t.preventDefault()}if(0!=n){if(this.displayGrid.call(this),o.SelectedNodes.length&&o.previousPosFind){var c=this.data.ltPropHandler;this.previousPos.call(this,l.querySelectorAll(c))}this.getMethods("onDrop")&&this.executeMethod("onDrop",r,t,this.$node)}else o.currentPos+=1,this.undoPrevious.call(this);document.body.removeEventListener(a?"touchmove":"mousemove",this.mvefunc,!0),o.SelectedNodes=[]}document.removeEventListener(a?"touchend":"mouseup",this.upfunc,!0)},keydown:function(t){document._lyteCurrentGrid==this&&this.getData("ltPropUndo")&&!this.getData("ltPropFreezeMode")&&((t.ctrlKey||t.metaKey)&&t.shiftKey&&90==t.keyCode?this.undoNext.call(this):!t.ctrlKey&&!t.metaKey||t.shiftKey||90!=t.keyCode||this.undoPrevious.call(this))},returnWid:function(t,e,o){if(t){if(t.constructor!=String)return t;var i,a,l,n=t.match(/[\w|.]+(?=%)/gi);return n&&n.length?(e?(l="width",i=this.getData("ltPropUnitXCopy")):(l="height",i=this.getData("ltPropUnitY"),a="ltPropMarginTop"),this.gridLength((this.bcrrelem?this.bcrrelem[l]:this.scopeElement.getBoundingClientRect()[l])*parseFloat(n[0])/100,i,a)):parseInt(t)}},initialPosFind:function(t){var e={},o=this.getData("ltPropForcedReposition");return e.x=t.getAttribute("lyte-grid-x")&&!o?parseInt(t.getAttribute("lyte-grid-x")):void 0,e.y=t.getAttribute("lyte-grid-y")&&!o?parseInt(t.getAttribute("lyte-grid-y")):void 0,e.length=t.getAttribute("lyte-grid-length")?this.returnWid(t.getAttribute("lyte-grid-length"),!0,t):this.returnWid(this.getData("ltPropDefaultLength"),!0),e.height=t.getAttribute("lyte-grid-height")?this.returnWid(t.getAttribute("lyte-grid-height"),null,t):this.returnWid(this.getData("ltPropDefaultHeight")),e},checkPreviousGrid:function(){for(var t=this.$node.parentElement;t&&"BODY"!=t.tagName;){if("LYTE-GRIDSTACK"==t.tagName){this._parentGrid=t,this._parentGridIndex=t.component._childGrids.length,t.component._childGrids.push(this.$node);break}"LYTE-GRID-CONTENT"==t.tagName&&(t.parentElement._childGrid=this.$node,this._parentComp=t.parentElement),t=t.parentElement}return!(!t||"LYTE-GRIDSTACK"!=t.tagName)},retNode:function(t,e){for(var o=[],i=0;i<t.length;i++)e[t[i]]&&o.push(e[t[i]].nodeName);return o},findGrid:function(){var t,e,o=this.$node.getBoundingClientRect(),i=this.getData("lyteGridStack"),a=this.$node.scrollLeft,l=this.$node.scrollTop,n=a+o.width,r=l+o.height,s={left:this.returnY({offLeft:a}),top:this.returnY({offTop:l},!0),right:this.returnY({offLeft:n}),bottom:this.returnY({offTop:r},!0)};this.setData("ltPropVisibleBoundary",s),t=this.similarData(this.multipleRemoval(this.yElementsFind(s.top+1,s.bottom-1,this.getData("yElements"))),this.multipleRemoval(this.yElementsFind(s.left+1,s.right-1,this.getData("xElements")))),e=this.retNode(t,i),this.setData("ltPropVisible",e)},scroll:function(t){this.findGrid(),this.getMethods("onScroll")&&this.executeMethod("onScroll",this.getData("ltPropVisible"),this.getData("ltPropVisibleBoundary"),this.$node)},click:function(t){var e=this.data.ltPropGridSelectionClass;if(e){for(var o=this.nodeName(t),i=this.$node.querySelectorAll("."+e),a=0;a<i.length;a++)i[a].classList.remove(e);o&&o.classList.add(e)}},mousebind:function(t){if(t.target!=this&&2!=t.button){var e="touchstart"==t.type;if(e&&1!=t.touches.length)return;this.component.mousedown.call(this.component,t,e),t.shiftKey||document.addEventListener(e?"touchend":"mouseup",this.component.upfunc,!0),t.stopPropagation()}document._lyteCurrentGrid=this.component},prevent:function(t){1==t.touches.length&&this.nodeName.call(this,t.touches[0])&&(document.activeElement!=document.body&&document.activeElement.blur(),t.preventDefault())},didConnect:function(){var t=this.data.ltPropScope.trim(),e=this.data.ltPropUnitX,o=this.data.ltPropMarginLeft;this.setData("ltPropUnitXCopy",e),this.setData("ltPropMarginLeftCopy",o),this._scroll=this.scroll.bind(this),this._click=this.click.bind(this),this._prevtch=this.prevent.bind(this),this.$node.addEventListener("scroll",this._scroll,!0),document.addEventListener("click",this._click);var i=this.$node.querySelector(t);this.data.lyteQuerySelector;this.scopeElement=i,i.classList.add("lyteGridstackScope"),-1==i.tabIndex&&(i.tabIndex=0),i.lyteData={},i.component=this,i.addEventListener("mousedown",this.mousebind),i.addEventListener("touchmove",this._prevtch),i.addEventListener("touchstart",this.mousebind),this.setData("lyteQuerySelector.keydown",this.keydown.bind(this)),document.addEventListener("keydown",this.getData("lyteQuerySelector").keydown),this.$node.getEmptyPos=function(t){return this.emptySpaceFind.call(this,t||{})}.bind(this),this.$node.addGrid=function(t,e){$L.fastdom.mutate(function(){t._addGrid=!0;var o=this.getData("ltPropColumnMode");e=void 0!=e?e:{};var i=parseInt(t.getAttribute("lyte-grid-x")),a=parseInt(t.getAttribute("lyte-grid-y")),l=parseInt(t.getAttribute("lyte-grid-length")),n=parseInt(t.getAttribute("lyte-grid-height"));for(var r in isNaN(i)||(e.x=i),isNaN(a)||(e.y=a),isNaN(l)||(e.length=l),isNaN(n)||(e.height=n),e.length&&(e.length=this.returnWid(e.length,!0,t)),e.height&&(e.height=this.returnWid(e.height,null,t)),e)e[r]&&"resize"!=r&&(e[r]=parseInt(e[r]));if(e.nodeName=t,t.classList.add("lyteGridstackHandler"),!o){var s=this.emptySpaceFind.call(this,e);s[1]?(t.setAttribute("lyte-grid-x",s[0].x),t.setAttribute("lyte-grid-y",s[0].y)):(t.setAttribute("lyte-grid-x",void 0!=e.x&&e.x.constructor==Number?e.x:s[0].x),t.setAttribute("lyte-grid-y",void 0!=e.y&&e.y.constructor==Number?e.y:s[0].y)),t.setAttribute("lyte-grid-length",e.length?e.length:this.returnWid(this.getData("ltPropDefaultLength"),!0)),t.setAttribute("lyte-grid-height",e.height?e.height:this.returnWid(this.getData("ltPropDefaultHeight"))),t.setAttribute("lyte-grid-min-length",e.minLength?e.minLength:this.returnWid(this.getData("ltPropDefaultMinLength"),!0)),t.setAttribute("lyte-grid-min-height",e.minHeight?e.minHeight:this.returnWid(this.getData("ltPropDefaultMinHeight"))),t.setAttribute("lyte-grid-max-length",e.maxLength?e.maxLength:this.returnWid(this.getData("ltPropDefaultMaxLength"),!0)),t.setAttribute("lyte-grid-max-height",e.maxHeight?e.maxHeight:this.returnWid(this.getData("ltPropDefaultMaxHeight")))}"disabled"==e.resize&&t.setAttribute("lt-prop-resize",e.resize),this.scopeElement.contains(t)||_lyteUiUtils.appendChild(this.scopeElement,t),this.initialValSet.call(this),this.cssConstruct.call(this,t,"lyte-grid-y"),this.getData("iniData").push(this.initialPosFind.call(this,t));var d=this.getData("lyteGridStack");this.previousPos.call(this,d.length),$L.fastdom.mutate(function(){if(s&&0==s[1]&&!o){if(this.topCheck.call(this,t,this.scopeElement,null,!0),!this.getData("ltPropFloat")){this.topCheck.call(this,t,this.scopeElement,null,!0);var e=this.heightGet.call(this,t);e&&(d[t.elemNum].y-=e,this.valueUpdating.call(this,t.elemNum,"lyte-grid-y",d[t.elemNum].y),this.setVal.call(this,t,"lyte-grid-y",d[t.elemNum].y),this.previousPos.call(this,d.length)),this.topMoveFunc.call(this,t,null,null,null,!0)}this.findGrid()}t._childGrid&&t._childGrid.reRender(null,!0),this.getMethods("onItemAdd")&&$L.fastdom.measure(function(){$L.fastdom.mutate(function(){this.executeMethod("onItemAdd",t,this.data.lyteGridStack[t.elemNum],this.$node)}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this),this.$node.removeGrid=function(t){if(this.scopeElement.contains(t)){var e=this.getData("ltPropHandler"),o=this.getData("lyteGridStack"),i=o[t.elemNum].y+o[t.elemNum].height;Lyte.arrayUtils(this.getData("iniData"),"removeAt",t.elemNum),document.body.contains(t)&&t.parentElement.removeChild(t),Lyte.arrayUtils(this.getData("lyteGridStack"),"remove",0,o.length),this.initialValSet.call(this),this.positionFind.call(this,(/^#/g.test(e)&&/\s/g.test(e),this.scopeElement.querySelectorAll(e))),this.findGrid(),this.topMoveAllGrid(i,o)}}.bind(this),this.$node.reRender=function(t){this._style&&(this.$node.removeChild(this._style),delete this._style);var e=this.getData("lyteGridStack");Lyte.arrayUtils(e,"remove",0,e.length),this.didConnectWrk.call(this,!0,t)}.bind(this),this.$node.setProperty=function(t,e,o){o="height"==e||"length"==e?this.returnWid(o,"length"==e,t):parseInt(o);var i=this.getData("lyteGridStack"),a=["x","y","length","height"],l={};if(-1!=a.indexOf(e)){for(var n in i[t.elemNum])-1!=a.indexOf(n)&&(l[n]=i[t.elemNum][n]);l[e]=o,l.nodeName=t;var r=this.emptySpaceFind.call(this,l);if(r[1])for(var s in r[0])this.setVal.call(this,t,"lyte-grid-"+s,r[0][s])}this.setVal.call(this,t,"lyte-grid-"+e,o);var d=e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()});if(i[t.elemNum][d]=o,-1!=a.indexOf(e)){if(this.valueUpdating.call(this,t.elemNum,"lyte-grid-"+e,o),this.previousPos.call(this,i.length),0==r[1]&&this.topCheck.call(this,t,this.scopeElement,null,!0),!this.getData("ltPropFloat")){var p=this.heightGet.call(this,t);p&&(i[t.elemNum].y-=p,this.valueUpdating.call(this,t.elemNum,"lyte-grid-y",i[t.elemNum].y),this.setVal.call(this,t,"lyte-grid-y",i[t.elemNum].y),this.previousPos.call(this,i.length)),this.topMoveFunc.call(this,t,null,null,null,!0)}this.previousPos.call(this,this.scopeElement.querySelectorAll(this.data.ltPropHandler))}t._childGrid&&("height"!=e&&"length"!=e||t._childGrid.reRender(!0)),this.findGrid(),this.getMethods("onPropertyChange")&&$L.fastdom.measure(function(){$L.fastdom.mutate(function(){this.executeMethod("onPropertyChange",t,e,this.data.lyteGridStack[t.elemNum],this.$node)}.bind(this))}.bind(this))}.bind(this),this._resizeFunc=this.windowResize.bind(this),this._initialWindowWidth=window.innerWidth,window.addEventListener("resize",this._resizeFunc,!0),window.addEventListener("orientationchange",this._resizeFunc,!0),this.checkPreviousGrid()||this.didConnectWrk.call(this,!0)},gridLength:function(t,e,o){o=o||"ltPropMarginLeftCopy";var i=parseInt(this.getData(o)),a=e||this.data.ltPropUnitX;return parseInt((((t||(this.bcrrelem?this.bcrrelem.width:this.scopeElement.getBoundingClientRect().width))-i)/(a+i)).toFixed(0))},columnModeLengthFind:function(){this._prevObs=!0;var t=this.getData("ltPropGridLength")||this.getData("ltPropColumn"),e=this.getData("ltPropMarginLeftCopy");e=e||this.getData("ltPropMarginLeft"),this.setData("ltPropUnitX",((this.bcrrelem?this.bcrrelem.width:this.scopeElement.getBoundingClientRect().width)-(t+1)*e)/t),delete this._prevObs},didConnectWrk:function(t,e){$L.fastdom.measure(function(){if(this.$node.offsetParent){this.data.direction=_lyteUiUtils.getRTL(),this.data.direction?this.$node.classList.add("lyteRTL"):this.$node.classList.remove("lyteRTL");var o=this.scopeElement.getBoundingClientRect(),i=this.scopeElement,a=this.getData("lyteQuerySelector");this.bcrrelem=o;var l=this.getData("ltPropColumnMode"),n=this.getData("ltPropHandler"),r=this.getData("iniData");this.getData("lyteGridStack");Lyte.arrayUtils(r,"remove",0,r.length);var s=(/^#/g.test(n)&&/\s/g.test(n),i.querySelectorAll(n));if(this._parentGrid&&!this.getData("ltPropGridLength")){var d=this.gridLength();this.setData("ltPropGridLength",d),this.setData("gridLength",d)}(l||this.getData("ltPropGridLength"))&&this.columnModeLengthFind(),(!this.getData("gridLength")||e||l)&&this.setData("gridLength",this.gridLength()),!this.$node.ltProp("gridHeight")&&!e||l?this.$node.ltProp("gridHeight",this.getData("gridLength")):e&&this.$node.ltProp("gridHeight",this.getData("gridLength"));for(var p=0;p<s.length;p++)r.push(this.initialPosFind.call(this,s[p]));$L.fastdom.mutate(this.initialValSet.bind(this));s=i.querySelectorAll(this.data.ltPropHandler);var c=this.data.ltPropUnitX;i.lyteData.gridLength=this.data.gridLength,i.lyteData.gridHeight=a.maxHeight,this._initialXRatio=c/(o.width-this.data.gridLength*this.data.ltPropMarginLeft),$L.fastdom.mutate(function(){if(this._childGrids.length)for(var e=0;e<this._childGrids.length;e++)this._childGrids[e].reRender();t&&this.getMethods("afterRender")&&$L.fastdom.measure(function(){$L.fastdom.mutate(function(){this.executeMethod("afterRender",this.$node)}.bind(this))}.bind(this)),this.findGrid()}.bind(this))}}.bind(this))},data:function(){return{ltPropScope:Lyte.attr("string",{default:""}),ltPropHandler:Lyte.attr("string",{default:""}),ltPropMarginLeft:Lyte.attr("number",{default:10}),ltPropMarginTop:Lyte.attr("number",{default:10}),ltPropUnitX:Lyte.attr("number",{default:50}),ltPropUnitY:Lyte.attr("number",{default:50}),ltPropResizeDirection:Lyte.attr("array",{default:["left","right","bottom","bottomRight","bottomLeft","top","topLeft","topRight"]}),ltPropFloat:Lyte.attr("boolean",{default:!1}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropUndo:Lyte.attr("boolean",{default:!0}),ltPropResize:Lyte.attr("boolean",{default:!0}),ltPropBestfit:Lyte.attr("boolean",{default:!0}),ltPropMinUnitX:Lyte.attr("number",{default:0}),ltPropMinMarginLeft:Lyte.attr("number",{default:0}),ltPropBestfitClass:Lyte.attr("string",{default:""}),ltPropFreezeMode:Lyte.attr("boolean",{default:!1}),ltPropDefaultLength:Lyte.attr("string",{default:"2"}),ltPropDefaultHeight:Lyte.attr("string",{default:"2"}),ltPropDefaultMinLength:Lyte.attr("string",{default:"1"}),ltPropDefaultMinHeight:Lyte.attr("string",{default:"1"}),ltPropDefaultMaxHeight:Lyte.attr("string",{default:"0"}),ltPropDefaultMaxLength:Lyte.attr("string",{default:"0"}),ltPropColumnMode:Lyte.attr("boolean",{default:!1}),ltPropColumn:Lyte.attr("number",{default:3}),ltPropPrevent:Lyte.attr("object",{default:{horizontal:!1,vertical:!1}}),ltPropGridLength:Lyte.attr("number",{default:void 0}),ltPropBestfitType:Lyte.attr("string",{default:"default"}),ltPropForcedReposition:Lyte.attr("boolean",{default:!1}),ltPropSquareGrid:Lyte.attr("boolean",{default:!1}),ltPropGridSpaceColor:Lyte.attr("string",{default:"#f8f8f8"}),ltPropHitBottom:Lyte.attr("boolean",{default:!1}),ltPropGridSelectionClass:Lyte.attr("string",{default:"lyteGridFocused"}),ltPropVisibleBoundary:Lyte.attr("object",{default:{}}),ltPropVisible:Lyte.attr("array",{default:[]}),ltPropCheckCurrentPosition:Lyte.attr("boolean",{default:!1}),ltPropContainment:Lyte.attr("boolean",{default:!1}),gridLength:Lyte.attr("number",{default:void 0}),ltPropGridHeight:Lyte.attr("number",{default:void 0}),ltPropMarginLeftCopy:Lyte.attr("number",{default:10}),ltPropUnitXCopy:Lyte.attr("number",{default:50}),lyteGridStack:Lyte.attr("array",{default:[]}),elements:Lyte.attr("object",{default:void 0}),oriNode:Lyte.attr("object",{default:void 0}),xElements:Lyte.attr("array",{default:[]}),yElements:Lyte.attr("array",{default:[]}),iniData:Lyte.attr("array",{default:[]}),lyteQuerySelector:Lyte.attr("object",{default:{SelectedNodes:[]}}),direction:Lyte.attr("boolean",{default:!1})}},undoPrevious:function(){var t=this.getData("lyteGridStack"),e=this.getData("lyteQuerySelector"),o=this.scopeElement.querySelectorAll(this.data.ltPropHandler);if(e.currentPos<=t[t.length-1].oldHeight.length&&e.currentPos>=1){for(var i=0;i<o.length;i++)t[i].x=parseInt(t[i].oldX[e.currentPos-1]),t[i].nodeName.dataSet["lyte-grid-x-old"]=t[i].x,t[i].y=parseInt(t[i].oldY[e.currentPos-1]),t[i].nodeName.dataSet["lyte-grid-y-old"]=t[i].y,t[i].length=parseInt(t[i].oldLength[e.currentPos-1]),t[i].nodeName.dataSet["lyte-grid-length-old"]=t[i].length,t[i].height=parseInt(t[i].oldHeight[e.currentPos-1]),t[i].nodeName.dataSet["lyte-grid-height-old"]=t[i].height;this.displayGrid.call(this),e.currentPos=e.currentPos-1>=0?e.currentPos-1:0}},undoNext:function(){var t=this.getData("lyteGridStack"),e=this.getData("lyteQuerySelector"),o=this.scopeElement.querySelectorAll(this.data.ltPropHandler);if(e.currentPos<=t[t.length-1].oldHeight.length-1){for(var i=e.currentPos<t[t.length-1].oldHeight.length-1?e.currentPos+1:t[t.length-1].oldHeight.length-1,a=0;a<o.length;a++)t[a].x=parseInt(t[a].oldX[i]),t[a].nodeName.dataSet["lyte-grid-x-old"]=t[a].x,t[a].y=parseInt(t[a].oldY[i]),t[a].nodeName.dataSet["lyte-grid-y-old"]=t[a].y,t[a].length=parseInt(t[a].oldLength[i]),t[a].nodeName.dataSet["lyte-grid-length-old"]=t[a].length,t[a].height=parseInt(t[a].oldHeight[i]),t[a].nodeName.dataSet["lyte-grid-height-old"]=t[a].height;this.displayGrid.call(this),e.currentPos=i}},emptySpaceFind:function(t,e,o,i){var a=this.getData("lyteGridStack"),l=[],n=this.getData("gridLength"),r=this.getData("ltPropGridHeight");if(e)l=l.concat(o.slice());else{for(g=0;g<n;g++){l.push([]);for(var s=0;s<r;s++)l[g].push(!1)}for(g=0;g<a.length;g++)if(void 0!=a[g].x&&void 0!=a[g].y)for(var d=a[g].x;d<a[g].x+a[g].length;d++)for(var p=a[g].y;p<a[g].y+a[g].height;p++)a[g].nodeName!=t.nodeName&&void 0!=l[d]&&"res"!=l[d][p]?l[d][p]=!0:l[d]&&0==l[d][p]&&(l[d][p]="res")}t.length=void 0!=t.length?t.length:this.returnWid(this.getData("ltPropDefaultLength"),!0),t.height=void 0!=t.height?t.height:this.returnWid(this.getData("ltPropDefaultHeight"));for(var c,h=t.x?t.x:0,u=t.y?t.y:0,y=void 0==t.x||isNaN(t.x)?n+1-t.length:t.x+1,m=void 0==t.y||isNaN(t.x)?r-1:t.y,g=u;g<=m;g++)for(var f=h;f<y;f++){var v=!0;for(d=f;d<f+t.length;d++){for(var b=g;b<g+t.height;b++)if(l[d]&&1==l[d][b]){v=!1,b-g;break}if(!v)break}if(v&&f<n+1-t.length)return[{x:f,y:g},!e]}if(!e){var D={length:t.length,height:t.height,nodeName:t.nodeName};t.x&&!t.y&&(this.setData("ltPropGridHeight",r+t.height),D.x=t.x),c=this.emptySpaceFind.call(this,D,!0,l)}return c||(this.setData("ltPropGridHeight",r+t.height),c=this.emptySpaceFind.call(this,{length:t.length,height:t.height,nodeName:t.nodeName},!0,l,!0)),c.constructor==Array?c:[c,!1]}}),Lyte.Component.register("lyte-input",{_template:'<template tag-name="lyte-input">\n     <template is="switch" value="{{ltPropType}}">\n       <template case="password">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                    <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n               </template></template> \n            <div class="lyteField {{if(ltPropValue, \'ltIconShow\',\'\')}}" style="{{ltPropWrapperStyle}}">\n                 <input pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" type="{{ltPropType}}" value="{{lbind(ltPropValue)}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" style="{{ltPropStyle}}" readonly="{{ltPropReadonly}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" title="{{ltPropInputTitle}}" oninput="{{action(\'input\', event)}}">\n                 <template is="if" value="{{ltPropCloseIcon}}"><template case="true">\n                    <span class="inputCloseIcon" onclick="{{action(\'clsIcon\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                 </template></template>\n               </div>\n         </template>\n        <template case="number">\n            <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n            <div class="lyteField {{if(ltPropValue, \'ltIconShow\',\'\')}}" style="{{ltPropWrapperStyle}}">\n                 <input pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" type="number" value="{{lbind(ltPropValue)}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" style="{{ltPropStyle}}" onkeydown="{{action(\'numberKeydown\', event, this)}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" step="{{ltPropStep}}" max="{{ltPropMax}}" min="{{ltPropMin}}" title="{{ltPropInputTitle}}" onpaste="{{action(\'numberPaste\', event, this)}}" oninput="{{action(\'input\', event, this)}}">\n                 <template is="if" value="{{ltPropCloseIcon}}"><template case="true">\n                    <span class="inputCloseIcon" onclick="{{action(\'clsIcon\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                 </template></template>\n               </div>\n         </template>\n         <template case="textarea">\n                <template is="if" value="{{ltPropLabel}}"><template case="true">\n                     <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n                </template></template>  \n              <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                  <textarea autocomplete="{{ltPropAutocomplete}}" pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" id="{{ltPropId}}" class="{{ltPropClass}}" value="{{lbind(ltPropValue)}}" rows="{{ltPropRows}}" cols="{{ltPropCols}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" style="{{ltPropStyle}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" title="{{ltPropInputTitle}}" oninput="{{action(\'input\', event)}}"></textarea>\n                   <template is="if" value="{{resize}}"><template case="true">\n                    <span class="lyteTextareaResize"></span>  \n                    </template></template>\n              </div>\n             </template>\n          <template case="date">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n              <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input pattern="{{ltPropPattern}}" tabindex="{{ltPropTabIndex}}" type="text" id="{{ltPropId}}" class="{{ltPropClass}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" value="{{lbind(ltPropCurrentDate)}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" onkeydown="{{action(\'calendarKeydown\', event, this)}}" onclick="{{action(\'calendarClick\', event, this)}}" onfocus="{{action(\'showcalendar\', event, this)}}" onblur="{{action(\'blurThrow\', event)}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}" oninput="{{action(\'input\', event)}}" ondragstart="{{action( \'preventDrag\', event )}}">\n              </div>\n              <template is="if" value="{{ltPropBindToBody}}"><template case="true">\n                  <lyte-wormhole on-before-append="{{method(\'wormholeAppend\')}}">\n                        <template is="registerYield" yield-name="lyte-content">\n                            <div id="lyteCalendar" class="lyteInputCalendar lyteCalendarHidden {{ltPropCalendarClass}}" onmousedown="{{action(\'calmsdown\', event, this)}}">\n                                <lyte-calendar lt-prop-fill-rows="{{ltPropFillRows}}" lt-prop-number-of-rows="{{ltPropNumberOfRows}}" lt-prop-yield="{{ltPropYield}}" lt-prop-format="{{ltPropFormat}}" lt-prop-end-date="{{lbind(ltPropEndDate)}}" lt-prop-start-date="{{lbind(ltPropStartDate)}}" lt-prop-current-date="{{lbind(ltPropCurrentDate)}}" lt-prop-year="{{lbind(ltPropYear)}}" lt-prop-month-header-format="{{ltPropMonthHeaderFormat}}" on-date-selected="{{method(\'on-dateselected\')}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-start-week-day="{{ltPropStartWeekDay}}" lt-prop-header-type="{{ltPropHeaderType}}" on-navigate="{{method(\'calendarNavigate\')}}" on-viewdate-change="{{method(\'viewDateChange\')}}" on-view-change="{{method(\'viewChange\')}}">\n                                   <template is="if" value="{{ltPropYield}}"><template case="true"> \n                                      <template is="registerYield" yield-name="footer">\n                                          <lyte-yield yield-name="footer"></lyte-yield>\n                                      </template>\n                                   </template></template>   \n                                </lyte-calendar> \n                            </div>\n                         </template>\n                </lyte-wormhole>\n              </template></template>\n          </template>\n         <template case="datetime">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n              <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" class="{{ltPropClass}}" id="date" placeholder="{{ltPropPlaceholder}}" value="{{lbind(ltPropCurrentDate)}}" onkeydown="{{action(\'calendarKeydown\', event, this)}}" onclick="{{action(\'calendarClick\', event, this)}}" onfocus="{{action(\'showcalendar\', event, this)}}" onblur="{{action(\'blurThrow\', event)}}" oninput="{{action(\'input\', event)}}" ondragstart="{{action( \'preventDrag\', event )}}" disabled="{{ltPropDisabled}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" placeholder="{{ltPropTimePlaceholder}}" class="{{ltPropTimeClass}}" value="{{ltPropDefaultTime}}" id="time" onblur="{{action(\'timeBlur\', event, this)}}" onfocus="{{action(\'timeFocus\', event, this)}}" onkeydown="{{action(\'timeKeydown\', event, this)}}" onclick="{{action(\'timeClick\', event, this)}}" style="{{ltPropStyle}}" ondragstart="{{action( \'preventDrag\', event )}}" disabled="{{ltPropDisabled}}">\n              </div>\n               <template is="if" value="{{ltPropBindToBody}}"><template case="true">\n                  <lyte-wormhole on-before-append="{{method(\'wormholeAppend\')}}">\n                        <template is="registerYield" yield-name="lyte-content">\n                            <div id="lyteCalendar" class="lyteInputCalendar lyteCalendarHidden {{ltPropCalendarClass}}" onmousedown="{{action(\'calmsdown\', event, this)}}">\n                                <lyte-calendar lt-prop-fill-rows="{{ltPropFillRows}}" lt-prop-number-of-rows="{{ltPropNumberOfRows}}" lt-prop-yield="{{ltPropYield}}" lt-prop-format="{{ltPropFormat}}" lt-prop-end-date="{{lbind(ltPropEndDate)}}" lt-prop-start-date="{{lbind(ltPropStartDate)}}" lt-prop-current-date="{{lbind(ltPropCurrentDate)}}" lt-prop-year="{{lbind(ltPropYear)}}" lt-prop-month-header-format="{{ltPropMonthHeaderFormat}}" on-date-selected="{{method(\'on-dateselected\')}}" lt-prop-min-date="{{ltPropMinDate}}" lt-prop-max-date="{{ltPropMaxDate}}" lt-prop-start-week-day="{{ltPropStartWeekDay}}" lt-prop-header-type="{{ltPropHeaderType}}" on-navigate="{{method(\'calendarNavigate\')}}" on-viewdate-change="{{method(\'viewDateChange\')}}" on-view-change="{{method(\'viewChange\')}}">\n                                   <template is="if" value="{{ltPropYield}}"><template case="true"> \n                                      <template is="registerYield" yield-name="footer">\n                                          <lyte-yield yield-name="footer"></lyte-yield>\n                                      </template>\n                                   </template></template>   \n                                </lyte-calendar> \n                            </div>\n                         </template>\n                  </lyte-wormhole>\n                </template></template>\n             <lyte-dropdown style="display: none;" lt-prop-position="{{ltPropPosition}}" lt-prop-yield="true" lt-prop-disabled="{{ltPropDropdownDisabled}}" lt-prop-show="{{ltPropDropdownShow}}" lt-prop-callout="{{ltPropDropdownCallout}}" lt-prop-boundary="{{ltPropBoundary}}" lt-prop-freeze="{{ltPropDropdownFreeze}}" on-hide="{{method(\'hide\')}}" on-show="{{method(\'show\')}}" on-before-hide="{{method(\'beforeHide\')}}" on-before-show="{{method(\'beforeShow\')}}" on-option-selected="{{method(\'optionSelected\')}}" on-position-changed="{{method(\'positionChange\')}}" on-scroll="{{method(\'scroll\')}}" lt-prop-selected="{{ltPropDefaultTime}}" lt-prop-animate="{{ltPropAnimate}}">\n               <template is="registerYield" yield-name="yield">\n                  <lyte-drop-button style="display: none;"></lyte-drop-button>\n                  <lyte-drop-box id="{{ltPropDropdownId}}" class="{{ltPropDropdownClass}}">\n                    <lyte-drop-body>\n                      <template is="for" items="{{dropdownData}}" item="item" index="index">\n                          <lyte-drop-item data-value="{{item.time}}">\n                            <template is="if" value="{{ltPropYield}}"><template case="true">\n                                 <lyte-yield yield-name="yield" item-value="{{item}}"></lyte-yield>\n                            </template><template case="false">\n                                <span>{{item.time}}</span>\n                                <template is="if" value="{{ltPropShowInterval}}"><template case="true">\n                                   <span style="opacity: 0.5;float: right;margin-left: 5px; ">{{item.interval}}</span>\n                                 </template></template></template></template>\n                          </lyte-drop-item>\n                      </template>\n                    </lyte-drop-body>\n                  </lyte-drop-box>\n               </template>\n             </lyte-dropdown>\n          </template>\n         <template case="time">\n            <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n            <div class="lyteField" style="{{ltPropWrapperStyle}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" value="{{ltPropDefaultTime}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" onblur="{{action(\'timeBlur\', event, this)}}" onfocus="{{action(\'timeFocus\', event, this)}}" onkeydown="{{action(\'timeKeydown\', event, this)}}" onclick="{{action(\'timeClick\', event, this)}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}" ondragstart="{{action( \'preventDrag\', event )}}">\n              </div>\n              <template is="if" value="{{ltPropDropdown}}"><template case="true">\n                   <lyte-dropdown style="display: none;" lt-prop-position="{{ltPropPosition}}" lt-prop-yield="true" lt-prop-disabled="{{ltPropDropdownDisabled}}" lt-prop-show="{{ltPropDropdownShow}}" lt-prop-callout="{{ltPropDropdownShow}}" lt-prop-boundary="{{ltPropBoundary}}" lt-prop-freeze="{{ltPropDropdownFreeze}}" on-hide="{{method(\'hide\')}}" on-show="{{method(\'show\')}}" on-before-hide="{{method(\'beforeHide\')}}" on-before-show="{{method(\'beforeShow\')}}" on-option-selected="{{method(\'optionSelected\')}}" on-position-changed="{{method(\'positionChange\')}}" on-scroll="{{method(\'scroll\')}}" lt-prop-selected="{{ltPropDefaultTime}}" lt-prop-animate="{{ltPropAnimate}}">\n                     <template is="registerYield" yield-name="yield">\n                        <lyte-drop-button style="display: none;"></lyte-drop-button>\n                        <lyte-drop-box id="{{ltPropDropdownId}}" class="{{ltPropDropdownClass}}">\n                          <lyte-drop-body>\n                            <template is="for" items="{{dropdownData}}" item="item" index="index">\n                                <lyte-drop-item data-value="{{item.time}}">\n                                  <template is="if" value="{{ltPropYield}}"><template case="true">\n                                       <lyte-yield yield-name="yield" item-value="{{item}}"></lyte-yield>\n                                  </template><template case="false">\n                                      <span>{{item.time}}</span>\n                                      <template is="if" value="{{ltPropShowInterval}}"><template case="true">\n                                         <span style="opacity: 0.5;float: right;margin-left: 5px; ">{{item.interval}}</span>\n                                       </template></template></template></template>\n                                </lyte-drop-item>\n                            </template>\n                          </lyte-drop-body>\n                        </lyte-drop-box>\n                     </template>\n                   </lyte-dropdown> \n               </template></template>    \n            </template>\n         <template default="">\n              <template is="if" value="{{ltPropLabel}}"><template case="true">\n                  <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n              </template></template>  \n              <div class="lyteField{{if(ltPropValue, \' ltIconShow\',\'\')}} {{isBox}}" style="{{ltPropWrapperStyle}}">\n                 <input tabindex="{{ltPropTabIndex}}" type="text" value="{{lbind(ltPropValue)}}" id="{{ltPropId}}" class="{{ltPropClass}}" maxlength="{{ltPropMaxlength}}" name="{{ltPropName}}" placeholder="{{ltPropPlaceholder}}" autocomplete="{{ltPropAutocomplete}}" autofocus="{{ltPropAutofocus}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" onfocus="{{action(\'focusClass\', event)}}" onblur="{{action(\'blurThrow\', event)}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}" pattern="{{ltPropPattern}}" oninput="{{action(\'input\', event)}}">\n                 <template is="if" value="{{expHandlers(ltPropType,\'==\',&quot;search&quot;)}}"><template case="true">\n                    <span class="searchIcon"></span>\n                </template></template>\n                 <template is="if" value="{{ltPropCloseIcon}}"><template case="true">\n                    <span class="inputCloseIcon" onclick="{{action(\'clsIcon\', event)}}" style="{{if(ltPropValue, \'display: block;\',\'display: none;\')}}"></span>\n                 </template></template>\n              </div>\n          <template is="break"></template></template>      \n     </template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{password:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"},type:{name:"type",dynamicValue:"ltPropType"}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}}]},number:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"},value:{name:"value",dynamicValue:"ltPropValue",isLbind:!0}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}}]},textarea:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[]}},default:{}}]},date:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"insertYield",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]},datetime:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1]},{type:"attr",position:[3,3],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1],dynamicNodes:[{type:"insertYield",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[7]},{type:"registerYield",position:[7,1],dynamicNodes:[{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[7]}]},time:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",dynamicValue:"ltPropWrapperStyle"}}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[3,5]},{type:"if",position:[3,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}}]}}],_observedAttributes:["ltPropDisabled","ltPropAutofocus","ltPropAutocomplete","ltPropMaxlength","ltPropName","ltPropPlaceholder","ltPropReadonly","ltPropValue","ltPropWidth","ltPropTabIndex","ltPropType","ltPropAppearance","ltPropDirection","ltPropLabel","ltPropId","ltPropClass","ltPropStyle","ltPropWrapperStyle","ltPropHeight","ltPropPattern","ltPropInputTitle","ltPropRows","ltPropCols","ltPropTextAreaResize","ltPropMax","ltPropMin","ltPropStep","ltPropTimeFormat","ltPropHourInterval","ltPropDefaultTime","ltPropMinuteInterval","ltPropDropdown","ltPropShowInterval","ltPropStartTime","ltPropEndTime","ltPropConvertToNearest","ltPropFillRows","ltPropNumberOfRows","ltPropMinDate","ltPropMaxDate","ltPropStartWeekDay","ltPropMonthHeaderFormat","daysOfWeek","ltPropYear","ltPropFormat","viewDate","ltPropStartDate","ltPropEndDate","ltPropCurrentDate","ltPropBindToBody","ltPropCalendarClass","ltPropHeaderType","ltPropDropdownDisabled","ltPropDropdownShow","ltPropDropdownCallout","ltPropDropdownFreeze","ltPropDropdownId","ltPropDropdownClass","ltPropPosition","ltPropBoundary","ltPropWheel","ltPropYield","ltPropAnimate","ltPropPreventSelection","ltPropPreventKeys","ltPropUpdateDelay","ltPropAutoUpdate","ltPropCallbackDelay","ltPropCloseIcon","ltPropTimePlaceholder","ltPropTimeClass","ltPropAria","ltPropAriaAttributes","eventListeners","selectedField","endMinute","startMinute","dropdownData","originalData","dateRange","meridian","hour","min","selectedDateField","preventObs","resize","pos","isSearch","isBox","dateOrder","lyteUnbound"],init:function(){var t=this.data,e=t.ltPropType;"time"!=e&&"datetime"!=e||(this._prevent=!0,this.timeInValChange.call(this),this.startEndTimeObs.call(this),delete this._prevent,-1!=e.indexOf("time")&&t.ltPropDropdown&&(this.dropdownConstruct(),"time"==e&&(t.ltPropDefaultTime=t.ltPropDefaultTime||t.ltPropValue))),"date"!=e&&"datetime"!=e||("date"==e&&(t.ltPropCurrentDate=t.ltPropCurrentDate||t.ltPropValue),this.dateRegexFind()),this.$node.classList.add("lyteInput"),this.$node.classList.add("horizontal"),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){var t=this.data.ltPropType;this.$node,this.$node.querySelector(".lyteLabel"),this.$node.querySelector(".lyteField");if("date"!=t&&"datetime"!=t||(window._lyteUiUtils.input=window._lyteUiUtils.input||{},this.$node._random="LyteInput"+Date.now(),window._lyteUiUtils.input[this.$node._random]=this.$node),"time"!=t&&"datetime"!=t||this.getData("ltPropDropdown")&&(this.dropdown=this.$node.querySelector("lyte-dropdown"),this.dropbox=this.dropdown.component.childComp?this.dropdown.component.childComp:this.dropdown.querySelector("lyte-drop-box"),this.dropdown.element=this.$node.querySelector("input"+("datetime"==t?":last-of-type":""))),"time"==t||"date"==t||"datetime"==t){if(this.getData("ltPropWheel")){var e=this.handleWheel.bind(this);this.setData("eventListeners.timeWheel",e),this.$node.addEventListener("wheel",e)}this._manualset=!0,"time"==t?this.setData("ltPropValue",this.data.ltPropDefaultTime):"date"==t&&this.setData("ltPropValue",this.data.ltPropCurrentDate),delete this._manualset}t="textarea"==t?"textarea":"input",["focus","blur","click","select"].forEach(function(e){this.$node[e]=function(o){this.$node.querySelector(t)[e](o)}.bind(this)}.bind(this)),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){this._dir=_lyteUiUtils.getRTL(),this._dir&&$L.fastdom.mutate(function(){this.$node.classList.add("lyteRTL"),this.$node.calendarDiv&&this.$node.calendarDiv.classList.add("lyteRTL")}.bind(this))}.bind(this))},didDestroy:function(){this.$node.calendarComp&&(this.$node.calendarComp.remove(),delete this.$node.calendarComp,delete this.$node.calendarDiv,delete this._assCalendar,delete this.$node.revertToSelected);var t=this.getData("eventListeners"),e=this.getData("ltPropType");"date"!=e&&"datetime"!=e||delete window._lyteUiUtils.input[this.$node._random],"time"!=e&&"datetime"!=e||(delete this.dropdown,delete this.dropbox),t.hasOwnProperty("mouseup")&&document.removeEventListener("mouseup",t.mouseup)},rtlfunc:function(t,e,o){if(this._dir){if(e)return"left"==t?o-e.right:"clientX"==t?o-e.clientX:"offsetLeft"==t?o-e.width-e.offsetLeft:o-e.left;if("left"==t)return"right"}return e?e[t]:"left"},calenderClickHide:function(t){if(this.data.ltPropBindToBody){var e=this.$node.calendarDiv,o=t.target.correspondingElement||t.target;if(!e.classList.contains("lyteCalendarHidden")){if(o&&-1!=["LYTE-DROP-BOX","LYTE-DROP-ITEM","LYTE-DROP-BODY"].indexOf(o.tagName)){for(;"LYTE-DROP-BOX"!=o.tagName&&"BODY"!=o.tagName;)o=o.parentNode;"LYTE-DROP-BOX"==o.tagName&&(o=o.origindd)}this.$node.contains(o)||e.contains(o)?o&&!o.classList.contains("lyteCalDateSpan")&&!o.classList.contains("lyteCalCdate")&&e.contains(o)&&(this._byManual=!0,this.$node.focus()):this._hideCalendar(this.$node)}}},scrollFunc:function(t){if(!t||"resize"!=t.type||!_lyteUiUtils.isMobile){var e=this.$node.calendarDiv;$L.fastdom.mutate(function(){t&&"orientationchange"==t.type?setTimeout(this.setCss.bind(this),500):this.setCss(),$L.fastdom.measure(function(){var o=this.data.ltPropBoundary,i=this.$node.getBoundingClientRect(),a=window.innerWidth;e&&t&&"scroll"==t.type&&!e.classList.contains("lyteCalendarHidden")?(o.hasOwnProperty("left")&&this.rtlfunc.call(this,"left",i,a)<o.left||o.hasOwnProperty("right")&&this.rtlfunc.call(this,"right",i,a)>o.right||o.hasOwnProperty("top")&&i.top<o.top||o.hasOwnProperty("bottom")&&i.bottom>o.bottom)&&this._hideCalendar(this.$node,!0):this._closedbyscrl&&(void 0==o.left||this.rtlfunc.call(this,"left",i,a)>=o.left)&&(void 0==o.right||this.rtlfunc.call(this,"right",i,a)<=o.right)&&(void 0==o.top||i.top>=o.top)&&(void 0==o.bottom||i.bottom<=o.bottom)&&(this._byManual=!0,this.$node.focus(),delete this._byManual,this.showCalendar({},this.$node.querySelector("input")),delete this._closedbyscrl)}.bind(this))}.bind(this))}},textareaFuncObs:function(){if("textarea"==this.getData("ltPropType")){var t=this.getData("ltPropTextAreaResize");t.horizontal||t.vertical?(this.setData("resize",!0),this._resizeBinded||(this.textareaFunc(),this._resizeBinded=!0)):this.setData("resize",!1)}}.observes("ltPropTextAreaResize","ltPropTextAreaResize.{}").on("didConnect"),btobody:function(t){t.newValue||delete this.$node.revertToToday}.observes("ltPropBindToBody"),disAbs:function(){this.$node.classList[this.data.ltPropDisabled?"add":"remove"]("lyteInputDisabled")}.observes("ltPropDisabled").on("didConnect"),readAbs:function(){this.$node.classList[this.data.ltPropReadonly?"add":"remove"]("lyteInputReadonly")}.observes("ltPropReadonly").on("didConnect"),rsizefun:function(t){var e="touchstart"==t.type,o=t;if(!e||1==t.touches.length){e&&(o=t.touches[0]);var i=this.$node.querySelector("textarea"),a=this.getData("ltPropTextAreaResize")||{};t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),document.addEventListener("mousemove",this.data.eventListeners.resizeFunc,!0),document.addEventListener("mouseup",this.data.eventListeners.mouseup,!0);var l,n,r,s,d,p,c,h,u,y,m,g,f,v=this.$node.querySelector("label");this.data.ltPropDirection;$L.fastdom.measure(function(){v&&(h=v.getBoundingClientRect()),g=window.getComputedStyle(i),m=i.getBoundingClientRect(),y=window.getComputedStyle(i.parentElement),u=this.$node.getBoundingClientRect(),this._resizeDirection=g.resize,s=g.minWidth,d=g.maxWidth,p=g.minHeight,c=g.maxHeight,l=y.height,n=y.width,r=y.paddingLeft,this._ww=f=window.innerWidth}.bind(this)),$L.fastdom.mutate(function(){a.horizontal&&(this.$node.style.width=u.width+"px",v&&(v.style.width=h.width+"px",v.style.minWidth=h.width+"px"),i.style.width=m.width+"px",i.parentElement.style.width="auto",this._iniLeft=this.rtlfunc.call(this,"left",m,f),this._offLeft=this.rtlfunc.call(this,"right",m,f)-this.rtlfunc.call(this,"clientX",o,f),this._minWidth=(-1!=s.indexOf("%")?parseInt(n)*parseInt(s)/100:parseFloat(s))+parseInt(r),this._maxWidth=-1!=d.indexOf("%")?parseInt(n)*parseInt(d)/100:parseFloat(d)),a.vertical&&(this.$node.style.height=u.height+"px",v&&(v.style.height=h.height+"px"),i.style.height=m.height+"px",i.parentElement.style.height="auto",i.parentElement.style.minWidth="auto",this._iniTop=m.top,this._offTop=m.bottom-o.clientY,this._minHeight=-1!=p.indexOf("%")?parseInt(l)*parseInt(p)/100:parseFloat(p),this._maxHeight=-1!=c.indexOf("%")?parseInt(l)*parseInt(c)/100:parseFloat(c)),this.$node.classList.add("resizeStart")}.bind(this))}},textareaFunc:function(){var t=this.textareaResize.bind(this),e=this.mouseup.bind(this);if(this.setData("eventListeners.resizeFunc",t),this.setData("eventListeners.mouseup",e),this.getData("ltPropTextAreaResize")){var o=this.$node.querySelector(".lyteTextareaResize");o.addEventListener("mousedown",this.rsizefun.bind(this),!0),o.addEventListener("touchstart",this.rsizefun.bind(this),!0)}},mouseup:function(t){this.$node.classList.remove("resizeStart");var e=this.getData("eventListeners"),o="touchend"==t.type;document.removeEventListener(o?"touchmove":"mousemove",e.resizeFunc,!0),document.removeEventListener(o?"touchend":"mouseup",e.mouseup,!0),delete this._iniLeft,delete this._iniTop,delete this._offLeft,delete this._offTop,delete this._ww,delete this._minHeight,delete this._maxHeight,delete this._minWidth,delete this._maxWidth},textareaResize:function(t){var e=this.$node.querySelector("textarea"),o=t;if("touchmove"==t.type){if(1!=o.touches.length)return;o.preventDefault(),o=o.touches[0]}$L.fastdom.measure(function(){var t=e.getBoundingClientRect();if(this._iniLeft){var i=this.rtlfunc.call(this,"clientX",o,this._ww),a=(i>this._iniLeft?i:this._iniLeft)-this._iniLeft+this._offLeft,l=parseFloat(this.$node.style.width)+a-t.width;a>=this._minWidth&&(isNaN(this._maxWidth)||!isNaN(this._maxWidth)&&a<=this._maxWidth)&&(e.style.width=a+"px",this.$node.style.width=l+"px",this._prevent=!0,this.$node.ltProp("width",l),delete this._prevent)}if(this._iniTop){var n=(o.clientY>this._iniTop?o.clientY:this._iniTop)-this._iniTop+this._offTop;l=parseFloat(this.$node.style.height)+n-t.height;n>=this._minHeight&&(isNaN(this._maxHeight)||!isNaN(this._maxHeight)&&n<=this._maxHeight)&&(e.style.height=n+"px",this.$node.style.height=l+"px",this._prevent=!0,this.$node.ltProp("height",n),delete this._prevent)}}.bind(this))},heightFuncObs:function(){this.heightFunc.call(this,arguments[0])}.observes("ltPropHeight").on("didConnect"),heightFunc:function(t){var e=this.getData("ltPropHeight");e&&!this._prevent&&$L.fastdom.mutate(function(){if("textarea"!=this.getData("ltPropType")){var t=this.$node.querySelector("input");this.$node.querySelector(".lyteField");t.style.height=e}else this.$node.querySelector("textarea").style.height=e}.bind(this))},widthfunObs:function(){this.widthfun.call(this)}.observes("ltPropWidth").on("didConnect"),widthfun:function(){var t=this.getData("ltPropWidth");t&&!this._prevent&&$L.fastdom.mutate(function(){this.$node.style.width=t}.bind(this))},appearanceFunObs:function(){this.appearanceFun.call(this)}.observes("ltPropAppearance").on("didConnect"),appearanceFun:function(){var t=this.data.ltPropType,e=this.$node.querySelector(".lyteField");if("box"==this.getData("ltPropAppearance")){"search"==t&&e.classList.add("lyteInputBoxSearch");var o=this.$node;o&&(o.classList.add("lyteInputBox"),o.classList.remove("lyteInput"))}else{"search"==t&&e.classList.remove("lyteInputBoxSearch");var i=this.$node;i&&(i.classList.add("lyteInput"),i.classList.remove("lyteInputBox"))}},directionfunObs:function(){this.directionfun.call(this)}.observes("ltPropDirection").on("didConnect"),directionfun:function(){var t=this.$node;t&&("vertical"==this.data.ltPropDirection?(t.classList.add("vertical"),t.classList.remove("horizontal")):(t.classList.add("horizontal"),t.classList.remove("vertical")))},data:function(){return{ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropAutocomplete:Lyte.attr("string",{default:"off"}),ltPropMaxlength:Lyte.attr("number",{default:void 0}),ltPropName:Lyte.attr("string",{default:""}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropValue:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("string",{default:"0"}),ltPropType:Lyte.attr("string",{default:""}),ltPropAppearance:Lyte.attr("string",{default:""}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropStyle:Lyte.attr("string",{default:""}),ltPropWrapperStyle:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropPattern:Lyte.attr("string",{default:".+"}),ltPropInputTitle:Lyte.attr("string",{default:""}),ltPropRows:Lyte.attr("number",{default:void 0}),ltPropCols:Lyte.attr("number",{default:void 0}),ltPropTextAreaResize:Lyte.attr("object",{default:{vertical:!0,horizontal:!0}}),ltPropMax:Lyte.attr("number",{default:void 0}),ltPropMin:Lyte.attr("number",{default:void 0}),ltPropStep:Lyte.attr("number",{default:1}),ltPropTimeFormat:Lyte.attr("number",{default:12}),ltPropHourInterval:Lyte.attr("number",{default:1}),ltPropDefaultTime:Lyte.attr("string",{default:""}),ltPropMinuteInterval:Lyte.attr("number",{default:30}),ltPropDropdown:Lyte.attr("boolean",{default:!1}),ltPropShowInterval:Lyte.attr("boolean",{default:!1}),ltPropStartTime:Lyte.attr("string",{default:""}),ltPropEndTime:Lyte.attr("string",{default:""}),ltPropConvertToNearest:Lyte.attr("boolean",{default:!1}),ltPropFillRows:Lyte.attr("boolean",{default:!0}),ltPropNumberOfRows:Lyte.attr("number",{default:6}),ltPropMinDate:Lyte.attr("string",{default:""}),ltPropMaxDate:Lyte.attr("string",{default:""}),ltPropStartWeekDay:Lyte.attr("number",{default:1}),ltPropMonthHeaderFormat:Lyte.attr("string",{default:"MMMM YYYY"}),daysOfWeek:Lyte.attr("array",{default:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}),ltPropYear:Lyte.attr("boolean",{default:!0}),ltPropFormat:Lyte.attr("string",{default:"MM/DD/YYYY"}),viewDate:Lyte.attr("object",{default:{}}),ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropBindToBody:Lyte.attr("boolean",{default:!0}),ltPropCalendarClass:Lyte.attr("string",{default:""}),ltPropHeaderType:Lyte.attr("string",{default:"default"}),ltPropDropdownDisabled:Lyte.attr("boolean",{default:!1}),ltPropDropdownShow:Lyte.attr("boolean",{default:!1}),ltPropDropdownCallout:Lyte.attr("boolean",{default:!1}),ltPropDropdownFreeze:Lyte.attr("boolean",{default:!1}),ltPropDropdownId:Lyte.attr("string",{default:""}),ltPropDropdownClass:Lyte.attr("string",{default:""}),ltPropPosition:Lyte.attr("string",{default:"down"}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropWheel:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropAnimate:Lyte.attr("boolean",{default:!1}),ltPropPreventSelection:Lyte.attr("boolean",{default:!1}),ltPropPreventKeys:Lyte.attr("boolean",{default:!1}),ltPropUpdateDelay:Lyte.attr("number",{default:250}),ltPropAutoUpdate:Lyte.attr("boolean",{default:!0}),ltPropCallbackDelay:Lyte.attr("number",{default:0}),ltPropCloseIcon:Lyte.attr("boolean",{default:!1}),ltPropTimePlaceholder:Lyte.attr("string",{default:""}),ltPropTimeClass:Lyte.attr("string",{default:""}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{}}),eventListeners:Lyte.attr("object",{default:{}}),selectedField:Lyte.attr("object",{default:{}}),endMinute:Lyte.attr("number",{default:""}),startMinute:Lyte.attr("number",{default:""}),dropdownData:Lyte.attr("array",{default:[]}),originalData:Lyte.attr("array",{default:[]}),dateRange:Lyte.attr("object",{default:{day:[],month:[],year:[]}}),meridian:Lyte.attr("object",{default:{AM:_lyteUiUtils?_lyteUiUtils.i18n("AM"):"AM",PM:_lyteUiUtils?_lyteUiUtils.i18n("PM"):"PM"}}),hour:Lyte.attr("string",{default:_lyteUiUtils.i18n("hour")}),min:Lyte.attr("string",{default:_lyteUiUtils.i18n("min")}),selectedDateField:Lyte.attr("string",{default:""}),preventObs:Lyte.attr("boolean",{default:!0}),resize:Lyte.attr("boolean",{default:!0}),pos:Lyte.attr("string",{default:""}),isSearch:Lyte.attr("boolean",{default:!1}),isBox:Lyte.attr("string",{default:""}),dateOrder:Lyte.attr("array",{default:[]}),lyteUnbound:Lyte.attr("boolean",{default:!1})}},boxObs:function(){var t=this.data.ltPropType,e=this.data.ltPropAppearance;"search"==t&&"box"==e?this.setData("isBox","lyteInputBoxSearch"):this.setData("isBox","")}.observes("ltPropType","ltPropAppearance").on("init"),getDateFromFormat:function(t,e){return this._assCalendar.component.getDateFromFormat(t,e)},dateValidation:function(t){var e=this._assCalendar.component.stringToDate(t,this.data.ltPropFormat);return"Invalid Date"!=e&&e},dateRegexFind:function(t){var e,o=this.getData("dateRange"),i=[];e=t?t.newValue:this.getData("ltPropFormat");var a=/D+/gi.exec(e),l=/M+/gi.exec(e),n=/Y+/gi.exec(e);a&&(o.day[0]=a.index,o.day[1]=a.index+a[0].length,i.push({value:o.day[0],name:"day",format:e.match(/D+/gi)[0]})),l&&(o.month[0]=l.index,o.month[1]=l.index+l[0].length,i.push({value:o.month[0],name:"month",format:e.match(/M+/gi)[0]})),n&&(o.year[0]=n.index,o.year[1]=n.index+n[0].length,i.push({year:o.year[0],name:"year",format:e.match(/Y+/gi)[0]})),i.sort(function(t,e){return t.value-e.value}),this.setData("dateOrder",i)},dateRegexObs:function(t){this.dateRegexFind(t)}.observes("ltPropFormat"),constructingArr:function(t,e,o){t<e&&(t+=1440);var i=(t-e)/60,a={};return a.time=this.convertToRailway(t,!0,o).trim(),a.interval=i<1?t-e+" "+this.getData("min"):(i%1==0?i:i.toFixed(1))+" "+this.getData("hour"),a},dropdownConstruct:function(){if(!this._prevent){var t,e=this.getData("startMinute"),o=[],i=this.getData("endMinute"),a=(this.getData("ltPropHourInterval"),this.getData("ltPropMinuteInterval")),l=this.getData("ltPropTimeFormat"),n=[];for(e>=i&&(i+=1440),t=e;t<=i;t+=a){var r=this.constructingArr(t,e,l);-1==n.indexOf(r.time)&&(o.push(r),n.push(r.time))}this.setData("originalData",o)}},constructNewDrop:function(t,e){var o=[],i=this.getData("startMinute");if(12==e){var a=this.convertToRailway(t.value.trim());0!=this.maxValCheck(a)&&o.push(this.constructingArr(a,i,12)),a+=720,0!=this.maxValCheck(a%1440)&&o.push(this.constructingArr(a,i,12))}else{a=this.convertToRailway(t.value.trim());0!=this.maxValCheck(a)&&o.push(this.constructingArr(a,i,24))}this.dropdown.ltProp("selected",""),this.setData("dropdownData",o),this.dropdown.ltProp("selected",this.data.ltPropDefaultTime)},getCorrectTime:function(t){var e=new Date,o=e.getHours(),i=e.getMinutes().toString(),a=this.getData("meridian"),l=o>11?a.PM:a.AM;return 1==i.length&&(i="0"+i),12==t?(12!=o&&1==(o=(o%12).toString()).length&&(o="0"+o),o+":"+i+" "+l):(o<10&&(o="0"+o),o+":"+i)},timeFormatChange:function(){this.timeInValChange()}.observes("ltPropTimeFormat"),handleWheel:function(t){var e=t.target,o=this.getData("ltPropType");"INPUT"==e.tagName&&("time"==o||"datetime"==o&&"time"==e.id?$L.fastdom.mutate(function(){selectedField=this.getData("selectedField"),(!selectedField.prop||e.selectionStart>3)&&(e.selectionStart=0,e.selectionEnd=2,this.setData("selectedField",{prop:"hour",val:0}),selectedField={prop:"hour",val:0}),t.deltaY<-10?this.timeDecrease.call(this,e,{},selectedField.prop,e.selectionStart,e.selectionEnd):t.deltaY>10&&this.timeIncrease.call(this,e,{},selectedField.prop,e.selectionStart,e.selectionEnd)}.bind(this)):("date"==o||"datetime"==o&&"date"==e.id)&&(t.deltaY<-10?(t.keyCode=40,this.calendarKeydown.call(this,t,e)):t.deltaY>10&&(t.keyCode=38,this.calendarKeydown.call(this,t,e))),t.preventDefault())},wheelObs:function(t){t.newValue?this.$node.addEventListener("wheel",this.getData("eventListeners.timeWheel")):this.$node.removeEventListener("wheel",this.getData("eventListeners.timeWheel"))}.observes("ltPropWheel"),convertToRailway:function(t,e,o){var i=this.getData("meridian");if(e){l=parseInt(t/60)%24;(n=t%60)<10&&(n="0"+n);a="";return 12==o&&(1==parseInt(l/12)?(l>12&&(l%=12),a=i.PM):(a=i.AM,l=l||12)),l<10&&(l="0"+l),l+":"+n+" "+a}var a,l=parseInt(t.slice(0,2)),n=parseInt(t.slice(3,5));return 5!=t.length?60*((a=t.slice(6,t.length))==i.PM?l%12+12:l%12)+n:60*l+n},maxValCheck:function(t){var e,o=this.getData("endMinute"),i=this.getData("startMinute");if(e="string"==typeof t?this.convertToRailway(t):t,i<o){if(e<=o&&e>=i)return!0}else if(e<1440&&e>=i||e>=0&&e<=o)return!0;return!1},timeInValChange:function(t){var e,o=this.getData("ltPropTimeFormat");if(!(e=t?t.newValue:this.getData("ltPropDefaultTime"))){var i=this.getData("ltPropStartTime");e=i||this.getCorrectTime(o)}this.setData("ltPropDefaultTime",e.slice(0,12!=o?5:e.length))},startEndTimeObs:function(t){if(!t||"ltPropStartTime"==t.item){var e=this.getData("ltPropDefaultTime"),o=this.getData("ltPropStartTime");o||(this.setData("ltPropStartTime",e),o=e),this.setData("startMinute",this.convertToRailway(o))}if(!t||"ltPropEndTime"==t.item){var i=this.getData("ltPropEndTime");if(!i){var a=Math.max(0,parseInt(o.slice(3,5))-1).toString();1==a.length&&(a="0"+a),i=(o.slice(0,3)+a+" "+o.slice(6,o.length)).trim(),this.setData("ltPropEndTime",i)}this.setData("endMinute",this.convertToRailway(i))}this.dropdownConstruct()},timeBoundObs:function(t){if(!t||""!=t.newValue||void 0!=t.oldValue)if(!t||t&&"ltPropDefaultTime"!=t.item)this.startEndTimeObs(t);else{if(t&&!t.newValue)return void this.timeInValChange();this.setData("preventObs")&&this.setData("ltPropValue",t.newValue),this.getMethods("onTimeChange")&&this.executeMethod("onTimeChange",t,this.$node),this._manualset=!0,"time"==this.data.ltPropType&&this.setData("ltPropValue",t.newValue),delete this._manualset}}.observes("ltPropStartTime","ltPropEndTime","ltPropDefaultTime"),dateChangeCallback:function(t){var e=this.data.ltPropCallbackDelay;this._manualset=!0,"date"==this.data.ltPropType&&this.setData("ltPropValue",t.newValue),delete this._manualset,void 0==e?this.dateCallback(t):setTimeout(this.dateCallback.bind(this),e,t)}.observes("ltPropCurrentDate"),dateCallback:function(t){""==t.newValue&&void 0==t.oldValue||(this.getMethods("onDateChange")&&this.executeMethod("onDateChange",t,this.$node,this._selected),delete this._selected)},timeCallback:function(t){""==t.newValue&&void 0==t.oldValue||this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node)},valChangeObs:function(t){var e=this.data.ltPropCallbackDelay;if(!this._manualset){var o=this.data.ltPropType;"date"==o?this.setData("ltPropCurrentDate",t.newValue):"time"==o&&this.setData("ltPropDefaultTime",t.newValue)}void 0==e?this.timeCallback(t):setTimeout(this.timeCallback.bind(this),e,t)}.observes("ltPropValue"),firePosCallBack:function(){this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",this.getData("pos"),this.$node.calendarDiv)}.observes("pos"),setLeftExceedForDown:function(t,e,o,i,a,l){var n=o;return a+this.rtlfunc.call(this,"left",n,l)+n.width-i.width},setLeftNotExceedForDown:function(t,e,o,i){var a=e;return o+this.rtlfunc.call(this,"left",a,i)},setTopAboveForDown:function(t,e,o,i,a){return a+o.top-i.height},setTopBelowForDown:function(t,e,o){var i=e;return o+i.top+i.height},setLeftForRight:function(t,e,o,i){var a=e;return o+this.rtlfunc.call(this,"left",a,i)+a.width},setRightForRight:function(t,e,o,i,a,l){var n=o,r=i;return a+this.rtlfunc.call(this,"left",n,l)-r.width},setTopForRight:function(t,e,o){return o+e.top},setTopForRightAbove:function(t,e,o,i,a){var l=o;return a+l.top+l.height-i.height},setCss:function(){var t=this.$node.calendarDiv;if(t&&!t.classList.contains("lyteCalendarHidden")){var e,o,i,a,l,n,r=t,s=this.$node.querySelector("input").parentElement,d=window.innerWidth,p=window.innerHeight,c=r.getBoundingClientRect(),h=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),u=window.pageYOffset||document.documentElement.scrollTop,y=r.offsetHeight,m=r.offsetWidth,g=this.getData("ltPropPosition"),f=s.getBoundingClientRect(),v=this.rtlfunc.call(this,"left",f,d),b=this.rtlfunc.call(this,"left");"down"===g?(e=!0,e=!((l=f.top+f.height)+y>p&&f.top>y),o=!0,(n=v)+m>d&&n>n+f.width-r.offsetWidth?o=!1:v+m<=d&&(o=!0),e?(this.setData("pos","down"),r.style.top=this.setTopBelowForDown(s,f,u)+"px"):(this.setData("pos","up"),r.style.top=this.setTopAboveForDown(s,r,f,c,u,d)+"px"),o?(r.style.top=r.style.top,r.style[b]=this.setLeftNotExceedForDown(s,f,h,d)+"px"):(r.style.top=r.style.top,r.style[b]=this.setLeftExceedForDown(s,r,f,c,h,d)+"px")):"right"===g?(o=!0,o=!(v+f.width+m>d&&v-c.width>0),e=!0,e=!(f.top+c.height>p),o?(this.setData("pos","right"),r.style[b]=this.setLeftForRight(s,f,h,d)+"px"):(this.setData("pos","left"),r.style[b]=this.setRightForRight(s,r,f,c,h,d)+"px"),e?(r.style[b]=r.style[b],r.style.top=this.setTopForRight(s,f,u)+"px"):(r.style[b]=r.style[b],r.style.top=this.setTopForRightAbove(s,r,f,c,u)+"px")):"up"===g?(i=!0,i=!(f.top-c.height<0&&f.top+f.height+y<p),o=!0,v+m>d&&v>v+f.width-r.offsetWidth?o=!1:v+m<=d&&(o=!0),i?(this.setData("pos","up"),r.style.top=this.setTopAboveForDown(s,r,f,c,u)+"px"):(this.setData("pos","down"),r.style.top=this.setTopBelowForDown(s,f,u)+"px"),o?(r.style.top=r.style.top,r.style[b]=this.setLeftNotExceedForDown(s,f,h,d)+"px"):(r.style.top=r.style.top,r.style[b]=this.setLeftExceedForDown(s,r,f,c,h,d)+"px")):"left"===g?(a=!0,a=!(v-c.width<0&&v+c.width<d),e=!0,e=!(f.top+c.height>p),a?(this.setData("pos","left"),r.style[b]=this.setRightForRight(s,r,f,c,h,d)+"px"):(this.setData("pos","right"),r.style[b]=this.setLeftForRight(s,f,h,d)+"px"),e?(r.style[b]=r.style[b],r.style.top=this.setTopForRight(s,f,u)+"px"):(r.style[b]=r.style[b],r.style.top=this.setTopForRightAbove(s,r,f,c,u)+"px")):"downLeft"===g?(e=!0,(l=f.top+f.height)+y>p&&f.top>y?(l=f.top-y,e=!1):e=!0,o=!1,(n=v+f.width/2-m)<0?(n=0,o=!0):o=!1,r.style.top=l+u+"px",r.style[b]=n+h+"px",pos=e?"downLeft":"upLeft",this.setData("pos",pos)):"downRight"===g?(e=!0,(l=f.top+f.height)+y>p&&f.top>y?(l=f.top-y,e=!1):e=!0,o=!0,(n=v+f.width/2)+m>d?(n=d-m,o=!1):o=!0,r.style.top=l+u+"px",r.style[b]=n+h+"px",pos=e?"downRight":"upRight",this.setData("pos",pos)):"upLeft"===g?(e=!1,(l=f.top-y)<0?(l=f.top+f.height,e=!0):e=!1,o=!1,(n=f[b]+f.width/2-m)<0?(n=0,o=!0):o=!1,r.style.top=l+u+"px",r.style[b]=n+h+"px",pos=e?"downLeft":"upLeft",this.setData("pos",pos)):"upRight"===g&&(e=!1,(l=f.top-y)<0?(l=f.top+f.height,e=!0):e=!1,o=!0,(n=v+f.width/2)+m>d?(n=d-m,o=!1):o=!0,r.style.top=l+u+"px",r.style[b]=n+h+"px",pos=e?"downRight":"upRight",this.setData("pos",pos))}},preventFn:function(){this.preventFocus=!0},methods:{wormholeAppend:function(t,e){this.$node.calendarComp=t,t.nodeN=this.$node,this.$node.calendarDiv=t.querySelector("div#lyteCalendar"),this._assCalendar=this.$node.calendarDiv.querySelector("lyte-calendar");var o=this.calendarMousedown.bind(this);this.$node.calendarDiv.addEventListener("mousedown",o,!0),this.setData("eventListeners.mousedown",o),this.$node.revertToToday=this._assCalendar.revertToToday,this.$node.revertToSelected=this._assCalendar.revertToSelected;for(var i=this._assCalendar.querySelectorAll("lyte-dropdown"),a=0;a<i.length;a++){(i[a].component.childComp||i[a].querySelector("lyte-drop-box")).addEventListener("mousedown",this.preventFn.bind(this))}},"on-dateselected":function(){this._selected=!0,this._hideCalendar(this.$node)},hide:function(){this.getMethods("onHide")&&this.executeMethod("onHide",arguments[0],arguments[1],this.$node)},beforeHide:function(){if(this.getMethods("onBeforeHide"))return this.executeMethod("onBeforeHide",arguments[0],arguments[1],this.$node)},show:function(){this.getMethods("onShow")&&this.executeMethod("onShow",arguments[0],arguments[1],this.$node)},beforeShow:function(){if(this.getMethods("onBeforeShow"))return this.executeMethod("onBeforeShow",arguments[0],arguments[1],this.$node)},optionSelected:function(){this._calmsfg=!0,this.setData("ltPropDefaultTime",arguments[1].trim())},scroll:function(){this.getMethods("onScroll")&&this.executeMethod("onScroll",arguments[0],arguments[1])},positionChange:function(){this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",arguments[0],arguments[1])},calendarNavigate:function(t,e,o,i){$L.fastdom.measure(this.setCss.bind(this)),this.getMethods("onNavigate")&&this.executeMethod("onNavigate",t,e,o,i)},viewDateChange:function(t,e){this.getMethods("onViewdateChange")&&this.executeMethod("onViewdateChange",t,e,this.$node)},viewChange:function(t,e,o){$L.fastdom.measure(this.setCss.bind(this)),this.getMethods("onViewChange")&&this.executeMethod("onViewChange",t,e,o,this.$node)}},valUpdate:function(){if(this.$node&&this){delete this._timeout;var t=this.data.ltPropType;if("date"==t||"datetime"==t){var e=this.$node.querySelector("input").value;this.setData("ltPropCurrentDate",e||"")}else if("textarea"==t){e=this.$node.querySelector("textarea").value;this.setData("ltPropValue",e||"")}else{e=this.$node.querySelector("input").value;this.setData("ltPropValue",e||"")}}},fixSelection:function(t,e,o){this.data.ltPropReadonly||(o.selectionStart=e.val+t,o.selectionEnd=o.selectionStart+2,this.timeClick.call(this,{},o))},replaceVal:function(t,e,o,i){var a;a="string"==typeof t?t:t.value;var l=new RegExp("("+a.slice(o,o+i)+")","i");return a.trim().replace(l,e)},retVal:function(t,e,o){return parseInt(t+e)>o?"0"+e:t+e},convertToPm:function(t,e,o){if(12==t){var i=e.slice(6,e.length),a=(e.slice(0,5),e.slice(0,2)),l=e.slice(3,5);return"00"==a&&"AM"==i||"12"==a&&"PM"==i?e:a+":"+l+" "+(o.AM==i?o.PM:o.AM)}return e},hourTimeSet:function(t,e,o,i,a){var l,n=t.value.trim(),r=this.getData("meridian"),s=e.keyCode-48,d=n.slice(i+1,a)+s,p=this.data.ltPropTimeFormat;if("hour"==o?l=12==p?12:24:(delete this._lasttyped,l=60),60==l&&parseInt(d)>=60&&(d="0"+s),"hour"==o)c=this.getCrctHour(n,i,a,l,s,r),this._lasttyped=s+"";else{var c=n.slice(0,i)+d+n.slice(a,n.length),h=this.maxValCheck(c);if(0==h&&(c=n.slice(0,i)+this.retVal(n.slice(i,i+1),s,l)+n.slice(a,n.length),0==(h=this.maxValCheck(c))&&(c=n.slice(0,i)+"0"+s+n.slice(a,n.length),0==(h=this.maxValCheck(c))&&(c=this.convertToPm(l,c,r),0==(h=this.maxValCheck(c))))))return!1}this.setData("ltPropDefaultTime",c),$L.fastdom.mutate(function(){t.selectionStart=i,t.selectionEnd=a})},_getCrctHour:function(t,e,o){return 0==this.maxValCheck(t)?12==e&&(t=this.convertToPm(e,t,o),0!=this.maxValCheck(t)&&t):t},getCrctHour:function(t,e,o,i,a,l){var n,r,s,d;if(void 0!=this._lasttyped){if("00"==(r=this._lasttyped+a)&&12==i&&(d=!0,r="12"),24==i&&parseInt(r)>=24||12==i&&parseInt(r)>=13?s=!1:(n=r+t.slice(o),s=this._getCrctHour(n,i,l)),0!=s)return s;if(n){var p=this.data.endMinute,c=this.convertToRailway(n);if(c-p<60&&c-p>=0)return this.convertToRailway(p,!0,i).trim()}}if("00"==(r=t.slice(e+1,o)+a)&&12==i){if(!d)return t;r="12"}if(24==i&&parseInt(r)>=24||12==i&&parseInt(r)>=13?s=!1:(n=r+t.slice(o),s=this._getCrctHour(n,i,l)),0!=s)return s;if("00"==(r=t.slice(0,e+1)+a)&&12==i){if(!d)return t;r="12"}if(24==i&&parseInt(r)>=24||12==i&&parseInt(r)>=13?s=!1:(n=r+t.slice(o),s=this._getCrctHour(n,i,l)),0!=s)return s;if("00"==(r="0"+a)&&12==i){if(!d)return t;r="12"}if(n=r+t.slice(o),0!=(s=this._getCrctHour(n,i,l)))return s;if("00"==(r=a+"0")&&12==i){if(!d)return t;r="12"}return 24==i&&parseInt(r)>=24||12==i&&parseInt(r)>=13?s=!1:(n=r+t.slice(o),s=this._getCrctHour(n,i,l)),0!=s?s:this.data.ltPropConvertToNearest?this.findNearestTime(t,e,o,i,a,l):t},findNearestTime:function(t,e,o,i,a,l){var n;if(void 0!=this._lasttyped){if(n=this._lasttyped+a,!(24==i&&parseInt(n)>=24||12==i&&parseInt(n)>=13))return this._findNearest(n+t.slice(o),i);!1}return n=t.slice(e+1,o)+a,24==i&&parseInt(n)>=24||12==i&&parseInt(n)>=13?(!1,n=t.slice(0,e+1)+a,24==i&&parseInt(n)>=24||12==i&&parseInt(n)>=13?(!1,n="0"+a,24==i&&parseInt(n)>=24||12==i&&parseInt(n)>=13?(!1,t):this._findNearest(n+t.slice(o),i)):this._findNearest(n+t.slice(o),i)):this._findNearest(n+t.slice(o),i)},_findNearest:function(t,e){var o=this.convertToRailway(t),i=this.data.endMinute,a=this.data.startMinute;return Math.abs(a-o)>Math.abs(i-o)?this.convertToRailway(i,!0,e).trim():this.convertToRailway(a,!0,e).trim()},timeIncrease:function(t,e,o,i,a,l){if(!this.data.ltPropReadonly){var n,r,s,d=t.value.trim(),p=parseInt(d.slice(i,a)),c=this.getData("ltPropTimeFormat"),h=this.getData("meridian");"hour"==o?(n=12==c?12:24,r=l?1:this.data.ltPropHourInterval):(n=60,r=this.data.ltPropMinuteInterval);var u=(p+r)%n;if(12==n&&u<p&&d.slice(6,d.length)==h.AM)0==u&&(u="12"),d=this.replaceVal.call(this,t,h.PM,6,d.length);else if(12==n&&u<p&&d.slice(6,d.length)==h.PM)12==p&&0!=u||(d=this.replaceVal.call(this,t,h.AM,6,d.length));else if(12==n&&u==p&&d.slice(6,d.length)==h.AM)u="12",d=this.replaceVal.call(this,t,h.PM,6,d.length);else if(60==n&&u<=p){if(0==this.timeIncrease.call(this,t,e,"hour",0,2,!0))return!1;d=t.value.trim()}if(1==(u=u.toString()).length&&(u="0"+u),s=d.slice(0,i)+u+d.slice(a,d.length),0==this.maxValCheck(s))return!1;this.setData("ltPropDefaultTime",s),$L.fastdom.mutate(function(){t.selectionStart=i,t.selectionEnd=a})}},timeDecrease:function(t,e,o,i,a,l){if(!this.data.ltPropReadonly){var n,r,s,d=t.value.trim(),p=parseInt(d.slice(i,a)),c=this.getData("ltPropTimeFormat"),h=this.getData("meridian");"hour"==o?(n=12==c?12:24,r=l?1:this.getData("ltPropHourInterval")):(n=60,r=this.getData("ltPropMinuteInterval"));var u=(p-r+n)%n;if(12==n&&u>p&&d.slice(6,d.length)==h.AM)d=this.replaceVal.call(this,t,h.PM,6,d.length);else if(12==n&&(u>p||12==p)&&d.slice(6,d.length)==h.PM)d=this.replaceVal.call(this,t,h.AM,6,d.length);else if(12==n&&0==u)d.slice(6,d.length)==h.PM&&(u="12");else if(60==n&&u>=p){if(0==this.timeDecrease.call(this,t,e,"hour",0,2,!0))return!1;d=t.value.trim()}if(1==(u=u.toString()).length&&(u="0"+u),s=d.slice(0,i)+u+d.slice(a,d.length),0==this.maxValCheck(s))return!1;this.setData("ltPropDefaultTime",s),$L.fastdom.mutate(function(){t.selectionStart=i,t.selectionEnd=a})}},findCalendarRange:function(t,e,o){if(e.value&&0!=this.dateValidation(e.value)){var i,a=e.selectionStart,l=(e.selectionEnd,this.getData("dateRange"));for(i in l)if(!o||i==this.data.selectedDateField){var n=this.setRangeByMoment(e,l,i);if(n[0]<=a&&n[1]>=a||o){this.data.ltPropPreventSelection?o&&(e.selectionStart=e.selectionEnd=n[1]):(e.selectionStart=n[0],e.selectionEnd=n[1]),this.setData("selectedDateField",i);break}}}},setRangeByMoment:function(t,e,o){var i,a;if($L.moment){var l=this.data.ltPropFormat,n=t.value,r=$L.moment(n,this._assCalendar.component.getRelevantFormat(l));if(r.validate()){for(var s=0,d=l.slice(e[o][0],e[o][1]),p=0;p<this.data.dateOrder.length;p++){var c=this.data.dateOrder[p],h=r.format(c.format);if(c.format==d)break;n=n.replace(h,""),s+=h.length}var u=r.format(d);a=(i=s+n.indexOf(u))+u.length}else i=e[o][0],a=e[o][1]}else i=e[o][0],a=e[o][1];return[i,a]},hideCalendar:function(){for(var t=document.getElementsByTagName("lyte-input"),e=0;e<t.length;e++)t[e]!=this.$node&&t[e].calendarDiv&&!t[e].calendarDiv.classList.contains("lyteCalendarHidden")&&this._hideCalendar(t[e])},_hideCalendar:function(t,e){var o;this.getMethods("onBeforeCalendarClose")&&(o=this.executeMethod("onBeforeCalendarClose",t.calendarDiv,t)),0!=o?o&&o.then?(this._calendarCloseStart=!0,Promise.resolve(o).then(this.mainHideFn.bind(this,t,e))):this.mainHideFn(t,e):this.$node.focus()},mainHideFn:function(t,e){delete this._calendarCloseStart,t.calendarDiv.classList.add("lyteCalendarHidden"),this.$node.classList.remove("calendarOpen"),t.component.getMethods("onCalendarClose")&&t.component.executeMethod("onCalendarClose",t.calendarDiv,t),"drilldown"==this.data.ltPropHeaderType&&this.$node.revertToSelected(),e&&(this.$node.blur(),this._closedbyscrl=!0)},showCalendar:function(t,e){if(this._byManual)delete this._byManual;else if(this.hideCalendar(),!(this.data.ltPropReadonly&&!this.data.ltPropPreventKeys||this._calendarCloseStart)){if(this.getMethods("onBeforeOpen"))if(0==this.executeMethod("onBeforeOpen",t,this.node))return;this.data.ltPropBindToBody||this.setData("ltPropBindToBody",!0),this.$node.calendarDiv.classList.remove("lyteCalendarHidden"),$L.fastdom.measure(this.scrollFunc.bind(this)),$L.fastdom.mutate(function(){this.data.ltPropReadonly||(this.data.ltPropPreventSelection||(e.selectionStart=0,e.selectionEnd=0),this.findCalendarRange(t,e)),this.$node.classList.add("calendarOpen"),this.getMethods("onCalendarOpen")&&this.executeMethod("onCalendarOpen",this.$node.calendarDiv,this.$node)}.bind(this))}},calendarMousedown:function(t){this.$node.calendarDiv.contains(t.target.correspondingElement||t.target)&&(this.preventFocus=!0)},timeClick:function(t,e){if(!this.data.ltPropReadonly||this.data.ltPropPreventKeys){if(!this.data.ltPropReadonly){var o,i;switch(parseInt(e.selectionStart/3)){case 2:o=6,i=e.value.length,this.setData("selectedField",{prop:"meridian",val:6});break;case 1:o=3,i=5,this.setData("selectedField",{prop:"minute",val:3});break;default:o=0,i=2,this.setData("selectedField",{prop:"hour",val:0})}e.selectionStart=o,e.selectionEnd=i}this.dropbox&&this.dropbox.classList.contains("lyteDropdownHidden")&&"click"==t.type&&(this.dropdown.ltProp("selected",""),this.setData("dropdownData",this.getData("originalData")),this.dropdown.ltProp("selected",this.data.ltPropDefaultTime),this.dropdown.toggle())}},calendarKeydown:function(t,e){if(e.value&&!this.data.ltPropReadonly){var o=t.keyCode,i=this.dateValidation(e.value);if(0!=i){var a=this.getData("selectedDateField");if(-1!=[37,38,39,40,9].indexOf(o)){e.selectionEnd==e.selectionStart&&(this.findCalendarRange(t,e),a=this.data.selectedDateField);var l=e.selectionStart,n=e.selectionEnd;if(-1!=[38,40].indexOf(o)){switch(t.preventDefault(),a){case"year":40==o?i.setFullYear(i.getFullYear()-1):i.setFullYear(i.getFullYear()+1);break;case"month":40==o?i.setMonth(i.getMonth()-1):i.setMonth(i.getMonth()+1);break;default:40==o?i.setDate(i.getDate()-1):i.setDate(i.getDate()+1)}this._assCalendar.component.checkDate(i)&&this.setData("ltPropCurrentDate",this.getDateFromFormat(i,this.getData("ltPropFormat"))),$L.fastdom.measure(this.findCalendarRange.bind(this,{},e,!0))}else{if(e.selectionEnd==e.value.length&&(39==o||!t.shiftKey&&9==o)||0==e.selectionStart&&(37==o||t.shiftKey&&9==o))return;for(var r,s=this.getData("dateRange"),d=this.data.dateOrder,p=0;p<d.length;p++)if(d[p].name==a){r=p;break}if(39==o||!t.shiftKey&&9==o?p+1==d.length?l=n=s[a][1]+1:(returned=this.setRangeByMoment(e,s,d[r+1].name),l=n=Math.abs(.5*(returned[0]+returned[1]))):(37==o||t.shiftKey&&9==o)&&(0==p?l=n=s[a][0]+1:(returned=this.setRangeByMoment(e,s,d[r-1].name),l=n=Math.abs(.5*(returned[0]+returned[1])))),$L.fastdom.measure(this.findCalendarRange.bind(this,{},e)),this.data.ltPropPreventSelection)return;t.preventDefault()}e.selectionStart=l,e.selectionEnd=n}}}},focusCallback:function(t){this.getMethods("onFocus")&&this.executeMethod("onFocus",t,this.$node)},focusout:function(){if(this.preventFocus)delete this.preventFocus;else{if(this.$node.calendarDiv.classList.contains("lyteCalendarHidden"))return;setTimeout(this._hideCalendar.bind(this,this.$node))}},maxLen:function(t){var e=this.data.ltPropMaxlength;return void 0!=e?t.toString().match(new RegExp(".{0,"+e+"}"))[0]:t},actions:{preventDrag:function(t){t.preventDefault()},clsIcon:function(t){this.$node.ltProp("value",""),this.$node.focus(),this.data.isSearch&&this.throwEvent("on-ip-clear",t),this.getMethods("onClear")&&this.executeMethod("onClear",t,this.$node)},calmsdown:function(t,e){this._calmsfg=!0},numberKeydown:function(t,e){var o=/firefox/gi.test(navigator.userAgent);if(!_lyteUiUtils.isAndroid||o){var i=t.which||t.keyCode,a=e.value,l=/rv:11/gi.test(navigator.userAgent);if(/^(8|9|27|37|39|13|187|189)$/.test(i)||o&&/^173$/i.test(i)||i>=48&&i<=57||i>=96&&i<=105||t.metaKey||t.ctrlKey||/^(38|40)$/.test(i)&&!l)return;if(/^(69|190)$/.test(i)&&(!/\./i.test(a)&&190==i||69==i&&!/e/i.test(a)&&""!=a))return;if(t.preventDefault(),38==i?a=Number(a||0)+Number(e.step):40==i&&(a=Number(a||0)-Number(e.step)),l&&/^(38|40)$/.test(i)){var n=parseInt(this.maxLen(a));isNaN(n)||(n=Math.min(Math.max(n,e.min?e.min:-1/0),e.max?e.max:1/0),isNaN(n)||(e.value=n))}}},numberPaste:function(t,e){var o=t.clipboardData||window.clipboardData;newVal=e.value+o.getData("text").replace(/\'|\"/g,""),/^([0-9]+|\.(?!e){1,}|\+|\-)([0-9\.\e]{0,}$)/i.test(newVal)||(newVal.length!=this.maxLen(newVal)||/rv:11/gi.test(navigator.userAgent))&&t.preventDefault()},focusClass:function(t){this.$node.classList.add("lyteInputFocus"),this.focusCallback.call(this,t)},blurThrow:function(t,e){delete this._lasttyped;var o=/date/i.test(this.data.ltPropType),i=this.getMethods("onBlur");if(this.$node.classList.remove("lyteInputFocus"),!e){var a=this.getData("ltPropType");if(this._calmsfg)this.valUpdate(),setTimeout(function(){o&&this.focusout.call(this),i&&this.executeMethod("onBlur",t,this.$node)}.bind(this),0),delete this._calmsfg;else{if("number"==a){var l=this.data.ltPropMax,n=this.data.ltPropMin,r=parseFloat(t.target.value),s=!1;isNaN(r)||(-1==[void 0,null,""].indexOf(n)&&n.constructor==Number&&(s=(r=Math.max(n,r))==n),-1==[void 0,null,""].indexOf(l)&&l.constructor==Number&&(r=Math.min(l,r),s=s||r==l),s&&(t.target.value=r))}this.valUpdate.call(this),o&&this.focusout.call(this),i&&this.executeMethod("onBlur",t,this.$node)}}},input:function(t,e){if("number"==this.data.ltPropType){var o,i=e.value,a=this.maxLen(i);o=Math.min(a,void 0!=e.max&&""!=e.max?e.max:1/0),i===a&&a==o||(a==o?e.value=a:isNaN(o)?e.value=parseFloat(a):e.value=o)}if(this.getData("ltPropAutoUpdate")){clearTimeout(this._iptime);var l=this.data.ltPropUpdateDelay;void 0!=l?this._iptime=setTimeout(this.valUpdate.bind(this),l):this.valUpdate.call(this)}},showcalendar:function(t,e){this.$node.classList.add("lyteInputFocus"),this.focusCallback.call(this,t),this.showCalendar(t,e)},calendarClick:function(t,e){this._focus&&_lyteUiUtils.isMobile||this.data.ltPropReadonly?delete this._focus:this.findCalendarRange(t,e)},calendarKeydown:function(){this.calendarKeydown.apply(this,arguments)},timeBlur:function(t,e){this.$node.classList.remove("lyteInputFocus"),this.setData("selectedField",{}),this.getMethods("onBlur")&&(this._calmsfg?this.executeMethod("onBlur",event,this.$node):setTimeout(function(){this.executeMethod("onBlur",event,this.$node)}.bind(this),0))},timeFocus:function(t,e){this.$node.classList.add("lyteInputFocus");e.value.trim();this.setData("selectedField",{prop:"hour",val:0}),e.selectionStart=0,this.fixSelection.call(this,0,{prop:"hour",val:0},e),this.focusCallback.call(this,t)},timeKeydown:function(t,e){if(!this.data.ltPropReadonly){var o=this.getData("selectedField"),i=this.getData("meridian"),a=this.getData("ltPropTimeFormat"),l=!0,n=this.getData("originalData"),r=this.getData("dropdownData");if((!this.dropbox||this.dropbox.classList.contains("lyteDropdownHidden")||!/38|40|13/.test(t.keyCode))&&o.prop&&!t.ctrlKey&&!t.metaKey){var s=e.selectionStart,d=e.selectionEnd;s==d&&(this.timeClick.call(this,{},e),s=e.selectionStart,d=e.selectionEnd,o=this.getData("selectedField"));var p=t.keyCode;if(9!=p&&t.preventDefault(),-1!=[9,37,39].indexOf(p))!t.shiftKey&&37!=p||"hour"==o.prop||39==p?(t.shiftKey&&39!=p||"minute"==o.prop||24!=a)&&(t.shiftKey||"meridian"==o.prop||12!=a)||37==p||(this.fixSelection.call(this,3,o,e),t.preventDefault()):(this.fixSelection.call(this,-3,o,e),t.preventDefault()),l=!1;else if(p>=48&&p<=57&&"meridian"!=o.prop)"hour"==o.prop?this.hourTimeSet.call(this,e,t,"hour",s,d):"minute"==o.prop&&this.hourTimeSet.call(this,e,t,"minute",s,d),this.data.ltPropDropdown&&this.constructNewDrop(e,a);else if(38!=p&&40!=p||"meridian"==o.prop){if("meridian"==o.prop){var c,h=e.value.trim().slice(6,e.value.length),u=String.fromCharCode(p).toUpperCase();if(0==i.PM.toUpperCase().indexOf(u)?h=i.PM:0==i.AM.toUpperCase().indexOf(u)?h=i.AM:-1!=[38,40].indexOf(p)&&(h=h==i.PM?i.AM:i.PM),h!=i.AM&&"00"==e.value.trim().slice(0,2)&&(c=this.replaceVal.call(this,e,"12",0,2)),h&&(c=this.replaceVal.call(this,c||e,h,s,d)),0==this.maxValCheck(c))return!1;this.setData("ltPropDefaultTime",c)}}else 38==p?this.timeIncrease.call(this,e,t,o.prop,s,d):this.timeDecrease.call(this,e,t,o.prop,s,d);this.fixSelection.call(this,0,this.getData("selectedField"),e),l&&$L.fastdom.mutate(function(){e.selectionStart=s,e.selectionEnd=d}),n.length!=r.length&&(p<48||p>57)&&(this.dropdown.ltProp("selected",""),this.setData("dropdownData",n),this.dropdown.ltProp("selected",this.data.ltPropDefaultTime))}}},timeClick:function(){this.timeClick.apply(this,arguments)}},attrObs:function(t){this.data.ltPropAria&&_lyteUiUtils.setAttribute(this.$node.querySelector("input,textarea"),this.data.ltPropAriaAttributes||{},t?t.oldValue:{})}.observes("ltPropAriaAttributes","ltPropAriaAttributes.{}").on("didConnect")}),["click","scroll","resize","orientationchange"].forEach(function(t){window.addEventListener(t,_lyteInput,!0)}),Lyte.Component.register("lyte-menu",{_template:'<template tag-name="lyte-menu">\n\t<lyte-menu-box class="{{ltPropWrapperClass}}" onmousemove="{{action( \'mousemove\', event, this )}}">\n\t\t<template is="if" value="{{ltPropBindToBody}}"><template case="true">\n\t\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t\t\t<lyte-menu-body id="{{ltPropId}}" class="{{ltPropClass}}" tabindex="1">\n\t\t\t\t\t\t<template is="for" items="{{ltPropContent}}" item="menu" index="indexVal"><template is="if" value="{{lyteUiOptGroupCheck(menu)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t        <lyte-menu-group elemorder="{{indexVal}}">\n\n\t\t\t\t\t\t\t\t\t        \t<template is="if" value="{{lyteUiReturnOnlyKey(menu)}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t           <lyte-menu-header>\n\t\t\t\t\t\t\t\t\t\t           \t\t\t{{lyteUiReturnOnlyKey(menu)}}\n\t\t\t\t\t\t\t\t\t\t           </lyte-menu-header>\n\t\t\t\t\t\t\t\t\t           \t</template></template>\n\t\t\t\t\t\t\t\t\t              <template is="for" items="{{lyteUiReturnOnlyValue(menu)}}" item="menu1" index="indexVal1"><template is="if" value="{{expHandlers(lyteUiIsObject(menu1),\'==\',false)}}"><template case="true">\n\t\t\t\t\t\t\t\t                                   <lyte-menu-item grporder="{{indexVal}}" elemorder="{{indexVal1}}" data-value="{{menu1}}">\n\t\t\t\t\t\t\t\t                                          <lyte-menu-label>{{menu1}}</lyte-menu-label>\n\t\t\t\t\t\t\t\t                                    </lyte-menu-item>\n\t\t\t\t\t\t\t\t\t                          </template><template case="false">\n\t\t\t\t\t\t\t                                      <lyte-menu-item grporder="{{indexVal}}" elemorder="{{indexVal1}}" id="{{menu1.id}}" class="{{menu1.class}}" data-value="{{menu1[ltPropSystemValue]}}">\n\t\t\t\t\t\t\t                                          <lyte-menu-label>{{menu1[ltPropUserValue]}}</lyte-menu-label>\n\t\t\t\t\t\t\t                                              <template is="if" value="{{menu1[ltPropDescription]}}"><template case="true">\n\t\t\t\t\t\t\t                                                  <lyte-menu-description> {{menu1[ltPropDescription]}}</lyte-menu-description>\n\t\t\t\t\t\t\t                                              </template></template>\n\t\t\t\t\t\t\t                                      </lyte-menu-item>\n\t\t\t\t\t\t\t                                </template></template></template>\n\t\t\t\t\t\t\t\t\t      </lyte-menu-group>\n\t\t\t\t\t\t\t      </template><template case="false"><template is="if" value="{{expHandlers(lyteUiIsObject(menu),\'==\',false)}}"><template case="true">\n\t\t\t\t\t                         <lyte-menu-item elemorder="{{indexVal}}" data-value="{{menu}}">\n\t\t\t\t\t                                <lyte-menu-label>{{menu}}</lyte-menu-label>\n\t\t\t\t\t                          </lyte-menu-item>\n\t\t\t\t\t\t                  </template><template case="false">\n\t\t\t\t\t\t                        <lyte-menu-item elemorder="{{indexVal}}" id="{{menu.id}}" class="{{menu.class}}" data-value="{{menu[ltPropSystemValue]}}">\n\t\t\t\t\t\t                            <lyte-menu-label>{{menu[ltPropUserValue]}}</lyte-menu-label>\n\t\t\t\t\t\t                                <template is="if" value="{{menu[ltPropDescription]}}"><template case="true">\n\t\t\t\t\t\t                                    <lyte-menu-description> {{menu[ltPropDescription]}}</lyte-menu-description>\n\t\t\t\t\t\t                                </template></template>\n\t\t\t\t\t\t                        </lyte-menu-item>\n\t\t\t\t\t\t                  </template></template></template></template></template>\n\t\t\t\t    </lyte-menu-body>\n\t\t\t      </template><template case="false">\n\t\t\t   \t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t   \t   </template></template>\n\t\t\t </template></template>  \t   \n\t   </lyte-menu-box>\t   \t    \n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}],_observedAttributes:["ltPropContent","ltPropId","ltPropClass","ltPropQuery","ltPropEvent","ltPropYield","ltPropUserValue","ltPropSystemValue","ltPropCallout","ltPropPosition","ltPropDescription","ltPropTabIndex","ltPropFreeze","ltPropShow","ltPropWidth","ltPropHeight","ltPropQueryClass","ltPropBoundary","ltPropScope","ltPropPreventInsideClick","ltPropAnimate","ltPropSetCss","ltPropWrapperClass","ltPropWrapperId","ltPropBindToBody","ltPropAria","ltPropAriaAttributes","ltPropOffset","ltPropHeightResetOnScroll","eventListeners","pos","parIndex","lyteUnbound"],init:function(){var t=this.getData("ltPropEvent"),e=this.checkElementForMenu.bind(this);if(this.setData("eventListeners.event",e),this._close=this.closing.bind(this),this._trsend=this.tranEnd.bind(this),this._hoverclose=this.hoverClose.bind(this),document.addEventListener(/^(mouseenter|mousemove|mouseover|hover)$/.test(t)?"mousemove":t,e,!0),!document.getElementsByClassName("lytemenufreezelayer")[0]&&this.getData("ltPropFreeze")){this.appendFreeze.call(this,"lytemenufreezelayer left lyteMenuHidden"),this.appendFreeze.call(this,"lytemenufreezelayer top lyteMenuHidden"),this.appendFreeze.call(this,"lytemenufreezelayer bottom lyteMenuHidden"),this.appendFreeze.call(this,"lytemenufreezelayer right lyteMenuHidden");var o=this.appendFreeze.call(this,"lytemenufreezelayer nogroup lyteMenuHidden");o.addEventListener("wheel",this.preventEvent),o.addEventListener("touchmove",this.preventEvent)}document.hasOwnProperty("_lyteMenu")||(document.documentElement.addEventListener("click",lyteCloseMenu,!0),document.documentElement.addEventListener("keydown",this.keydownCheck,!0),document.documentElement.addEventListener("keypress",menukeypress,!0),window.addEventListener("orientationchange",this.resizeFunc,!0),window.addEventListener("resize",this.resizeFunc,!0),document._lyteMenu={},document._lyteMenu.eventFlag=!0),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},rtlfunc:function(t,e,o){if(this._dir){if(e)return"right"==t?o-e.left:o-e.right;if("left"==t)return"right"}return e?e[t]:"left"},actions:{mousemove:function(t,e){for(var o=t.target;o&&"BODY"!=o.tagName&&"LYTE-MENU-ITEM"!=o.tagName;)o=o.parentNode;if(o&&"LYTE-MENU-ITEM"==o.tagName){var i=e.querySelector(".lyteMenuSelection");if(i==o)return;i?(i.classList.remove("lyteMenuSelection"),o.classList.add("lyteMenuSelection")):i||o.classList.add("lyteMenuSelection")}}},arrayFrom:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o]);return e.slice()},appendFreeze:function(t){var e=document.createElement("div");return e.setAttribute("class",t),document.body.appendChild(e)},resizeFunc:function(t){t&&"resize"==t.type&&_lyteUiUtils.isMobile||(clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(function(){for(var e=document.getElementsByTagName("lyte-menu"),o=0;o<e.length;o++){var i=e[o],a=i.component;i.classList.contains("lyteMenuClosed")||(a.hasOwnProperty("parentMenu")||(a.callScrollFunc(t),a.getData("ltPropFreeze")&&!a.parentMenu&&setTimeout(a.setZIndex.bind(a),100)))}}.bind(this),t&&"orientationchange"==t.type?500:16))},keydownCheck:function(t){var e=t.which||t.keyCode;if(27==e)lyteCloseMenu(t,void 0,!0);else if(/^(38|40|13|36|35)$/.test(e))for(var o=document.getElementsByTagName("lyte-menu"),i=0;i<o.length;i++){if(!o[i].classList.contains("lyteMenuClosed")&&null!=o[i].getAttribute("lyte-rendered"))if(!(a=o[i].component).childMenu){a.traverseList.call(a,t),(/^(38|40)$/.test(e)||a.data.ltPropAria&&/^(35|36)$/.test(e))&&t.preventDefault();break}}else if(/^(37|39)$/.test(e))for(o=document.getElementsByTagName("lyte-menu"),i=0;i<o.length;i++){var a;if(!o[i].classList.contains("lyteMenuClosed")&&null!=o[i].getAttribute("lyte-rendered"))if((a=o[i].component).parentMenu&&!a.childMenu&&a.data.ltPropAria){$L(".lyteMenuSelection",a.childComp).length?((/right/i.test(a.data.pos)&&37==e||/left/i.test(a.data.pos)&&39==e)&&a.$node.ltProp("show",!1),t.preventDefault()):a.scrIntoView($L("lyte-menu-item:not(.lyteMenuSelection)",a.childComp).eq(0).addClass("lyteMenuSelection").get(0));break}}},searchFilter:function(t){if(this._typed="",t){for(var e=this.childComp.getElementsByTagName("lyte-menu-item"),o={},i=0;i<e.length;i++){var a=e[i].textContent.trim().toLowerCase().indexOf(t);-1!=a&&(a<o.index||void 0==o.index)&&(o.item=e[i],o.index=a)}if(o.item){var l=this.childComp.getElementsByClassName("lyteMenuSelection")[0];if(o.item==l)return;l&&l.classList.remove("lyteMenuSelection"),o.item.classList.add("lyteMenuSelection"),this.scrIntoView.call(this,o.item)}}},scrIntoView:function(t){t&&$L.fastdom.measure(function(){var e=t.getBoundingClientRect(),o=this.findscrElem.call(this,t),i=o.getBoundingClientRect();$L.fastdom.mutate(function(){e.bottom>i.bottom?o.scrollTop+=parseInt(e.bottom-i.bottom):e.top<i.top&&(o.scrollTop+=parseInt(e.top-i.top))}.bind(this))}.bind(this))},findscrElem:function(t){for(var e=t.parentNode;e&&"LYTE-MENU-BODY"!=e.nodeName;){var o=window.getComputedStyle(e).getPropertyValue("overflow-y");if(e.scrollHeight>e.offsetHeight&&("auto"==o||"scroll"==o))break;e=e.parentNode}return e},didDestroy:function(){if(this.childComp){for(var t=this.childComp.getElementsByTagName("lyte-menu-item"),e=0;e<t.length;e++){t[e].getAttribute("lyte-shortcut")&&t[e].setAttribute("lyte-shortcut",JSON.stringify({}))}this.childComp.parentElement&&this.childComp.parentElement.removeChild(this.childComp),delete this.childComp.parent,delete this.childComp}var o=this.getData("eventListeners"),i=this.getData("ltPropEvent");if(0==document.body.querySelectorAll("lyte-menu").length){var a=document.body.querySelectorAll("div.lytemenufreezelayer");for(e=0;e<a.length;e++)document.body.removeChild(a[e]);document._lyteMenu&&(delete document._lyteMenu,document.documentElement.removeEventListener("keydown",this.keydownCheck,!0),document.documentElement.removeEventListener("keypress",menukeypress,!0),document.documentElement.removeEventListener("click",lyteCloseMenu,!0),window.removeEventListener("resize",this.resizeFunc,!0),window.removeEventListener("orientationchange",this.resizeFunc,!0))}else this.data.ltPropShow&&this.data.ltPropFreeze&&(document.body.classList.remove("lyteBodyWrapper"),this.removeFreeze());window.removeEventListener("scroll",this.addScrollPos,!0);var l,n=this.getData("ltPropQuery"),r=this.getData("parIndex");if((n||void 0!=r)&&(n&&(l=document.querySelectorAll(n)),document.removeEventListener(/^(mouseenter|mousemove|mouseover|hover)$/.test(i)?"mousemove":i,o.event,!0),n))for(e=0;e<l.length;e++)delete l[e].menu;clearTimeout(this._typetime),this.menuBody&&(delete this.menuBody.parent,delete this.menuBody),document.menu==this&&delete document.menu},closestFind:function(t,e){for(var o=this.getData("parIndex"),i=this.arrayFrom.call(this,void 0!=o?this.$node.parentNode.parentNode.querySelectorAll("lyte-menu-item:nth-of-type("+ ++o+")"):document.querySelectorAll(e.trim())),a=0;a<t.length;a++)if(-1!=Array.prototype.indexOf.call(i,t[a]))return t[a];return null},checkElementForMenu:function(t){if(!t.menuFlag){var e=this.getData("ltPropQuery"),o=this.closestFind.call(this,t.path?t.path:this.composePath.call(this,t),e);if(null!=o){if(this._evtadded)return void(this.data.ltPropAnimate&&0==parseInt(this.menuBody.style.height)&&this.setData("ltPropShow",!1));if("contextmenu"==t.type&&(t.preventDefault(),lyteCloseMenu(t,this.$node)),!this.childComp.classList.contains("lyteMenuHidden")&&this.$node.element!=o){this.childComp.classList.remove("lyteAnimate"),this._hideStarts=!0,this._closest=o,this._event=t;var i=new Promise(function(e,o){this._promResolve=e,this._promReject=o,this.hideMenu.call(this,!0,t)}.bind(this));return void Promise.resolve(i).then(function(){this.openingMenu(this._closest,this._event),delete this._closest,delete this._event,delete this._promReject,delete this._promResolve}.bind(this),function(){delete this._closest,delete this._event,delete this._promReject,delete this._promResolve}.bind(this))}this.openingMenu(o,t)}else"contextmenu"==t.type&&lyteCloseMenu(t,void 0,!0)}},openingMenu:function(t,e){"LYTE-MENU-ITEM"==t.tagName&&"click"==e.type&&e.stopPropagation(),e.menuFlag=!0,this.$node.element=t,t.menu=this.$node,this.parentMenu||("contextmenu"!=e.type?$L.fastdom.mutate(this.$node.toggle.bind(this.$node,e)):this.$node.toggle(e||{}))},didConnect:function(){var t=this.$node.getElementsByTagName("lyte-menu-box")[0];this.$node.toggle=function(t,e){this.childComp.classList.contains("lyteMenuHidden")||e?(["mousedown","mouseup"].indexOf(t.type)>-1&&(document._lyteMenu.preventClick=!1),this.openMenu.call(this,t)):this.childMenu||-1!=t.type.indexOf("mouse")||this._hideStarts||this.hideMenu.call(this,!0,t)}.bind(this),t.parent=this.$node,this.childComp=t,t.classList.add("lyteMenuHidden"),this.$node.classList.add("lyteMenuClosed"),t.style.width=this.getData("ltPropWidth"),this.data.ltPropCallout&&/^(mouseenter|mousemove|mouseover|hover)$/.test(this.data.ltPropEvent)&&this.childComp.classList.add("lyteHoverMenu"),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){this._dir=_lyteUiUtils.getRTL()}.bind(this))},bToBody:function(){if(this.data.ltPropBindToBody&&this.childComp.parentNode!=document.body){var t=this.childComp.querySelector("lyte-menu-body");t.addEventListener("click",this.optionSelect.bind(this)),t.parent=this.$node,this.menuBody=t;var e=document.createElement("span");e.setAttribute("class","lyteArrow"+(this.data.ltPropCallout?"":" lyteMenuHidden")),t.insertBefore(e,t.children[0]),this.menuBody.style.height=this.data.ltPropHeight,this._dir&&this.menuBody.classList.add("lyteRTL"),_lyteUiUtils.appendChild(document.body,this.childComp)}else this.data.ltPropBindToBody||(this.$node.ltProp("show",!1),this.menuBody&&(delete this.menuBody.parent,delete this.menuBody))}.observes("ltPropBindToBody").on("didConnect"),calloutObs:function(t){var e=this.childComp.querySelector("span.lyteArrow");t.newValue?e.classList.remove("lyteMenuHidden"):e.classList.add("lyteMenuHidden")}.observes("ltPropCallout"),data:function(){return{ltPropContent:Lyte.attr("array",{default:[]}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropQuery:Lyte.attr("string",{default:""}),ltPropEvent:Lyte.attr("string",{default:"click"}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropUserValue:Lyte.attr("string",{default:""}),ltPropSystemValue:Lyte.attr("string",{default:""}),ltPropCallout:Lyte.attr("boolean",{default:!1}),ltPropPosition:Lyte.attr("string",{default:"down"}),ltPropDescription:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("number",{default:0}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropWidth:Lyte.attr("string",{default:"auto"}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropQueryClass:Lyte.attr("string",{default:"lyteMenuSelected"}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropScope:Lyte.attr("string",{default:""}),ltPropPreventInsideClick:Lyte.attr("boolean",{default:!1}),ltPropAnimate:Lyte.attr("boolean",{default:!1}),ltPropSetCss:Lyte.attr("boolean",{default:!0}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropWrapperId:Lyte.attr("string",{default:""}),ltPropBindToBody:Lyte.attr("boolean",{default:!0}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{role:"menu"}}),ltPropOffset:Lyte.attr("object",{default:{}}),ltPropHeightResetOnScroll:Lyte.attr("boolean",{default:!0}),eventListeners:Lyte.attr("object",{default:{}}),pos:Lyte.attr("string",{default:""}),parIndex:Lyte.attr("number"),lyteUnbound:Lyte.attr("boolean",{default:!1})}},firePosCallBack:function(){this.getMethods("onPositionChanged")&&this.executeMethod("onPositionChanged",this.getData("pos"),this.$node)}.observes("pos"),contentChangeObs:function(){this.contentChange.call(this)}.observes("ltPropContent.[]"),contentChange:function(){this.childComp.classList.contains("lyteMenuHidden")||(this.setCss.call(this),this.menuBody.style.removeProperty("height"))},setContextCss:function(t,e){var o=this.$node.element,i=this.childComp;$L.fastdom.measure(function(){var a=t,l=o.getBoundingClientRect();t||(t={clientX:l.left+l.width/2,clientY:l.top+l.height/2});var n=i.getBoundingClientRect(),r=this.menuBody.getBoundingClientRect(),s=window.getComputedStyle(this.menuBody),d="content-box"==s.boxSizing?parseFloat(s.paddingTop)+parseFloat(s.paddingBottom):0,p=r.height-d,c=window.innerHeight,h=window.innerWidth,u=this.data.ltPropOffset||{},y=u.top||0,m=u.bottom||0,g=u.left||0,f=u.right||0,v=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),b=window.pageYOffset||document.documentElement.scrollTop,D=this.rtlfunc.call(this,"left"),P=void 0!=this.__cX?this.__cX+this.rtlfunc("left",l,h):this._dir?h-t.clientX:t.clientX,C=void 0!=this.__cY?this.__cY+l.top:t.clientY;switch(e||(e=this.data.ltPropPosition),e){case"up":i.style[D]=P+v+"px",i.style.top=C>c-C?C+b+"px":C-n.height+b+"px",this.setData("pos","up");break;default:i.style[D]=P+v+"px",i.style.top=C<c-C?C+b+"px":C-n.height+b+"px",this.setData("pos","down")}n.left<g?i.style[D]=P+g+"px":this.rtlfunc.call(this,"right",n,h)>h-f&&(i.style[D]=P-n.width+"px"),a&&(parseFloat(i.style.top)-b+p>c-m&&C<=c&&(this.menuBody.style.height=c-m-parseFloat(i.style.top)+b+"px",p=parseFloat(this.menuBody.style.height)),parseFloat(i.style.top)-b<y&&C>=y&&(this.menuBody.style.height=parseFloat(i.style.top)-b-y+p+"px",i.style.top=b+y+"px",p=parseFloat(this.menuBody.style.height)),this._hgt=p,void 0==this.__cX&&(this.__cX=P-this.rtlfunc("left",l,h)),void 0==this.__cY&&(this.__cY=C-l.top))}.bind(this))},openMenu:function(t,e){var o,i,a=this.getData("ltPropEvent");if(t=t||{},e||(i=this.targetElem.call(this,t.target))[0]&&(i[0].originMenu=i[1].component),e&&"contextmenu"!=a){if(!this.$node.element){var l=this.getData("ltPropQuery");this.$node.element=document.body.querySelector(l.trim())}"LYTE-MENU-ITEM"==this.$node.element.tagName?i=this.targetElem.call(this,this.$node.element):i||(i=[])}this.getMethods("onBeforeOpen")&&(o=this.executeMethod("onBeforeOpen",this.$node,t,this.$node.element)),0!=o?(this.data.ltPropBindToBody||this.$node.ltProp("bindToBody",!0),this.childComp.scrollTop=0,this.childComp.classList.remove("lyteMenuHidden"),this.$node.classList.remove("lyteMenuClosed"),this.$node.element&&this.$node.element.setAttribute("aria-expanded","true"),this.childComp.style.display="block",this.getData("ltPropHeight")?this.menuBody.style.height=this.getData("ltPropHeight"):this.menuBody.style.removeProperty("height"),i[0]&&"LYTE-MENU"==i[1].tagName&&(i[1].component.childMenu=this,this.parentMenu=i[1].component,i[1].component.childComp.addEventListener("mousemove",this.mouseleave)),this.parentMenu||this.$node.element.classList.add(this.getData("ltPropQueryClass")),this.parentMenu||"LYTE-MENU-ITEM"==this.$node.element.tagName||lyteCloseMenu(t,this.$node),this.getData("ltPropFreeze")&&!this.parentMenu?this.setZIndex.call(this):document.menu||(window.addEventListener("scroll",this.addScrollPos,!0),document.menu=this),!/^(mouseenter|mousemove|mouseover|hover)$/.test(a)||this.childMenu||this.parentMenu||i[0]||(document.addEventListener("mousemove",this._hoverclose),this.$node.element.addEventListener("mousemove",this.preventEvent),this.menuBody.addEventListener("mousemove",this.preventEvent)),$L.fastdom.measure(function(){this.menuBody.getBoundingClientRect(),window.innerHeight,window.pageYOffset||document.documentElement.scrollTop;this._dontCall=!0,this.$node.ltProp("show",!0),delete this._dontCall,"contextmenu"==this.getData("ltPropEvent")?this.setContextCss.call(this,t):this.setCss.call(this),"contextmenu"!=t.type&&this.getData("ltPropAnimate")&&0!=this._hgt&&(this.menuBody.style.height=0,-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(this.childComp.style.top=parseInt(this.childComp.style.top)+this._hgt+"px"),setTimeout(this.animeClassAdd.bind(this),20)),this.getMethods("onOpen")&&this.executeMethod("onOpen",this.$node,t,this.$node.element)}.bind(this))):(this._dontCall=!0,delete this.$node.element,this.setData("ltPropShow",!1),delete this._dontCall,this._promReject&&this._promReject())},animeClassAdd:function(){this.childComp.classList.add("lyteAnimate"),setTimeout(this.heightSet.bind(this),20)},heightSet:function(){this._evtadded=!0,this.childComp.addEventListener("transitionend",this._trsend),-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(this.childComp.style.top=parseInt(this.childComp.style.top)-this._hgt+"px"),this.menuBody.style.height=this._hgt+"px"},tranEnd:function(t){this.childComp.removeEventListener("transitionend",this._trsend),this.childComp.classList.remove("lyteAnimate")},composePath:function(t){for(var e=[],o=t.target;o&&"HTML"!=o.tagName;)e.push(o),o=o.parentNode;return e},elementsFromPointCal:function(t,e){for(var o=[],i=document.elementFromPoint(t,e);i!=document&&i!=document.documentElement&&i!=document.body&&"LYTE-MENU-BODY"!=i.tagName&&(i._pe=i.style.pointerEvents,i.style.pointerEvents="none",o.push(i),i!=(i=document.elementFromPoint(t,e))););for(var a=0;a<o.length;a++)o[a].style.pointerEvents=o[a]._pe,delete o[a]._pe;return o},hoverClose:function(t){this.$node&&-1==(document.elementsFromPoint?document.elementsFromPoint(t.clientX,t.clientY):this.elementsFromPointCal.call(this,t.clientX,t.clientY)).indexOf(this.$node.element)&&this.hideMenu.call(this,!0,t)},mouseleave:function(t){var e=this.parent.component,o=e.targetElem.call(e,t.target);e.childMenu&&o[1]==e.$node&&o[0]!=e.childMenu.$node.element&&o[0]&&(this.removeEventListener("mousemove",e.childMenu.mouseleave),e.childMenu.hideMenu.call(e.childMenu,!0,t))},hideToggle:function(t){this._dontCall||(0==t.newValue?this.hideMenu.call(this,!0,{}):this.openMenu.call(this,{},!0))}.observes("ltPropShow"),hideMenu:function(t,e,o){var i;if(this.childMenu){if(this.childMenu.childComp.contains(e.target)&&!o)return;if(!this.childMenu.hideMenu.call(this.childMenu,t,e,o))return}if(this.getMethods("onBeforeClose")&&(i=this.executeMethod("onBeforeClose",this.$node,e)),0!=i)return delete this.__cX,delete this.__cY,this.parentMenu?(delete this.parentMenu.childMenu,delete this.parentMenu):(this.$node.element.classList.remove(this.getData("ltPropQueryClass")),delete document.menu,window.removeEventListener("scroll",this.addScrollPos,!0)),this._arguments=arguments,-1!=/^(mouseenter|mousemove|mouseover|hover)$/.test(this.data.ltPropEvent)&&(this.$node.element.removeEventListener("mousemove",this.preventEvent),this.menuBody.removeEventListener("mousemove",this.preventEvent),document.removeEventListener("mousemove",this._hoverclose)),$L.fastdom.mutate(function(){this.menuBody&&this.data.ltPropAnimate&&"contextmenu"!=this.data.ltPropEvent?(this.menuBody.style.height=this._hgt+"px",this.childComp.classList.add("lyteAnimate"),setTimeout(function(){this.menuBody.style.height=0,-1!=["up","upLeft","upRight"].indexOf(this.getData("pos"))&&(this.childComp.style.top=parseInt(this.childComp.style.top)+this._hgt+"px"),this.menuBody.removeEventListener("transitionend",this._close),this.menuBody.addEventListener("transitionend",this._close)}.bind(this),20)):(delete this._arguments,this.closing(t,e))}.bind(this)),!0;this._dontCall=!0,this.setData("ltPropShow",!0),delete this._dontCall,delete this._hideStarts,this._promReject&&this._promReject()},closing:function(){var t,e;this._arguments?(t=this._arguments[0],e=this._arguments[1],this.menuBody.style.height=this._hgt+"px",delete this._hgt,delete this._arguments):(t=arguments[0],e=arguments[1]),this.menuBody&&this.menuBody.removeEventListener("transitionend",this._close),this.childComp.classList.add("lyteMenuHidden"),delete this._hideStarts,this.$node.classList.add("lyteMenuClosed"),this.getData("ltPropFreeze")&&!this.parentMenu&&this.setZIndex.call(this,t),this._dontCall=!0,this.$node.ltProp("show",!1),this.$node.element&&this.$node.element.removeAttribute("aria-expanded"),delete this._dontCall,delete this.$node.element,delete this._evtadded,this.childComp.classList.remove("lyteAnimate"),this.childComp.style.left="",this.childComp.style.top="";var o=this.childComp.querySelector(".lyteMenuSelection");o&&o.classList.remove("lyteMenuSelection"),$L.fastdom.measure(function(){this.getMethods("onClose")&&this.executeMethod("onClose",this.$node,e),this._promResolve&&$L.fastdom.mutate(this._promResolve.bind(this))}.bind(this))},targetElem:function(t){var e;for(t=t.correspondingElement||t;t&&"LYTE-MENU-BODY"!=t.tagName&&"BODY"!=t.tagName;)"LYTE-MENU-ITEM"==t.tagName&&(e=t),t=t.parentNode;return[e,t?t.parent:null]},optionSelect:function(t){var e,o=this.targetElem.call(this,t.target)[0];if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;if(this.getMethods("onMenuClick")&&o){var i;if(this.getData("ltPropYield"))i=o.getAttribute("data-value");else{var a=this.getData("ltPropContent");if(o.hasAttribute("grporder")){var l=a[parseInt(o.getAttribute("grporder"))];i=l[Object.keys(l)[0]][parseInt(o.getAttribute("elemorder"))]}else i=a[parseInt(o.getAttribute("elemorder"))]}e=this.executeMethod("onMenuClick",i,t,this.$node,this.$node.element,{element:o,submenu:!!o.originMenu})}this.childMenu&&!e&&t.stopPropagation(),(o||!o&&this.getData("ltPropPreventInsideClick"))&&lyteCloseMenu(t,void 0,!0)},setLeftExceedForDown:function(t,e,o,i,a,l){var n=o;return a+this.rtlfunc.call(this,"left",n,l)+n.width-i.width},setLeftNotExceedForDown:function(t,e,o,i){var a=e;return o+this.rtlfunc.call(this,"left",a,i)},setTopAboveForDown:function(t,e,o,i,a){return a+o.top-i.height},setTopBelowForDown:function(t,e,o){var i=e;return o+i.top+i.height},setLeftForRight:function(t,e,o,i){var a=e;return o+this.rtlfunc.call(this,"left",a,i)+a.width},setRightForRight:function(t,e,o,i,a,l){var n=o,r=i;return a+this.rtlfunc.call(this,"left",n,l)-r.width},setTopForRight:function(t,e,o){return o+e.top},setTopForRightAbove:function(t,e,o,i,a){var l=o;return a+l.top+l.height-i.height},setCorrectClass:function(t){for(var e=this.childComp.querySelector(".lyteArrow"),o=e.classList,i=0;i<o.length;i++)"lyteArrow"!=o[i]&&o[i]!=t&&(e.classList.remove(o[i]),i--);e.classList.add(t)},setCss:function(t){var e=this.childComp;if(e&&!e.classList.contains("lyteMenuHidden")&&this.getData("ltPropSetCss")){var o,i,a,l=this.getData("ltPropCallout"),n=e,r=this.$node.element,s=window.innerWidth,d=this.getData("ltPropScope");if(d){var p={target:r},c=this.closestFind.call(this,this.composePath.call(this,p),d);if(c){var h=c.getBoundingClientRect();i=this.rtlfunc.call(this,"left",h,s)<0?0:this.rtlfunc.call(this,"left",h,s),o=s>this.rtlfunc.call(this,"right",h,s)?this.rtlfunc.call(this,"right",h,s):s,a=!0}}a||(o=s,i=0);var u,y,m,g,f=window.innerHeight,v=0,b=n.getBoundingClientRect(),D=this.menuBody.getBoundingClientRect(),P=window.getComputedStyle(this.menuBody),C="content-box"==P.boxSizing?parseFloat(P.paddingTop)+parseFloat(P.borderTopWidth)+parseFloat(P.borderBottomWidth)+parseFloat(P.paddingBottom):0,L=D.height-C,x=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),w=window.pageYOffset||document.documentElement.scrollTop,_=n.offsetHeight,S=n.offsetWidth,T=e.querySelector(".lyteArrow"),M=this.getData("ltPropPosition"),E=r.getBoundingClientRect(),k=T?T.getBoundingClientRect():{width:0,height:0},A=k.height/2,N=k.width/2,I=this.data.ltPropOffset||{};I.left&&(i+=I.left),I.top&&(v+=I.top),I.right&&(o-=I.right),I.bottom&&(f-=I.bottom);var F,$,R,B,O,H,q=this.rtlfunc.call(this,"left",E,s),U=this.rtlfunc.call(this,"left");if(T&&(T.style.removeProperty("left"),T.style.removeProperty("top"),T.style.removeProperty("bottom"),T.style.removeProperty("right")),"down"===M)u=!0,($=E.top+E.height)+_>f&&(u=f-E.top>E.bottom-v),y=!0,(R=q)+S>o&&R>R+E.width-n.offsetWidth?y=!1:q+S<=o&&(y=!0),E.width>S&&(T.style[U]=(S/2-0)/S*100+"%"),u?(O="down",l?(this.setCorrectClass("lyteArrowTop"),F=this.setTopBelowForDown(r,E,w)+A+"px"):n.style.top=this.setTopBelowForDown(r,E,w)+"px"):(O="up",l?(this.setCorrectClass("lyteArrowBottom"),F=this.setTopAboveForDown(r,n,E,b,w)-A+"px"):n.style.top=this.setTopAboveForDown(r,n,E,b,w)+"px"),y?(l&&(H=Math.max(E.width/2-N,N/2)/(B=S/100),T.style[U]=H+"%"),n.style.top=F||n.style.top,n.style[U]=this.setLeftNotExceedForDown(r,E,x,s)+"px"):(l&&(B=S/100,H=(S-E.width/2-N)/B,T.style[U]=H+"%"),n.style.top=F||n.style.top,n.style[U]=this.setLeftExceedForDown(r,n,E,b,x,s)+"px");else if("right"===M)y=!0,y=!(q+E.width+S>o&&q-b.width>i),u=!0,E.top+b.height>f&&(u=f-E.top>E.bottom-v),y?(O="right",l?(this.setCorrectClass("lyteArrowLeft"),F=this.setLeftForRight(r,E,x,s)+N+"px"):n.style[U]=this.setLeftForRight(r,E,x,s)+"px"):(O="left",l?(this.setCorrectClass("lyteArrowRight"),F=this.setRightForRight(r,n,E,b,x,s)-N+"px"):n.style[U]=this.setRightForRight(r,n,E,b,x,s)+"px"),u?(l&&(T.style.top=Math.max(E.height/2-A,A/2)+"px"),n.style[U]=F||n.style[U],n.style.top=this.setTopForRight(r,E,w,s)+"px"):(l&&(T.style.bottom=Math.max(E.height/2-A,A/2)+"px"),n.style[U]=F||n.style[U],n.style.top=this.setTopForRightAbove(r,n,E,b,w,s)+"px");else if("up"===M)m=!0,E.top-b.height<v&&(m=f-E.top<E.bottom-v),y=!0,q+S>o&&q>q+E.width-n.offsetWidth?y=!1:q+S<=o&&(y=!0),E.width>S&&T&&(T.style[U]=(S/2-0)/S*100+"%"),m?(O="up",l?(this.setCorrectClass("lyteArrowBottom"),F=this.setTopAboveForDown(r,n,E,b,w)-A+"px"):n.style.top=this.setTopAboveForDown(r,n,E,b,w)+"px"):(O="down",l?(this.setCorrectClass("lyteArrowTop"),F=this.setTopBelowForDown(r,E,w)+A+"px"):n.style.top=this.setTopBelowForDown(r,E,w,s)+"px"),y?(l&&(H=Math.max(E.width/2-N,N/2)/(B=S/100),T.style[U]=H+"%"),n.style.top=F||n.style.top,n.style[U]=this.setLeftNotExceedForDown(r,E,x,s)+"px"):(l&&(B=S/100,H=(S-E.width/2-N)/B,T.style[U]=H+"%"),n.style.top=F||n.style.top,n.style[U]=this.setLeftExceedForDown(r,n,E,b,x,s)+"px");else if("left"===M)g=!0,g=!(q-b.width<i&&q+b.width<o),u=!0,E.top+b.height>f&&(u=f-E.top>E.bottom-v),g?(O="left",l?(this.setCorrectClass("lyteArrowRight"),F=this.setRightForRight(r,n,E,b,x,s)-N+"px"):n.style[U]=this.setRightForRight(r,n,E,b,x,s)+"px"):(O="right",l?(this.setCorrectClass("lyteArrowLeft"),F=this.setLeftForRight(r,E,x,s)+N+"px"):n.style[U]=this.setLeftForRight(r,E,x)+"px"),u?(l&&(T.style.top=Math.max(E.height/2-A,A/2)+"px"),n.style[U]=F||n.style[U],n.style.top=this.setTopForRight(r,E,w)+"px"):(l&&(T.style.bottom=Math.max(E.height/2-A,A/2)+"px"),n.style[U]=F||n.style[U],n.style.top=this.setTopForRightAbove(r,n,E,b,w)+"px");else if("downLeft"===M){if(u=!0,($=E.top+E.height)+_>f&&(u=f-E.top>E.bottom-v),u||($=E.top-_),y=!1,l&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(R=Math.max(q+E.width/2-S,q-S+2*A))<i?(R=i,y=!0):y=!1,n.style.top=$+A*(u?1:-1)+w+"px",n.style[U]=R+x+"px",l)Y=y?q+.25*E.width-R+"px":Math.min(S-.25*E.width,S-1.5*A-3)+"px",T.style[U]=Y;O=u?"downLeft":"upLeft"}else if("downRight"===M){if(u=!0,($=E.top+E.height)+_>f&&(u=f-E.top>E.bottom-v),u||($=E.top-_),y=!0,l&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(R=Math.min(q+E.width/2,q+E.width-2*A))+S>o?(R=o-S,y=!1):y=!0,n.style.top=$+A*(u?1:-1)+w+"px",n.style[U]=R+x+"px",l)Y=y?Math.max(.25*E.width,N/2)+"px":q+.25*E.width-R+"px",T.style[U]=Y;O=u?"downRight":"upRight"}else if("upLeft"===M){if(u=!1,($=E.top-_)<v&&(u=f-E.top>E.bottom-v),u&&($=E.top+E.height),y=!1,l&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(R=Math.max(q+E.width/2-S,q-S+2*A))<i?(R=i,y=!0):y=!1,n.style.top=$+A*(u?1:-1)+w+"px",n.style[U]=R+x+"px",l)Y=y?q+.25*E.width-R+"px":Math.min(S-.25*E.width,S-1.5*A-3)+"px",T.style[U]=Y;O=u?"downLeft":"upLeft"}else if("upRight"===M){if(u=!1,($=E.top-_)<v&&(u=f-E.top>E.bottom-v),u&&($=E.top+E.height),y=!0,l&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(R=Math.min(q+E.width/2,q+E.width-2*A))+S>o?(R=o-S,y=!1):y=!0,n.style.top=$+A*(u?1:-1)+w+"px",n.style[U]=R+x+"px",l)Y=y?Math.max(.25*E.width,N/2)+"px":q+.25*E.width-R+"px",T.style[U]=Y;O=u?"downRight":"upRight"}else if("downAlignLeft"===M){if(u=!0,($=E.top+E.height)+_>f&&(u=f-E.top>E.bottom-v),u||($=E.top-_),y=!1,l&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(R=Math.max(q+E.width-S,q-S+2*A))<i?(R=Math.max(Math.min(q,q+E.width-2*A),i),y=!0):(R=Math.min(o-S,R),y=!1),n.style.top=$+A*(u?1:-1)+w+"px",n.style[U]=R+x+"px",l)Y=y?(E.right-R)/2+"px":Math.min((q-R+S)/2,S-1.5*A-3)+"px",T.style[U]=Y;O=u?"downAlignLeft":"upAlignLeft"}else if("downAlignRight"===M){if(u=!0,($=E.top+E.height)+_>f&&(u=f-E.top>E.bottom-v),u||($=E.top-_),y=!0,l&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(R=Math.min(q,q+E.width-2*A))+S>o?(R=Math.min(Math.max(q+E.width-S,q-S+2*A),o-S),y=!1):(R=Math.max(R,0),y=!0),n.style.top=$+A*(u?1:-1)+w+"px",n.style[U]=R+x+"px",l)Y=y?Math.max(.5*(this.rtlfunc.call(this,"right",E,s)-R-N),N/2)+"px":.5*(-R+S+q)+"px",T.style[U]=Y;O=u?"downAlignRight":"upAlignRight"}else if("upAlignLeft"===M){if(u=!1,($=E.top-_)<v&&(u=f-E.top>E.bottom-v),u&&($=E.top+E.height),y=!1,l&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(R=Math.max(q+E.width-S,q-S+2*A))<i?(R=Math.max(Math.min(q,q+E.width-2*A),i),y=!0):(R=Math.min(o-S,R),y=!1),n.style.top=$+A*(u?1:-1)+w+"px",n.style[U]=R+x+"px",l)Y=y?(E.right-R)/2+"px":Math.min((q-R+S)/2,S-1.5*A-3)+"px",T.style[U]=Y;O=u?"downAlignLeft":"upAlignLeft"}else if("upAlignRight"===M){var Y;if(u=!1,($=E.top-_)<v&&(u=f-E.top>E.bottom-v),u&&($=E.top+E.height),y=!0,l&&this.setCorrectClass(u?"lyteArrowTop":"lyteArrowBottom"),(R=Math.min(q,q+E.width-2*A))+S>o?(R=Math.min(Math.max(q+E.width-S,q-S+2*A),o-S),y=!1):(R=Math.max(R,i),y=!0),n.style.top=$+A*(u?1:-1)+w+"px",n.style[U]=R+x+"px",l)Y=y?Math.max(.5*(this.rtlfunc.call(this,"right",E,s)-R-N),N/2)+"px":.5*(-R+S+q)+"px",T.style[U]=Y;O=u?"downAlignRight":"upAlignRight"}parseFloat(n.style.top)-w+L>f&&E.top<=f&&(this.menuBody.style.height=f-parseFloat(n.style.top)+w-C+"px",L=parseFloat(this.menuBody.style.height)),parseFloat(n.style.top)-w<v&&E.bottom>=v&&(this.menuBody.style.height=parseFloat(n.style.top)+L-v+"px",n.style.top=v+"px",L=parseFloat(this.menuBody.style.height)),this._hgt=L,n.classList.contains("lyteHoverMenu")&&($L(n).removeClass("topPlace","bottomPlace","rightPlace","leftPlace"),/up/.test(O)?n.classList.add("topPlace"):/down/.test(O)?n.classList.add("bottomPlace"):/right/.test(O)?n.classList.add("rightPlace"):/left/.test(O)&&n.classList.add("leftPlace")),u?$L(this.childComp).removeClass("lyteMenuUp").addClass("lyteMenuDown"):$L(this.childComp).removeClass("lyteMenuDown").addClass("lyteMenuUp"),this.setData("pos",O)}},checkForBoundary:function(t,e){var o=this.getData("ltPropBoundary");(o.hasOwnProperty("left")&&this.rtlfunc.call(this,"left",t,e)<this.rtlfunc.call(this,"left",o,e)||o.hasOwnProperty("right")&&this.rtlfunc.call(this,"right",t,e)>this.rtlfunc.call(this,"right",o,e)||o.hasOwnProperty("top")&&t.top<o.top||o.hasOwnProperty("bottom")&&t.bottom>o.bottom)&&this.hideMenu.call(this)},traverseList:function(t){var e=t.keyCode||t.which;if(!(this.childComp&&this.childComp.classList.contains("lyteMenuHidden")||13!=e&&40!=e&&38!=e&&36!=e&&35!=e)){var o=this.childComp.querySelector(".lyteMenuSelection");if(!o||!o.offsetParent)if(35!=e){var i=this.childComp.querySelector("lyte-menu-item:not(.lyteSearchHidden)");if(i&&i.offsetParent)return void i.classList.add("lyteMenuSelection")}else $L("lyte-menu-item:not(.lyteSearchHidden)",this.childComp).eq(-1).addClass("lyteMenuSelection");for(var a=this.childComp.querySelectorAll("lyte-menu-item:not(.lyteSearchHidden)"),l=0;l<a.length&&(!a[l].offsetParent||!a[l].classList.contains("lyteMenuSelection"));l++);if(13==e)a[l].dispatchEvent(new Event("click",{bubbles:!0})),t.preventDefault();else if(38==e&&0!=l){var n=l;for(l-=1;l>-1&&(a[l].classList.contains("lyteMenuActive")||a[l].classList.contains("lyteMenuFiltered")||!a[l].offsetParent);l--);-1!=l&&(a[n].classList.remove("lyteMenuSelection"),a[l].classList.add("lyteMenuSelection"),this.scrIntoView.call(this,a[l]))}else if(40==e&&l!=a.length-1){n=l;for(l+=1;l<a.length&&(a[l].classList.contains("lyteMenuActive")||a[l].classList.contains("lyteMenuFiltered")||!a[l].offsetParent);l++);l!=a.length&&(a[n].classList.remove("lyteMenuSelection"),a[l].classList.add("lyteMenuSelection"),this.scrIntoView.call(this,a[l]))}else if(36==e&&a.length&&this.data.ltPropAria){if(o==a[0])return;o.classList.remove("lyteMenuSelection"),a[0].classList.add("lyteMenuSelection"),this.scrIntoView.call(this,a[0])}else if(35==e&&a.length&&this.data.ltPropAria){if(o==$L(a).get(-1))return;o.classList.remove("lyteMenuSelection"),$L(a).get(-1).classList.add("lyteMenuSelection"),this.scrIntoView.call(this,$L(a).get(-1))}}},setFreeze:function(t){var e=document.body.querySelectorAll(".lytemenufreezelayer:not(.nogroup)");$L.fastdom.measure(function(){var o=document.body.querySelector(".lytemenufreezelayer.left"),i=t.getBoundingClientRect(),a=window.innerWidth;$L.fastdom.mutate(function(){o.style.height=i.height+"px",o.style.width=Math.max(i.left,0)+"px",o.style.top=i.top+"px",(o=document.body.querySelector(".lytemenufreezelayer.right")).style.height=i.height+"px",o.style.width=Math.max(a-i.right,0)+"px",o.style.top=i.top+"px",(o=document.body.querySelector(".lytemenufreezelayer.top")).style.height=i.top+"px",(o=document.body.querySelector(".lytemenufreezelayer.bottom")).style.height=window.innerHeight-i.bottom+"px";for(var t=0;t<e.length;t++)e[t].classList.remove("lyteMenuHidden"),e[t].addEventListener("wheel",this.preventEvent),e[t].addEventListener("touchmove",this.preventEvent)}.bind(this))}.bind(this))},preventEvent:function(t){if(!(t.metaKey||t.shiftKey||t.ctrlKey)){var e="touchmove"==t.type;if(e&&1!=t.touches.length)return;("wheel"==t.type||e)&&t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation()}},addScrollPos:function(t){document.menu&&(t.target!=window&&document.menu.childComp.contains(t.target)||document.menu.callScrollFunc(t,!0))},removeFreeze:function(){if(!document.menu||this.data.ltPropAnimate&&this.data.ltPropFreeze){for(var t=document.body.querySelectorAll(".lytemenufreezelayer"),e=0;e<t.length;e++)t[e].classList.add("lyteMenuHidden"),t[e].removeEventListener("wheel",this.preventEvent);document.body.classList.remove("lyteBodyWrapper")}},setZIndex:function(t){var e=this.$node.element;if(e){for(;e&&"HTML"!=e.tagName;){if(e.classList.contains("lyteMenuGroup")){t?this.removeFreeze.call(this):(this.setFreeze.call(this,e),document.body.classList.add("lyteBodyWrapper"));break}e=e.parentNode}if(e&&"HTML"==e.tagName||!e)if(t&&!document.menu)this.removeFreeze.call(this);else document.body.querySelector(".lytemenufreezelayer.nogroup").classList.remove("lyteMenuHidden"),document.body.classList.add("lyteBodyWrapper")}},ariaObs:function(t){this.data.ltPropAria&&_lyteUiUtils.setAttribute(this.childComp,this.data.ltPropAriaAttributes||{},t?t.oldValue:{})}.observes("ltPropAriaAttributes","ltPropAriaAttributes.{}").on("didConnect"),callScrollFunc:function(t,e){var o=this.menuBody,i=-1!=o.style.height.indexOf("px"),a=Object.keys(this.data.ltPropBoundary||{}).length,l=e&&a&&this.$node.element?this.$node.element.getBoundingClientRect():void 0,n=e&&a&&this.$node.element?window.innerWidth:void 0,r=this.$node.ltProp("height"),s=this.data.ltPropHeightResetOnScroll,d="contextmenu"==this.$node.ltProp("event");i&&s?(o.style.height=r||"",e&&a&&$L.fastdom.measure(this.checkForBoundary.bind(this,l,n)),$L.fastdom.measure(this[d?"setContextCss":"setCss"].bind(this,t))):(this[d?"setContextCss":"setCss"](t),e&&a&&this.checkForBoundary(l,n)),this.childMenu&&this.childMenu.callScrollFunc()}});var lyteCloseMenu=function(t,e,o){if((0!=document._lyteMenu.preventClick||e)&&(t&&2!=t.button||e||o))for(var i=document.body.querySelectorAll("lyte-menu:not(.lyteMenuClosed)[lyte-rendered]"),a=0;a<i.length;a++){if(i[a]!=e&&!i[a].component.childComp.classList.contains("lyteMenuHidden"))if(o||!i[a].component.childComp.contains(t.target))if(!i[a].component._hideStarts)i[a].component.hideMenu.call(i[a].component,!e,t,o)&&(i[a].component._hideStarts=!0)}t&&"click"==t.type&&(document._lyteMenu.preventClick=!0)};if(!_lyteUiUtils.registeredCustomElements["lyte-menu-item"]){function menukeypress(t){for(var e=document.querySelectorAll("lyte-menu:not(.lyteMenuClosed)[lyte-rendered]"),o=0;o<e.length;o++){var i=e[o].component;if(!i.childMenu){i._typed=i._typed||"",i._typed+=String.fromCharCode(t.which||t.keyCode),clearTimeout(i._typetime),i._typetime=setTimeout(i.searchFilter.bind(i,i._typed.trim().toLowerCase()),400);break}}}_lyteUiUtils.registeredCustomElements["lyte-menu-item"]=!0,Lyte.createCustomElement("lyte-menu-item",{static:{observedAttributes:{get:function(){return["lyte-shortcut"]}}},attributeChangedCallback:function(t,e,o){if("function"==typeof shortcut){var i=(o=JSON.parse(o)).key,a=o.type,l=o.wait;e=e?JSON.parse(e):{},shortcut.push({newKey:i,type:a,wait:l,oldKey:e.key,value:this})}},connectedCallback:function(){var t=$L(this).closest("lyte-menu-box").get(0);t&&t.parent&&(t.parent.ltProp("aria")&&$L(this).attr("role","menuitem"))}})}(Lyte.Component.register("lyte-messagebox",{_template:'<template tag-name="lyte-messagebox">\n\t<template is="if" value="{{ltPropShow}}">\n\t\t<template case="true"><lyte-wormhole style="visibility: hidden" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}" on-append="{{method(&quot;afterWormholeAppend&quot;)}}">\n\t\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t\t<div class="{{lyteUiMsgBoxConcatClass(ltPropClass,ltPropType,\'MessageIcon\',\'lyteMessageBox\')}}">\n\t\t\t\t\t<template is="if" value="{{ltPropType}}"><template case="true">\n\t\t\t\t\t<span class="lyteMessageBoxSymbol"></span>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t<span class="lyteMessageBoxContent">\n\t\t\t\t\t\t\t<lyte-yield yield-name="messageboxYield"></lyte-yield>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t<template is="if" value="{{lyteUiIfEquals(ltPropMessage,\'\')}}">\n\t\t\t\t\t\t\t<template case="false"><div>\n\t\t\t\t\t\t\t\t<span class="lyteMessageBoxContent">{{ltPropMessage}}</span>\n\t\t\t\t\t\t\t</div></template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<span class="lyteMessageBoxClose" onclick="{{action(\'closeMessageBox\')}}"></span>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</lyte-wormhole></template>\n\t</template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"registerYield",position:[0,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{false:{dynamicNodes:[{type:"text",position:[0,1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,5]}]},{type:"componentDynamic",position:[0]}]}},default:{}}],_observedAttributes:["ltPropType","ltPropShow","ltPropMessage","ltPropDuration","ltPropOffset","ltPropTransition","ltPropYield","ltPropClass"],init:function(){},data:function(){return{ltPropType:Lyte.attr("string",{default:"success"}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropMessage:Lyte.attr("string",{default:""}),ltPropDuration:Lyte.attr("string",{default:"2000"}),ltPropOffset:Lyte.attr("object",{default:null}),ltPropTransition:Lyte.attr("object",{default:{animation:"fadeIn",duration:"0.2s"}}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropClass:Lyte.attr("string",{default:""})}},setDuration:function(){var t=this.$node.ltProp("duration");""!=t&&this.setData("ltPropDuration",t)}.observes("ltPropDuration"),computeOffsetImpl:function(){var t=this.actualMessageDiv,e=t.getBoundingClientRect(),o=Object.assign({},this.$node.ltProp("offset")),i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(this.$node.ltProp("offset")){if("center"===o.left||"center"===o.right||void 0==o.left||""==o.left){var l=(i-e.width)/2;l<0&&(l=20),o.left=l+"px"}if("center"===o.top||"center"===o.bottom){var n=(a-e.height)/2;n<0&&(n=20),o.top=n+"px"}o.right&&"center"!==o.right&&(o.right.indexOf("%")>-1?o.left=i-(e.width+i/parseFloat(o.right))+"px":o.left=i-(e.width+parseFloat(o.right))+"px"),o.bottom&&"center"!==o.bottom&&(o.bottom.indexOf("%")>-1?o.top=a-(e.height+a/parseFloat(o.bottom))+"px":o.top=a-(e.height+parseFloat(o.bottom))+"px"),o.top||(o.top=20),t.style.left=parseFloat(o.left)+"px","slideFromTop"!=this.getData("ltPropTransition").animation?(this.actualMessageDiv.style.visibility="visible",t.style.top=parseFloat(o.top)+"px"):(t.style.top=-1*e.height+"px",this.childComp.style.visibility="visible",this.actualMessageDiv.style.visibility="visible",t.style.transform="translate(0px,"+(parseFloat(o.top)+e.height)+"px)")}else{var r;r=(document.body.clientWidth-e.width)/2,t.style.left=parseFloat(r)+"px","slideFromTop"!=this.getData("ltPropTransition").animation?(this.actualMessageDiv.style.visibility="visible",t.style.top="20px"):(t.style.top=-1*e.height+"px",this.childComp.style.visibility="visible",this.actualMessageDiv.style.visibility="visible",t.style.transform="translate(0px,"+(e.height+20)+"px)")}},closeMessageBoxFn:function(t){this.timeOutId&&(clearTimeout(this.timeOutId),this.timeOutId=!1),this.childComp&&document.contains(this.childComp)&&this.childComp.remove(),delete this.actualMessageDiv,delete this.childComp,!t&&this.getMethods("onClose")&&this.executeMethod("onClose",this)},showToggled:function(){if(this.$node.ltProp("show")){var t=parseInt(this.getData("ltPropDuration")),e=this;this.timeOutId=setTimeout(function(){"slideFromTop"!=e.getData("ltPropTransition").animation?(e.actualMessageDiv.classList.remove("lyteMessageBoxFadeIn"),e.actualMessageDiv.classList.add("lyteMessageBoxFadeOut"),setTimeout(function(){e.$node&&e.setData("ltPropShow",!1)},500)):(e.actualMessageDiv.style.transform="",setTimeout(function(){e.$node&&e.setData("ltPropShow",!1)},500)),e.timeOutId=!1},t)}else this.closeMessageBoxFn()}.observes("ltPropShow").on("didConnect"),didDestroy:function(){this.timeOutId&&(clearTimeout(this.timeOutId),"slideFromTop"!=this.getData("ltPropTransition").animation&&this.actualMessageDiv?(this.actualMessageDiv.classList.remove("lyteMessageBoxFadeIn"),this.actualMessageDiv.classList.add("lyteMessageBoxFadeOut"),this.setData("ltPropShow",!1)):(this.actualMessageDiv.style.transform="",this.setData("ltPropShow",!1)),this.timeOutId=!1,this.closeMessageBoxFn(!0))},actions:{closeMessageBox:function(){clearTimeout(this.timeOutId);var t=this;"slideFromTop"!=t.getData("ltPropTransition").animation?(t.actualMessageDiv.classList.remove("lyteMessageBoxFadeIn"),t.actualMessageDiv.classList.add("lyteMessageBoxFadeOut"),setTimeout(function(){t.$node&&t.setData("ltPropShow",!1)},500)):(t.actualMessageDiv.style.transform="",setTimeout(function(){t.$node&&t.setData("ltPropShow",!1)},200))}},methods:{beforeWormholeAppend:function(t){this.childComp=t,this.actualMessageDiv=this.childComp.querySelector(".lyteMessageBox"),this.actualMessageDiv.style.position="fixed"},afterWormholeAppend:function(t){"slideFromTop"==this.getData("ltPropTransition").animation?(this.actualMessageDiv.classList.add("lyteMessageBoxSlideFromTop"),this.computeOffsetImpl()):(this.computeOffsetImpl(),this.actualMessageDiv.classList.add("lyteMessageBoxFadeIn"),this.childComp.style.visibility="visible")}}}),Lyte.Component.register("lyte-multislider",{_template:'<template tag-name="lyte-multislider">\n\t<div class="lyteSlide{{if(ltPropDisabled, \' lyteSliderDisabled\', \'\')}}" onkeydown="{{action(\'keydown\', event)}}" tabindex="0" style="width: {{ltPropWidth}}; height: {{ltPropHeight}}">\n\t\t<div class="lyteRangeSlider {{ltPropDirection}}" onclick="{{action(\'click\',event)}}" style="background-color: {{ltPropNonFillColor}}">\n\t\t\t<template is="for" items="{{ltPropValue}}" item="item" index="index">\n\t\t\t\t<div class="lyteSliderFill {{ltPropValue[index].class}}" id="{{{{ltPropValue[index].id}}}}" data-order="{{index}}" style="background-color: {{if(ltPropColor[index], ltPropColor[index], ltPropFillColor)}};left: 0; top: 0;right: 0"></div>\n\t\t\t\t<div data-order="{{index}}" class="lyteSliderHandler {{ltPropHandler}} lyteHandler{{index}} {{item.class}}" lt-prop-title="{{if(ltPropTooltip, item.value, \'\')}}" ontouchstart="{{action(\'mousedown\', event, this, index)}}" onmousedown="{{action(\'mousedown\', event, this, index)}}" lt-prop-tooltip-config="{{ltPropTooltipConfig}}" lt-prop-tooltip-style="{{ltPropTooltipStyle}}" lt-prop-tooltip-class="{{ltPropTooltipClass}}"></div>\n\t\t\t</template>\n\t\t\t<div class="lyteSliderFill endFill" id="endFill" style="right: 0;bottom: 0;left: 0;background-color: {{ltPropFillColor}}"></div>\n\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t<lyte-yield yield-name="lyteMultiSlider"></lyte-yield>\n\t\t\t</template><template case="false">\n\t\t\t\t<div class="lyteScaleOption {{ltPropHandler}}">\n\t\t\t\t\t<template is="for" items="{{divLength}}" index="indexVal">\n\t\t\t\t\t\t<span class="lyteScaleLine" style="{{item}}">\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t<span class="lyteScalLable">{{scaleVal[indexVal]}}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template></template>\n\t\t</div>\n\t</div>\t\n</template>',_dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width: '","ltPropWidth","'; height: '","ltPropHeight"]}}}},{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background-color: '","ltPropNonFillColor"]}}}},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background-color: '",{type:"helper",value:{name:"if",args:["ltPropColor[index]","ltPropColor[index]","ltPropFillColor"]}},"';left: 0; top: 0;right: 0'"]}}}},{type:"attr",position:[3]}]},{type:"attr",position:[1,1,3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'right: 0;bottom: 0;left: 0;background-color: '","ltPropFillColor"]}}}},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",dynamicValue:"item"}}},{type:"text",position:[1,3,0]}]}]}},default:{}}],_observedAttributes:["ltPropMin","ltPropMax","ltPropValue","ltPropDirection","ltPropHandler","ltPropWidth","ltPropFillColor","ltPropNonFillColor","ltPropHeight","ltPropContent","ltPropScaleInterval","ltPropDiscrete","ltPropScaleAppend","ltPropScalePrepend","ltPropColor","ltPropTooltipStyle","ltPropTooltipConfig","ltPropTooltip","ltPropDigits","ltPropMinDiff","ltPropYield","divLength","scaleVal","secArr"],init:function(){this._dir=_lyteUiUtils.getRTL(),this._mv=this.mousemove.bind(this),this._mp=this.mouseup.bind(this),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){this.$node.reRender=function(){this.initObs.call(this),this.dctWrk.call(this)}.bind(this)},dcnt:function(){this._prevent||(clearTimeout(this._time),this._time=setTimeout(this.dctWrk.bind(this),20))}.observes("ltPropValue.[]","ltPropValue","ltPropDirection","ltPropWidth","ltPropHeight","ltPropMin","ltPropMax","ltPropContent.[]","ltPropContent").on("didConnect"),didDestroy:function(){clearTimeout(this._time),clearTimeout(this._time2)},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e.clientX:o-e.right;if("left"==t)return"right"}return e?e[t]:t},hgtObs:function(){var t=this.data,e="lyteHorizontal"==t.ltPropDirection;this._prevent=!0,this.$node.ltProp("width",t.ltPropWidth||(e?"200px":"30px")),this.$node.ltProp("height",t.ltPropHeight||(e?"30px":"200px")),delete this._prevent}.on("init"),initWrk:function(t){this._prevent||(clearTimeout(this._time2),this._time2=setTimeout(this.initObs.bind(this),0,t))}.observes("ltPropContent.[]","ltPropContent","ltPropDiscrete","ltPropScaleInterval","ltPropValue.[]","ltPropValue").on("init"),initObs:function(t){var e=this.data,o="lyteHorizontal"==e.ltPropDirection,i=e.ltPropContent,a=i.length,l=a,n=e.ltPropDiscrete,r=e.ltPropScaleInterval,s=[],d=[],p=this.rtlfunc("left"),c=e.ltPropScalePrepend,h=e.ltPropScaleAppend,u=[],y=e.ltPropValue,m=e.ltPropYield;if(o||(p="top"),this._prevent=!0,a?(e.ltPropMax=100,e.ltPropMin=0,e.ltPropScaleInterval=e.ltPropDiscrete=100/(a-1),a--):(n?r=e.ltPropScaleInterval=n:r||(r=e.ltPropScaleInterval=.1*Math.abs(parseFloat(e.ltPropMax)-parseFloat(e.ltPropMin))),a=Math.abs(parseFloat(e.ltPropMax)-parseFloat(e.ltPropMin))/e.ltPropScaleInterval),!m){d.push(p+": 0"),s.push(c+(l?i[0]:e.ltPropMin)+h);for(var g=1;g<a;g++)d.push(p+":"+100*g/a+"%"),s.push(c+(l?i[g]:e.ltPropMin+r*g*(e.ltPropMin>e.ltPropMax?-1:1))+h);if(l){var f=e.ltPropDiscrete;for(g=0;g<y.length;g++){var v=i.indexOf(y[g].max);u.push({id:g-1,value:i.indexOf(y[g].value)*f,min:Math.max(0,i.indexOf(y[g].min)*f),max:Math.min(100,(-1!=v?v:100)*f)})}}d.push(p+": 100%"),s.push(c+(l?i[l-1]:e.ltPropMax)+h),this.setData("divLength",d),this.setData("scaleVal",s)}this.setData("secArr",l?u:y.slice()),delete this._prevent},dctWrk:function(t,e,o,i){var a=this.data,l=a.secArr.slice().sort(function(t,e){return t.value<e.value?-1:1}),n=(t=t||[],"lyteHorizontal"==a.ltPropDirection),r=a.ltPropContent,s=(r.length,[]),d="width",p=this.rtlfunc("left"),c=(e=e||this.$node.querySelector(".lyteSlide").getBoundingClientRect(),parseFloat(a.ltPropMax)),h=parseFloat(a.ltPropMin),u=this.$node.querySelectorAll(".lyteSliderHandler[ data-order ]"),y=(s=[],this.$node.querySelectorAll(".lyteSliderFill"));n||(d="height",p="top");for(var m=c<h?e[d]:0,g=0;g<l.length;g++){var f=a.secArr.indexOf(l[g]);t.length&&-1==t.indexOf(f)?s.push(void 0):(s.push({node:u[f],id:l.indexOf(l[g])}),s[g].bcr=o||u[f].getBoundingClientRect(),s[g].style=this.getLeft(e[d],s[g].bcr[d],l[g].value,c,h),v=this.findPrevmin.call(this,f,l[g].value))}for(g=0;g<s.length;g++)if(s[g]){var v=y[s[g].id-1];m?(s[g].style=m-s[g].style-s[g].bcr[d],s[g].node.style[p]=s[g].style+"px",y[s[g].id].style[p]=s[g].style+s[g].bcr[d]/2+"px",y[s[g].id].style[d]=Math.max(0,(v?parseFloat(v.style[p]):m)-s[g].bcr[d]/2-s[g].style)+"px",s[g].id+2==y.length&&(y[s[g].id+1].style[p]="0",y[s[g].id+1].style[d]=Math.max(0,s[g].style+s[g].bcr[d]/2)+"px",y[s[g].id+1].setAttribute("range-max",this.convert(r,h))),0==s[g].id&&y[s[g].id].setAttribute("range-min",this.convert(r,c))):(s[g].node.style[p]=s[g].style+"px",y[s[g].id+1].style[p]=s[g].style+s[g].bcr[d]/2+"px",y[s[g].id].style[d]=Math.max(0,s[g].style+s[g].bcr[d]/2-(v?parseFloat(v.style[p])+parseFloat(v.style[d]):0))+"px",s[g].id+2==y.length&&(y[s[g].id+1].style[d]=Math.abs(m-Math.max(e[d]-s[g].style-s[g].bcr[d]/2,0))+"px",y[s[g].id+1].setAttribute("range-max",this.convert(r,c))),0==s[g].id&&y[s[g].id].setAttribute("range-min",this.convert(r,h))),y[s[g].id].setAttribute("range-max",this.convert(r,l[s[g].id].value)),y[s[g].id+1].setAttribute("range-min",this.convert(r,l[s[g].id].value))}!i&&this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},setValues:function(t,e,o){var i={};return void 0==o?(i.left=0,i.width=e+t):(i.left=parseFloat(o.style)+t,i.width=e-i.left+t),i},findPrevmin:function(t,e,o,i,a){var l,n,r=this.data.secArr.slice();if(void 0!=e){for(var s=0;s<r.length;s++)-1==[t,a,i].indexOf(s)&&(r[s].value<=e&&!o?l&&r[s].value>l?(l=r[s].value,n=s):l||(l=r[s].value,n=s):r[s].value>=e&&o&&(l&&r[s].value<l?(l=r[s].value,n=s):l||(l=r[s].value,n=s)));return[n,l]}return r.sort(function(t,e){return t.value<e.value?-1:1}),[n=this.data.secArr.indexOf(r[r.length-1]),this.data.secArr[n].value]},findPrevmin1:function(t,e,o){for(var i,a,l=this.data.secArr.slice(),n=0;n<l.length;n++)n!=t&&(o?e<l[n].value&&(a&&l[n].value<a?(a=l[n].value,i=n):a||(a=l[n].value,i=n)):e>l[n].value&&(a&&l[n].value>a?(a=l[n].value,i=n):a||(a=l[n].value,i=n)));return[i,a]},getLeft:function(t,e,o,i,a){var l=(o-Math.min(a,i))*t/(Math.max(a,i)-Math.min(a,i));return Math.round(100*Math.min(Math.max(l-.5*e,-.5*e),t-.5*e))/100},getValue:function(t,e,o,i,a,l){var n=Math.pow(10,this.data.ltPropDigits);return o>i?Math.min(Math.max(a||i,Math.round((i+(o-i)*e/t)*n)/n),l||o):Math.min(Math.max(a||o,Math.round((o+(i-o)*(t-e)/t)*n)/n),l||i)},convert:function(t,e){if(t.length)return t[Math.round(e/this.data.ltPropDiscrete)];var o=Math.pow(10,this.data.ltPropDigits);return parseInt(e*o)/o},data:function(){return{ltPropMin:Lyte.attr("number",{default:0}),ltPropMax:Lyte.attr("number",{default:void 0}),ltPropValue:Lyte.attr("array",{default:[]}),ltPropDirection:Lyte.attr("string",{default:"lyteHorizontal"}),ltPropHandler:Lyte.attr("string",{default:"lyteArrow"}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropFillColor:Lyte.attr("string",{default:""}),ltPropNonFillColor:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropContent:Lyte.attr("array",{default:[]}),ltPropScaleInterval:Lyte.attr("number"),ltPropDiscrete:Lyte.attr("number"),ltPropScaleAppend:Lyte.attr("string",{default:""}),ltPropScalePrepend:Lyte.attr("string",{default:""}),ltPropColor:Lyte.attr("array",{default:[]}),ltPropTooltipStyle:Lyte.attr("string",{default:""}),ltPropTooltipConfig:Lyte.attr("object",{default:{margin:5,position:"top"}}),ltPropTooltip:Lyte.attr("boolean",{default:!1}),ltPropDigits:Lyte.attr("number",{default:2}),ltPropMinDiff:Lyte.attr("number",{default:0}),ltPropYield:Lyte.attr("boolean",{default:!1}),divLength:Lyte.attr("array",{default:[]}),scaleVal:Lyte.attr("array",{default:[]}),secArr:Lyte.attr("array",{default:[]})}},mousemove:function(t,e){var o,i,a=this._sel,l=this.$node.querySelector(".lyteSlide").getBoundingClientRect(),n=this.data,r="lyteHorizontal"==n.ltPropDirection,s="clientX",d=this.rtlfunc("left"),p="width",c=this._idx,h=n.secArr,u=(this.$node.querySelectorAll(".lyteSliderFill"),n.ltPropDiscrete),y=n.ltPropContent,m=window.innerWidth,g=parseFloat(n.ltPropMax),f=parseFloat(n.ltPropMin),v=[],b=[],D=this.data.ltPropMinDiff,P=t,C="touchmove"==t.type;if(!C||1==t.touches.length){if(C&&(P=t.touches[0]),r||(s="clientY",d="top",p="height"),i=parseFloat(a.style[d]),isNaN(i)&&(this.dctWrk.call(this,[],l,this._bcr,!0),i=parseFloat(a.style[d])),/mousemove|touchmove/.test(t.type)&&(e=parseInt(100*(this.rtlfunc(s,P,m)-this.rtlfunc("right"==d?"left":d,l,m)-this._xoff-parseFloat(a.style[d])))/100),this._prevent=!0,u){var L=this.getValue(l[p],i+e,g,f),x=Math.min(Math.max(Math.round(L/u)*u,0));if(x==n.secArr[c].value&&L!=g&&L!=f||L==n.secArr[c].value)return void delete this._prevent;L!=g&&L!=f||(x=L),e=!y.length&&g<f?this.getLeft(l[p],this._bcr[p],n.secArr[c].value,g,f)-this.getLeft(l[p],this._bcr[p],x,g,f):this.getLeft(l[p],this._bcr[p],x,g,f)-i}y.length&&(D*=u),!isNaN(D)&&(void 0!=(v=this.findPrevmin1(c,h[c].value))[0]?v[1]+=1*D:v[1]=Math.min(g,f),void 0!=(b=this.findPrevmin1(c,h[c].value,!0))[0]?b[1]-=1*D:b[1]=Math.max(g,f),e<0&&h[c].frmMax||e>0&&h[c].frmMin)||(o=h[c].value,Lyte.objectUtils(h[c],"add","value",this.getValue(l[p],i+e+this._bcr[p]/2,g,f,Math.max(h[c].min||v[1],v[1]||h[c].min),Math.min(h[c].max||b[1],b[1]||h[c].max))),Lyte.Component.set(n.ltPropValue[c],"value",this.convert(y,h[c].value)),v=this.findPrevmin(c,h[c].value),void 0!=D&&(v[1]==h[c].value?e>0&&!h[c].frmMax?h[c].frmMin=!0:h[c].frmMin||(h[c].frmMax=!0):(delete h[c].frmMax,delete h[c].frmMin)),this.dctWrk.call(this,[],l,this._bcr,!0),delete this._prevent,t.preventDefault(),/mousemove|touchmove/.test(t.type)&&this.getMethods("onChange")&&o!=h[c].value&&this.executeMethod("onChange",c,n.ltPropValue[c],t,this.$node))}},mouseup:function(t){var e,o="touchend"==t.type;document.removeEventListener(o?"touchmove":"mousemove",this._mv,!0),document.removeEventListener(o?"touchend":"mouseup",this._mp,!0),this.getMethods("onSelect")&&(e=this.executeMethod("onSelect",this._idx,this.data.ltPropValue[this._idx],t,this.$node)),delete this._sel,delete this._xoff,delete this._idx,delete this._bcr,delete this._prevent,0!=e&&o&&t.preventDefault()},callBack:function(t,e){this.getMethods("onSelect")&&this.executeMethod("onSelect",t,this.data.ltPropValue[t],e,this.$node),this.getMethods("onChange")&&this.executeMethod("onChange",t,this.data.ltPropValue[t],e,this.$node)},actions:{mousedown:function(t,e,o){if(2!=t.button){var i="touchstart"==t.type,a=t;if(!(i&&1!=t.touches.length||(i&&(a=t.touches[0]),this.getMethods("onBeforeSelect")&&0==this.executeMethod("onBeforeSelect",e,t,o,this.$node)))){$L.fastdom.mutate(function(){var t=this.$node.querySelector(".lyteMultiSliderSelected");t&&t!=e&&t.classList.remove("lyteMultiSliderSelected"),e.classList.add("lyteMultiSliderSelected")}.bind(this));var l=e.getBoundingClientRect(),n="lyteHorizontal"==this.data.ltPropDirection,r="clientX",s=this.rtlfunc("left"),d=window.innerWidth;n||(r="clientY",s="top","height"),this._xoff=this.rtlfunc(r,a,d)-this.rtlfunc("right"==s?"left":s,l,d),this._sel=e,this._idx=o,this._bcr=l,document.addEventListener(i?"touchmove":"mousemove",this._mv,!0),document.addEventListener(i?"touchend":"mouseup",this._mp,!0),i&&t.preventDefault()}}},click:function(t){var e=t.target,o="width",i="clientX",a=this.rtlfunc("left"),l=this.data,n=!!l.ltPropContent.length;if(!e.classList.contains("lyteSliderHandler")&&e.classList.contains("lyteSliderFill")){"lyteHorizontal"!=this.data.ltPropDirection&&(o="height",i="clientY",a="top");var r,s,d,p=this.$node.querySelector(".lyteSlide").getBoundingClientRect(),c=this.$node.querySelectorAll(".lyteSliderHandler"),h=1,u=window.innerWidth;c.length&&(r=this.getValue(p[o],this.rtlfunc(i,t,u)-this.rtlfunc("right"==a?"left":a,p,u),l.ltPropMax,l.ltPropMin),d=this.findPrevmin1(null,r),((s=this.findPrevmin1(null,r,!0))[1]||Math.max(l.ltPropMax,l.ltPropMin))-r>r-(d[1]||Math.min(l.ltPropMax,l.ltPropMin))?(d[0]=void 0!=d[0]?d[0]:d[0]||s[0],this._sel=c[d[0]],this._idx=d[0]):(s[0]=void 0!=s[0]?s[0]:d[0],this._sel=c[s[0]],this._idx=s[0]),r-l.secArr[this._idx].value<0&&(h=-1),!n&&l.ltPropMin>l.ltPropMax&&(h*=-1),this._bcr=this._sel.getBoundingClientRect(),this.mousemove.call(this,t,h*this.getLeft(p[o],this._bcr[o]/2,Math.abs(r-l.secArr[this._idx].value)+(n?0:Math.min(l.ltPropMin,l.ltPropMax)),l.ltPropMax,l.ltPropMin)),this.callBack.call(this,this._idx,t),$L.fastdom.mutate(function(){var t=this.$node.querySelector(".lyteMultiSliderSelected");t&&t!=this._sel&&t.classList.remove("lyteMultiSliderSelected"),this._sel.classList.add("lyteMultiSliderSelected"),delete this._bcr,delete this._idx,delete this._sel}.bind(this)))}},keydown:function(t){if(-1!=[37,38,39,40].indexOf(t.keyCode)){var e=this.$node.querySelector(".lyteSliderHandler.lyteMultiSliderSelected");if(e){var o=this.data,i="lyteHorizontal"==o.ltPropDirection,a=i?"width":"height",l=1,n=!!o.ltPropContent.length;i?37==t.keyCode&&(l=-1):38==t.keyCode&&(l=-1),this._bcr=e.getBoundingClientRect(),this._idx=parseInt(e.getAttribute("data-order")),this._sel=e,this.mousemove.call(this,t,l*(this.getLeft(this.$node.querySelector(".lyteSlide").getBoundingClientRect()[a],this._bcr[a],o.ltPropScaleInterval+(n?0:Math.min(o.ltPropMin,o.ltPropMax)),o.ltPropMax,o.ltPropMin)+this._bcr[a]/2)),this.callBack.call(this,this._idx,t),delete this._bcr,delete this._idx,delete this._sel,t.preventDefault()}}}}}),LytePopup)||(LytePopup={components:[],bodywrapperCount:0,onEscape:function(t){("key"in(t=t||window.event)?"Escape"==t.key||"Esc"==t.key:27==t.keyCode)&&LytePopup.closePopup(void 0,!0)},bindDocumentKeydown:function(){document.addEventListener("keydown",LytePopup.onEscape,!0)},hideOrShowFreeze:function(t,e){var o,i="",a="",l="",n="";if("open"==t&&LytePopup.components.length>1){for(var r=LytePopup.components.length-2;r>=0;r--)if(i="LYTE-MODAL"==LytePopup.components[r].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[r].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",a="LYTE-MODAL"==e.$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==e.$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",l=LytePopup.components[r].childComp.querySelector(i),n=e.childComp.querySelector(a),o=e.getData("ltPropDimmer")&&e.getData("ltPropDimmer").opacity?e.getData("ltPropDimmer").opacity:"",l&&n){l.style.transition="none",n.style.transition="none",l.style.zIndex=15,l.style.opacity=0,n.style.visibility="visible",n.style.opacity=o,setTimeout(LytePopup.removeTransition,100,n,l),l.style.zIndex="",e.addedFreezeDetails=!0;break}}else if("close"==t&&LytePopup.components.length>1&&LytePopup.components[LytePopup.components.length-1]===e)for(r=LytePopup.components.length-2;r>=0;r--)if(i="LYTE-MODAL"==LytePopup.components[r].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[r].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",a="LYTE-MODAL"==e.$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==e.$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",l=LytePopup.components[r].childComp.querySelector(i),n=e.childComp.querySelector(a),o=LytePopup.components[r].getData("ltPropDimmer")&&LytePopup.components[r].getData("ltPropDimmer").opacity?LytePopup.components[r].getData("ltPropDimmer").opacity:"",l&&n){n.style.transition="none",l.style.transition="none",l.style.zIndex=15,n.style.opacity=0,l.style.visibility="visible",l.style.opacity=o,setTimeout(LytePopup.removeTransition,100,n,l),l.style.zIndex="",n.style.visibility="";break}},removeTransition:function(t,e){t.style.transition="",e.style.transition=""},addPopup:function(t){LytePopup.closePopup();var e=LytePopup.components.length;if(e>0){var o,i="",a="";i="LYTE-MODAL"==LytePopup.components[e-1].$node.tagName?".modalWrapper":"LYTE-POPOVER"==LytePopup.components[e-1].$node.tagName?".popoverWrapper":".alertWrapper",a="LYTE-MODAL"==t.$node.tagName?".modalWrapper":"LYTE-POPOVER"==t.$node.tagName?".popoverWrapper":".alertWrapper";var l=t.childComp.querySelector(a);(o=Number(document.defaultView.getComputedStyle(LytePopup.components[LytePopup.components.length-1].childComp.querySelector(i),null).getPropertyValue("z-index")))+2>Number(document.defaultView.getComputedStyle(l,null).getPropertyValue("z-index"))&&(l.style.zIndex=o+2)}LytePopup.components[e]=t,(t.getData("ltPropFreeze")||"LYTE-ALERT"==t.$node.tagName)&&LytePopup.hideOrShowFreeze("open",t)},closePopup:function(t,e){if(e){var o=LytePopup.components[LytePopup.components.length-1];o&&o.$node.ltProp("closeOnEscape")&&o.$node.ltProp("show",!1)}else if(t){var i=LytePopup.components.indexOf(t);i>-1&&LytePopup.components.splice(i,1)}else for(var a=LytePopup.components.length-1;a>=0;a--){if(LytePopup.components[a].$node&&!LytePopup.components[a].$node.ltProp("allowMultiple"))LytePopup.components[a].$node.ltProp("show",!1)}},getScrollParent:function(t){var e=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY,o="visible"!==e&&"hidden"!==e,i=t&&o?t.scrollHeight:0,a=t&&o?t.clientHeight:0;return t?o&&i>=a?t:LytePopup.getScrollParent(t.parentNode)||document.body:null}}).bindDocumentKeydown();function addModalEvent(t){window.addEventListener("resize",function(t){LytePopup._lyteModalRTId&&(clearTimeout(LytePopup._lyteModalRTId),LytePopup._lyteModalRTId=!1),LytePopup._lyteModalRTId=setTimeout(function(){for(var t=LytePopup.components.length-1;t>=0;t--)LytePopup.components[t].$node&&"LYTE-MODAL"==LytePopup.components[t].$node.nodeName&&"visible"==LytePopup.components[t].childComp.style.visibility&&LytePopup.components[t].childComp.querySelector(".lyteModal")&&(LytePopup.components[t].$node.component.setData("resizeCalled",!0),LytePopup.components[t].$node.component.updateScrollHandling());LytePopup._lyteModalRTId=!1},100)},!0),document.addEventListener("click",function(t){for(var e=t.target;!$L(e).hasClass("modalWrapper")&&"LYTE-MODAL-FREEZE"!=e.tagName&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName||"LYTE-MODAL-FREEZE"==e.tagName)for(var o=LytePopup.components.length-1;o>=0;o--)if("LYTE-MODAL"==LytePopup.components[o].$node.tagName&&"visible"==LytePopup.components[o].childComp.style.visibility){var i=LytePopup.components[o].$node;if(i&&i.component.getData("ltPropOverlayClose")){i.ltProp("show",!1);break}}},!0)}Lyte.Component.register("lyte-modal",{_template:'<template tag-name="lyte-modal">\n\t<template is="if" value="{{expHandlers(ltPropBindToBody,\'&amp;&amp;\',expHandlers(ltPropReRenderModal,\'!\'))}}"><template case="true">\n\t\t<lyte-wormhole case="true" style="{{if(ltPropShowCopy,\'visibility:visible\',\'visibility:hidden\')}}" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}">\n\t\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t\t<div class="modalWrapper {{ltPropWrapperClass}}">\n\t\t\t\t\t<div class="lyteModal">\n\t\t\t\t\t\t<template is="if" value="{{ltPropShowCloseButton}}">\n\t\t\t\t\t\t\t<template case="true"><span class="lyteModalClose" onclick="{{action(\'close\')}}"></span></template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<lyte-yield yield-name="modal"></lyte-yield>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{ltPropFreeze}}">\n\t\t\t\t\t\t<template case="true"><lyte-modal-freeze></lyte-modal-freeze></template>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</lyte-wormhole>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropShowCopy","'visibility:visible'","'visibility:hidden'"]}}}},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"insertYield",position:[1,1,3]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[0]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropFreeze","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropTransition","ltPropOffset","ltPropDimmer","ltPropDraggable","ltPropAllowMultiple","ltPropScrollable","ltPropMaxHeight","ltPropMaxWidth","ltPropWidth","ltPropHeight","ltPropWrapperClass","ltPropBindToBody","ltPropShowCopy","ltPropReRenderModal","ltPropOverlayClose","first","resizeCalled","initializedPosition","prevHeight","returnedFalse","prevModalHeight","prevModalWidth","calculateHW"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropTransition:Lyte.attr("object",{default:{animation:"slideFromTop",duration:"0.5"}}),ltPropOffset:Lyte.attr("object",{default:{top:"center",left:"center"}}),ltPropDimmer:Lyte.attr("object"),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropScrollable:Lyte.attr("boolean",{default:!1}),ltPropMaxHeight:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),ltPropShowCopy:Lyte.attr("boolean",{default:!1}),ltPropReRenderModal:Lyte.attr("boolean",{default:!1}),ltPropOverlayClose:Lyte.attr("boolean",{default:!1}),first:Lyte.attr("boolean",{default:!0}),resizeCalled:Lyte.attr("boolean",{default:!1}),initializedPosition:Lyte.attr("boolean",{default:!1}),prevHeight:Lyte.attr("number"),returnedFalse:Lyte.attr("boolean",{default:!1}),prevModalHeight:Lyte.attr("number"),prevModalWidth:Lyte.attr("number"),calculateHW:Lyte.attr("boolean",{default:!1})}},addDragHandler:function(){var t=this.actualModalDiv.querySelector("lyte-modal-header");t?(t.parentEle=this,this.$node.ltProp("draggable")?(t.addEventListener("mousedown",this.handleMove,!0),t.addEventListener("touchstart",this.handleMove,!0),t.classList.add("draggable")):(t.removeEventListener("mousedown",this.handleMove,!0),t.removeEventListener("touchstart",this.handleMove,!0),t.classList.remove("draggable"))):(console.warn("This modal is not draggable because it has no header"),this.$node.ltProp("draggable",!1))},handleMove:function(t){var e=t.currentTarget.parentEle.actualModalDiv;LytePopup.node=e,"mousedown"==t.type&&(mouseOffset={x:t.clientX,y:t.clientY}),"touchstart"==t.type&&(mouseOffset={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==t.currentTarget.parentEle.getData("ltPropTransition").animation?(LytePopup.xPos=mouseOffset.x-this.getBoundingClientRect().left,LytePopup.yPos=mouseOffset.y-this.getBoundingClientRect().top):(LytePopup.xPos=mouseOffset.x,LytePopup.yPos=mouseOffset.y);e.getBoundingClientRect();e.style.transitionDuration="0s",(t.type="mousedown")&&(document.body.addEventListener("mousemove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("mouseup",t.currentTarget.parentEle.stopDrag,!0)),(t.type="touchstart")&&(document.body.addEventListener("touchmove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("touchend",t.currentTarget.parentEle.stopDrag,!0))},handleDrag:function(t){var e=LytePopup.node;if(LytePopup.node){var o;if("mousemove"==t.type&&(o={x:t.clientX,y:t.clientY}),"touchmove"==t.type&&(o={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==LytePopup.node.closest("lyte-wormhole")._callee.component.getData("ltPropTransition").animation)e.style.left=o.x-LytePopup.xPos+"px",e.style.top=o.y-LytePopup.yPos+"px";else{var i=LytePopup.node.closest("lyte-wormhole")._callee.component.transform,a=i.x+(o.x-LytePopup.xPos),l=i.y+(o.y-LytePopup.yPos);e.style.transform="translate("+a+"px, "+l+"px)"}window.getSelection().removeAllRanges()}},stopDrag:function(t){for(var e=t.target;e&&e!==document;){if(e.parentEle){"mouseup"==t.type&&(this.removeEventListener("mousemove",e.parentEle.handleDrag,!0),this.removeEventListener("mouseup",e.parentEle.stopDrag,!0)),"touchend"==t.type&&(this.removeEventListener("touchmove",e.parentEle.handleDrag,!0),this.removeEventListener("touchend",e.parentEle.stopDrag,!0));break}e=e.parentElement?e.parentElement:document}if(LytePopup.node){var o=LytePopup.node.closest("lyte-wormhole")._callee.component;if(LytePopup.node.style.transitionDuration=o.getData("ltPropTransition").duration,"fadeIn"!=o.getData("ltPropTransition").animation){var i=new WebKitCSSMatrix(window.getComputedStyle(o.actualModalDiv).transform);o.transform={x:i.m41,y:i.m42}}LytePopup.node=null}},showToggled:function(){var t=t||window.event;if(this.getData("returnedFalse"))this.setData("returnedFalse",!1);else if(this.$node.ltProp("reRenderModal")&&(this.$node.ltProp("show")&&(this.$node.ltProp({showCopy:!1,show:!1}),LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1)),this.$node.ltProp("reRenderModal",!1)),this.timeOutId&&(delete this.timeOutId,this.closeModal(),LytePopup.closePopup(this)),this.$node.ltProp("show")&&!this.$node.ltProp("showCopy")){if(_lyteUiUtils.getRTL()){"slideFromLeft"==this.getData("ltPropTransition").animation?this.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==this.getData("ltPropTransition").animation&&(this.getData("ltPropTransition").animation="slideFromLeft");var e=this.getData("ltPropOffset"),o={};for(key in e)"left"==key&&"center"!=e[key]?o.right=e[key]:"right"==key?o.left=e[key]:o[key]=e[key];this.setData("ltPropOffset",o)}-1!=LytePopup.components.indexOf(this)&&(LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1)),this.$node.ltProp("bindToBody",!0);var i=this;this.beforeShowId=setTimeout(function(){delete i.beforeShowId,i.onBeforeShowHandling()},0)}else if(this.clearFastdomBatch(),this.$node.ltProp("showCopy")){i=this;this.beforeCloseId=setTimeout(function(){delete i.beforeCloseId,i.onBeforeCloseHandling(t)},0)}else-1!=LytePopup.components.indexOf(this)&&(LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1))}.observes("ltPropShow","ltPropReRenderModal").on("didConnect"),clearFastdomBatch:function(){this.fastdomfn1&&$L.fastdom.clear(this.fastdomfn1),this.fastdomfn2&&$L.fastdom.clear(this.fastdomfn2),this.fastdomfn3&&$L.fastdom.clear(this.fastdomfn3),this.fastdomfn4&&$L.fastdom.clear(this.fastdomfn4),this.fastdomfn5&&$L.fastdom.clear(this.fastdomfn5),this.fastdomfn6&&$L.fastdom.clear(this.fastdomfn6),this.fastdomfn7&&$L.fastdom.clear(this.fastdomfn7),this.fastdomfn8&&$L.fastdom.clear(this.fastdomfn8),this.beforeShowId&&clearTimeout(this.beforeShowId)},changeBindToBody:function(){this.getData("ltPropBindToBody")||(LytePopup.closePopup(this),this.actualModalDiv=null,this.childComp=null,this.getData("ltPropShow")?this.setData({ltPropShowCopy:!1,ltPropShow:!1}):this.getData("ltPropShowCopy")&&this.setData("ltPropShowCopy",!1),this.setData("first",!0),this.setData("initializedPosition",!1),this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0==LytePopup.bodywrapperCount&&document.body.classList.remove("bodyWrapper")))}.observes("ltPropBindToBody"),updateScrollHandling:function(){this.$node.ltProp("freeze")||this.setData("calculateHW",!0);var t,e,o,i=this.actualModalDiv,a=i.querySelector("lyte-modal-content");i.style.maxWidth="",i.style.maxHeight="",i.style.height=this.$node.ltProp("height")?this.$node.ltProp("height"):"auto",i.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",this.fastdomfn2=$L.fastdom.measure(function(){delete this.fastdomfn2;var l=i.getBoundingClientRect(),n=i.parentElement.getBoundingClientRect(),r=window.getComputedStyle(i),s=(r.borderTopWidth?parseFloat(r.borderTopWidth):0)+(r.borderBottomWidth?parseFloat(r.borderBottomWidth):0),d=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?parseInt(window.getComputedStyle(i.parentElement).top):0);this.fastdomfn3=$L.fastdom.mutate(function(){if(delete this.fastdomfn3,this.$node.ltProp("maxWidth")?(this.setData("calculateHW",!0),o=-1!=this.$node.ltProp("maxWidth").indexOf("%")?parseFloat(this.$node.ltProp("maxWidth"))/100*n.width:parseFloat(this.$node.ltProp("maxWidth")),i.style.maxWidth=o+"px",i.style.overflowX="auto"):o=l.width,this.$node.ltProp("maxHeight")){this.childComp.querySelector(".modalWrapper").classList.add("scrollable"),this.setData("calculateHW",!0),t=l.height-s;var r=-1!=this.$node.ltProp("maxHeight").indexOf("%")?parseFloat(this.$node.ltProp("maxHeight"))/100*n.height:parseFloat(this.$node.ltProp("maxHeight"));i.style.maxHeight=r+"px",e=r-s}else t=i.offsetHeight-s+1,e=t>d?d-40:t,this.$node.ltProp("scrollable")&&(this.$node.ltProp("height")&&"auto"!=this.$node.ltProp("height")||(e=d-40),this.setData("calculateHW",!0)),a&&a.offsetHeight>t-((this.actualModalDiv.querySelector("lyte-modal-header")?this.actualModalDiv.querySelector("lyte-modal-header").offsetHeight:0)+(this.actualModalDiv.querySelector("lyte-modal-footer")?this.actualModalDiv.querySelector("lyte-modal-footer").offsetHeight:0))&&this.setData("calculateHW",!0);if(this.getData("calculateHW")&&a){var p=this.actualModalDiv.querySelector("lyte-modal-header"),c=this.actualModalDiv.querySelector("lyte-modal-footer"),h=null,u=null;this.fastdomfn4=$L.fastdom.measure(function(){delete this.fastdomfn4,p&&(h=p.offsetHeight),c&&(u=c.offsetHeight);var t=i.getBoundingClientRect().height;this.setData("prevHeight",t),this.fastdomfn5=$L.fastdom.mutate(function(){delete this.fastdomfn5;var t=e-((h||0)+(u||0));a.style.maxHeight=(t>0?t:50)+0+"px",a.style.overflowY="auto",i=null,a=null,p=null,c=null,this.getData("initializedPosition")?this.getData("resizeCalled")&&(this.computeOffsetImplOnResize(),this.setData("resizeCalled",!1)):(this.computeOffsetImpl(),this.setData("initializedPosition",!0))},this)},this)}else this.childComp.querySelector(".modalWrapper").classList.remove("scrollable"),i=null,a=null,this.getData("initializedPosition")?this.getData("resizeCalled")&&(this.computeOffsetImplOnResize(),this.setData("resizeCalled",!1)):(this.computeOffsetImpl(),this.setData("initializedPosition",!0));this.$node.ltProp("freeze")||(this.childComp.querySelector(".modalWrapper").classList.add("noFreeze"),this.actualModalDiv.style.position="fixed")},this)},this)},scrollHandling:function(){this.getData("ltPropShow")&&this.updateScrollHandling()}.observes("ltPropWidth","ltPropMaxWidth","ltPropHeight","ltPropMaxHeight"),callOnShow:function(){this.getMethods("onShow")&&this.executeMethod("onShow",this)},callOnResize:function(){this.getMethods("onResize")&&this.executeMethod("onResize",this)},enableTransform:function(t,e,o){this.$node.ltProp("showCopy",!0);var i=this;setTimeout(function(){"x"==e&&(i.actualModalDiv.style.transform="translate("+t+"px,0px)",i.transform={x:t,y:0}),"y"==e&&(i.actualModalDiv.style.transform="translate(0px,"+t+"px)",i.transform={x:0,y:t})},void 0!=o?o:void 0)},computeOffsetImplOnResize:function(){$L.fastdom.measure(function(){var t=this.actualModalDiv,e=t.getBoundingClientRect(),o=parseInt(window.getComputedStyle(t.parentElement).top),i=t.offsetTop,a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),l=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?o:0),n=this.getData("prevWinH"),r=this.getData("prevWinW"),s=this.transform,d=null,p=null,c=this.getData("ltPropOffset"),h=this.getData("prevModalHeight")-e.height,u=this.getData("prevModalWidth")-e.width;"fadeIn"===this.getData("ltPropTransition").animation||"zoom"===this.getData("ltPropTransition").animation?(a<r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?p=e.left-(r-a)/2:c.right?p=e.left-(r-a):c.left&&(p=e.left)),a>r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?p=e.left+(a-r)/2:c.right?p=e.left+(a-r):c.left&&(p=e.left)),l<n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?d=(l-e.height)/2:c.bottom?d=i-(n-l):c.top&&(d=i)),l>n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?d=(l-e.height)/2:c.bottom&&"center"!=c.bottom?d=i+(l-n):c.top&&"center"!=c.top&&(d=i)),$L.fastdom.mutate(function(){d&&(t.style.top=d+"px"),p&&(t.style.left=p+"px"),this.callOnResize()},this)):(a<r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?p=s.x-(r-a)/2+u/2:c.right?p=s.x-(r-a)+u:c.left&&(p=s.x),this.transform.x=p),a>r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?p=s.x+(a-r)/2+u/2:c.right?p=s.x+(a-r)+u:c.left&&(p=s.x),this.transform.x=p),l<n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?d=s.y-(n-l)/2+h/2:c.bottom?d=s.y-(n-l):c.top&&(d=s.y),this.transform.y=d),l>n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?d=s.y+(l-n)/2+h/2:c.bottom&&"center"!=c.bottom?d=s.y+(l-n):c.top&&"center"!=c.top&&(d=s.y),this.transform.y=d),$L.fastdom.mutate(function(){t.style.transitionDuration="0s","slideFromTop"===this.getData("ltPropTransition").animation||"slideFromBottom"===this.getData("ltPropTransition").animation?(a<r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?t.style.left=e.left-(r-a)/2+u/2+"px":c.right?t.style.left=e.left-(r-a)+u+"px":c.left&&(t.style.left=e.left+"px")),a>r&&(c.left&&"center"==c.left||c.right&&"center"==c.right?t.style.left=e.left+(a-r)/2+u/2+"px":c.right?t.style.left=e.left+(a-r)+u+"px":c.left&&(t.style.left=e.left+"px")),t.style.transform="translate(0px,"+this.transform.y+"px)"):"slideFromLeft"!==this.getData("ltPropTransition").animation&&"slideFromRight"!==this.getData("ltPropTransition").animation||(l<n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?t.style.top=i-(n-l)/2+h/2+"px":c.bottom?t.style.top=i-(n-l)+"px":c.top&&(t.style.top=i+"px")),l>n&&(c.top&&"center"==c.top||c.bottom&&"center"==c.bottom?t.style.top=i+(l-n)/2+h/2+"px":c.bottom&&"center"!=c.bottom?t.style.top=i+(l-n)+"px":c.top&&"center"!=c.top&&(t.style.top=i+"px")),t.style.transform="translate("+this.transform.x+"px,0px)"),this.callOnResize()},this)),this.setData("prevModalHeight",e.height),this.setData("prevModalWidth",e.width),this.setData("prevWinH",l),this.setData("prevWinW",a)},this),modalEle=null},computeOffsetImpl:function(t){var e=this.nodeName&&"LYTE-MODAL"===this.nodeName?this.component:this;this.fastdomfn6=$L.fastdom.measure(function(){if(delete this.fastdomfn6,e.actualModalDiv){var o=e.actualModalDiv,i=Lyte.deepCopyObject(e.$node.ltProp("offset")),a=o.getBoundingClientRect(),l={top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:o.offsetWidth,height:o.offsetHeight},n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(e.getData("ltPropFreeze")?parseInt(window.getComputedStyle(o.parentElement).top):0);if(o.style.transitionDuration=(void 0!=t?t:e.$node.ltProp("transition").duration)+"s",e.setData("prevWinH",r),e.setData("prevWinW",n),e.setData("prevModalHeight",l.height),e.setData("prevModalWidth",l.width),i){if("center"===i.left||"center"===i.right){var s=(n-l.width)/2;s<0&&(s=20),i.left=s}if("center"===i.top||"center"===i.bottom){var d=(r-l.height)/2;d<0&&(d=20),i.top=d}if(i.right&&"center"!==i.right&&(i.right.indexOf("%")>-1?i.left=n-(l.width+n/parseFloat(i.right)):i.left=n-(l.width+parseFloat(i.right))),i.bottom&&"center"!==i.bottom&&(i.bottom.indexOf("%")>-1?i.top=r-(l.height+r/parseFloat(i.bottom)):i.top=r-(l.height+parseFloat(i.bottom))),""!==i.left&&i.left||(e.data.ltPropOffset.left="center",i.left=(n-l.width)/2),""!==i.top&&i.top||(e.data.ltPropOffset.top="center",i.top=(r-l.height)/2),e.getData("ltPropTransition").originElement)if(c=document.querySelector(e.getData("ltPropTransition").originElement)){var p=c.getBoundingClientRect();i.originElementPos={xDiff:p.left+p.width/2-(parseFloat(i.left)+l.width/2),yDiff:p.top+p.height/2-(parseFloat(i.top)+l.height/2)}}else Console.error("The originElement provided does not exist. Kindly Check!");this.fastdomfn7=$L.fastdom.mutate(function(){if(delete this.fastdomfn7,"slideFromTop"==e.getData("ltPropTransition").animation)o.style.left=parseFloat(i.left)+"px",o.style.top=-1*l.height+"px",e.enableTransform(parseInt(i.top)+l.height,"y",t);else if("slideFromBottom"==e.getData("ltPropTransition").animation)o.style.left=parseFloat(i.left)+"px",o.style.top=r+1+"px",e.enableTransform(-1*(r-parseInt(i.top)+1),"y",t);else if("slideFromLeft"==e.getData("ltPropTransition").animation)o.style.top=parseFloat(i.top)+"px",o.style.left=-1*l.width+"px",e.enableTransform(parseInt(i.left)+l.width,"x",t);else if("slideFromRight"==e.getData("ltPropTransition").animation)o.style.top=parseFloat(i.top)+"px",o.style.left=n+1+"px",e.enableTransform(-1*(n-parseInt(i.left)+1),"x",t);else if("fadeIn"==e.getData("ltPropTransition").animation)o.style.left=parseFloat(i.left)+"px",o.style.top=parseFloat(i.top)+"px",e.$node.ltProp("showCopy",!0),o.style.opacity=1;else if("zoom"==e.getData("ltPropTransition").animation){e.$node.ltProp("showCopy",!0);var a="scale(0)";i.originElementPos&&(a="translateX( "+i.originElementPos.xDiff+"px) translateY( "+i.originElementPos.yDiff+"px) scale(0)"),o.style.left=parseFloat(i.left)+"px",o.style.top=parseFloat(i.top)+"px",o.style.transition="none",o.style.transform=a,o.style.opacity=1,setTimeout(function(){o.style.transition="",o.style.transitionDuration=(void 0!=t?t:e.$node.ltProp("transition").duration)+"s",i.originElementPos?o.style.transform="translateX(0) translateY(0) scale(1)":o.style.transform="scale(1)"},50)}e.getData("first")&&(e.callOnShow(),e.setData("first",!1))},e)}else{var c;if(e.setData("ltPropOffset",{left:"center",top:"center"}),i.left=(n-l.width)/2,i.top=(r-l.height)/2,e.$node.ltProp("scrollable")||(i.left<0&&(i.left=20),i.top<0&&(i.top=20)),e.getData("ltPropTransition").originElement)if(c=document.querySelector(e.getData("ltPropTransition").originElement)){p=c.getBoundingClientRect();i.originElementPos={xDiff:p.left+p.width/2-(i.left+l.width/2),yDiff:p.top+p.height/2-(i.top+l.height/2)}}else Console.error("The originElement provided does not exist. Kindly Check!");this.fastdomfn8=$L.fastdom.mutate(function(){if(delete this.fastdomfn8,"slideFromTop"==e.getData("ltPropTransition").animation)o.style.left=i.left+"px",o.style.top=-1*l.height+"px",e.enableTransform(parseInt(i.top)+l.height,"y",t);else if("slideFromBottom"==e.getData("ltPropTransition").animation)o.style.left=i.left+"px",o.style.top=r+1+"px",e.enableTransform(-1*(parseInt(i.top)+l.height+1),"y",t);else if("slideFromLeft"==e.getData("ltPropTransition").animation)o.style.top=i.top+"px",o.style.left=-1*l.width+"px",e.enableTransform(parseInt(i.left)+l.width,"x",t);else if("slideFromRight"==e.getData("ltPropTransition").animation)o.style.top=i.top+"px",_modalEle.style.left=n+1+"px",this.enableTransform(-1*(parseInt(i.left)+l.width+1),"x",t);else if("fadeIn"==e.getData("ltPropTransition").animation)o.style.left=i.left+"px",o.style.top=i.top+"px",e.$node.ltProp("showCopy",!0),o.style.opacity=1;else if("zoom"==e.getData("ltPropTransition").animation){e.$node.ltProp("showCopy",!0);var a="scale(0)";i.originElementPos&&(a="translateX( "+i.originElementPos.xDiff+"px) translateY( "+i.originElementPos.yDiff+"px) scale(0)"),o.style.left=parseFloat(i.left)+"px",o.style.top=parseFloat(i.top)+"px",o.style.transition="none",o.style.transform=a,o.style.opacity=1,setTimeout(function(){o.style.transition="",i.originElementPos?o.style.transform="translateX(0) translateY(0) scale(1)":o.style.transform="scale(1)"},50)}e.getData("first")&&(e.callOnShow(),e.setData("first",!1))},e)}e.$node.ltProp("freeze")&&(document.body.classList.add("bodyWrapper"),LytePopup.bodywrapperCount+=1)}},e),modalEle=null},closeModal:function(){if(_lyteUiUtils.getRTL()){"slideFromLeft"==this.getData("ltPropTransition").animation?this.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==this.getData("ltPropTransition").animation&&(this.getData("ltPropTransition").animation="slideFromLeft");var t=this.getData("ltPropOffset"),e={};for(key in t)"left"==key&&"center"!=t[key]?e.right=t[key]:"right"==key?e.left=t[key]:e[key]=t[key];this.setData("ltPropOffset",e)}"zoom"==this.getData("ltPropTransition").animation&&(this.actualModalDiv.style.opacity="0",this.actualModalDiv.style.transform=""),this.$node.ltProp("freeze")||this.childComp.querySelector(".modalWrapper").classList.remove("noFreeze"),this.$node.ltProp({showCopy:!1,show:!1}),this.getMethods("onClose")&&this.executeMethod("onClose",this),this.$node.ltProp("freeze")?(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")):this.actualModalDiv.style.position="fixed"},onBeforeCloseHandling:function(t){var e=!0;Math.max(document.documentElement.clientWidth,window.innerWidth||0),Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(this.getMethods("onBeforeClose")&&(e=this.executeMethod("onBeforeClose",t,this)),void 0===e||e){if(this.actualModalDiv&&this.childComp){this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails);var o=1e3*parseFloat(this.$node.ltProp("transition").duration),i=this;this.timeOutId=setTimeout(function(){delete i.timeOutId,i.closeModal()},o);var a,l=this.actualModalDiv;l.style.transitionDuration=(0==o?0:o>300?o-200:100)/1e3+"s";var n="scale(0)";$L.fastdom.measure(function(){if(a=l.getBoundingClientRect(),"zoom"==this.getData("ltPropTransition").animation&&this.getData("ltPropTransition").originElement){var t=document.querySelector(this.getData("ltPropTransition").originElement);if(t){var e=t.getBoundingClientRect(),o={top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:l.offsetWidth,height:l.offsetHeight},i={xDiff:e.left+e.width/2-(o.left+o.width/2),yDiff:e.top+e.height/2-(o.top+o.height/2)};n="translateX( "+i.xDiff+"px) translateY( "+i.yDiff+"px) scale(0)"}else Console.error("The originElement provided does not exist. Kindly Check!")}},this),$L.fastdom.mutate(function(){"slideFromTop"==this.getData("ltPropTransition").animation?l.style.transform="translateY(-100%)":"slideFromBottom"==this.getData("ltPropTransition").animation?l.style.transform="translateY(100%)":"slideFromLeft"==this.getData("ltPropTransition").animation?l.style.transform="translateX(-100%)":"slideFromRight"==this.getData("ltPropTransition").animation?l.style.transform="translateX(100%)":"fadeIn"==this.getData("ltPropTransition").animation?l.style.opacity=0:"zoom"==this.getData("ltPropTransition").animation&&(l.style.transform=n),delete this.transform},this),$L.fastdom.mutate(function(){l=null}),l.classList.remove("lyteModalFromTop","lyteModalFromBottom","lyteModalFromLeft","lyteModalFromRight","lyteModalFadeIn","lyteZoom"),this.$node.ltProp("freeze")&&this.childComp.querySelector("lyte-modal-freeze")&&(this.childComp.querySelector("lyte-modal-freeze").style.opacity=0,this.childComp.querySelector("lyte-modal-freeze").style.visibility=""),LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1)}this.$node.alignModal=null}else this.setData("returnedFalse",!0),this.$node.ltProp("show",!0)},onBeforeShowHandling:function(){var t=!0;if(this.getMethods("onBeforeShow")&&(t=this.executeMethod("onBeforeShow",this)),void 0===t||t){this.addDragHandler(),this.updateScrollHandling();var e=this.actualModalDiv;e.style.transitionDuration=this.$node.ltProp("transition").duration+"s";var o="lyteModalFrom";this.actualModalDiv.style,this.actualModalDiv.getBoundingClientRect();switch(this.$node.ltProp("transition").animation){case"slideFromTop":o+="Top";break;case"slideFromBottom":o+="Bottom";break;case"slideFromLeft":o+="Left";break;case"slideFromRight":o+="Right";break;case"fadeIn":o="lyteModalFadeIn";break;case"zoom":o="lyteZoom"}if(this.fastdomfn1=$L.fastdom.mutate(function(){delete this.fastdomfn1,this.actualModalDiv.classList.add(o),this.actualModalDiv.style.opacity="",e=null},this),LytePopup.addPopup(this),this.$node.ltProp("freeze")){var i=this.childComp.querySelector("lyte-modal-freeze").style;this.getData("ltPropDimmer")&&this.getData("ltPropDimmer").color&&(i.background=this.getData("ltPropDimmer").color),this.addedFreezeDetails||(i.opacity=this.getData("ltPropDimmer")&&this.getData("ltPropDimmer").opacity?this.getData("ltPropDimmer").opacity:"")}this.$node.alignModal=this.computeOffsetImpl,this.$node.calculateOffset=this.updateScrollHandling.bind(this)}else this.setData("returnedFalse",!0),this.$node.ltProp({showCopy:!1,show:!1})},didDestroy:function(){this.timeOutId&&(clearTimeout(this.timeOutId),delete this.timeOutId),this.beforeCloseId&&(clearTimeout(this.beforeCloseId),delete this.beforeCloseId),this.childComp&&(this.clearFastdomBatch(),this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.childComp.remove(),delete this.actualModalDiv,delete this.childComp,this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")))},actions:{close:function(){this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp&&delete this.childComp,this.actualModalDiv&&delete this.actualModalDiv,this.childComp=t,this.actualModalDiv=this.childComp.querySelector(".lyteModal")}}}),"complete"===document.readyState||"interactive"===document.readyState?addModalEvent():document.addEventListener("DOMContentLoaded",function(t){addModalEvent(t)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o},writable:!0,configurable:!0}),Lyte.Component.register("lyte-nav",{_template:'<template tag-name="lyte-nav">\n\t<template is="if" value="{{expHandlers(ltPropAlignment,\'!==\',\'vertical\')}}"><template case="true">\n\t\t<template is="if" value="{{ltPropNavYield}}"><template case="true">\n\t\t\t<lyte-yield yield-name="nav" items="{{auxArray}}"></lyte-yield>\n\t\t</template><template case="false">\n\t\t\t<template is="for" items="{{auxArray}}" item="item" index="index">\n\t\t\t\t<lyte-nav-item data-value="{{item[ltPropSystemValue]}}">{{item[ltPropUserValue]}}</lyte-nav-item>\n\t\t\t</template>\n\t\t</template></template>\n\t\t\n\t\t<template is="if" value="{{expHandlers(ltPropType,\'===\',\'collapse\')}}"><template case="true">\n\t\t\t<template is="if" value="{{expHandlers(expHandlers(menuContent.length,\'>\',0),\'||\',showMenu)}}"><template case="true">\n\t\t\t\t<span class="{{ltPropContainerClass}}">\n\t\t\t\t\t<span class="{{ltPropMenuIcon}}"></span>\n\t\t\t\t</span>\n\t\t\t</template></template>\n\t\t\t<lyte-menu lt-prop="{{stringify(ltPropMenu)}}" on-menu-click="{{method(\'itemSelected\')}}" on-before-open="{{method(\'beforeOpen\')}}" on-open="{{method(\'open\')}}" on-before-close="{{method(\'beforeClose\')}}" on-close="{{method(\'close\')}}" before-render="{{method(\'befRender\')}}" after-render="{{method(\'aftRender\')}}">\n\n\t\t\t\t<template is="registerYield" yield-name="yield">\n\t\t\t\t\t<template is="if" value="{{ltPropMenuYield}}"><template case="true">\n\t\t\t\t\t\t<lyte-yield yield-name="menu" items="{{menuContent}}"></lyte-yield>\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t<lyte-menu-body class="{{ltPropNavMenuClass}}">\n\t\t\t\t\t\t\t<template is="for" items="{{menuContent}}" item="item" index="index">\n\t\t\t\t\t\t\t\t<lyte-menu-item data-value="{{item[ltPropSystemValue]}}">\n\t\t\t\t\t\t\t\t\t<lyte-menu-label>\n\t\t\t\t\t\t\t\t\t\t{{item[ltPropUserValue]}}\n\t\t\t\t\t\t\t\t\t</lyte-menu-label>\n\t\t\t\t\t\t\t\t</lyte-menu-item>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</lyte-menu-body>\n\t\t\t\t\t</template></template>\n\t\t\t\t</template>\n\n\t\t\t</lyte-menu>\n\t\t</template></template>\n\t\t\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]}]}},default:{}},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[3]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropMenu","ltPropNavYield","ltPropMenuYield","ltPropItems","ltPropUserValue","ltPropSystemValue","ltPropMaxWidth","ltPropType","ltPropNavMenuClass","ltPropMenuIcon","ltPropContainerClass","ltPropClick","ltPropAlignment","menuContent","auxArray","arrowTop","arrowBot","showMenu"],init:function(){var t=this.getData("ltPropMenu"),e=this.getData("ltPropContainerClass");$L.fastdom.measure(function(){_lyteUiUtils.nav_innerWidth||(_lyteUiUtils.nav_innerWidth=document.documentElement.clientWidth)}),Lyte.objectUtils(t,"add","yield",!0),Lyte.objectUtils(t,"add","query","."+e)},didDestroy:function(){for(var t=this.$node.querySelectorAll("lyte-nav-item"),e=0;e<t.length;e++)t[e].getAttribute("lyte-shortcut")&&t[e].setAttribute("lyte-shortcut",JSON.stringify({}))},createOuterDiv:function(){var t=document.createElement("div");return t.setAttribute("class","lyteNavDiv"),t.style.overflow=window._lyteUiUtils.isMobile?"auto":"hidden",t},show:function(t,e){this.setData("topH",t[0].getBoundingClientRect().height),this.setData("botH",t[1].getBoundingClientRect().height),this.dispArrow.call(this,t,e),this.getMethods("afterRender")&&this.executeMethod("afterRender",this)},construct:function(){for(var t,e=this.getData("ltPropItems")||[],o=0,i=this.getData("ltPropUserValue"),a=this.getData("ltPropSystemValue"),l=[];o<e.length;o++)(t={})[i]=e[o][i],t[a]=e[o][a],Lyte.arrayUtils(l,"push",t);this.setData("auxArray",l)},recalculate:function(){var t,e=this.getCurrentSelected(),o=this.getDataValue(e);this.getData("ltPropClick");this.construct(),(t=this.$node.querySelector('lyte-nav-item[data-value="'+window._lyteUiUtils.escape(o)+'"]'))&&t.setAttribute("selected",!0),this.collapse()},itemsOb:function(){this.recalculate()}.observes("ltPropItems"),getCurrentSelected:function(){var t=this.getData("ltPropClick");return this.$node.querySelector("lyte-nav-item."+t)},getDataValue:function(t){return t?t.getAttribute("data-value"):""},getWidth:function(t){return t?t.getBoundingClientRect().width:0},getMenuWidth:function(){var t,e;return this.setData("showMenu",!0),t=this.$node.querySelector("."+this.getData("ltPropContainerClass")),e=this.getWidth(t),this.setData("showMenu",!1),e},calculate:function(){var t,e,o=this.getData("auxArray"),i=[],a=[],l=this.$node.getBoundingClientRect(),n=parseFloat(this.getData("ltPropMaxWidth"))/100,r=l.width*n,s=0,d=(o.length,this.getData("ltPropSystemValue")),p=0,c=this.getCurrentSelected(),h=this.getDataValue(c);for(p=p+this.getWidth(c)+this.getMenuWidth();s<o.length;s++)(e=o[s])[d]!==h&&(p+=this.getWidth(this.$node.querySelector('lyte-nav-item[data-value="'+window._lyteUiUtils.escape(e[d])+'"]')))>r&&(Lyte.arrayUtils(i,"push",e),a.push(s));for(this.setData("menuContent",i);!isNaN(t=a.pop());)Lyte.arrayUtils(o,"removeAt",t,1)},collapse:function(){$L.fastdom.measure(this.calculate,this)},didConnect:function(){var t,e,o,i,a,l,n,r=this.getData("ltPropAlignment"),s=this.$node,d=window._lyteUiUtils.isMobile,p=s.children,c=p.length;if("horizontal"===r)t=this.getData("ltPropType"),(this.getData("ltPropItems")||[]).length>0&&(this.construct(),"collapse"===t&&this.collapse());else if("vertical"===r){for(e=this.createOuterDiv(),o=s.querySelectorAll("lyte-arrow"),i=0;i<c;i++)p[0].prevent=!0,l=p[0],p[0].hasAttribute("selected")&&"false"!==p[0].getAttribute("selected")&&(n=p[0]).removeAttribute("selected"),_lyteUiUtils.appendChild(e,p[0]),l.prevent=!1,l=null;_lyteUiUtils.appendChild(s,e),n&&n.setAttribute("selected","true"),n=null,0==o.length?(this.addArrow("arrow-up"),this.addArrow("arrow-down")):(s.insertBefore(o[0],s.children[0]),s.appendChild(o[1])),o=s.querySelectorAll("lyte-arrow"),$L.fastdom.measure(this.show.bind(this,o,e)),a=s.querySelector(".lyteNavDiv"),d?(o[0].addEventListener("touchstart",this.moveup.bind(this)),o[1].addEventListener("touchstart",this.movedown.bind(this))):(o[0].addEventListener("mouseenter",this.moveup.bind(this)),o[1].addEventListener("mouseenter",this.movedown.bind(this)));var h=this;d?(this.prev=a.scrollTop,a.addEventListener("scroll",function(t){var e,i,l,n=a.scrollHeight,r=a.scrollTop,s=a.getBoundingClientRect().height,d=h.prev,p=Math.floor(r-d),c=h.getData("stopHandler");h.prev=r,e=o[0].getBoundingClientRect().height,i=o[1].getBoundingClientRect().height,t.preventDefault(),0==p||c||(p>0?("none"===o[0].style.display&&(o[0].style.display="inline-block",l=(e=h.getData("topH"))+i,a.style.height="calc(100% - "+l+"px)"),Math.abs(r+s-n)<=5&&(o[1].style.display="none",a.style.height="calc(100% - "+e+"px)")):("none"===o[1].style.display&&n-(r+s)>=30&&(o[1].style.display="inline-block",l=e+(i=h.getData("botH")),a.style.height="calc(100% - "+l+"px)"),r<=0&&(o[0].style.display="none",a.style.height="calc(100% - "+i+"px)")))})):a.addEventListener("wheel",function(t){var e,i,l,n=t.deltaY,r=a.scrollHeight,s=a.getBoundingClientRect().height,d=a.scrollTop;t.preventDefault(),Math.floor(r)!=Math.floor(s)&&(e=o[0].getBoundingClientRect().height,i=o[1].getBoundingClientRect().height,n<0&&(d=a.scrollTop=a.scrollTop-6,"none"===o[1].style.display&&(o[1].style.display="inline-block",l=e+(i=h.getData("botH")),a.style.height="calc(100% - "+l+"px)"),d<=0&&(o[0].style.display="none",a.style.height="calc(100% - "+i+"px)")),n>0&&(d=a.scrollTop=a.scrollTop+6,"none"===o[0].style.display&&(o[0].style.display="inline-block",l=(e=h.getData("topH"))+i,a.style.height="calc(100% - "+l+"px)"),Math.floor(s)+Math.floor(d)>=Math.floor(r)&&(o[1].style.display="none",a.style.height="calc(100% - "+e+"px)")))}),d?(o[0].addEventListener("touchend",this.removeup.bind(this)),o[1].addEventListener("touchend",this.removedown.bind(this)),o[0].addEventListener("touchcancel",this.removeup.bind(this)),o[1].addEventListener("touchcancel",this.removedown.bind(this))):(o[0].addEventListener("mouseleave",this.removeup.bind(this)),o[1].addEventListener("mouseleave",this.removedown.bind(this)))}},removedown:function(){this.setData("stopHandler",!1),window.cancelAnimationFrame(this.getData("arrowdid"))},removeup:function(){this.setData("stopHandler",!1),window.cancelAnimationFrame(this.getData("arrowuid"))},down:function(t,e,o){var i,a=t.scrollTop,l=t.scrollHeight,n=t.getBoundingClientRect().height;this.setData("stopHandler",!0),a+n<l&&(a=t.scrollTop=t.scrollTop+3),Math.floor(n)+Math.floor(a)>=l&&(e[1].style.display="none",t.style.height="calc(100% - "+o+"px)"),i=window.requestAnimationFrame(this.down.bind(this,t,e,o)),this.setData("arrowdid",i)},up:function(t,e,o){var i,a=t.scrollTop;this.setData("stopHandler",!0),0!==a&&(a=t.scrollTop=t.scrollTop-3),a<=0&&(e[0].style.display="none",t.style.height="calc(100% - "+o+"px)"),i=window.requestAnimationFrame(this.up.bind(this,t,e,o)),this.setData("arrowuid",i)},movedown:function(){var t,e,o=this.$node,i=o.querySelector(".lyteNavDiv"),a=o.querySelectorAll("lyte-arrow");i.getBoundingClientRect().height,i.scrollHeight;a[0].style.display="inline-block",e=this.getData("topH")+(t=this.getData("botH")),i.style.height="calc(100% - "+e+"px)",window.requestAnimationFrame(this.down.bind(this,i,a,t))},moveup:function(){var t,e,o=this.$node,i=o.querySelector(".lyteNavDiv"),a=o.querySelectorAll("lyte-arrow");i.getBoundingClientRect().height,i.scrollHeight;a[1].style.display="inline-block",e=(t=this.getData("topH"))+this.getData("botH"),i.style.height="calc(100% - "+e+"px)",window.requestAnimationFrame(this.up.bind(this,i,a,t))},addArrow:function(t){var e=document.createElement("i"),o=document.createElement("lyte-arrow"),i=this.$node;e.setAttribute("class",t),o.appendChild(e),-1!==t.indexOf("up")?i.insertBefore(o,i.children[0]):i.appendChild(o)},dispArrow:function(t,e){var o=0,i=0,a=0,l=0;switch(this.getData("arrowTop")&&(i=this.getData("topH"),o=1),this.getData("arrowBot")&&(a=this.getData("botH"),o=1==o?3:2),o){case 1:e.style.height="calc(100% - "+i+"px)",t[1].style.display="none";break;case 2:e.style.height="calc(100% - "+a+"px)",t[0].style.display="none";break;case 3:l=i+a,e.style.height="calc(100% - "+l+"px)"}},recreateFromDv:function(t){for(var e=this.getData("ltPropSystemValue"),o=0,i={},a=this.getData("ltPropUserValue"),l=this.getData("ltPropItems")||[];o<l.length;o++)if(l[o][e]===t)return i[a]=l[o][a],i[e]=t,i},findInd:function(t){for(var e=this.getData("menuContent"),o=0,i=(this.getData("ltPropUserValue"),this.getData("ltPropSystemValue"));o<e.length;o++)if(t==e[o][i])return o},setSelected:function(t){var e=this.$node.querySelector('lyte-nav-item[data-value="'+window._lyteUiUtils.escape(t)+'"]');this.getData("ltPropClick");e&&e.click()},methods:{itemSelected:function(){var t,e,o,i=arguments[4],a=this.getData("ltPropClick"),l=i.element,n=this.getData("auxArray"),r=this.getDataValue(l),s=this.findInd(r),d=this.getData("menuContent"),p=n.length;(t=this.$node.querySelector("lyte-nav-item."+a))&&t.classList.remove(a),o=this.recreateFromDv(r),e=Lyte.arrayUtils(n,"replaceAt",p-1,o),Lyte.arrayUtils(d,"removeAt",s,1),Lyte.arrayUtils(d,"insertAt",s,e),this.setSelected(r),this.getMethods("onMenuClick")&&this.executeMethod("onMenuClick")},beforeOpen:function(){this.getMethods("onBeforeOpen")&&this.executeMethod("onBeforeOpen")},open:function(){this.getMethods("onOpen")&&this.executeMethod("onOpen")},beforeClose:function(){this.getMethods("onBeforeClose")&&this.executeMethod("onBeforeClose")},close:function(){this.getMethods("onClose")&&this.executeMethod("onClose")},befRender:function(){this.getData("beforeMenuRender")&&this.executeMethod("beforeMenuRender")},aftRender:function(){this.getData("afterMenuRender")&&this.executeMethod("afterMenuRender")}},data:function(){return{ltPropMenu:Lyte.attr("object",{default:{}}),ltPropNavYield:Lyte.attr("boolean",{default:!1}),ltPropMenuYield:Lyte.attr("boolean",{default:!1}),ltPropItems:Lyte.attr("array",{default:[]}),ltPropUserValue:Lyte.attr("string",{default:""}),ltPropSystemValue:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:"90%"}),ltPropType:Lyte.attr("string",{default:""}),ltPropNavMenuClass:Lyte.attr("string",{default:"lyteNavMenuClass"}),ltPropMenuIcon:Lyte.attr("string",{default:"lyteNavKebabMenu"}),ltPropContainerClass:Lyte.attr("string",{default:"lyteNavIconContainer"}),ltPropClick:Lyte.attr("string",{default:"lyteNavActive"}),ltPropAlignment:Lyte.attr("string",{default:"horizontal"}),menuContent:Lyte.attr("array",{default:[]}),auxArray:Lyte.attr("array",{default:[]}),arrowTop:Lyte.attr("boolean",{default:!1}),arrowBot:Lyte.attr("boolean",{default:!1}),showMenu:Lyte.attr("boolean",{default:!1})}}}),_lyteUiUtils.registeredCustomElements["lyte-nav-item"]||(_lyteUiUtils.registeredCustomElements["lyte-nav-item"]=!0,Lyte.createCustomElement("lyte-nav-item",{connectedCallback:function(){if(!this.prevent){for(var t,e,o=this,i=this;"LYTE-NAV"!=o.tagName&&"HTML"!=o.tagName;)o=o.parentElement;if("HTML"==o.tagName)return;if(t=o.component,"vertical"===(e=t.getData("ltPropAlignment")))for(;i&&!i.classList.contains("lyteNavDiv");)i=i.parentElement;$L.fastdom.measure(function(){var o;this.hasAttribute("selected")&&this.getAttribute("selected")?i&&"vertical"===e&&(o=this.offsetTop,i.scrollTop=o,0!=o&&t.setData("arrowTop",!0),t.setData("arrowBot",!1)):i&&"vertical"===e&&this.offsetTop+this.getBoundingClientRect().height>i.getBoundingClientRect().height+i.scrollTop&&t.setData("arrowBot",!0)},this),this._eventRegistered||(this._eventRegistered=!0,this.addEventListener("click",function(){this.setAttribute("selected",!0),t.getMethods("onItemSelected")&&t.executeMethod("onItemSelected",this,t)}.bind(this)))}},static:{observedAttributes:{get:function(){return["selected","lyte-shortcut"]}}},attributeChangedCallback:function(t,e,o,i){if(!this.prevent){var a,l,n,r=this;if("lyte-shortcut"===t){if("function"==typeof shortcut){if(!o)return;o=JSON.parse(o),e=e?JSON.parse(e):{},shortcut.push({newKey:o.key,type:o.type,wait:o.wait,oldKey:e.key,value:this})}}else if("selected"==t&&o&&"false"!==o){for(n=this.getAttribute("selected");r&&"LYTE-NAV"!=r.tagName&&"HTML"!=r.tagName;)r=r.parentElement;if(!r||"HTML"==r.tagName)return;a=r.component.getData("ltPropClick"),(l=r.querySelector("."+a))&&l!=this&&l.setAttribute("selected",""),n&&this.classList.add(a)}else if("selected"==t){for(r=this;r&&"LYTE-NAV"!=r.tagName&&"HTML"!=r.tagName;)r=r.parentElement;if(!r||"HTML"==r.tagName)return;a=r.component.getData("ltPropClick"),this.classList.remove(a)}}}}));var LytePopup,_lyteUiNav={resize:function(){for(var t,e=document.querySelectorAll("lyte-nav"),o=(e.length,0);o<e.length;o++)(t=e[o].component)&&"collapse"===t.getData("ltPropType")&&t.recalculate()}};(window.addEventListener("resize",function(t){var e,o=_lyteUiUtils.lyteNavId,i=_lyteUiUtils.isMobile,a=_lyteUiUtils.nav_innerWidth;i&&a?(e=document.documentElement.clientWidth)!==a&&(_lyteUiUtils.nav_innerWidth=e,_lyteUiNav.resize()):i||(window.clearTimeout(o),_lyteUiUtils.lyteNavId=window.setTimeout(function(){_lyteUiNav.resize()},16))}),Lyte.Component.register("lyte-navigator",{_template:'<template tag-name="lyte-navigator">\n<template is="if" value="{{expHandlers(ltPropType,\'==\',&quot;default&quot;)}}"><template case="true">\n\t<div class="lyteNavigator" onclick="{{action(\'clickEvent\', event)}}">\n\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t<div class="lyteNavigator lyteDoubleBack lyteIconDoubleBack"></div>\n\t\t\t<div class="lyteNavigator lyteSingleBack lyteIconSingleBack"></div>\n\t\t\t<template is="if" value="{{expHandlers(ltPropShowOnlyIcon,\'!\')}}"><template case="true">\n\t\t\t\t<div class="lyteNavigatorMidPoint">{{startRecord}} <span class="lyteNavigatorText">{{ltPropMiddleText}}</span> {{endRecord}}</div> \n\t\t\t</template></template>\n\t\t\t<div class="lyteNavigator lyteSingleFront lyteIconSingleFront"></div>\n\t\t\t<div class="lyteNavigator lyteDoubleFront lyteIconDoubleFront"></div>\n\t\t</template><template case="false">\n\t   \t\t\t<lyte-yield yield-name="navigatorYield" start-record="{{startRecord}}" end-record="{{endRecord}}"></lyte-yield>\n\t   \t</template></template>\n\t</div>\n</template></template>\n<template is="if" value="{{expHandlers(ltPropType,\'==\',&quot;simple&quot;)}}"><template case="true">\n\t<div class="lyteNavigator" onclick="{{action(\'clickEvent\', event)}}">\n\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t<div class="lytepagination">\n\t\t\t\t<div class="lyteNavArrow lyteDoubleBack hover"></div>\n\t\t\t\t<div class="lyteNavArrow lyteSingleBack hover">\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<template is="if" value="{{expHandlers(ltPropShowOnlyIcon,\'!\')}}"><template case="true">\n\t\t\t\t\t<div class="lytepage">\n\t\t\t\t\t\t\t<template is="for" items="{{paginationRange}}" item="page" indexval="pageno">\n\t\t\t\t\t\t\t\t<div data-value="{{page}}" class="lytesimple">{{unescape(page)}}</div>\n\t\t\t                </template>\n\t\t\t        </div>\n             \t</template></template>\n\t            <div class="lyteNavArrow lyteSingleFront hover">\n\t\t\t\t</div>\n\t\t\t\t<div class="lyteNavArrow lyteDoubleFront hover"></div>\n\t\t\t</div>\n\t</template><template case="false">\n\t   \t\t<lyte-yield yield-name="navigatorYield" pagination-range="{{paginationRange}}"></lyte-yield>\n\t</template></template>\n\t</div>\n    </template></template>\n    <template is="if" value="{{expHandlers(ltPropType,\'==\',&quot;border&quot;)}}"><template case="true">\n\t<div class="lyteNavigator" onclick="{{action(\'clickEvent\', event)}}">\n\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t<div class="lytepagination">\n\t\t\t\t<div class="lyteNavArrowBorder lyteDoubleBack hover lyteborder"></div>\n\t\t\t\t\t<div class="lyteNavArrowBorder lyteSingleBack hover lyteborder">\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{expHandlers(ltPropShowOnlyIcon,\'!\')}}"><template case="true">\n\t\t\t\t\t\t<div class="lytepage">\n\t\t\t\t\t<template is="for" items="{{paginationRange}}" item="page" indexval="pageno">\n\t\t\t\t\t\t<div data-value="{{page}}" class="lyteborder">{{unescape(page)}}</div>\n\t                </template>\n\t             </div>\n\t        </template></template>\n            <div class="lyteNavArrowBorder lyteSingleFront hover lyteborder">\n\t\t\t</div>\n\t\t\t<div class="lyteNavArrowBorder lyteDoubleFront hover lyteborder"></div>\n\t\t\t</div>\n\t</template><template case="false">\n\t   \t\t<lyte-yield yield-name="navigatorYield" pagination-range="{{paginationRange}}"></lyte-yield>\n\t</template></template>\t\t\n\t</div>\n    </template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[1,2,0]},{type:"text",position:[1,4]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropPerpage","ltPropValue","ltPropRecords","ltPropMoreRecords","ltPropMiddleText","ltPropType","paginationRange","ltPropSelected","ltPropShowOnlyIcon","ltPropShowText","ltPropYield"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){if(this.buttonDisable.call(this),this.checkButton.call(this),"default"!=this.getData("ltPropType")){var t=this.$node.querySelectorAll("lyte-nav-arrow");this.getData("ltPropShowText")&&this.$node.querySelector(".lytepagination").classList.add("textNavLink"),4==t.length&&(this.$node.querySelector(".lyteDoubleBack").appendChild(t[0]),this.$node.querySelector(".lyteSingleBack").appendChild(t[1]),this.$node.querySelector(".lyteSingleFront").appendChild(t[2]),this.$node.querySelector(".lyteDoubleFront").appendChild(t[3])),2==t.length&&(this.$node.querySelector(".lyteDoubleBack").style.display="none",this.$node.querySelector(".lyteSingleBack").appendChild(t[0]),this.$node.querySelector(".lyteSingleFront").appendChild(t[1]),this.$node.querySelector(".lyteDoubleFront").style.display="none")}this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){var t="rtl"==window.getComputedStyle(this.$node).getPropertyValue("direction");$L.fastdom.mutate(function(){t&&this.$node.classList.add("lyteRTL")}.bind(this))}.bind(this))},data:function(){return{ltPropPerpage:Lyte.attr("number",{default:10}),ltPropValue:Lyte.attr("number",{default:0}),ltPropRecords:Lyte.attr("number",{default:void 0}),ltPropMoreRecords:Lyte.attr("boolean",{default:!1}),ltPropMiddleText:Lyte.attr("string",{default:"to"}),ltPropType:Lyte.attr("string",{default:"default"}),paginationRange:Lyte.attr("array",{default:void 0}),ltPropSelected:Lyte.attr("number",{default:0}),ltPropShowOnlyIcon:Lyte.attr("boolean",{default:!1}),ltPropShowText:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1})}},buttonDisable:function(){if(!this.data.ltPropYield){var t=this.$node.querySelector(".lyteSingleFront").style,e=this.$node.querySelector(".lyteSingleBack").style,o=this.$node.querySelector(".lyteDoubleBack").style,i=this.$node.querySelector(".lyteDoubleFront").style;t&&(t.display=this.getMethods("onNext")?"":"none"),e&&(e.display=this.getMethods("onPrevious")?"":"none"),o&&(o.display=this.getMethods("onHome")?"":"none"),i&&(i.display=this.getMethods("onEnd")?"":"none")}},activeAdd:function(){if("default"!=this.getData("ltPropType")&&!this.getData("ltPropShowOnlyIcon")){var t=this.$node.querySelector('[data-value="'+this.getData("ltPropSelected")+'"]');null!=t&&t.classList.add("lyteActiveAdd")}},onForward:function(t){var e=this.getData("ltPropValue"),o=this.getData("ltPropPerpage"),i=this.getData("ltPropRecords"),a=(e+=o)>i?i:e;this.getMethods("onNext")&&this.executeMethod("onNext",a,this.$node,t)},onBackward:function(t){var e=parseInt(this.getData("ltPropValue")),o=(e-=parseInt(this.getData("ltPropPerpage")))<0?0:e;this.getMethods("onPrevious")&&this.executeMethod("onPrevious",o,this.$node,t)},goFirst:function(t){if(this.setData("ltPropValue",0,this.$node,t),this.getMethods("onHome")){this.executeMethod("onHome",this.getData("ltPropValue"),this.$node,t);var e=this.$node.querySelector(".lyteSingleFront");e&&e.classList.remove("lyteDisabled")}"default"!=this.getData("ltPropType")&&(this.getData("ltPropSelected")>=1&&this.setData("ltPropSelected",1),this.activeAdd())},goLast:function(t){this.getData("ltPropValue");var e=this.getData("ltPropPerpage"),o=this.getData("ltPropRecords"),i=Math.floor(o/e)*e>=o?o-e:Math.floor(o/e)*e;this.getMethods("onEnd")&&this.executeMethod("onEnd",i,this.$node,t)},onSelect:function(t){this.getData("ltPropValue");var e=this.getData("ltPropPerpage"),o=this.getData("ltPropRecords");var i=parseInt(t.target.getAttribute("data-value"))*e-e>=o?o-e:parseInt(t.target.getAttribute("data-value"))*e-e;this.getMethods("onSelect")&&this.executeMethod("onSelect",i,this.$node,t)},pagination:function(){var t,e,o=this.getData("ltPropSelected"),i=this.getData("ltPropRecords"),a=o-1,l=o+1+1,n=[],r=[];if((e=Math.ceil(i/this.getData("ltPropPerpage")))>5){1==o&&o!=e&&(l+=1),o==e&&1!=o&&(a-=1);for(var s=1;s<e;s++)1==s||s==e||s>=a&&s<l?n.push(s):s>1&&s<a?s=a-1:s>=l&&s<e&&(s=e-1);n.push(e);for(s=0;s<n.length;s++){var d=n[s];t&&d-t!=1&&r.push("..."),r.push(d),t=d}}else for(s=1;s<=e;s++)r.push(s);this.setData("paginationRange",r),this.activeAdd()},paginationObs:function(){this.pagination()}.observes("ltPropSelected","ltPropPerpage"),checkButtonObs:function(){this.checkButton.call(this)}.observes("ltPropPerpage","ltPropValue","ltPropRecords","ltPropMoreRecords"),checkButton:function(){var t=this.getData("ltPropValue"),e=this.getData("ltPropPerpage"),o=this.getData("ltPropRecords"),i=this.$node.querySelector(".lyteSingleFront"),a=this.$node.querySelector(".lyteSingleBack"),l=this.$node.querySelector(".lyteDoubleBack"),n=this.$node.querySelector(".lyteDoubleFront");$L.fastdom.mutate(function(){if(l&&t<=0?l.classList.add("lyteDisabled"):l&&l.classList.remove("lyteDisabled"),a&&t<=0?a.classList.add("lyteDisabled"):a&&a.classList.remove("lyteDisabled"),i&&t+e>=o&&!this.getData("ltPropMoreRecords")?i.classList.add("lyteDisabled"):i&&i.classList.remove("lyteDisabled"),n&&t+e>=o?n.classList.add("lyteDisabled"):n&&n.classList.remove("lyteDisabled"),"default"==this.getData("ltPropType")||this.getMethods("onSelect")||this.getData("ltPropYield")||this.$node.querySelector(".lytepage").classList.add("lyteDisabled"),this._settingStartEndValue(),"default"!=this.getData("ltPropType")){this.setData("ltPropSelected",Math.ceil(this.getData("startRecord")/this.getData("ltPropPerpage")));for(var r=this.$node.querySelectorAll('[data-value="..."]'),s=0;s<r.length;s++)r[s].classList.add("lyteDisabled"),r[s].classList.add("dots3")}}.bind(this))},settineStartEndValue:function(){this._settingStartEndValue()}.on("init"),_settingStartEndValue:function(){var t=this.getData("ltPropValue"),e=this.getData("ltPropPerpage"),o=this.getData("ltPropRecords"),i=this.getData("startRecord"),a=this.getData("endRecord"),l=t+1>o?o:t+1,n=t+e>o?o:t+e;i!=l&&this.setData("startRecord",l),a!=n&&this.setData("endRecord",n)},actions:{clickEvent:function(t){var e=t.target;if(e.getAttribute("data-value"))"..."!=e.getAttribute("data-value")&&this.onSelect(t);else{for(;e&&(!e.className||-1==e.className.indexOf("lyteNavigator")&&-1==e.className.indexOf("lyteDoubleFront")&&-1==e.className.indexOf("lyteSingleFront")&&-1==e.className.indexOf("lyteDoubleBack")&&-1==e.className.indexOf("lyteSingleBack"));)e=e.parentNode;e&&-1!=e.className.indexOf("lyteDoubleFront")?this.goLast(t):e&&-1!=e.className.indexOf("lyteSingleFront")?this.onForward(t):e&&-1!=e.className.indexOf("lyteDoubleBack")?this.goFirst(t):e&&-1!=e.className.indexOf("lyteSingleBack")?this.onBackward(t):t.preventDefault()}}}}),Lyte.Component.register("lyte-number",{_template:'<template tag-name="lyte-number">\n\t<template is="if" value="{{ltPropLabel}}"><template case="true">\n\t\t<label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label>\n\t</template></template>\n\t<div class="lyteField">\n\t\t<input type="text" name="{{ltPropName}}" class="{{ltPropClass}}" id="{{ltPropId}}" placeholder="{{ltPropPlaceholder}}" value="{{lbind(ltPropValue)}}" onkeydown="{{action( \'keydown\', event, this)}}" onpaste="{{action(\'paste\', event, this)}}" oninput="{{action(\'input\', event, this)}}" onfocus="{{action( \'focus\', event, this )}}" onblur="{{action( \'blur\', event, this )}}" onwheel="{{action(\'wheel\', event, this)}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}" pattern="{{ltPropPattern}}" autocomplete="{{ltPropAutocomplete}}">\n\t</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}}],_observedAttributes:["ltPropValue","ltPropMaxlength","ltPropName","ltPropClass","ltPropId","ltPropPlaceholder","ltPropIgnoreSymbols","ltPropStep","ltPropInverse","ltPropWheel","ltPropMax","ltPropMin","ltPropAutofocus","ltPropDisabled","ltPropReadonly","ltPropStyle","ltPropInputTitle","ltPropPattern","ltPropUpdateDelay","ltPropLabel","ltPropAutocomplete","ltPropAppearance","ltPropDirection","ltPropValidateOnInput","ltPropAutoUpdate","ltPropDecimal","ltPropIncrement","ltPropFireOnInit","ltPropValidateOnEmpty"],didConnect:function(){["focus","blur","click","select"].forEach(function(t){this.$node[t]=function(e){this.$node.querySelector("input")[t](e)}.bind(this)}.bind(this)),this.data.ltPropAutofocus&&this.$node.focus(),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didDestroy:function(){clearTimeout(this._time)},data:function(){return{ltPropValue:Lyte.attr("string",{default:""}),ltPropMaxlength:Lyte.attr("number",{default:void 0}),ltPropName:Lyte.attr("string",{default:void 0}),ltPropClass:Lyte.attr("string",{default:void 0}),ltPropId:Lyte.attr("string",{default:void 0}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropIgnoreSymbols:Lyte.attr("boolean",{default:!1}),ltPropStep:Lyte.attr("number",{default:1}),ltPropInverse:Lyte.attr("boolean",{default:!1}),ltPropWheel:Lyte.attr("boolean",{default:!0}),ltPropMax:Lyte.attr("number",{default:void 0}),ltPropMin:Lyte.attr("number",{default:void 0}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropStyle:Lyte.attr("string",{default:""}),ltPropInputTitle:Lyte.attr("string",{default:void 0}),ltPropPattern:Lyte.attr("string",{default:".+"}),ltPropUpdateDelay:Lyte.attr("number",{default:250}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropAutocomplete:Lyte.attr("string",{default:"off"}),ltPropAppearance:Lyte.attr("string",{default:"box"}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropValidateOnInput:Lyte.attr("boolean",{default:!1}),ltPropAutoUpdate:Lyte.attr("boolean",{default:!0}),ltPropDecimal:Lyte.attr("string",{default:"."}),ltPropIncrement:Lyte.attr("boolean",{default:!0}),ltPropFireOnInit:Lyte.attr("boolean",{default:!1}),ltPropValidateOnEmpty:Lyte.attr("boolean",{default:!0})}},valueObs:function(t){if(!this._init){var e=!t;if(t?t.newValue=t.newValue||"":t={newValue:this.data.ltPropValue||""},this._allowCallback)return delete this._allowCallback,void(this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node));var o=t.newValue;if(e&&!this.data.ltPropFireOnInit&&(this._init=!0),this.validate(o))return this._valueUpdate(""),void delete this._init;if(o=this.maxLenValidation(o),(this.data.ltPropValidateOnEmpty&&!t.newValue||t.newValue)&&(o=this.maxMinCheck(o,!0)),t.newValue!=o)this._valueUpdate(o);else if(!this._init){if(e&&t.newValue==o)return;this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node)}delete this._init}}.observes("ltPropValue").on("didConnect"),maxMinOns:function(){this._valueUpdate(this.maxMinCheck(this.data.ltPropValue,!0))}.observes("ltPropMax","ltPropMin"),appearanceObs:function(){/box/i.test(this.data.ltPropAppearance)?(this.$node.classList.add("lyteInputBox"),this.$node.classList.remove("lyteInput")):(this.$node.classList.remove("lyteInputBox"),this.$node.classList.add("lyteInput"))}.observes("ltPropAppearance").on("didConnect"),directionObs:function(){/vertical/i.test(this.data.ltPropDirection)?(this.$node.classList.add("vertical"),this.$node.classList.remove("horizontal")):(this.$node.classList.remove("vertical"),this.$node.classList.add("horizontal"))}.observes("ltPropDirection").on("didConnect"),disAbs:function(){this.$node.classList[this.data.ltPropDisabled?"add":"remove"]("lyteNumberDisabled")}.observes("ltPropDisabled").on("didConnect"),readAbs:function(){this.$node.classList[this.data.ltPropReadonly?"add":"remove"]("lyteNumberReadonly")}.observes("ltPropReadonly").on("didConnect"),increment:function(t,e){var o=t.value||"0",i=(Number(o)+this.data.ltPropStep*(e?1:-1)).toString();i!=1/0&&i!=-1/0&&(i=this.maxLenValidation(i),i=this.maxMinCheck(i,!0),t.value=i,t.selectionEnd=i.length,t.selectionStart=i.length,this.data.ltPropAutoUpdate&&this.valueUpdate(t))},actions:{keydown:function(t,e){var o,i=t.which||t.keyCode,a=e.selectionStart,l=e.selectionEnd,n=this.data.ltPropIncrement;if(8==i){if(a==l&&0==l)return;this._prevent=!0}else n&&38==i?(this.increment(e,!this.data.ltPropInverse),o=!0):n&&40==i&&(this.increment(e,this.data.ltPropInverse),o=!0);o&&t.preventDefault()},wheel:function(t,e){this.data.ltPropWheel&&this._focused&&!this.data.ltPropDisabled&&!this.data.ltPropReadonly&&(t.deltaY>10?this.increment(e,!this.data.ltPropInverse):t.deltaY<-10&&this.increment(e,this.data.ltPropInverse),t.preventDefault())},paste:function(t,e){t.preventDefault();var o=t.clipboardData||window.clipboardData,i=e.value,a=e.selectionStart,l=e.selectionEnd,n=this.data.ltPropDecimal,r=o.getData("text").trim().replace(/^(\'|\")|(\'|\")$/,"").replace(new RegExp("[^0-9e\\+\\-\\"+n+"]","g"),""),s=i.slice(0,a)+r+i.slice(l);if(this.validate(s)&&(s=this.convertToNo(s)),Number(i)!=1/0&&Number(i)!=-1/0){if(this.getMethods("onBeforePaste")){var d=this.executeMethod("onBeforePaste",e.value,o.getData("text"),s);if(void 0!=d)s=d;else if(0==d)return}s=this.maxLenValidation(s),s=this.maxMinCheck(s,!0),e.value=s,e.selectionStart=l+r.length,e.selectionEnd=l+r.length,this.data.ltPropAutoUpdate&&this._valueUpdate(e.value)}},input:function(t,e){var o;this._prevent&&(delete this._prevent,this.data.ltPropAutoUpdate&&this.valueUpdate(e),o=!0);var i=e.value,a=i,l=e.selectionStart,n=e.selectionEnd,r=!o&&this.validate(i);if(r)if(/insertText/i.test(t.inputType)){var s=parseFloat(t.data);isNaN(s)?(i=i.slice(0,n-t.data.length)+i.slice(n),n=n-t.data.length+1):(s=s.toString(),i=i.slice(0,n-t.data.length)+s+i.slice(n),n=n-t.data.length+1+s.length)}else i=i.slice(0,l-1)+i.slice(n);else i=this.maxLenValidation(i),i=this.maxMinCheck(i,this.data.ltPropValidateOnInput);e.value=i,r?(e.selectionStart=Math.min(n-1,i.length),e.selectionEnd=Math.min(n-1,i.length)):a!=i?e.selectionStart=e.selectionEnd=i.length:(e.selectionStart=Math.min(l,i.length),e.selectionEnd=Math.min(n,i.length)),this.data.ltPropAutoUpdate&&this.valueUpdate(e)},focus:function(t,e){this._focused=!0,this.$node.classList.add("lyteInputFocus"),this.getMethods("onFocus")&&this.executeMethod("onFocus",t,this.$node)},blur:function(t,e){delete this._focused,this.$node.classList.remove("lyteInputFocus"),(e.value||!e.value&&this.data.ltPropValidateOnEmpty)&&(e.value=this.maxMinCheck(e.value,!0)),this._valueUpdate(e.value,!0),this.getMethods("onBlur")&&this.executeMethod("onBlur",t,this.$node)}},valueUpdate:function(t){t=t||this.$node.getElementsByTagName("input")[0],void 0==this.data.ltPropUpdateDelay?this._valueUpdate(t.value):(clearTimeout(this._time),this._time=setTimeout(this._valueUpdate.bind(this,t.value),this.data.ltPropUpdateDelay))},_valueUpdate:function(t,e){if(e){var o=new RegExp("\\"+this.data.ltPropDecimal+"$");/e$/i.test(t)&&(t=t.replace(/e$/,"")),o.test(t)&&(t=t.replace(o,""))}t!=this.data.ltPropValue&&(this._allowCallback=!0,this.$node.ltProp("value",t))},validate:function(t){var e,o,i=/e/gi,a=/(\+|\-)/g,l=this.data.ltPropDecimal,n=new RegExp("\\"+l,"g");return i.test(t)&&(t.match(i).length>1&&(o=!0),/^e/i.test(t)?o=!0:(e=/e/gi.exec(t).index,t=t.replace(i,""))),a.test(t)&&(t.match(a).length>1?o=!0:/^(\+|\-)/g.test(t)?t=t.replace(a,""):o=!0),n.test(t)&&(t.match(n).length>1||void 0!=e&&e<t.indexOf(l)?o=!0:/^(\+|\-)/g.test(t)&&1==t.indexOf(l)&&2==e||!/^(\+|\-)/g.test(t)&&0==t.indexOf(l)&&1==e?o=!0:t=t.replace(n,"")),!o&&t.length&&(o=!/^\d+$/.test(t)),o},maxLenValidation:function(t){var e,o=this.data.ltPropMaxlength,i=t.length,a=this.data.ltPropDecimal;if(void 0==o)return t;if(!this.data.ltPropIgnoreSymbols&&(o+=/^(\+|\-)/.test(t)?1:0,new RegExp("\\"+a).test(t)&&(e=new RegExp("\\"+a,"g").exec(t).index,o++),/e/i.test(t))){var l=/e/i.exec(t).index,n=t.slice(l+1),r=parseInt(n);if(n.length){i--;var s=void 0!=e?t.slice(e+1,l).length:0;if(s<=r&&(void 0!=e&&(i--,o--),i-=s),i-=n.length,(i+=r)>o){if(r>i-o)return t.slice(0,l)+"e"+(r-(i-o));t=t.split(/e/i)[0].match(new RegExp(".{0,"+o+"}"))[0]}return t}o++}return t.match(new RegExp(".{0,"+o+"}"))[0]},maxMinCheck:function(t,e){var o=t,i=this.data.ltPropMax,a=this.data.ltPropMin,l=Number(t.replace(new RegExp("\\"+this.data.ltPropDecimal),".")),n=this.getMethods("onBeforeMaxMinValidation");if(void 0==i&&void 0==a)return t;void 0!=i&&(i<l&&(t=i,t=void 0==(r=n?this.executeMethod("onBeforeMaxMinValidation","max",o,t,this.$node):t)?t:r));if(e&&void 0!=a)if(a>l)t=a,t=a,t=void 0==(r=n?this.executeMethod("onBeforeMaxMinValidation","min",o,t,this.$node):t)?t:r;else if(0==l&&""==t){var r;t=Math.max(l,a),t=void 0==(r=n?this.executeMethod("onBeforeMaxMinValidation","min",o,t,this.$node):t)?t:r}return t.toString().replace(/\./,this.data.ltPropDecimal)},removeTwice:function(t,e){var o=t.split(e);o.length>1&&(t=o.shift()+e.exec(t)[0]+o.join(""));return t},convertToNo:function(t){var e,o,i=this.data.ltPropDecimal,a=new RegExp("\\"+i),l=/e/i;return t=this.removeTwice(t,a),t=this.removeTwice(t,l),t=this.removeTwice(t,/\+|\-/i),a.test(t)&&l.test(t)&&((e=a.exec(t).index)>(o=l.exec(t).index)||1==Math.abs(e-o))&&(t=t.replace(e>o?l:a,"")),/^e/i.test(t)&&(t=t.replace(/e/i,"")),/\+|\-/.test(t)&&!/^(\+|\-)/.test(t)&&(void 0!=o&&/\+|\-/.exec(t).index!=o+1||void 0==o)&&(t=t.replace(/\+|\-/g,"")),t}}),LytePopup)||(LytePopup={components:[],bodywrapperCount:0,onEscape:function(t){("key"in(t=t||window.event)?"Escape"==t.key||"Esc"==t.key:27==t.keyCode)&&LytePopup.closePopup(void 0,!0)},bindDocumentKeydown:function(){document.addEventListener("keydown",LytePopup.onEscape,!0)},hideOrShowFreeze:function(t,e){var o,i="",a="",l="",n="";if("open"==t&&LytePopup.components.length>1){for(var r=LytePopup.components.length-2;r>=0;r--)if(i="LYTE-MODAL"==LytePopup.components[r].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[r].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",a="LYTE-MODAL"==e.$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==e.$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",l=LytePopup.components[r].childComp.querySelector(i),n=e.childComp.querySelector(a),o=e.getData("ltPropDimmer")&&e.getData("ltPropDimmer").opacity?e.getData("ltPropDimmer").opacity:"",l&&n){l.style.transition="none",n.style.transition="none",l.style.zIndex=15,l.style.opacity=0,n.style.visibility="visible",n.style.opacity=o,setTimeout(LytePopup.removeTransition,100,n,l),l.style.zIndex="",e.addedFreezeDetails=!0;break}}else if("close"==t&&LytePopup.components.length>1&&LytePopup.components[LytePopup.components.length-1]===e)for(r=LytePopup.components.length-2;r>=0;r--)if(i="LYTE-MODAL"==LytePopup.components[r].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[r].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",a="LYTE-MODAL"==e.$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==e.$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",l=LytePopup.components[r].childComp.querySelector(i),n=e.childComp.querySelector(a),o=LytePopup.components[r].getData("ltPropDimmer")&&LytePopup.components[r].getData("ltPropDimmer").opacity?LytePopup.components[r].getData("ltPropDimmer").opacity:"",l&&n){n.style.transition="none",l.style.transition="none",l.style.zIndex=15,n.style.opacity=0,l.style.visibility="visible",l.style.opacity=o,setTimeout(LytePopup.removeTransition,100,n,l),l.style.zIndex="",n.style.visibility="";break}},removeTransition:function(t,e){t.style.transition="",e.style.transition=""},addPopup:function(t){LytePopup.closePopup();var e=LytePopup.components.length;if(e>0){var o,i="",a="";i="LYTE-MODAL"==LytePopup.components[e-1].$node.tagName?".modalWrapper":"LYTE-POPOVER"==LytePopup.components[e-1].$node.tagName?".popoverWrapper":".alertWrapper",a="LYTE-MODAL"==t.$node.tagName?".modalWrapper":"LYTE-POPOVER"==t.$node.tagName?".popoverWrapper":".alertWrapper";var l=t.childComp.querySelector(a);(o=Number(document.defaultView.getComputedStyle(LytePopup.components[LytePopup.components.length-1].childComp.querySelector(i),null).getPropertyValue("z-index")))+2>Number(document.defaultView.getComputedStyle(l,null).getPropertyValue("z-index"))&&(l.style.zIndex=o+2)}LytePopup.components[e]=t,(t.getData("ltPropFreeze")||"LYTE-ALERT"==t.$node.tagName)&&LytePopup.hideOrShowFreeze("open",t)},closePopup:function(t,e){if(e){var o=LytePopup.components[LytePopup.components.length-1];o&&o.$node.ltProp("closeOnEscape")&&o.$node.ltProp("show",!1)}else if(t){var i=LytePopup.components.indexOf(t);i>-1&&LytePopup.components.splice(i,1)}else for(var a=LytePopup.components.length-1;a>=0;a--){if(LytePopup.components[a].$node&&!LytePopup.components[a].$node.ltProp("allowMultiple"))LytePopup.components[a].$node.ltProp("show",!1)}},getScrollParent:function(t){var e=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY,o="visible"!==e&&"hidden"!==e,i=t&&o?t.scrollHeight:0,a=t&&o?t.clientHeight:0;return t?o&&i>=a?t:LytePopup.getScrollParent(t.parentNode)||document.body:null}}).bindDocumentKeydown();function addPopoverEvent(t){document.addEventListener("click",function(t){for(var e=t.target;!$L(e).hasClass("popoverWrapper")&&"LYTE-POPOVER-FREEZE"!=e.tagName&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName||"LYTE-POPOVER-FREEZE"==e.tagName)for(var o=LytePopup.components.length-1;o>=0;o--)if("LYTE-POPOVER"==LytePopup.components[o].$node.tagName&&"visible"==LytePopup.components[o].childComp.style.visibility){var i=LytePopup.components[o].$node;i&&i.component.getData("visible")&&i.component.getData("ltPropCloseOnBodyClick")&&(i.component.setData("visible",!1),i.ltProp("show",!1))}},!0),window.addEventListener("scroll",function(t){if(LytePopup.makingVisible)LytePopup.makingVisible=!1;else for(var e,o=LytePopup.components.length-1;o>=0;o--)if(LytePopup.components[o].$node&&"LYTE-POPOVER"==LytePopup.components[o].$node.nodeName&&"visible"==LytePopup.components[o].childComp.style.visibility&&(e=LytePopup.components[o].childComp)&&e._callee.component.$node.ltProp("scrollable")&&LytePopup.components[o].callOnScroll(t)){var i=e.querySelector(".lytePopover");if(!i)return;for(;"LYTE-WORMHOLE"!=i.tagName;)i=i.parentElement;for(var a=t.target;"LYTE-WORMHOLE"!=a.tagName&&"HTML"!=a.tagName&&"#document"!=a.nodeName;)a=a.parentElement;if("LYTE-WORMHOLE"==a.tagName&&a.isEqualNode(i))return;if(i._callee.component.computeOffsetImpl(),i._callee.component.getData("ltPropForceScroll"))return;var l=document.querySelector(i._callee.ltProp("originElem")),n=t.target,r=l.getBoundingClientRect(),s=i._callee.ltProp("boundary"),d=i.querySelector(".lytePopover");if(0===Object.keys(s).length&&s.constructor===Object||(s.top&&d.getBoundingClientRect().top<parseFloat(s.top)?i._callee.ltProp("show",!1):s.bottom&&d.getBoundingClientRect().bottom>parseFloat(s.bottom)?i._callee.ltProp("show",!1):s.left&&d.getBoundingClientRect().left<parseFloat(s.left)?i._callee.ltProp("show",!1):s.right&&d.getBoundingClientRect().right>parseFloat(s.right)&&i._callee.ltProp("show",!1)),n.contains(l))if(i.querySelector("#lytePopoverArrow")&&i.querySelector("#lytePopoverArrow").classList.contains("lytePopoverArrowBottom")&&r.top+r.height/2>window.innerHeight&&i._callee.ltProp("show",!1),i.querySelector("#lytePopoverArrow")&&(i.querySelector("#lytePopoverArrow").classList.contains("lytePopoverArrowLeft")||i.querySelector("#lytePopoverArrow").classList.contains("lytePopoverArrowRight"))&&(i.querySelector("#lytePopoverArrow").getBoundingClientRect().bottom>=i.querySelector(".lytePopover").getBoundingClientRect().bottom||i.querySelector("#lytePopoverArrow").getBoundingClientRect().top<=i.querySelector(".lytePopover").getBoundingClientRect().top)&&i._callee.ltProp("show",!1),"#document"==n.nodeName){var p=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c=Math.max(document.documentElement.clientWidth,window.innerWidth||0);(r.top<=0||r.bottom+3>=p)&&i._callee.ltProp("show",!1),(r.left<=0||r.right+3>=c)&&i._callee.ltProp("show",!1)}else{var h=n.getBoundingClientRect();(h.top>r.top||h.top+h.height<r.top+r.height)&&i._callee.ltProp("show",!1),(h.left>r.left||h.left+h.width<r.left+r.width)&&i._callee.ltProp("show",!1)}}},!0),window.addEventListener("resize",function(t){LytePopup._lytePopoverRTId&&(clearTimeout(LytePopup._lytePopoverRTId),LytePopup._lytePopoverRTId=!1),LytePopup._lytePopoverRTId=setTimeout(function(){for(var e=LytePopup.components.length-1;e>=0;e--)if(LytePopup.components[e].$node&&"LYTE-POPOVER"==LytePopup.components[e].$node.nodeName&&"visible"==LytePopup.components[e].childComp.style.visibility&&LytePopup.components[e].childComp.querySelector(".lytePopover")){LytePopup.components[e].$node.component.updateScrollHandling(),LytePopup.components[e].$node.component.computeOffsetImpl(),LytePopup.components[e].$node.component.callOnResize(t);var o=document.querySelector(LytePopup.components[e].$node.ltProp("originElem")).getBoundingClientRect(),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);o.bottom+3>=i&&LytePopup.components[e].$node.ltProp("show",!1)}LytePopup._lytePopoverRTId=!1},100)},!0)}function stepResize(t){clearTimeout(window._stepresize),window._stepresize=setTimeout(function(){delete window._stepresize;for(var t=document.getElementsByTagName("lyte-step"),e=0;e<t.length;e++){var o=t[e].component;"advanced"==o.data.ltPropType&&o._measureWidth(o.constructForward)}})}if(Lyte.Component.register("lyte-popover",{_template:'<template tag-name="lyte-popover">\n\t<template is="if" value="{{ltPropBindToBody}}"><template case="true"> \n\t<lyte-wormhole case="true" style="{{if(ltPropShowCopy,\'visibility:visible\',\'visibility:hidden\')}}" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}">\n\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t<div class="popoverWrapper {{ltPropWrapperClass}}">\n\t\t\t\t<div class="{{if(ifEquals(ltPropAnimation,\'zoom\'),\'lytePopover lyteZoom\', \'lytePopover\')}}">\n\t\t\t\t\t<template is="if" value="{{ifEquals(ltPropType,&quot;callout&quot;)}}"><template case="true">\n\t\t\t\t\t\t<span id="lytePopoverArrow" class="lytePopoverArrowIcon"></span>\n\t\t\t\t\t</template></template>\n\t\t\t\t\t<template is="if" value="{{ltPropShowCloseButton}}">\n\t\t\t\t\t\t<template case="true"><span class="lytePopoverClose" onclick="{{action(\'close\')}}"></span></template>\n\t\t\t\t\t</template>\n\t\t\t\t\t<lyte-yield yield-name="popover"></lyte-yield>\n\t\t\t\t</div>\n\t\t\t\t<template is="if" value="{{ltPropFreeze}}">\n\t\t\t\t\t<template case="true"><lyte-popover-freeze></lyte-popover-freeze></template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</template>\n\t</lyte-wormhole>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropShowCopy","'visibility:visible'","'visibility:hidden'"]}}}},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"insertYield",position:[1,1,5]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[0]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropType","ltPropFreeze","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropOriginElem","ltPropPosition","ltPropPlacement","ltPropDimmer","ltPropDraggable","ltPropAllowMultiple","ltPropScrollable","ltPropMaxHeight","ltPropMaxWidth","ltPropWidth","ltPropHeight","ltPropWrapperClass","ltPropBoundary","ltPropCloseOnBodyClick","ltPropDuration","ltPropOffset","ltPropBindToBody","ltPropHeaderPadding","ltPropContentPadding","ltPropFooterPadding","ltPropAnimation","ltPropWindowSpacing","ltPropForceScroll","buttons","ltPropShowCopy","visible","timeOutId","classTobeAdded","keys","first","arrowHidden","arrowEle","returnedFalse","transformOrigin","windowSpacing","lyteUnbound"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropType:Lyte.attr("string",{default:"callout"}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropOriginElem:Lyte.attr("string",{default:""}),ltPropPosition:Lyte.attr("string",{default:"bottom"}),ltPropPlacement:Lyte.attr("string",{default:""}),ltPropDimmer:Lyte.attr("object",{default:{color:"black",opacity:"0.4"}}),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropScrollable:Lyte.attr("boolean",{default:!1}),ltPropMaxHeight:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropCloseOnBodyClick:Lyte.attr("boolean",{default:!0}),ltPropDuration:Lyte.attr("number",{default:400}),ltPropOffset:Lyte.attr("object",{default:{}}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),ltPropHeaderPadding:Lyte.attr("string",{default:"15px 30px"}),ltPropContentPadding:Lyte.attr("string",{default:"15px 30px"}),ltPropFooterPadding:Lyte.attr("string",{default:"15px 30px"}),ltPropAnimation:Lyte.attr("string",{default:"fade"}),ltPropWindowSpacing:Lyte.attr("object"),ltPropForceScroll:Lyte.attr("boolean",{default:!1}),buttons:Lyte.attr("array",{default:[{type:"accept",text:"Ok"}]}),ltPropShowCopy:Lyte.attr("boolean",{default:!1}),visible:Lyte.attr("boolean",{default:!0}),timeOutId:Lyte.attr("number"),classTobeAdded:Lyte.attr("string"),keys:Lyte.attr("object",{default:{37:1,38:1,39:1,40:1}}),first:Lyte.attr("boolean",{default:!0}),arrowHidden:Lyte.attr("boolean",{default:!1}),arrowEle:Lyte.attr("object"),returnedFalse:Lyte.attr("boolean",{default:!1}),transformOrigin:Lyte.attr("string"),windowSpacing:Lyte.attr("object"),lyteUnbound:Lyte.attr("boolean",{default:!1})}},computeSpacing:function(){var t=Object.assign({},this.getData("ltPropWindowSpacing"));t.left||(t.left=30),t.right||(t.right=30),t.top||(t.top=30),t.bottom||(t.bottom=30),this.setData("windowSpacing",Object.assign({},t))}.observes("ltPropWindowSpacing").on("init"),addDragHandler:function(){var t=this.actualModalDiv.querySelector("lyte-popover-header");t?(t.parentEle=this,this.$node.ltProp("draggable")?(t.addEventListener("mousedown",this.handleMove,!0),t.addEventListener("touchstart",this.handleMove,!0),t.classList.add("draggable")):(t.removeEventListener("mousedown",this.handleMove,!0),t.removeEventListener("touchstart",this.handleMove,!0),t.classList.remove("draggable"))):(console.warn("This popover is not draggable because it has no header"),this.$node.ltProp("draggable",!1))},handleMove:function(t){var e=t.currentTarget.parentEle.actualModalDiv;LytePopup.node=e,"mousedown"==t.type?(LytePopup.xPos=t.clientX-this.getBoundingClientRect().left,LytePopup.yPos=t.clientY-this.getBoundingClientRect().top):"touchstart"==t.type&&(LytePopup.xPos=t.touches[0].clientX-this.getBoundingClientRect().left,LytePopup.yPos=t.touches[0].clientY-this.getBoundingClientRect().top);e.getBoundingClientRect();e.style.transitionDuration="0s";var o=e.parentElement.querySelector("#lytePopoverArrow");o&&(this.parentEle.setData("arrowHidden",!0),this.parentEle.setData("arrowEle",o),o.style.display="none"),"mousedown"==t.type?(document.body.addEventListener("mousemove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("mouseup",t.currentTarget.parentEle.stopDrag,!0)):"touchstart"==t.type&&(document.body.addEventListener("touchmove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("touchend",t.currentTarget.parentEle.stopDrag,!0))},handleDrag:function(t){var e=LytePopup.node;"mousemove"==t.type?(e.style.left=t.clientX-e.offsetParent.getBoundingClientRect().left-LytePopup.xPos+"px",e.style.top=t.clientY-e.offsetParent.getBoundingClientRect().top-LytePopup.yPos+"px"):"touchmove"==t.type&&(e.style.left=t.touches[0].clientX-e.offsetParent.getBoundingClientRect().left-LytePopup.xPos+"px",e.style.top=t.touches[0].clientY-e.offsetParent.getBoundingClientRect().top-LytePopup.yPos+"px"),window.getSelection().removeAllRanges()},stopDrag:function(t){for(var e=t.target;e&&e!==document;){if(e.parentEle){"mouseup"==t.type?(this.removeEventListener("mousemove",e.parentEle.handleDrag,!0),this.removeEventListener("mouseup",e.parentEle.stopDrag,!0)):"touchend"==t.type&&(this.removeEventListener("touchmove",e.parentEle.handleDrag,!0),this.removeEventListener("touchend",e.parentEle.stopDrag,!0));break}e=e.parentElement?e.parentElement:document}},showToggled:function(){var t=t||window.event;if(this.getData("returnedFalse"))this.setData("returnedFalse",!1);else if(this.$node.ltProp("show")&&!this.$node.ltProp("showCopy"))if(this.tIdBeforeClose&&(clearTimeout(this.tIdBeforeClose),delete this.tIdBeforeClose),this.tIdBeforeShow&&(clearTimeout(this.tIdBeforeShow),delete this.tIdBeforeShow),_lyteUiUtils.getRTL()&&("bottomLeft"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","bottomRight"):"bottomRight"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","bottomLeft"):"topLeft"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","topRight"):"topRight"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","topLeft"):"left"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","right"):"right"==this.getData("ltPropPlacement")&&this.setData("ltPropPlacement","left")),this.$node.ltProp("bindToBody",!0),void 0==this.getData("ltPropDuration"))this.onBeforeShowHandling(t);else{var e=this;this.tIdBeforeShow=setTimeout(function(){delete e.tIdBeforeShow,e.onBeforeShowHandling(t)},0)}else if(this.tIdBeforeShow&&(clearTimeout(this.tIdBeforeShow),delete this.tIdBeforeShow),this.tIdBeforeClose&&(clearTimeout(this.tIdBeforeClose),delete this.tIdBeforeClose),this.$node.ltProp("showCopy"))if(void 0==this.getData("ltPropDuration"))this.onBeforeCloseHandling(t);else{e=this;this.tIdBeforeClose=setTimeout(function(){delete e.tIdBeforeClose,e.onBeforeCloseHandling(t)},0)}}.observes("ltPropShow").on("didConnect"),changeShow:function(){this.getData("ltPropBindToBody")||this.getData("ltPropShow")&&this.setData("ltPropShow",!1)}.observes("ltPropBindToBody"),callOnResize:function(t){this.getMethods("onResize")&&this.executeMethod("onResize",t,this)},callOnScroll:function(t){var e;return this.getMethods("onScroll")&&(e=this.executeMethod("onScroll",t,this)),void 0==e||e},updateScrollHandling:function(){!this.$node.ltProp("freeze")&&this.$node.ltProp("scrollable")&&this.$node.ltProp("scrollable",!0);var t,e=this.actualModalDiv,o=e.querySelector("lyte-popover-content");o=o||e,e.style.maxWidth="",e.style.maxHeight="",e.style.height=this.$node.ltProp("height")?this.$node.ltProp("height"):"auto",e.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",$L.fastdom.measure(function(){var i=e.getBoundingClientRect(),a=e.parentElement.getBoundingClientRect(),l=window.getComputedStyle(e),n=(l.borderTopWidth?parseFloat(l.borderTopWidth):0)+(l.borderBottomWidth?parseFloat(l.borderBottomWidth):0),r=this.getData("windowSpacing"),s=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(r.top+r.bottom);$L.fastdom.mutate(function(){if(this.$node.ltProp("maxWidth")&&(this.$node.ltProp("scrollable",!0),i.width,-1!=this.$node.ltProp("maxWidth").indexOf("%")?parseFloat(this.$node.ltProp("maxWidth"))/100*a.width:parseFloat(this.$node.ltProp("maxWidth")),e.style.maxWidth=this.$node.ltProp("maxWidth"),o.style.overflowX="auto"),this.$node.ltProp("maxHeight")){this.childComp.querySelector(".popoverWrapper").classList.add("scrollable"),this.$node.ltProp("scrollable",!0),i.height-n;var l=-1!=this.$node.ltProp("maxHeight").indexOf("%")?parseFloat(this.$node.ltProp("maxHeight"))/100*a.height:parseFloat(this.$node.ltProp("maxHeight"));e.style.maxHeight=this.$node.ltProp("maxHeight"),t=l-n}else i.height-n,t=s-20;if(this.$node.ltProp("scrollable")){var r=this.actualModalDiv.querySelector("lyte-popover-header"),d=this.actualModalDiv.querySelector("lyte-popover-footer"),p=0,c=0;$L.fastdom.measure(function(){r&&(this.$node.ltProp("maxWidth")&&(r.style.overflowX="auto"),p=r.offsetHeight),d&&(this.$node.ltProp("maxWidth")&&(d.style.overflowX="auto"),c=d.offsetHeight),$L.fastdom.mutate(function(){var i=t-(p+c);o.style.maxHeight=(i>0?i:50)+"px",o.style.overflowY="auto",e.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",e=null,o=null,r=null,d=null},this)},this)}else this.childComp.querySelector(".popoverWrapper").classList.remove("scrollable"),e=null,o=null},this)},this)},scrollHandling:function(){this.getData("ltPropShow")&&this.updateScrollHandling()}.observes("ltPropWidth","ltPropMaxWidth","ltPropHeight","ltPropMaxHeight"),computeOffsetImpl:function(){var t="",e="",o=this.actualModalDiv;$L.fastdom.measure(function(){if(this.$node.ltProp("showCopy")){if(""!=this.$node.ltProp("originElem")||!Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))){var i=this.$node.ltProp("originElem")?document.querySelector(this.$node.ltProp("originElem")):null;if(!i&&Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset")))return console.error("The origin element is either not present or may be removed. Kindly check."),LytePopup.closePopup(this),this.setData("visible",!1),this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount+=1,0==LytePopup.bodywrapperCount&&document.body.classList.remove("bodyWrapper")),void(!this.getData("ltPropFreeze")&&document.body.classList.contains("lyteStopBodyScrolling")&&document.body.classList.remove("lyteStopBodyScrolling"));var a,l=o.getBoundingClientRect(),n={top:l.top,right:l.right,bottom:l.bottom,left:l.left,width:o.offsetWidth,height:o.offsetHeight},r=Object.assign({},this.getData("windowSpacing")),s=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-r.bottom,d=Math.max(document.documentElement.clientWidth,window.innerWidth||0)-r.right;if(Lyte.Component.registeredHelpers.lyteUiIsEmptyObject(this.$node.ltProp("offset"))){var p=i.getBoundingClientRect();a={top:p.top,right:p.right,bottom:p.bottom,left:p.left,width:p.width,height:p.height}}else a={width:parseInt(this.$node.ltProp("offset").width)||0,height:parseInt(this.$node.ltProp("offset").height)||0,top:parseInt(this.$node.ltProp("offset").top),left:parseInt(this.$node.ltProp("offset").left),bottom:parseInt(this.$node.ltProp("offset").top)+(parseInt(this.$node.ltProp("offset").height)||0),right:parseInt(this.$node.ltProp("offset").left)+(parseInt(this.$node.ltProp("offset").width)||0)};var c,h=a,u={},y={},m=this.$node.ltProp("positionNew"),g=!0,f=0,v=0;do{if(this.$node.ltProp("placement"))if(1==(c=this.$node.ltProp("placement").trim().split(" ")).length)switch(g=!0,u=this.positionPopover(this.$node.ltProp("placement"),h,n),m=this.$node.ltProp("placement")){case"bottom":case"top":u.offsetLeft+n.width>d&&(u.offsetLeft=Math.max(r.left,d-n.width)),u.offsetLeft<r.left&&(u.offsetLeft=r.left);break;case"left":case"right":u.offsetTop+n.height>s&&(u.offsetTop=Math.max(r.top,s-n.height)),u.offsetTop<r.top&&(u.offsetTop=r.top)}else if(v<c.length)switch(m=c[v],g=!0,y=u=this.positionPopover(m,h,n),m){case"bottom":if(s<y.offsetTop+n.height||s-(y.offsetTop+n.height)<r.bottom){v++,g=!1;break}y.offsetLeft-n.width<r.left&&(u.offsetLeft=h.left,g=!0),d<u.offsetLeft+n.width&&(u.offsetLeft=d-n.width-10,g=!0);break;case"bottomLeft":case"bottomRight":if(s<y.offsetTop+n.height||s-(y.offsetTop+n.height)<r.bottom){v++,g=!1;break}y.offsetLeft-n.width<r.left&&(u.offsetLeft=h.left,g=!0),d<y.offsetLeft+n.width&&(u.offsetLeft=d-n.width-10,g=!0);break;case"top":if(y.offsetTop-n.height<r.top){v++,g=!1;break}y.offsetLeft-n.width<r.left&&(u.offsetLeft=h.left,g=!0),d<u.offsetLeft+n.width&&(u.offsetLeft=d-n.width-10,g=!0);break;case"topLeft":case"topRight":if(y.offsetTop-n.height<r.top){v++,g=!1;break}y.offsetLeft-n.width<r.left&&(u.offsetLeft=h.left,g=!0),d<y.offsetLeft+n.width&&(u.offsetLeft=d-n.width-10,g=!0);break;case"left":if(y.offsetTop<r.top){v++,g=!1;break}if(y.offsetLeft<r.left){v++,g=!1,t=h.left+h.width+9,e=h.top;break}y.offsetTop-n.height<r.top&&(u.offsetTop=h.top),s<u.offsetTop+n.height&&(u.offsetTop=s-n.height);break;case"right":if(y.offsetTop<r.top){v++,g=!1;break}if(d<y.offsetLeft+n.width){v++,g=!1,u.offsetLeft=h.left-n.width-9,u.offsetTop=h.top;break}y.offsetTop-n.height<r.top&&(u.offsetTop=h.top),s<u.offsetTop+n.height&&(u.offsetTop=s-n.height)}else g=!0;else switch(f++,g=!0,y=u=this.positionPopover(m,h,n),m){case"bottom":if(s<y.offsetTop+n.height||s-(y.offsetTop+n.height)<r.bottom){m="top",g=!1;break}y.offsetLeft-n.width<r.left&&(u.offsetLeft=h.left,g=!0),d<u.offsetLeft+n.width&&(u.offsetLeft=d-n.width-10,g=!0);break;case"bottomLeft":case"bottomRight":if(s<y.offsetTop+n.height||s-(y.offsetTop+n.height)<r.bottom){m="top",g=!1;break}y.offsetLeft-n.width<r.left&&(u.offsetLeft=h.left,g=!0),d<y.offsetLeft+n.width&&(u.offsetLeft=d-n.width-10,g=!0);break;case"top":if(y.offsetTop-n.height<r.top){m=_lyteUiUtils.getRTL()?"left":"right",g=!1;break}y.offsetLeft-n.width<r.left&&(u.offsetLeft=h.left,g=!0),d<u.offsetLeft+n.width&&(u.offsetLeft=d-n.width-10,g=!0);break;case"topLeft":if(y.offsetTop-n.height<r.top){m="right",g=!1;break}y.offsetLeft-n.width<r.left&&(u.offsetLeft=h.left,g=!0),d<y.offsetLeft+n.width&&(u.offsetLeft=d-n.width-10,g=!0);break;case"topRight":if(y.offsetTop-n.height<r.top){m="left",g=!1;break}y.offsetLeft-n.width<r.left&&(u.offsetLeft=h.left,g=!0),d<y.offsetLeft+n.width&&(u.offsetLeft=d-n.width-10,g=!0);break;case"left":if(y.offsetTop<r.top){m="bottom",g=!1;break}y.offsetLeft<r.left&&(m="right",t=h.left+h.width+9,e=h.top),y.offsetTop-n.height<r.top&&(u.offsetTop=h.top),s<u.offsetTop+n.height&&(u.offsetTop=Math.max(r.top,s-n.height));break;case"right":if(y.offsetTop<r.top){m="bottom",g=!1;break}d<y.offsetLeft+n.width&&(m="left",u.offsetLeft=h.left-n.width-9,u.offsetTop=h.top),y.offsetTop-n.height<r.top&&(u.offsetTop=h.top),s<u.offsetTop+n.height&&(u.offsetTop=Math.max(r.top,s-n.height))}}while(!g&&f<=8);if(this.getData("ltPropForceScroll")&&("left"!=m&&"right"!=m||(u.offsetTop>h.top?u.offsetTop=h.top:u.offsetTop+n.height<h.bottom&&(u.offsetTop=h.bottom-n.height))),t=u.offsetLeft,e=u.offsetTop,"callout"===this.$node.ltProp("type")){m.indexOf("bottom")>-1?(u.classTobeAdded="lytePopoverArrowTop",u.posClass="lytePopBottomToOrig"):m.indexOf("top")>-1?(u.classTobeAdded="lytePopoverArrowBottom",u.posClass="lytePopTopToOrig"):"left"===m?(u.classTobeAdded="lytePopoverArrowRight",u.posClass="lytePopLeftToOrig"):"right"===m&&(u.classTobeAdded="lytePopoverArrowLeft",u.posClass="lytePopRightToOrig");var b,D=o.querySelector("#lytePopoverArrow");D.classList.remove("lytePopoverArrowTop","lytePopoverArrowBottom","lytePopoverArrowRight","lytePopoverArrowLeft"),D.classList.add(u.classTobeAdded),o.parentElement.classList.contains(u.posClass)||(o.parentElement.classList.remove("lytePopBottomToOrig","lytePopTopToOrig","lytePopLeftToOrig","lytePopRightToOrig"),o.parentElement.classList.add(u.posClass)),$L.fastdom.measure(function(){b=D.getBoundingClientRect()}),$L.fastdom.mutate(function(){if("lytePopoverArrowTop"===u.classTobeAdded||"lytePopoverArrowBottom"===u.classTobeAdded){var o=Math.abs(t-(h.left+(h.width-D.offsetWidth)/2));if(D.style.left=o+"px",D.style.top="",b.left<12&&a.width<=16){var i=12-b.left;a.left==t&&t-i>=0&&(o=b.left+i,D.style.left=o+"px",t-=i)}else if(n.width-b.right<12&&a.width<=16){i=12-(n.width-D.getBoundingClientRect().right);a.left+a.width==n.width+t&&(o=b.left-i,D.style.left=o+"px",t+=i)}"lytePopoverArrowTop"===u.classTobeAdded&&this.setData("transformOrigin",Math.round(o)+"px top"),"lytePopoverArrowBottom"===u.classTobeAdded&&this.setData("transformOrigin",Math.round(o)+"px bottom")}else{var l=Math.abs(e-(h.top+(h.height-D.offsetHeight)/2));if(D.style.left="",D.style.top=l+"px",b.top<12&&a.height<=16){i=12-b.top;a.top==e&&e-i>=0&&(l=b.top+i,D.style.top=l+"px",e-=i)}else if(n.height-b.bottom<12&&a.height<=16){i=12-(n.height-b.bottom);a.top+a.height==n.height+e&&(l=b.top-i,D.style.top=l+"px",e+=i)}"lytePopoverArrowLeft"===u.classTobeAdded&&this.setData("transformOrigin","left "+Math.round(l)+"px"),"lytePopoverArrowRight"===u.classTobeAdded&&this.setData("transformOrigin","right "+Math.round(l)+"px")}},this)}this.setData("classTobeAdded",u.classTobeAdded)}this.$node.ltProp("positionNew",m),$L.fastdom.mutate(function(){o.style.left=t+"px",o.style.top=e+"px",this.getData("first")&&(this.callOnShow(),this.setOpacityAndVisibility(),this.setData("first",!1))},this)}},this),this.$node.ltProp("freeze")&&(document.body.classList.add("bodyWrapper"),LytePopup.bodywrapperCount+=1)},positionPopover:function(t,e,o){var i=0,a=0;switch(t){case"bottom":i=e.left-(o.width-e.width)/2,a=e.top+e.height+("box"==this.getData("ltPropType")?0:9),classTobeAdded="lytePopoverArrowTop";break;case"bottomLeft":i=e.left,a=e.top+e.height+("box"==this.getData("ltPropType")?0:9),classTobeAdded="lytePopoverArrowTop";break;case"bottomRight":i=e.left+e.width-o.width,a=e.top+e.height+("box"==this.getData("ltPropType")?0:9),classTobeAdded="lytePopoverArrowTop";break;case"top":i=e.left-(o.width-e.width)/2,a=e.top-(o.height+("box"==this.getData("ltPropType")?0:9)),classTobeAdded="lytePopoverArrowBottom";break;case"topLeft":i=e.left,a=e.top-(o.height+("box"==this.getData("ltPropType")?0:9)),classTobeAdded="lytePopoverArrowBottom";break;case"topRight":i=e.left+e.width-o.width,a=e.top-(o.height+("box"==this.getData("ltPropType")?0:9)),classTobeAdded="lytePopoverArrowBottom";break;case"left":i=e.left-o.width-("box"==this.getData("ltPropType")?0:9),a=e.top,classTobeAdded="lytePopoverArrowRight";break;case"right":i=e.left+e.width+("box"==this.getData("ltPropType")?0:9),a=e.top,classTobeAdded="lytePopoverArrowLeft"}return{offsetLeft:i,offsetTop:a,classTobeAdded:classTobeAdded}},callOnShow:function(){this.getMethods("onShow")&&this.executeMethod("onShow",this)},setOpacityAndVisibility:function(){if("zoom"===this.getData("ltPropAnimation")){this.actualModalDiv.style.transition="none",this.actualModalDiv.style.transform="scale(0)",this.actualModalDiv.style.opacity="1";var t=this;setTimeout(function(){t.actualModalDiv.style.transition="",t.actualModalDiv.style.transitionDuration=parseFloat(t.getData("ltPropDuration"))/1e3+"s",LytePopup.makingVisible=!0,t.actualModalDiv.style.transformOrigin=t.getData("transformOrigin"),t.actualModalDiv.style.transform="scale(1)"},50)}else this.actualModalDiv.style.transitionDuration=parseFloat(this.getData("ltPropDuration"))/1e3+"s",LytePopup.makingVisible=!0,this.actualModalDiv.style.opacity="1"},onBeforeCloseHandling:function(t){var e=!0;if(this.getMethods("onBeforeClose")&&(e=this.executeMethod("onBeforeClose",t,this)),void 0===e||e){if(this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),this.getData("arrowHidden")&&(this.getData("arrowEle").style.display="",this.setData("arrowHidden",!1),this.setData("arrowEle",null)),_lyteUiUtils.getRTL()&&("bottomLeft"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","bottomRight"):"bottomRight"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","bottomLeft"):"topLeft"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","topRight"):"topRight"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","topLeft"):"left"==this.getData("ltPropPlacement")?this.setData("ltPropPlacement","right"):"right"==this.getData("ltPropPlacement")&&this.setData("ltPropPlacement","left")),void 0==this.getData("ltPropDuration"))this.$node.ltProp({showCopy:!1,show:!1}),this.getMethods("onClose")&&this.executeMethod("onClose",t,this),this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper"));else{var o=parseInt(this.getData("ltPropDuration")),i=this;this.tIdClose=setTimeout(function(){i.tIdClose=!1,"zoom"==i.getData("ltPropAnimation")&&(i.actualModalDiv.style.opacity="0",i.actualModalDiv.style.transform=""),i.$node.ltProp({showCopy:!1,show:!1}),i.getMethods("onClose")&&i.executeMethod("onClose",t,i),i.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper"))},o),this.actualModalDiv.style.transitionDuration=(0==o?0:o>300?o-200:100)/1e3+"s"}"zoom"==this.getData("ltPropAnimation")?this.actualModalDiv.style.transform="scale(0)":this.actualModalDiv.style.opacity=0,LytePopup.closePopup(this),this.setData("visible",!1),this.$node.ltProp("freeze")&&this.childComp.querySelector("lyte-popover-freeze")&&(this.childComp.querySelector("lyte-popover-freeze").style.opacity=0,this.childComp.querySelector("lyte-popover-freeze").style.visibility=""),this.$node.ltProp("freeze")||this.childComp.querySelector(".popoverWrapper").classList.remove("noFreeze"),!this.getData("ltPropFreeze")&&document.body.classList.contains("lyteStopBodyScrolling")&&document.body.classList.remove("lyteStopBodyScrolling")}else this.setData("returnedFalse",!0),this.getData("visible")||this.setData("visible",!0),this.$node.ltProp("show",!0)},onBeforeShowHandling:function(){var t=!0;if(this.getMethods("onBeforeShow")&&(t=this.executeMethod("onBeforeShow",this)),void 0===t||t){if(this.getData("ltPropDraggable")&&this.addDragHandler(),this.updateScrollHandling(),this.$node.ltProp("freeze")||this.childComp.querySelector(".popoverWrapper").classList.add("noFreeze"),this.$node.ltProp("positionNew",this.$node.ltProp("position")),void 0==this.getData("ltPropDuration"))this.$node.ltProp("showCopy",!0),$L.fastdom.mutate(function(){$L.fastdom.measure(function(){$L.fastdom.mutate(function(){this.computeOffsetImpl()},this)},this)},this);else{var e=this;setTimeout(function(){e.$node.ltProp("showCopy",!0),$L.fastdom.mutate(function(){$L.fastdom.measure(function(){$L.fastdom.mutate(function(){e.computeOffsetImpl()},e)},e)},e)},0)}if(this.getData("first")||this.setData("first",!0),$L.fastdom.measure(function(){var t=this.$node.ltProp("originElem")?LytePopup.getScrollParent(document.querySelector(this.$node.ltProp("originElem"))):null;this.getData("ltPropFreeze")||t&&t.isEqualNode(document.body)||document.body.classList.add("lyteStopBodyScrolling")},this),this.getData("visible")||this.setData("visible",!0),LytePopup.addPopup(this),this.$node.ltProp("freeze")){var o=this.childComp.querySelector("lyte-popover-freeze").style;o.background=this.getData("ltPropDimmer").color,this.addedFreezeDetails||(o.opacity=this.getData("ltPropDimmer").opacity)}}else this.$node.ltProp({showCopy:!1,show:!1})},didDestroy:function(){this.childComp&&(this.tIdBeforeClose&&(clearTimeout(this.tIdBeforeClose),this.tIdBeforeClose=!1),this.tIdClose&&(clearTimeout(this.tIdClose),this.tIdClose=!1),this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.childComp.remove(),delete this.childComp,delete this.actualModalDiv,this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")),!this.getData("ltPropFreeze")&&document.body.classList.contains("lyteStopBodyScrolling")&&document.body.classList.remove("lyteStopBodyScrolling"))},actions:{close:function(){this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){if(this.childComp=t,this.$node.parentElement&&"LYTE-COLORPICKER"==this.$node.parentElement.tagName&&(this.$node.parentElement.component.childComp=this.childComp),this.childComp.querySelector("lyte-popover-header")&&(this.childComp.querySelector("lyte-popover-header").style.padding=this.getData("ltPropHeaderPadding")),this.childComp.querySelector("lyte-popover-content")&&(this.childComp.querySelector("lyte-popover-content").style.padding=this.getData("ltPropContentPadding")),this.childComp.querySelector("lyte-popover-footer")&&(this.childComp.querySelector("lyte-popover-footer").style.padding=this.getData("ltPropFooterPadding")),this.actualModalDiv=this.childComp.querySelector(".lytePopover"),this.childComp.querySelector("lyte-popover-header")&&this.getData("ltPropShowCloseButton")){var e=0,o=0;$L.fastdom.measure(function(){e=this.childComp.querySelector("lyte-popover-header").offsetHeight,o=this.childComp.querySelector(".lytePopoverClose").offsetHeight},this),$L.fastdom.mutate(function(){this.childComp.querySelector(".lytePopoverClose").style.top=(e-o)/2+"px"},this)}}}}),"complete"===document.readyState||"interactive"===document.readyState?addPopoverEvent():document.addEventListener("DOMContentLoaded",function(t){addPopoverEvent(t)}),Lyte.Component.register("lyte-progressbar",{_template:'<template tag-name="lyte-progressbar">\n\t<template is="if" value="{{lyteUiIfEquals(ltPropType,\'circle\')}}"><template case="true">\n\t\t<div class="lyteProgressBar lyteCircle">\n\t\t\t<div class="lyteCircleType">\n\t\t\t\t<svg class="svgValueEle" width="{{lyteUiSetWH(ltPropRadius)}}" height="{{lyteUiSetWH(ltPropRadius)}}">\n\t\t\t\t    <circle style="{{lyteUiConcat(\'transition:\',\'stroke-dashoffset \',duration,\' \',timingfn,\';\')}}" cx="{{ltPropRadius}}" cy="{{ltPropRadius}}" r="{{lyteUiSetRadius(ltPropRadius,ltPropStroke)}}" fill="none" stroke="#DCE0E3" stroke-width="{{ltPropStroke}}"></circle>\n\t\t\t\t    <circle style="{{lyteUiConcat(\'transition:\',\'stroke-dashoffset \',duration,\' \',timingfn,\';\')}}" cx="{{ltPropRadius}}" cy="{{ltPropRadius}}" r="{{lyteUiSetRadius(ltPropRadius,ltPropStroke)}}" fill="none" stroke="{{ltPropBackground}}" stroke-width="{{ltPropStroke}}" stroke-dasharray="{{lyteUiSetDashArray(ltPropRadius,ltPropStroke)}}" stroke-dashoffset="{{lyteUiSetOffset(ltPropRadius,ltPropStroke,percentage)}}"></circle>\n\t\t\t\t</svg>\n\t\t\t\t<template is="if" value="{{ltPropShowPercentage}}"><template case="true">\n\t\t\t\t\t<svg width="{{lyteUiSetWH(ltPropRadius)}}" height="{{lyteUiSetWH(ltPropRadius)}}" style="transform:{{lyteUiTextTransform(ltPropRadius)}}" viewBox="{{lyteUiConcat(\'0 \',\'0 \',lyteUiSetWH(ltPropRadius),\' \',lyteUiSetWH(ltPropRadius))}}">\n\t\t\t\t\t\t<text font-size="{{if(ltPropFontSize, ltPropFontSize, \'1.5rem\')}}" text-anchor="middle" dy=".2em" x="50%" y="50%">\n\t\t\t\t\t\t\t{{lyteUiProgressbarLabel(ltPropLabel,percentageDisplay)}}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</svg>\n\t\t\t\t</template></template>\n\t\t\t</div>\n\t\t</div>\n\t</template><template case="false">\n\t\t<div class="lyteProgressBar lyteHorizontal" style="{{lyteUiConcat(\'width:\',ltPropWidth,\';height:\',ltPropHeight)}}">\n\t\t\t<span class="lyteProgressStatus" style="{{lyteUiConcat(\'width: \',percentage,\'% ;\',\'transition: \',\'width \',duration,\' \',timingfn,\';\',\'background:\',ltPropBackground)}}">\n\t\t\t\t<template is="if" value="{{ltPropAnimated}}"><template case="true">\n\t\t\t\t\t<span class="ltPropProgressAnimated progressMovingObj"></span>\n\t\t\t\t</template></template>\n\t\t\t\t<template is="if" value="{{ltPropShowPercentage}}"><template case="true">\n\t\t\t\t\t<span case="true" class="lyteProgressPercentage" style="{{lyteUiConcat(\'line-height:\',ltPropHeight,\'; font-size: \',if(ltPropFontSize, ltPropFontSize, \'12px\'),\';\' )}}">\n\t\t\t\t\t\t{{lyteUiProgressbarLabel(ltPropLabel,percentageDisplay)}}\n\t\t\t\t\t\t\n\t\t\t\t\t</span>\n\t\t\t\t</template></template>\n\t\t\t</span>\n\t\t</div>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"attr",position:[1,1,1,1],attr:{style:{name:"style",helperInfo:{name:"lyteUiConcat",args:["'transition:'","'stroke-dashoffset '","duration","' '","timingfn","';'"]}}}},{type:"attr",position:[1,1,1,3],attr:{style:{name:"style",helperInfo:{name:"lyteUiConcat",args:["'transition:'","'stroke-dashoffset '","duration","' '","timingfn","';'"]}}}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'transform:'",{type:"helper",value:{name:"lyteUiTextTransform",args:["ltPropRadius"]}}]}}}},{type:"attr",position:[1,1]},{type:"text",position:[1,1,1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"lyteUiConcat",args:["'width:'","ltPropWidth","';height:'","ltPropHeight"]}}}},{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"lyteUiConcat",args:["'width: '","percentage","'% ;'","'transition: '","'width '","duration","' '","timingfn","';'","'background:'","ltPropBackground"]}}}},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"lyteUiConcat",args:["'line-height:'","ltPropHeight","'; font-size: '",{type:"helper",value:{name:"if",args:["ltPropFontSize","ltPropFontSize","'12px'"]}},"';'"]}}}},{type:"text",position:[1,1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropType","ltPropProgressFillColor","ltPropCompletedFillColor","ltPropWidth","ltPropHeight","ltPropRadius","ltPropStroke","ltPropValueCopy","ltPropAnimated","ltPropShowPercentage","ltPropProgressProperty","ltPropLabel","ltPropFontSize","percentage","duration","timingfn","percentageDisplay"],didConnect:function(){$L.fastdom.mutate(this.setBackground.bind(this))},data:function(){return{ltPropType:Lyte.attr("string",{default:"bar"}),ltPropProgressFillColor:Lyte.attr("string",{default:"#42a2eb"}),ltPropCompletedFillColor:Lyte.attr("string",{default:"#3fbd5f"}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropHeight:Lyte.attr("string",{default:"12px"}),ltPropRadius:Lyte.attr("string",{default:"50"}),ltPropStroke:Lyte.attr("string",{default:"5"}),ltPropValueCopy:Lyte.attr("string",{default:"0"}),ltPropAnimated:Lyte.attr("boolean",{default:!0}),ltPropShowPercentage:Lyte.attr("boolean",{default:!0}),ltPropProgressProperty:Lyte.attr("object",{default:{value:"0",duration:"0s"}}),ltPropLabel:Lyte.attr("string"),ltPropFontSize:Lyte.attr("string"),percentage:Lyte.attr("string",{default:"0"}),duration:Lyte.attr("string",{default:"2s"}),timingfn:Lyte.attr("string",{default:"linear"}),percentageDisplay:Lyte.attr("string",{default:"0"})}},didDestroy:function(){this.sid&&(window.clearTimeout(this.sid),this.sid=!1),this.iId&&(window.clearInterval(this.iId),this.iId=!1)},percentageChange:function(t){this.setBackground()}.observes("ltPropProgressProperty","ltPropProgressProperty.value"),setBackground:function(){var t=parseFloat(this.getData("ltPropProgressProperty").value),e=this.getData("ltPropProgressProperty").duration?this.getData("ltPropProgressProperty").duration:this.getData("duration");if(this.getData("ltPropProgressProperty").timingfn&&this.setData("timingfn",this.getData("ltPropProgressProperty").timingfn),"circle"===this.getData("ltPropType"))if(parseInt(t)>=100){this.setData("duration",e),this.setData("ltPropBackground",this.getData("ltPropProgressFillColor")),this.setData("percentage","100"),e=1e3*parseFloat(e);var o=this;this.sid&&(window.clearTimeout(this.sid),this.sid=!1),this.sid=setTimeout(function(){o.sid=!1,o.$node.querySelector(".lyteProgressBar").classList.add("lyteProgressCompleted"),o.setData("ltPropBackground",o.getData("ltPropCompletedFillColor"))},e)}else this.sid&&(clearTimeout(this.sid),this.sid=!1),this.$node.querySelector(".lyteProgressBar").classList.remove("lyteProgressCompleted"),this.setData("ltPropBackground",this.getData("ltPropProgressFillColor")),this.setData("duration",e),this.setData("percentage",t+"");else if(parseInt(t)>=100){this.setData("duration",e),this.setData("ltPropBackground",this.getData("ltPropProgressFillColor")),this.setData("percentage","100"),e=1e3*parseFloat(e);o=this;this.sid&&(window.clearTimeout(this.sid),this.sid=!1),this.sid=setTimeout(function(){o.sid=!1,o.$node.querySelector(".lyteProgressBar").classList.add("lyteProgressCompleted"),o.setData("ltPropBackground",o.getData("ltPropCompletedFillColor")),o.getData("ltPropAnimated")&&o.$node.querySelector(".lyteProgressBar .ltPropProgressAnimated").classList.remove("progressMovingObj")},e)}else this.sid&&(clearTimeout(this.sid),this.sid=!1),this.$node.querySelector(".lyteProgressBar").classList.remove("lyteProgressCompleted"),this.setData("ltPropBackground",this.getData("ltPropProgressFillColor")),this.getData("ltPropAnimated")&&this.$node.querySelector(".lyteProgressBar .ltPropProgressAnimated").classList.add("progressMovingObj"),this.setData("duration",e),this.setData("percentage",t+"");this.iId&&(clearInterval(this.iId),this.iId=!1);var i=parseFloat(this.getData("percentageDisplay"));o=this;if(0==parseInt(this.getData("duration")))this.setData("percentageDisplay",t+"");else if(i>t){var a=(i-t)/(1e3*parseInt(this.getData("duration")))*100;this.iId=setInterval(function(){i-=a,o.setData("percentageDisplay",Math.max(parseFloat(i.toFixed(2)),t)+""),parseFloat(i)==t&&(clearInterval(o.iId),o.iId=!1)},100)}else if(i<t){a=(t-i)/(1e3*parseInt(this.getData("duration")))*100;this.iId=setInterval(function(){i+=a,o.$node||clearInterval(o.iId),o.setData("percentageDisplay",Math.min(parseFloat(i.toFixed(2)),t)+""),parseFloat(i)>=t&&(clearInterval(o.iId),o.iId=!1)},100)}},setCircleStroke:function(t,e){var o=t.getAttribute("stroke-dasharray")*(1-parseInt(e)/100);t.setAttribute("stroke-dashoffset",o)},actions:{}}),Lyte.Component.register("lyte-radiobutton",{_template:'<template tag-name="lyte-radiobutton">\n\t<template is="switch" value="{{ltPropType}}"><template case="default"></template><template case="primary"></template><template case="secondary">\n\t\t\t<label class="{{radioclass}}" onmouseup="{{action(\'mup\',event)}}">\n\t\t\t\t<input onkeypress="{{action(\'preventPropagation\',event)}}" type="radio" name="{{ltPropName}}" value="{{ltPropValue}}" class="lyteHide" onclick="{{action(\'valueChanged\',event)}}" disabled="{{ltPropDisabled}}" checked="{{ltPropChecked}}">\n\t\t\t\t<span class="{{ltPropClass}}">\n\t\t\t\t\t<span class="lyteRadioCheck">\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="{{ltPropLabelClass}}">\n\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t</template></template>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template><template case="switch">\n\t\t\t<label class="" onmouseup="{{action(\'mup\',event)}}">\n\t\t\t\t<input onkeypress="{{action(\'preventPropagation\',event)}}" type="radio" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" disabled="{{ltPropDisabled}}" class="lyteHide on-off-sw" readonly="{{ltPropReadonly}}" onclick="{{action(\'valueChanged\',event)}}">\n\t\t\t\t<span class="{{ltPropClass}}">\n\t\t\t\t\t<span class="on-btn"></span>\n\t\t\t\t</span>\n\t\t\t\t<span class="{{ltPropLabelClass}}">\n\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t</template></template>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t</template><template case="slider">\n\t\t\t<label class="lyteRadioSliderLabel" onmouseup="{{action(\'mup\',event)}}">\n\t\t\t\t<input onkeypress="{{action(\'preventPropagation\',event)}}" type="radio" id="{{ltPropId}}" name="{{ltPropName}}" value="{{ltPropValue}}" checked="{{ltPropChecked}}" disabled="{{ltPropDisabled}}" class="lyteHide" readonly="{{ltPropReadonly}}" onclick="{{action(\'valueChanged\',event)}}">\n\t\t\t\t<span class="{{ltPropClass}}">\n\t\t\t\t\t<span class="{{ltPropLabelClass}}">\n\t\t\t\t\t\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t\t\t\t</template><template case="false">\n\t\t\t\t\t\t\t{{ltPropLabel}}\n\t\t\t\t\t\t</template></template>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t\n\t\t\t</label>\n\t\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{default:{dynamicNodes:[],additional:{next:"primary"}},primary:{dynamicNodes:[],additional:{next:"secondary"}},secondary:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,5]},{type:"attr",position:[1,5,1]},{type:"if",position:[1,5,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},switch:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,5]},{type:"attr",position:[1,5,1]},{type:"if",position:[1,5,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},slider:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"attr",position:[1,3,1,1]},{type:"if",position:[1,3,1,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropType","ltPropName","ltPropDisabled","ltPropChecked","ltPropLabel","ltPropValue","ltPropFireOnInit","ltPropLabelClass","ltPropClass","ltPropYield"],data:function(){return{ltPropType:Lyte.attr("string",{default:"default"}),ltPropName:Lyte.attr("string",{default:void 0}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropChecked:Lyte.attr("boolean",{default:!1}),ltPropLabel:Lyte.attr("string",{default:void 0}),ltPropValue:Lyte.attr("string",{default:void 0}),ltPropFireOnInit:Lyte.attr("boolean",{default:!1}),ltPropLabelClass:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1})}},didDestroy:function(){delete this.$node.focus,delete this.$node.blur,delete this.$node.click},changeStyle:function(){this.changeStyleFunction()}.observes("ltPropType"),changeStyleFunction:function(){var t=this.getData("ltPropType"),e=(this.getData("ltPropChecked"),this.getData("ltPropClass")),o=this.getData("ltPropLabelClass");-1===t.indexOf("slider")&&-1===t.indexOf("switch")&&-1===t.indexOf("default")&&-1===t.indexOf("primary")&&-1===t.indexOf("secondary")&&this.setData("ltPropType","default"),-1!==t.indexOf("default")?(this.setData("radioclass","lyteRadioBtn lyteDefault"),this.setData("ltPropClass",e||"lyteRadioLayer"),this.setData("ltPropLabelClass",o||"lyteRadioLabel")):-1!==t.indexOf("primary")?(this.setData("radioclass","lyteRadioBtn lytePrimary"),this.setData("ltPropClass",e||"lyteRadioLayer"),this.setData("ltPropLabelClass",o||"lyteRadioLabel")):-1!==t.indexOf("secondary")?(this.setData("radioclass","lyteRadioBtn lyteSecondary"),this.setData("ltPropClass",e||"lyteRadioLayer"),this.setData("ltPropLabelClass",o||"lyteRadioLabel")):-1!==t.indexOf("switch")?(this.setData("ltPropClass",e||"lyteRadioSwitch"),this.setData("ltPropLabelClass",o||"lyteRadioLabel")):-1!==t.indexOf("slider")&&(this.setData("ltPropClass",e||"lyteRadioSlider"),this.setData("ltPropLabelClass",o||"lyteRadioSliderText"))},reduceOpacity:function(){this.getData("ltPropDisabled")?this.$node.classList.add("lyteRadioDisabled"):this.$node.classList.remove("lyteRadioDisabled")},disabledChange:function(){this.reduceOpacity()}.observes("ltPropDisabled"),init:function(){this.reduceOpacity(),this.changeStyleFunction()},didConnect:function(){var t=this;this.$node.click=function(){var e=new Event("click",{bubbles:!0,cancelable:!0}),o=t.$node,i=o.ltProp("checked");o.ltProp("disabled")||(i||o.ltProp("checked",!0),o.dispatchEvent(e))},this.$node.focus=function(){var e=t.$node,o=e.querySelector("input");e.ltProp("disabled")||o.focus()},this.$node.blur=function(){var e=t.$node,o=e.querySelector("input");e.ltProp("disabled")||o.blur()},this.callMethodsOnInit(!0)},check:function(t,e){this.getMethods("onChecked")&&this.executeMethod("onChecked",t,e)},uncheck:function(t,e){this.getMethods("onUnchecked")&&this.executeMethod("onUnchecked",t,e)},beforeCheck:function(t,e){if(this.getMethods("onBeforeChecked"))return this.executeMethod("onBeforeChecked",t,e)},beforeUncheck:function(t,e){if(this.getMethods("onBeforeUnchecked"))return this.executeMethod("onBeforeUnchecked",t,e)},onchanged:function(t,e){this.getMethods("onChanged")&&this.executeMethod("onChanged",t,e)},extractRadios:function(){for(var t,e=this.getData("ltPropName"),o=0,i=document.querySelectorAll('input[type="radio"][name="'+e+'"]');o<i.length;o++){for(t=i[o];"LYTE-RADIOBUTTON"!==t.tagName&&"HTML"!==t.tagName;)t=t.parentElement;if("LYTE-RADIOBUTTON"===t.tagName&&t.ltProp("checked")&&t!=this.$node)return t}},changeChecks:function(t){var e,o=this.extractRadios(),i=(o&&o.querySelector("input"),o&&o.component),a=this.$node.querySelector("input");if(!t.newValue||!t.oldValue)if(t.newValue){if(this.setData("prevent",!0),this.setData("ltPropChecked",!1),o&&(e=this.beforeUncheck(a,this)),!1===e)return void this.revertState(o,this.$node);if(!1===this.beforeCheck(a,this))return void this.revertState(o,this.$node);o&&(i.setData("prevent",!0),o.ltProp("checked",!1),i.setData("prevent",!1),this.uncheck(a,this)),this.setData("ltPropChecked",!0),this.setData("prevent",!1),this.check(a,this),this.onchanged(a,this)}else if(!t.newValue&&t.oldValue){if(this.setData("prevent",!0),this.setData("ltPropChecked",!0),!1===(e=this.beforeUncheck(a,this)))return void this.revertState(this.$node,{});this.setData("ltPropChecked",!1),this.uncheck(a,this),this.onchanged(a,this),this.setData("prevent",!1)}},change:function(t){var e=this.getData("ltPropName"),o=document.querySelector('input[type="radio"][name="'+e+'"]:checked');this.getData("onChange")?t.newValue?this.check(o,this):this.uncheck(o,this.getData("second")):this.changeChecks(t)},resetValues:function(){for(var t,e=this.getData("ltPropName"),o=document.querySelectorAll('input[type="radio"][name="'+e+'"]'),i=0,a=o.length;i<a;i++)(t=o[i].parentElement.parentElement.component).setData("prev",void 0),t.setData("node",void 0)},valueChanged:function(t){var e=t.oldValue,o=t.newValue;e&&!o&&this.resetValues(),this.getData("prevent")||this.change(t)}.observes("ltPropChecked"),getParentRadio:function(t){for(;t&&"LYTE-RADIOBUTTON"!==t.tagName;)t=t.parentElement;return t},revertState:function(t,e){var o=(t||{}).component,i=(e||{}).component;o&&(o.setData("prevent",!0),o.setData("ltPropChecked",!0),t.querySelector("input").checked=!0,o.setData("prevent",!1)),i&&(i.setData("prevent",!0),i.setData("ltPropChecked",!1),e.querySelector("input").checked=!1,i.setData("prevent",!1))},callMethodsOnInit:function(){var t=this.getData("ltPropFireOnInit"),e=this.getData("ltPropChecked");if(t&&e){var o=this.$node.querySelector("input");o.getAttribute("value");this.beforeCheck(o,this),this.check(o,this),this.onchanged(o,this)}},actions:{preventPropagation:function(){32===event.keyCode&&(this.preventClick=!0)},mup:function(t){var e=this.getData("ltPropName"),o=document.querySelector('input[type="radio"][name="'+e+'"]:checked');this.setData("shouldCallUnChecked",!1),o&&(this.setData("prev",o.getAttribute("value")),this.setData("node",o),this.setData("shouldCallUnChecked",!0));var i=this.$node.querySelector("input"),a=i.checked;if(!i.disabled&&!a){if(this.getData("shouldCallUnChecked")&&!1===this.beforeUncheck(i,this))return void this.setData("revertState",!0);if(!1===this.beforeCheck(i,this))return void this.setData("revertState",!0)}},valueChanged:function(t){var e=t.target,o=e.getAttribute("value"),i=this.getData("prev"),a=this.getData("node"),l=this.getData("revertState"),n=this.getParentRadio(a),r=this.$node,s=a&&a.parentElement.parentElement.component;e.parentElement.parentElement;if(t.stopPropagation(),this.preventClick)this.preventClick=!1;else if(o!==i){if(l)return this.revertState(n,r),void this.setData("node",void 0);if(a){for(;"LYTE-RADIOBUTTON"!==a.tagName;)a=a.parentElement;s.setData("onChange",!0),s.setData("second",this),a.ltProp("checked",!1),s.setData("second",void 0),s.setData("onChange",!1)}(a=this.getData("node"))&&this.setData("node",void 0),this.setData("onChange",!0),this.setData("ltPropChecked",!0),this.setData("onChange",!1),this.onchanged(e,this)}}}}),document.addEventListener("keydown",function(t){var e,o=t.keyCode;if(13===o||32===o){if("INPUT"!==(e=document.activeElement).tagName)return;for(;"LYTE-RADIOBUTTON"!==e.tagName&&"HTML"!==e.tagName;)e=e.parentElement;"LYTE-RADIOBUTTON"===e.tagName&&(e.ltProp("checked")||(e.ltProp("checked",!0),t.preventDefault()))}}),Lyte.Component.register("lyte-search",{_template:'<template tag-name="lyte-search">\n    <lyte-input lt-prop-auto-update="{{ltPropAutoUpdate}}" lt-prop-tab-index="{{ltPropTabIndex}}" lt-prop-id="{{ltPropId}}" lt-prop-wrapper-style="{{ltPropWrapperStyle}}" lt-prop-class="{{ltPropClass}}" lt-prop-autofocus="{{ltPropAutofocus}}" lt-prop-autocomplete="{{ltPropAutocomplete}}" lt-prop-type="{{ltPropType}}" lt-prop-name="{{ltPropName}}" lt-prop-placeholder="{{ltPropPlaceholder}}" lt-prop-width="{{ltPropWidth}}" lt-prop-height="{{ltPropHeight}}" onkeyup="{{action(\'keyup\', event, this)}}" lt-prop-style="{{ltPropStyle}}" lt-prop-value="{{lbind(ltPropValue)}}" onkeypress="{{action(\'keypress\', event, this)}}" lt-prop-appearance="{{ltPropAppearance}}" lt-prop-direction="{{ltPropDirection}}" lt-prop-disabled="{{ltPropDisabled}}" lt-prop-readonly="{{ltPropReadonly}}" on-value-change="{{method(\'valuechange\')}}" on-focus="{{method(\'focus\')}}" on-blur="{{method(\'blurEvent\')}}" lt-prop-input-title="{{ltPropInputTitle}}" lt-prop-pattern="{{ltPropPattern}}" lt-prop-maxlength="{{ltPropMaxlength}}" oninput="{{action(\'input\', event)}}" lt-prop-close-icon="{{ltPropCloseIcon}}" is-search="true" lt-prop-update-delay="{{ltPropUpdateDelay}}"></lyte-input>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}],_observedAttributes:["ltPropAutocomplete","ltPropPlaceholder","ltPropAutofocus","ltPropDisabled","ltPropStyle","ltPropMaxlength","ltPropReadonly","ltPropId","ltPropClass","ltPropType","ltPropName","ltPropWidth","ltPropHeight","ltPropValue","ltPropAppearance","ltPropDirection","ltPropQuerySelector","ltPropMinLength","ltPropMethod","ltPropWrapperStyle","ltPropTabIndex","ltPropAjaxRequest","ltPropAutoUpdate","ltPropPattern","ltPropInputTitle","ltPropCloseIcon","ltPropUpdateDelay","ltPropSearchDelay","ltPropCaseSensitive","ltPropComponent","ltPropTrim","timeout"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){this.$node.setValue=function(t,e){this.$node.ltProp("value",t),this.pressFunc(t||"",e||{})}.bind(this),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),["focus","blur","click","select"].forEach(function(t){this.$node[t]=function(e){this.$node.querySelector("lyte-input")[t](e)}.bind(this)}.bind(this)),$L.fastdom.measure(function(){_lyteUiUtils.getRTL()&&$L.fastdom.mutate(function(){this.$node.classList.add("lyteRTL")}.bind(this))}.bind(this));var t=this.data.ltPropComponent,e=this.data.ltPropQuerySelector;"accordion"==t?e.related="lyte-accordion-item":"tree"==t&&(e.related=".lyteTreeBodyDiv lyte-yield:not(.noChildClass) lyte-tree-icon")},didDestroy:function(){clearTimeout(this._comptime),delete this.$node.setValue,delete this.$node.focus,delete this.$node.blur,delete this.$node.click,delete this.$node.select},data:function(){return{ltPropAutocomplete:Lyte.attr("string",{default:"off"}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropStyle:Lyte.attr("string",{default:""}),ltPropMaxlength:Lyte.attr("number",{default:25}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropId:Lyte.attr("string",{default:"inputId"}),ltPropClass:Lyte.attr("string",{default:""}),ltPropType:Lyte.attr("string",{default:"search"}),ltPropName:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropValue:Lyte.attr("string",{default:""}),ltPropAppearance:Lyte.attr("string",{default:"flat"}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropQuerySelector:Lyte.attr("object",{default:{}}),ltPropMinLength:Lyte.attr("number",{default:1}),ltPropMethod:Lyte.attr("string",{default:"contains"}),ltPropWrapperStyle:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("string",{default:"0"}),ltPropAjaxRequest:Lyte.attr("object",{default:{}}),ltPropAutoUpdate:Lyte.attr("boolean",{default:!0}),ltPropPattern:Lyte.attr("string",{default:".+"}),ltPropInputTitle:Lyte.attr("string",{default:""}),ltPropCloseIcon:Lyte.attr("boolean",{default:!1}),ltPropUpdateDelay:Lyte.attr("number",{default:250}),ltPropSearchDelay:Lyte.attr("number",{default:100}),ltPropCaseSensitive:Lyte.attr("boolean",{default:!1}),ltPropComponent:Lyte.attr("string",{default:void 0}),ltPropTrim:Lyte.attr("boolean",{default:!1}),timeout:Lyte.attr("number",{default:void 0})}},methods:{blurEvent:function(t){this.getMethods("onBlur")&&this.executeMethod("onBlur",t,this.$node)},focus:function(t){this.getMethods("onFocus")&&this.executeMethod("onFocus",t,this.$node)},valuechange:function(t){this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node)}},searchList:function(t){var e=[],o=[];query=this.getData("ltPropQuerySelector"),"string"==typeof query&&(query=JSON.parse(query));for(var i=0;i<t.childElementCount;i++){for(;t.children[i].childElementCount;){returnedVal=this.searchList.call(this,t.children[i]),e=e.concat(returnedVal[0]),o=o.concat(returnedVal[1]);break}if(!t.children[i].childElementCount)if(e.push(t.children[i].textContent),query.target){var a="string"==typeof query.scope?document.body.querySelector(query.scope.trim()):query.scope;for(targetList=a.querySelectorAll(query.target),node=t.children[i];node!=a;){for(var l=!1,n=0;n<targetList.length;n++)if(node==targetList[n]){o.push(node),l=!0;break}if(l)break;node=node.parentElement}}else o.push(t.children[i])}return[e,o]},actions:{"on-ip-clear":function(t){this.$node.setValue("",{type:"clear"}),this.getMethods("onClear")&&this.executeMethod("onClear",this.$node)},keypress:function(t){var e=t.keyCode;e>=37&&e<=40||13==e||t.stopPropagation()},keyup:function(t,e){var o=t.which||t.keyCode;if(!([37,13,38,39,40,27].indexOf(o)>-1)){clearTimeout(this.data.timeout),clearTimeout(this._iptime);var i=this.$node.querySelector("input,textarea").value;if(i.length>=this.getData("ltPropMinLength")||8==o||91==o||17==o||46==o){var a=this.data.ltPropSearchDelay;void 0!=a?this.timeout=setTimeout(this.pressFunc.bind(this),a,i,t):this.pressFunc.call(this,i,t)}}},input:function(t){clearTimeout(this._iptime),this._iptime=setTimeout(this.pressFunc.bind(this),250,t.target.value,t)}},fNcase:function(t){return this.data.ltPropCaseSensitive||(t=t.toLowerCase()),this.data.ltPropTrim&&(t=t.trim()),t},filteringArray:function(t,e,o,i,a,l){var n=this.getData("ltPropMethod"),r=[],s=[];if((o=this.fNcase(o)).length)for(var d=0;d<t.length;d++){this.switchfn(n,o,this.fNcase(t[d].trim()))?r.push(i[d]):s.push(i[d])}else r=Array.apply(Array,i);this.getMethods("onSearch")&&0==this.executeMethod("onSearch",r,this.$node,a&&"clear"==a.type?{}:a,o,s)||(void 0==this.data.ltPropSearchDelay?this.hideProcess(t,e,n,o,l,a,s,r):$L.fastdom.mutate(this.hideProcess.bind(this,t,e,n,o,l,a,s,r)))},switchfn:function(t,e,o){var i;switch(t){case"contains":i=o.indexOf(e)>=0;break;case"startsWith":i=0==o.indexOf(e);break;case"endsWith":var a=o.lastIndexOf(e);-1!=a&&(i=a+e.length==o.length)}return i},hideProcess:function(t,e,o,i,a,l,n,r){for(var s=this.data.ltPropQuerySelector,d=(i=this.fNcase(i),0);d<t.length;d++)this.additionalHand(e[d],this.switchfn(o,i,this.fNcase(t[d].trim())));for(d=0;d<a.length;d++){if("accordion"==this.data.ltPropComponent&&void 0==a[d]._state){if(!a[d].querySelector("lyte-accordion-body")){i?a[d].classList.add("lyteSearchHidden"):a[d].classList.remove("lyteSearchHidden");continue}a[d]._state=a[d].classList.contains("lyteAccordionActive")}else if("tree"==this.data.ltPropComponent){void 0==a[d]._state&&(a[d]._state=a[d].classList.contains("lyteIconOpened"));continue}a[d].querySelectorAll(s.target||s.search).length==a[d].querySelectorAll(".lyteSearchHidden").length?a[d].classList.add("lyteSearchHidden"):a[d].classList.remove("lyteSearchHidden")}"accordion"==this.data.ltPropComponent?$L.fastdom.measure(this.accfilter.bind(this,r,n,i,l&&"clear"==l.type)):"tree"==this.data.ltPropComponent&&$L.fastdom.measure(this.treefilter.bind(this,r,n,i,l&&"clear"==l.type))},accfilter:function(t,e,o,i){for(var a=$L(this.data.ltPropQuerySelector.scope),l=0;l<t.length;l++){for(var n=$L(t[l]).closest("lyte-accordion-item",a),r=0;r<e.length;r++){var s=$L(e[r]).closest("lyte-accordion-item",a);n[0]!=s[0]||(Lyte.arrayUtils(e,"removeAt",r),r--)}if(t[l+1]){s=$L(t[l+1]).closest("lyte-accordion-item",a);n[0]==s[0]&&(Lyte.arrayUtils(t,"removeAt",l+1),l--)}}$L.fastdom.mutate(function(){for(var a=0;a<t.length;a++){var l=!1;l=!(r=$L(t[a]).closest("lyte-accordion-item")).hasClass("lyteAccordionActive"),o||(l=void 0!=r[0]._scope?!l&&!r[0]._scope:!l),l&&r.click()}for(var n=0;n<e.length;n++){var r=$L(e[n]).closest("lyte-accordion-item");i?!r[0]._state&&r.hasClass("lyteAccordionActive")&&r.click():r.hasClass("lyteAccordionActive")&&r.click()}})},treeinremove:function(t){for(var e=0;e<t.length;e++)if(t[e+1]){var o=$L(t[e]).closest(".lyteTreeBodyDiv")[0],i=$L(t[e+1]).closest(".lyteTreeBodyDiv")[0];o.contains(i)?Lyte.arrayUtils(t,"removeAt",e+1):i.contains(o)&&(Lyte.arrayUtils(t,"removeAt",e),e--)}},treefilter:function(t,e,o,i){for(var a=$L(this.data.ltPropQuerySelector.scope)[0],l=0;l<t.length;l++){var n=$L(t[l]).closest(".lyteTreeBodyDiv");for(j=0;j<e.length;j++){var r=$L(e[j]).closest(".lyteTreeBodyDiv");(n[0].contains(r[0])||r[0].contains(n[0]))&&(r.addClass("lyteSearchHidden"),Lyte.arrayUtils(e,"removeAt",j),j--)}}for(l=0;l<t.length;l++)this.removeClse(t[l],a),o.length&&a.ltProp("stateAttr",$L(t[l]).closest("lyte-tree-body").attr("data-value"));if(o.length)for(l=0;l<e.length;l++)$L(e[l]).closest(".lyteTreeBodyDiv").addClass("lyteSearchHidden");else this.hiderecurse($L("lyte-yield:not(.noChildClass) lyte-tree-icon",a),i)},removeClse:function(t,e){e=$L(this.data.ltPropQuerySelector.scope);var o=$L(t).closest(".lyteSearchHidden",e);o.length&&(o.removeClass("lyteSearchHidden"),this.removeClse(t,e))},hiderecurse:function(t,e){for(var o=t.length-1;o>=0;o--){var i=t.eq(o);e&&void 0!=i[0]._state?(i[0]._state&&!i.hasClass("lyteIconOpened")||!i[0]._state&&i.hasClass("lyteIconOpened"))&&setTimeout(i.click.bind(i),20):i.hasClass("lyteIconOpened")&&setTimeout(i.click.bind(i),20),delete i[0]._state}},additionalHand:function(t,e){var o=this.data.ltPropComponent;if(e){if("dropdown"==o){var i=$L(t).closest("lyte-drop-box")[0];i&&i.classList.contains("lyteDropdownHidden")&&i.origindd.toggle()}t.classList.remove("lyteSearchHidden")}else if("tree"!=o){if(t.classList.contains("lyteSearchHidden"))return;t.classList.add("lyteSearchHidden")}},pressFunc:function(t,e){if(!this.getMethods("onBeforeSearch")||0!=this.executeMethod("onBeforeSearch",e,this)){var o,i=[],a=[],l=[],n=this.data.ltPropQuerySelector,r="string"==typeof n.scope?document.body.querySelector(n.scope.trim()):n.scope;if(n.search&&(a=r.querySelectorAll(n.search.trim())),l=n.target?r.querySelectorAll(n.target.trim()):a,n.search)for(var s=0;s<a.length;s++)i[s]=a[s].textContent;else returnedVal=this.searchList.call(this,r),i=returnedVal[0],a=(l=returnedVal[1]).slice();o=n.related&&(n.search||n.target)?o=r.querySelectorAll(n.related):[],this.filteringArray.call(this,i,l,t,a,e,o),this._prevVal=t}}}),Lyte.Component.register("lyte-slider",{_template:'<template tag-name="lyte-slider">\n\t<div class="lyteSlide {{if(ltPropDisabled, \'lyteSliderDisabled\', \'\')}}">\n\t\t<div class="lyteRangeSlider {{ltPropDirection}}" onclick="{{action(\'click\',event)}}" tabindex="0" onkeydown="{{action(\'keydown\', event)}}">\n\t\t\t<div class="lyteSliderFill"></div>\n\t\t\t<div class="lyteSliderHandler {{ltPropHandler}} lyteHandler1" lt-prop-title="{{if(expHandlers(ltPropTooltip, \'&amp;&amp;\', true), if(ltPropRangeHandler,ltPropMinValue, ltPropValue), \'\')}}" tabindex="0" onmousedown="{{action(\'mousedown\', event, this)}}" ontouchstart="{{action(\'mousedown\', event, this)}}" lt-prop-tooltip-config="{{ltPropTooltipConfig}}" lt-prop-tooltip-style="{{ltPropTooltipStyle}}" lt-prop-tooltip-class="{{ltPropTooltipClass}}" style="border-color: {{ltPropFillColor}}"></div>\n\t\t\t<template is="if" value="{{ltPropRangeHandler}}"><template case="true">\n\t\t\t\t\t<div class="lyteSliderHandler {{ltPropHandler}} lyteHandler2" tabindex="0" onmousedown="{{action(\'mousedown\', event, this)}}" ontouchstart="{{action(\'mousedown\', event, this)}}" lt-prop-title="{{if(ltPropTooltip, ltPropMaxValue, \'\')}}" lt-prop-tooltip-config="{{ltPropTooltipConfig}}" lt-prop-tooltip-style="{{ltPropTooltipStyle}}" lt-prop-tooltip-class="{{ltPropTooltipClass}}" style="border-color: {{ltPropFillColor}}"></div>\n\t\t\t\t</template></template><template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t</template><template case="false">\n\t\t\t\t<div class="lyteScaleOption {{ltPropHandler}}">\n\t\t\t\t\t<template is="for" items="{{divLength}}" index="indexVal">\n\t\t\t\t\t\t<span class="lyteScaleLine" style="{{item}}">\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t<span class="lyteScalLable">{{scaleVal[indexVal]}}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t </template></template>\t\n\t\t</div>\n\t</div>\t\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'border-color: '","ltPropFillColor"]}}}},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'border-color: '","ltPropFillColor"]}}}}]}},default:{}},{type:"attr",position:[1,1,6]},{type:"if",position:[1,1,6],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",dynamicValue:"item"}}},{type:"text",position:[1,3,0]}]}]}},default:{}}],_observedAttributes:["divLength","scaleVal","ltPropMin","ltPropMax","ltPropScaleInterval","ltPropStep","ltPropHandler","ltPropDirection","ltPropWidth","ltPropFillColor","ltPropNonFillColor","ltPropHeight","ltPropValue","ltPropDiscrete","ltPropContent","ltPropRangeHandler","ltPropMinValue","ltPropMaxValue","ltPropDisabled","ltPropSelectedValue1","ltPropSelectedValue2","ltPropYield","ltPropTooltipStyle","ltPropTooltip","ltPropScaleUnit","ltPropTooltipClass","ltPropTooltipConfig","ltPropMinDiff","ltPropDigits","preventObs"],init:function(){this._dir=_lyteUiUtils.getRTL();var t,e=this.getData("ltPropTooltipConfig"),o=this.getData("ltPropDirection"),i=this.getData("ltPropTooltipStyle");(e||(this._config=!0,this.data.ltPropTooltipConfig={position:"lyteHorizontal"==o?"top":"right",showdelay:500,margin:10}),i||(this._style=!0,this.data.ltPropFillColor&&(this.data.ltPropTooltipStyle="background-color : "+this.data.ltPropFillColor+";")),-1!=[void 0,"",null].indexOf(this.getData("ltPropScaleInterval")))&&(this.setData("preventObs",!0),-1!=this.getData("ltPropHandler").indexOf("Arrow")&&0==this.getData("ltPropContent").length&&(t=.1*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))),this.getData("ltPropContent").length&&(t="true"),t&&this.setData("ltPropScaleInterval",t.toString()),this.setData("preventObs",!1));this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e.clientX:"offsetLeft"==t?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:o-e.right;if("left"==t)return"right"}return e?e[t]:t},heightSetObs:function(){this.heightSet.call(this,arguments[0])}.observes("ltPropWidth","ltPropHeight"),heightSet:function(){var t=this.getData("ltPropWidth"),e=this.getData("ltPropHeight");-1!=this.getData("ltPropDirection").indexOf("Horizontal")?(t||(this.setData("ltPropWidth","200px"),t="200px"),e||(this.setData("ltPropHeight","30px"),e="30px")):(t||(this.setData("ltPropWidth","30px"),t="30px"),e||(this.setData("ltPropHeight","200px"),e="200px")),this.$node.style.width=t,this.$node.style.height=e,arguments.length&&this.didConnectWrk.call(this)},initialWorkObs:function(){this.getData("preventObs")||(this.setData("preventObs",!0),this.initialWork.call(this,arguments[0]),this.setData("preventObs",!1))}.observes("ltPropContent","ltPropMax","ltPropMin","ltPropScaleInterval","ltPropDiscrete","ltPropStep","ltPropValue","ltPropScaleUnit").on("init"),initialWork:function(t){var e=this.getData("ltPropContent").slice(),o=this.getData("ltPropDirection"),i=this.getData("ltPropDiscrete"),a=this.getData("ltPropRangeHandler");if(e.length){if(e.length)if(this.setData("ltPropMax","100"),this.setData("ltPropStep",this.getData("ltPropScaleInterval")),(this.getData("ltPropScaleInterval")||t&&"ltPropContent"==t.item)&&this.setData("ltPropScaleInterval",""+parseFloat(100/(e.length-1))),this.setData("ltPropDiscrete",this.getData("ltPropScaleInterval")),a){r=this.getData("ltPropMinValue"),s=this.getData("ltPropMaxValue");(!r||-1==e.indexOf(r)||e.indexOf(r)>e.indexOf(s))&&this.setData("ltPropMinValue",e[0]),(!s||-1==e.indexOf(s)||e.indexOf(r)>e.indexOf(s))&&this.setData("ltPropMaxValue",e[e.length-1]),this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))}else this.getData("ltPropValue")||(this.setData("ltPropValue",this.getData("ltPropContent")[0]),this.setData("ltPropSelectedValue1",this.getData("ltPropValue")))}else{var l=parseFloat(this.getData("ltPropMin")),n=parseFloat(this.getData("ltPropMax"));if(a){var r=parseFloat(this.getData("ltPropMinValue")),s=parseFloat(this.getData("ltPropMaxValue"));(isNaN(r)||r<l||r>=n)&&this.setData("ltPropMinValue",l.toString()),(isNaN(s)||s>n||s<=l)&&this.setData("ltPropMaxValue",n.toString()),this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))}else{var d=parseFloat(this.getData("ltPropValue"));d<l||isNaN(d)?this.setData("ltPropValue",l.toString()):d>n&&this.setData("ltPropValue",n.toString()),this.setData("ltPropSelectedValue1",this.getData("ltPropValue"))}if(i){var p=.1*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")));i=parseFloat(i),i=Math.max(isNaN(i)?0:i,p).toString(),this.setData("ltPropDiscrete",i),this.setData("ltPropStep",i),this.setData("ltPropScaleInterval",i)}}var c=[],h=[];if(!this.getData("ltPropYield")){var u=-1!=o.indexOf("Horizontal"),y="top:",m=parseFloat(this.getData("ltPropScaleInterval"));if(u&&(y=this.rtlfunc.call(this,"left")+":"),m&&!isNaN(m)){for(var g=parseFloat(this.getData("ltPropMin")),f=this.getData("ltPropScaleUnit"),v=0;g<=parseFloat(this.getData("ltPropMax"));v++)c.push(y+(g-parseFloat(this.getData("ltPropMin")))/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*100+"%"),this.getData("ltPropContent").length?h.push(e[v]+f):h.push(g+f),g+=parseFloat(m);s=e.length?e[e.length-1]:this.getData("ltPropMax");h[h.length-1]!=s&&(c.push(y+100+"%"),e.length?h.push(e[e.length-1]+f):h.push(this.getData("ltPropMax")+f))}else c.push(y+0+"%"),c.push(y+100+"%"),h=this.MaxMinSet.call(this),this.setData("scaleVal",h)}this.setData("scaleVal",h),this.setData("divLength",c)},colorSetObs:function(t){this.colorSet.call(this,t)}.observes("ltPropFillColor","ltPropNonFillColor").on("didConnect"),colorSet:function(t){(!t&&this.data.ltPropFillColor||t&&"ltPropFillColor"==t.item)&&(this.$node.querySelector("div.lyteSliderFill").style.backgroundColor=this.data.ltPropFillColor),(!t&&this.data.ltPropNonFillColor||t&&"ltPropNonFillColor"==t.item)&&(this.$node.querySelector("div.lyteRangeSlider").style.backgroundColor=this.data.ltPropNonFillColor)},didConnectWrkObs:function(){this.getData("preventObs")||(this.setData("preventObs",!0),this.didConnectWrk.apply(this,arguments),this.setData("preventObs",!1))}.observes("ltPropScaleInterval","ltPropValue","ltPropMin","ltPropMax","ltPropMinValue","ltPropMaxValue","ltPropContent","ltPropHandler","ltPropRangeHandler"),didConnectWrk:function(){this.$node.querySelector("div.lyteRangeSlider"),this.$node.querySelector("div.lyteSlide");var t,e,o=this.$node.querySelectorAll("div.lyteSliderHandler"),i=this.getData("ltPropRangeHandler"),a=this.getData("ltPropDirection"),l=this.$node.getBoundingClientRect(),n=o[0].getBoundingClientRect(),r=this.$node.offsetParent,s={},d="width",p="handlerWidth",c=this.rtlfunc.call(this,"left"),h={},u="offsetWidth";-1==a.indexOf("Horizontal")&&(d="height",p="handlerHeight",c="top",u="offsetHeight"),null==r?(s.width=parseFloat(this.getData("ltPropWidth")),s.height=parseFloat(this.getData("ltPropHeight")),s.handlerWidth=s.handlerHeight=12):(s.width=l.width,s.height=l.height,s.handlerWidth=n.width,s.handlerHeight=n.height);var y=this.$node.querySelector("div.lyteSliderFill");if(this.getData("ltPropContent").length){var m,g,f=this.data.ltPropContent.indexOf(this.data.ltPropValue);this.$node.querySelectorAll("div.lyteSliderHandler"),f=f>-1?f:0,i&&(m=-1!=(m=this.getData("ltPropContent").indexOf(this.getData("ltPropMinValue")))?m:0,g=-1!=(g=this.getData("ltPropContent").indexOf(this.getData("ltPropMaxValue")))?g:this.getData("ltPropContent").length-1),i?(t=this.rangeInitialSet.call(this,u,m),e=this.rangeInitialSet.call(this,u,g),h=this.rangeSliderFill(t,e,s[p])):(t=this.rangeInitialSet.call(this,u,f),h.width=f/(this.getData("ltPropContent").length-1)*s[d])}else i?(t=this.initialValueSet.call(this,s[d],s[p],parseFloat(this.getData("ltPropMinValue"))),e=this.initialValueSet.call(this,s[d],s[p],parseFloat(this.getData("ltPropMaxValue"))),h=this.rangeSliderFill(t,e,s[p])):(t=this.initialValueSet.call(this,s[d],s[p],parseFloat(this.getData("ltPropValue"))),h.width=(parseFloat(this.getData("ltPropValue"))-parseFloat(this.getData("ltPropMin")))/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*s[d]);o[0].style[c]=t+"px",y.style[d]=h.width+"px",o[1]&&(o[1].style[c]=e+"px",y.style[c]=h.left+"px")},directionObsObs:function(){this.directionObs.call(this)}.observes("ltPropDirection"),directionObs:function(){this.getData("preventObs")||$L.fastdom.mutate(function(){var t=this.$node.querySelector(".lyteSliderHandler");t.style.removeProperty(this.rtlfunc.call(this,"left")),t.style.removeProperty("top");var e=this.$node.querySelector(".lyteSliderFill");e.style.removeProperty("width"),e.style.removeProperty("height"),this.setData("preventObs",!0),this.heightSet.call(this),$L.fastdom.measure(function(){this.didConnectWrk.call(this),this.setData("preventObs",!1)}.bind(this))}.bind(this))},MaxMinSet:function(){var t=[],e=this.getData("ltPropScaleUnit");return this.getData("ltPropContent").length?(t.push(this.getData("ltPropContent")[0]+e),t.push(this.getData("ltPropContent")[this.getData("ltPropContent").length-1]+e)):(t.push(this.getData("ltPropMin")+e),t.push(this.getData("ltPropMax")+e)),t},selectedVal:function(t,e,o,i,a){this.$node.querySelector("div.lyteSlide");var l,n=t[o];return l=i?((parseFloat(i.style[a])+e[o]/2)/n*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))+parseFloat(this.getData("ltPropMin"))).toFixed(this.data.ltPropDigits):(parseFloat(this.$node.querySelector("div.lyteSliderFill").style[o])/n*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))+parseFloat(this.getData("ltPropMin"))).toFixed(this.data.ltPropDigits),this.getData("ltPropContent").length&&(numb=parseFloat(l)/parseFloat(this.getData("ltPropScaleInterval")),l=l>100?this.getData("ltPropContent")[this.getData("ltPropContent").length-1]:this.getData("ltPropContent")[parseInt(parseFloat(numb).toFixed(0))]),l},onSelect:function(t){(this.getMethods("onChange")||this.getMethods("onSelect"))&&(this.getData("ltPropRangeHandler")?(this.getMethods("onChange")&&this.executeMethod("onChange",this.getData("ltPropSelectedValue1"),this.getData("ltPropSelectedValue2"),this.$node),this.getMethods("onSelect")&&t&&this.executeMethod("onSelect",this.getData("ltPropSelectedValue1"),this.getData("ltPropSelectedValue2"),this.$node)):(this.getMethods("onChange")&&this.executeMethod("onChange",this.getData("ltPropSelectedValue1"),this.$node),this.getMethods("onSelect")&&t&&this.executeMethod("onSelect",this.getData("ltPropSelectedValue1"),this.$node)))},scroll:function(t,e){var o=parseFloat(this.getData("ltPropDiscrete")),i=!1,a=!1,l=!1;return t>=parseFloat(this.getData("ltPropMax"))-(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))%o?(o=(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))%o,a=!0,i=!0):t-parseFloat(this.getData("ltPropDiscrete"))/2<parseFloat(this.getData("ltPropMin"))&&(i=!0,l=!0),i?t>parseFloat(this.getData("ltPropMax"))-o/2?t=a?parseFloat(this.getData("ltPropMax")):t-(t-parseFloat(this.getData("ltPropMin")))%o+o:(o=parseFloat(this.getData("ltPropDiscrete")),l?t=parseFloat(this.getData("ltPropMin")):t-=(t-parseFloat(this.getData("ltPropMin")))%o):(t-parseFloat(this.getData("ltPropMin")))%o>=parseFloat(this.getData("ltPropDiscrete"))/2?t=t-(t-parseFloat(this.getData("ltPropMin")))%o+o:t-=(t-parseFloat(this.getData("ltPropMin")))%o,width=(t-parseFloat(this.getData("ltPropMin")))/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*e,width},ScrollCheck:function(t,e,o,i,a,l,n,r){var s="touchmove"==r.type,d=r;if(!s||1==r.touches.length){s&&(d=r.touches[0]);var p,c,h,u,y,m,g,f,v,b=!0,D=this.$node.querySelector("div.lyteSlide"),P=this.getData("ltPropRangeHandler"),C=this.$node.querySelector("div.lyteSliderFill"),L=window.innerWidth,x=this.rtlfunc.call(this,i,d,L);P?(p=this.$node.querySelector("div.lyteHandler2"),c=this.$node.querySelector("div.lyteHandler1"),h=this.$node.querySelector("div.lyteRangeSlider"),u=c.getBoundingClientRect(),y=p.getBoundingClientRect(),(g=this.rtlfunc.call(this,e,y,L))-(m=this.rtlfunc.call(this,e,u,L))<=0?this._elem?this._elem.classList.contains("lyteHandler1")?x<m+u[o]&&g-m==0?b=!0:("mousemove"==r.type||s)&&(b=!1):this._elem.classList.contains("lyteHandler2")&&(x>g&&g-m==0?b=!0:("mousemove"==r.type||s)&&(b=!1)):("mousemove"==r.type||s)&&(b=!1):this.getData("ltPropDiscrete")?parseFloat(this.getData("ltPropDiscrete")):0,f=x-this.rtlfunc.call(this,e,h.getBoundingClientRect(),L)):f=x-this.rtlfunc.call(this,e,C.getBoundingClientRect(),L),this.getData("ltPropContent").length&&"click"==r.type&&P&&parseInt(g-m)<1/(this.getData("ltPropContent").length-1)*this.$node[l]&&x<g+y[o]&&x>m+u[o]&&(b=!1);parseFloat(this.getData("ltPropDiscrete"));var w=this.$node.querySelector("div.lyteSliderHandler"),_=t.getBoundingClientRect(),S=D.getBoundingClientRect();if(this.getData("ltPropDiscrete")&&(widthVal=f/S[o]*(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))+parseFloat(this.getData("ltPropMin")),f=this.scroll.call(this,widthVal,S[o])),v=(v=(v=(f=(f=f<S[o]?f:S[o])>0?f:0)-_[o]/2)>S[o]-w[a]/2?S[o]-w[a]/2:v)>-_[o]/2?v:-_[o]/2,P&&(t.classList.contains("lyteHandler1")?this.rtlfunc.call(this,n,p)<v&&(b=!1):this.rtlfunc.call(this,n,c)>v&&(b=!1)),t.focus(),b){if(e=this.rtlfunc.call(this,e),P){var T,M;if(t.classList.contains("lyteHandler1")){M=parseInt(p.style[e]);var E=this.minMaxCheck(S,u,o);T=v=Math.min(Math.max(v,E[0]),M-E[1])}else{T=parseInt(c.style[e]);E=this.minMaxCheck(S,u,o,!0);M=v=Math.max(Math.min(v,E[0]),T+E[1])}var k=this.rangeSliderFill.call(this,T,M,u[o]);C.style[e]=k.left+"px",C.style[o]=k.width+"px"}else C.style[o]=f+"px";t.style[e]=v+"px"}$L.fastdom.measure(function(){this.selectedValFind.call(this,S,_)}.bind(this)),r.stopPropagation(),r.preventDefault()}},minMaxCheck:function(t,e,o,i){var a=(this.getData("ltPropMinDiff")||0)*t[o]/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")));return[i?t[o]-a-e[o]/2:a-e[o]/2,a]},selectedValFind:function(t,e){if(this.setData("preventObs",!0),this.getData("ltPropRangeHandler")){if(-1==this.getData("ltPropDirection").indexOf("Horizontal"))this.setData("ltPropMinValue",this.selectedVal.call(this,t,e,"height",this.$node.querySelector("div.lyteHandler1"),"top").toString()),this.setData("ltPropMaxValue",this.selectedVal.call(this,t,e,"height",this.$node.querySelector("div.lyteHandler2"),"top").toString());else{var o=this.rtlfunc.call(this,"left");this.setData("ltPropMinValue",this.selectedVal.call(this,t,e,"width",this.$node.querySelector("div.lyteHandler1"),o).toString()),this.setData("ltPropMaxValue",this.selectedVal.call(this,t,e,"width",this.$node.querySelector("div.lyteHandler2"),o).toString())}this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))}else-1==this.getData("ltPropDirection").indexOf("Horizontal")?this.setData("ltPropValue",this.selectedVal.call(this,t,e,"height").toString()):this.setData("ltPropValue",this.selectedVal.call(this,t,e,"width").toString()),this.setData("ltPropSelectedValue1",this.getData("ltPropValue"));this.setData("preventObs",!1)},initialValueSet:function(t,e,o){var i=parseFloat(this.getData("ltPropMax")),a=parseFloat(this.getData("ltPropMin"));return(o-a)/(i-a)*t-e/2},rangeSliderFill:function(t,e,o){return{width:e-t,left:t+o/2}},keyCheck:function(t,e,o,i,a,l){i=this.rtlfunc.call(this,i);var n,r=this.$node.querySelector("div.lyteSliderFill"),s=(window.innerWidth,e.getBoundingClientRect()),d={},p=this.getData("ltPropRangeHandler"),c=this.$node.getBoundingClientRect(),h=1,u=this.$node.querySelectorAll("div.lyteSliderHandler"),y=-1!=this.getData("ltPropDirection").indexOf("Horizontal"),m=parseFloat(this.getData("ltPropStep"));if(m||(m=.1*parseFloat(this.getData("ltPropMax"))),this._dir?39==t.keyCode&&y&&(h=-1):(37==t.keyCode&&y||38==t.keyCode&&!y)&&(h=-1),n=parseFloat(e.style[i])+m/(parseFloat(this.getData("ltPropMax"))-parseFloat(this.getData("ltPropMin")))*c[o]*h,n=Math.min(Math.max(-s[o]/2,n),c[o]-s[o]/2),p){var g,f;if(e==u[0]){f=parseInt(u[1].style[i]);var v=this.minMaxCheck(c,s,o);g=n=Math.min(Math.max(n,v[0]),f-v[1])}else{g=parseInt(u[0].style[i]);v=this.minMaxCheck(c,s,o,!0);f=n=Math.max(Math.min(n,v[0]),g+v[1])}if(g>f){if(parseInt(u[0].style[i])==f)return;37==t.keyCode||38==t.keyCode?f=n=g:39!=t.keyCode&&40!=t.keyCode||(g=n=f)}d=this.rangeSliderFill.call(this,g,f,s[o])}else d.width=n+s[o]/2;e.style[i]=n+"px",r.style[o]=d.width+"px",p&&(r.style[i]=d.left+"px"),$L.fastdom.measure(function(){this.selectedValFind.call(this,c,s)}.bind(this))},mousemove:function(t){var e,o,i,a,l,n;this._mousemoved=!0,this._flag||(this._flag=!0),-1!=this.getData("ltPropDirection").indexOf("Horizontal")?(e="left",o="width",i="clientX",a="offsetWidth",a="offsetWidth",l="ltPropWidth",n="offsetLeft"):(e="top",o="height",i="clientY",a="offsetHeight",a="offsetHeight",l="ltPropHeight",n="offsetTop"),this.ScrollCheck.call(this,this._elem,e,o,i,a,l,n,t),$L.fastdom.measure(function(){this.getMethods("onChange")&&this.onSelect.call(this)}.bind(this))},eventListener:function(t,e){var o="touchstart"==t.type,i=o?t.touches[0]:t,a=window.innerWidth,l=this.rtlfunc.call(this,"clientX",i,a),n=this.$node.querySelector("div.lyteRangeSlider").getBoundingClientRect();l>this.rtlfunc.call(this,"left","clientRect",a)?(width=l-this.rtlfunc.call(this,"left","clientRect",a)-parseFloat(n.width-parseFloat(n.width/2)),width>0&&t.preventDefault()):t.preventDefault();var r=i.clientY;r>=n.top?r-n.top-parseFloat(n.height-parseFloat(n.height/2))>0&&t.preventDefault():t.preventDefault(),this._mousemove=this.mousemove.bind(this),this._mouseup=this.mouseup.bind(this),this._elem=e,document.addEventListener(o?"touchmove":"mousemove",this._mousemove,!0),document.addEventListener(o?"touchend":"mouseup",this._mouseup,!0)},rangeInitialSet:function(t,e){return e/(this.getData("ltPropContent").length-1)*this.$node[t]-this.$node.querySelector("div.lyteSliderHandler")[t]/2},didConnect:function(){this.directionObs.call(this),this.valueSelected.call(this),$L.fastdom.mutate(function(){this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)}.bind(this))},valueSelected:function(){this.getData("ltPropRangeHandler")?(this.setData("ltPropSelectedValue1",this.getData("ltPropMinValue")),this.setData("ltPropSelectedValue2",this.getData("ltPropMaxValue"))):this.setData("ltPropSelectedValue1",this.getData("ltPropValue"))},mouseup:function(t){this.$node.querySelector("div.lyteRangeSlider");var e="touchend"==t.type;document.removeEventListener(e?"touchmove":"mousemove",this._mousemove,!0),document.removeEventListener(e?"touchend":"mouseup",this._mouseup,!0),delete this._mousemove,delete this._mouseup,delete this._elem,this.$node.contains(t.correspondingElement||t.target)&&(this._prevclick=!0),this._mousemoved&&$L.fastdom.measure(this.onSelect.bind(this,!0)),delete this._mousemoved},data:function(){return{divLength:Lyte.attr("array",{default:[]}),scaleVal:Lyte.attr("array",{default:[]}),ltPropMin:Lyte.attr("string",{default:"0"}),ltPropMax:Lyte.attr("string",{default:""}),ltPropScaleInterval:Lyte.attr("string",{default:""}),ltPropStep:Lyte.attr("string",{default:""}),ltPropHandler:Lyte.attr("string",{default:"lyteArrow"}),ltPropDirection:Lyte.attr("string",{default:"lyteHorizontal"}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropFillColor:Lyte.attr("string",{default:""}),ltPropNonFillColor:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropValue:Lyte.attr("string",{default:""}),ltPropDiscrete:Lyte.attr("string",{default:""}),ltPropContent:Lyte.attr("array",{default:[]}),ltPropRangeHandler:Lyte.attr("boolean",{default:!1}),ltPropMinValue:Lyte.attr("string",{default:""}),ltPropMaxValue:Lyte.attr("string",{default:""}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropSelectedValue1:Lyte.attr("string",{default:""}),ltPropSelectedValue2:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropTooltipStyle:Lyte.attr("string",{default:""}),ltPropTooltip:Lyte.attr("boolean",{default:!0}),ltPropScaleUnit:Lyte.attr("string",{default:""}),ltPropTooltipClass:Lyte.attr("string",{default:""}),ltPropTooltipConfig:Lyte.attr("object"),ltPropMinDiff:Lyte.attr("number",{default:0}),ltPropDigits:Lyte.attr("number",{default:2}),preventObs:Lyte.attr("boolean",{default:!1})}},actions:{click:function(t){if(this._prevclick)delete this._prevclick;else{var e="left",o="width",i="clientX",a="offsetWidth",l="ltPropWidth",n="offsetLeft",r=window.innerWidth;if(-1==this.getData("ltPropDirection").indexOf("Horizontal")&&(e="top",o="height",i="clientY",a="offsetHeight",l="ltPropHeight",n="offsetTop"),this.getData("ltPropRangeHandler")){var s=this.rtlfunc.call(this,i,t,r),d=this.$node.querySelector("div.lyteHandler1"),p=this.$node.querySelector("div.lyteHandler2"),c=d.getBoundingClientRect(),h=p.getBoundingClientRect();Math.abs(this.rtlfunc.call(this,e,c,r)-this.rtlfunc.call(this,e,h,r))>0?this.rtlfunc.call(this,e,c,r)+c[o]+Math.abs(this.rtlfunc.call(this,e,c,r)-this.rtlfunc.call(this,e,h,r))/2<s?this.ScrollCheck.call(this,p,e,o,i,a,l,n,t):this.rtlfunc.call(this,e,c,r)+c[o]+Math.abs(this.rtlfunc.call(this,e,c,r)-this.rtlfunc.call(this,e,h,r))/2!=s&&this.ScrollCheck.call(this,d,e,o,i,a,l,n,t):this.rtlfunc.call(this,e,c,r)==this.rtlfunc.call(this,e,h,r)&&(s<this.rtlfunc.call(this,e,c,r)?this.ScrollCheck.call(this,d,e,o,i,a,l,n,t):this.ScrollCheck.call(this,p,e,o,i,a,l,n,t))}else this.ScrollCheck.call(this,this.$node.querySelector("div.lyteSliderHandler"),e,o,i,a,l,n,t);$L.fastdom.measure(function(){this.onSelect.call(this,!0)}.bind(this)),t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault()}},keydown:function(t){if(-1!=[37,38,39,40].indexOf(t.keyCode)){this.getData("ltPropDiscrete")&&this.setData("ltPropStep",this.getData("ltPropDiscrete"));var e=t.target,o=this.getData("ltPropDirection"),i="width",a="left",l="offsetWidth",n="ltPropWidth";-1==o.indexOf("Horizontal")&&(i="height",a="top",l="offsetHeight",n="ltPropHeight"),this.getData("ltPropRangeHandler")?this.keyCheck.call(this,t,e,i,a,l,n):this.keyCheck.call(this,t,this.$node.querySelector("div.lyteSliderHandler"),i,a,l,n),(37!=t.keyCode&&39!=t.keyCode||-1==o.indexOf("Horizontal"))&&(38!=t.keyCode&&40!=t.keyCode||-1!=o.indexOf("Horizontal"))||($L.fastdom.measure(function(){this.onSelect.call(this,!0)}.bind(this)),t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault())}},mousedown:function(t,e){2!=t.button&&this.eventListener.call(this,t,e)}}}),Lyte.Component.register("lyte-step",{_template:'<template tag-name="lyte-step">\n\t<div onclick="{{action(\'divClick\', event, this)}}">\n\t\t<template is="if" value="{{expHandlers(ltPropType,\'!=\',&quot;advanced&quot;)}}"><template case="true"><template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t\t\t\t<lyte-step-structure class="{{ltPropClass}}" onclick="{{action(\'divClick\', event, this)}}">\n\t\t\t\t\t\t<template is="for" items="{{ltPropData}}" item="array" index="indexVal"><template is="if" value="{{expHandlers(lyteUiIsObject(array),\'==\',false)}}"><template case="true"><template is="if" value="{{expHandlers(ltPropClass,\'==\',\'lyteStepBullet\')}}"><template case="true">\n\t\t\t\t \t\t\t\t\t\t\t  <lyte-step-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this, array)}}"> \t  <lyte-step-body> {{array}} </lyte-step-body> \n\t\t\t\t \t\t\t\t\t\t\t\t\t<lyte-step-head>{{indexVal}}</lyte-step-head>\n\t\t\t\t \t\t\t\t\t\t\t\t</lyte-step-item>\n\t\t\t\t \t\t\t\t\t\t\t</template><template case="false"> \n\t\t\t\t\t\t\t\t\t\t\t  <lyte-step-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this, array)}}"> \t <lyte-step-body> {{array}} </lyte-step-body>\n\t\t\t\t\t\t\t\t\t\t\t\t</lyte-step-item>\n\t\t\t\t\t\t\t\t\t\t </template></template></template><template case="false"><template is="if" value="{{expHandlers(ltPropClass,\'==\',\'lyteStepBullet\')}}"><template case="true">\n\t\t\t\t\t\t\t\t\t\t\t\t<lyte-step-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this, array)}}"> \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<lyte-step-body> {{array[ltPropLabel]}} </lyte-step-body> \n\t\t\t\t\t\t\t\t\t\t\t\t\t<lyte-step-head>{{array[ltPropOption]}}</lyte-step-head>\n\t\t\t\t\t\t\t\t\t\t\t\t</lyte-step-item>\n\t\t\t\t\t\t\t\t\t\t\t</template><template case="false"> \n\t\t\t\t\t\t\t\t\t\t\t   <lyte-step-item sporder="{{indexVal}}" onclick="{{action(\'onclick\', event, this, array)}}"> \t\n\t\t\t\t\t\t\t\t\t\t\t   \t    <lyte-step-body> {{array[ltPropLabel]}} </lyte-step-body>\n\t\t\t\t\t\t\t\t\t\t\t   </lyte-step-item>\n\t\t\t\t\t\t\t\t\t\t  </template></template></template></template></template>\n\t\t\t\t\t</lyte-step-structure>\t\n\t\t\t</template><template case="false">\n\t\t\t\t\t\t<lyte-yield yield-name="yield"></lyte-yield>\n\t\t\t</template></template></template><template case="false">\n\t\t\t<lyte-yield class="lyteStepAdvanced" yield-name="yield" lt-prop-content="{{dummyContent}}"></lyte-yield>\n\t\t</template></template>\n\t</div>\t\t\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"text",position:[1,3,0]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]}},default:{}}],_observedAttributes:["ltPropClass","ltPropData","ltPropSelected","ltPropSkip","ltPropActiveClass","ltPropCompletedClass","ltPropWarningClass","ltPropKeepMarked","ltPropYield","ltPropLabel","ltPropOption","ltPropType","ltPropOffset","ltPropIndex","ltPropDataType","dummyContent","widthArr","divWidth","forwardWidth","backwardWidth"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didDestroy:function(){delete this.$node.next,delete this.$node.previous,delete this.$node.goto,delete this._finalCallback,delete this._transEnd,clearTimeout(this._animetime)},didConnect:function(){var t="advanced"==this.getData("ltPropType");this.$node.next=function(t){this.$node.goto(this.data.ltPropSelected+1,t,!0)}.bind(this),this.$node.previous=function(t){this.$node.goto(this.data.ltPropSelected-1,t,!0)}.bind(this),this.$node.goto=t?function(t,e,o){(this.getData("ltPropSkip")||o)&&this.moveTo(t,e,this.getData("ltPropSelected"))}.bind(this):function(t,e,o){if(this.component.getData("ltPropSkip")||o){var i=this.querySelectorAll("lyte-step-item"),a=this.component.getData("ltPropSelected"),l=this.component.getData("ltPropWarningClass"),n=i[a],r=this.component.getData("ltPropCompletedClass"),s=this.component.getData("ltPropActiveClass");t>=-1&&i.length&&("incomplete"==e?n.classList.add(l):n.classList.add(r),n.classList.remove(s),t==i.length?t--:-1==t&&t++,i[t].classList.add(s),t==a?(n.classList.remove(l),n.classList.remove(r)):this.component.setData("ltPropSelected",t))}},$L.fastdom.measure(function(){var t=_lyteUiUtils.getRTL();$L.fastdom.mutate(function(){t&&this.$node.classList.add("lyteRTL"),this.breadcrumbClass.call(this)}.bind(this))}.bind(this)),t?this.getMethods("afterRender")&&(this._finalCallback=this.executeMethod.bind(this,this.$node)):this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),this._transEnd=this.transfade.bind(this)},selectedElementFindObs:function(t){if("advanced"!=this.getData("ltPropType"))$L.fastdom.mutate(this.selectedElementFind.bind(this));else if(t&&!this._preventselect){this.$node.goto(t.newValue,"",!0);var e=this.getData("ltPropIndex");(t.newValue<e||t.newValue>e+this.getData("dummyContent").length)&&(this._enableAnimate=!0,this.setData("ltPropIndex",t.newValue))}}.observes("ltPropSelected").on("didConnect"),selectedElementFind:function(){var t=parseInt(this.getData("ltPropSelected")),e=this.getData("ltPropActiveClass"),o=this.$node.querySelectorAll("lyte-step-item"),i=this.getData("ltPropCompletedClass"),a=this.getData("ltPropWarningClass");if(o.length){for(var l=this.getData("ltPropKeepMarked")?t:o.length-1,n=0;n<o.length;n++)o[n].classList.remove(e);o[t].classList.add(e),o[t].classList.remove(a),o[t].classList.remove(i);for(var r=0;r<=l;r++)r<t?o[r].classList.contains(a)||o[r].classList.add(i):r>t&&(o[r].classList.remove(a),o[r].classList.remove(i))}},ArrayContentChangeObs:function(){this.ArrayContentChange.call(this)}.observes("ltPropData.[]","ltPropData"),ArrayContentChange:function(){void 0==this.getData("ltPropSelected")?this.setData("ltPropSelected",0):this.selectedElementFind.call(this)},breadcrumbClassObs:function(){this.breadcrumbClass.call(this)}.observes("ltPropClass"),breadcrumbClass:function(){"advanced"!=this.getData("ltPropType")&&this.data.ltPropYield&&this.data.ltPropClass&&this.$node.querySelector("lyte-step-structure").classList.add(this.data.ltPropClass)},data:function(){return{ltPropClass:Lyte.attr("string",{default:"lyteStepSlash"}),ltPropData:Lyte.attr("array",{default:[]}),ltPropSelected:Lyte.attr("number",{default:0}),ltPropSkip:Lyte.attr("boolean",{default:!0}),ltPropActiveClass:Lyte.attr("string",{default:"lyteActive"}),ltPropCompletedClass:Lyte.attr("string",{default:"lyteCompleted"}),ltPropWarningClass:Lyte.attr("string",{default:"lyteWarning"}),ltPropKeepMarked:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropOption:Lyte.attr("string",{default:""}),ltPropType:Lyte.attr("string",{default:void 0}),ltPropOffset:Lyte.attr("number",{default:0}),ltPropIndex:Lyte.attr("number",{default:0}),ltPropDataType:Lyte.attr("array",{default:[]}),dummyContent:Lyte.attr("array",{default:[]}),widthArr:Lyte.attr("array",{default:[]}),divWidth:Lyte.attr("number",{default:0}),forwardWidth:Lyte.attr("number",{default:0}),backwardWidth:Lyte.attr("number",{default:0})}},actions:{onclick:function(t,e,o){if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;this.getMethods("onClick")&&(this.executeMethod("onClick",e,this.$node,t,o),t.stopPropagation())},divClick:function(t,e){if("advanced"!=this.getData("ltPropType")){if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;if(this.getMethods("onClick")&&this.getData("ltPropYield"))for(var o=t.target.correspondingElement||t.target;o&&o!=e;){if("LYTE-STEP-ITEM"==o.tagName){this.executeMethod("onClick",o,this.$node,t,o.getAttribute("data-value"));break}o=o.parentNode}}else{if(this._transstart)return;var i=$L(t.target).closest("lyte-step-forward");if(i.length){if(this.getMethods("onBeforeNavigate")&&0==this.executeMethod("onBeforeNavigate","forward",this.getData("ltPropIndex"),this.$node))return;this._enableAnimate=!0,this.setData("ltPropIndex",Math.max(0,this.getData("ltPropIndex")+this.getData("dummyContent").length)),this.getMethods("onNavigate")&&(this._finalCallback=this.executeMethod.bind(this,"onNavigate","forward",this.getData("ltPropIndex"),this.$node))}else if((i=$L(t.target).closest("lyte-step-backward")).length){if(this.getMethods("onBeforeNavigate")&&0==this.executeMethod("onBeforeNavigate","backward",this.getData("ltPropIndex"),this.$node))return;this._transstart=!0,this._transendback=this.constructBackward,$L("lyte-step-structure",this.$node).on("transitionend",this._transEnd).addClass("lyteStepFade"),this.timeout(),this.getMethods("onNavigate")&&(this._finalCallback=this.executeMethod.bind(this,"onNavigate","backward",this.getData("ltPropIndex"),this.$node))}else{if((1==t.ctrlKey||1==t.metaKey||2==t.which)&&void 0!=t.target.href&&-1!=t.target.href.indexOf("javascript:")&&"_blank"==t.target.target)return!1;(i=$L(t.target).closest("lyte-step-item")).length&&this.getMethods("onClick")&&this.executeMethod("onClick",i.get(0),this.$node,t,i.attr("data-value"))}}}},forwardAdd:function(t,e,o,i,a,l){for(var n=t;n<e.length;n++){if(i+e[n]>o){n--;break}i+=e[n],a.push(l[n])}return{consWid:i,i:n}},backwardAdd:function(t,e,o,i,a,l){for(var n=t-1;n>=0&&!(i+e[n]>o);n--)i+=e[n],a.unshift(l[n]),t=n;return{consWid:i,min:t}},constructBackward:function(t,e){t=t||$L("lyte-step-forward").get(0),e=e||$L("lyte-step-backward").get(0);var o,i=this.getData("ltPropData"),a=Math.min(i.length,this.getData("ltPropIndex")+this.getData("ltPropOffset")),l=0,n=[],r=this.getData("widthArr"),s=this.getData("forwardWidth"),d=this.getData("backwardWidth"),p=this.getData("divWidth");(l+=d,l=(o=this.backwardAdd(a,r,p,l,n,i)).consWid,0==(a=o.min)&&(l-=d,e&&e.classList.add("lyteStepHidden")),l<p)&&(l=(o=this.forwardAdd(a+n.length,r,p,l,n,i)).consWid);if(a+n.length<i.length)for(t&&t.classList.remove("lyteStepHidden"),l+=s;l>p&&n.length;)l-=r[a+n.length],n.pop();this._prevent=!0,this.setData("ltPropIndex",a),delete this._prevent,this._arr=n,this.transend()},transend:function(){this.setData("dummyContent",this._arr),delete this._arr,this._finalCallback&&(this._finalCallback(),delete this._finalCallback),this.moveTo(this.getData("ltPropSelected"),"",this.getData("ltPropSelected"),this.getData("ltPropIndex")+this.getData("dummyContent").length==this.getData("ltPropData").length),$L(".lyteStepFade",this.$node).removeClass("lyteStepFade")},constructForward:function(t,e){t=t||$L("lyte-step-forward").get(0),e=e||$L("lyte-step-backward").get(0);var o=Math.max(0,this.getData("ltPropIndex")-this.getData("ltPropOffset")),i=0,a=[],l=this.getData("widthArr"),n=this.getData("forwardWidth"),r=this.getData("backwardWidth"),s=this.getData("divWidth"),d=this.getData("ltPropData");0!=o?(i+=r,e&&e.classList.remove("lyteStepHidden")):e&&e.classList.add("lyteStepHidden");var p=this.forwardAdd(o,l,s,i,a,d),c=p.i;if(i=p.consWid,c<l.length){for(;i+n>s&&c;)i-=l[c],c--,a.pop();t&&t.classList.remove("lyteStepHidden")}else t&&t.classList.add("lyteStepHidden"),i<s&&(i=(p=this.backwardAdd(o,l,s,i,a,d)).consWid,o=p.min),0==o&&this.getData("ltPropIndex")&&(i-=r,i=this.forwardAdd(o+a.length,l,s,i,a,d));this._prevent=!0,this.setData("ltPropIndex",o),delete this._prevent,this._arr=a,this.transend()},measureWidth:function(){"advanced"==this.getData("ltPropType")&&this._measureWidth(this.constructForward)}.on("didConnect"),indexObs:function(t){this._prevent||(this._enableAnimate?(this._transstart=!0,delete this._enableAnimate,this.timeout(),$L("lyte-step-structure",this.$node).on("transitionend",this._transEnd).addClass("lyteStepFade")):this._measureWidth(this.constructForward))}.observes("ltPropIndex","ltPropData","ltPropData.[]"),_measureWidth:function(t){if("advanced"==this.getData("ltPropType")){var e=[],o=this.getData("ltPropData");this.setData("dummyContent",o);var i=$L("lyte-step-forward").get(0),a=$L("lyte-step-backward").get(0);i&&i.classList.remove("lyteStepHidden"),a&&a.classList.remove("lyteStepHidden"),$L.fastdom.measure(function(){for(var o=$L("lyte-step-item",this.$node),l=0;l<o.length;l++){var n=window.getComputedStyle(o.get(l));e[l]=o.get(l).getBoundingClientRect().width+parseFloat(n.marginLeft)+parseFloat(n.marginRight)}var r=this.$node.querySelector("lyte-step-structure").getBoundingClientRect().width,s=0,d=0;if(i){s=i.getBoundingClientRect().width;var p=getComputedStyle(i);s+=parseFloat(p.marginRight)+parseFloat(p.marginLeft)}if(a){d=a.getBoundingClientRect().width;p=getComputedStyle(a);d+=parseFloat(p.marginRight)+parseFloat(p.marginLeft)}this.setData({divWidth:r,widthArr:e,forwardWidth:s,backwardWidth:d}),$L.fastdom.mutate(t.bind(this,i,a))}.bind(this))}},moveTo:function(t,e,o,i){this._preventselect=!0;var a=this.getData("ltPropData"),l=(this.getData("dummyContent"),this.getData("ltPropIndex")),n=this.getData("ltPropDataType"),r=$L("lyte-step-item",this.$node),s=this.getData("ltPropActiveClass"),d=this.getData("ltPropCompletedClass"),p=this.getData("ltPropWarningClass"),c=this.getData("ltPropKeepMarked");if(i&&r.eq(-1).addClass("lyteStepLast"),t=Math.min(Math.max(0,t||0),a.length-1),void 0==o){for(var h=0;h<a.length;h++)"active"==n[h]&&(o=h);void 0==o&&(this.setData("ltPropSelected",0),o=0)}for(h=0;h<a.length;h++){var u,y=void 0==n[h]?"insertAt":"replaceAt";u=t!=o&&t>o&&h>=o&&h<t?"incomplete"==e?"incomplete":"completed":h==t?"active":h>t?c&&n[h]||"":h>o?"incomplete"==e?"incomplete":"completed":("active"==n[h]?"completed":n[h])||"completed",Lyte.arrayUtils(n,y,h,u),h>=l&&("active"==n[h]?r.eq(h-l).removeClass(d,p).addClass(s):"incomplete"==n[h]?r.eq(h-l).removeClass(d,s).addClass(p):"completed"==n[h]?r.eq(h-l).removeClass(s,p).addClass(d):r.eq(h-l).removeClass(d,s,p))}this.setData("ltPropSelected",t),delete this._preventselect},transfade:function(){clearTimeout(this._animetime),delete this._animetime,delete this._transstart,this._measureWidth(this._transendback||this.constructForward),delete this._transendback,$L(".lyteStepFade",this.$node).off("transitionend")},returntran:function(t){var e=0;if(/(.+)(s|ms)$/.test(t)){var o=t.match(/(.+)(s|ms)$/);e=parseFloat(o[1])*("s"==o[2]?1e3:1)}return e},timeout:function(){var t=$L("lyte-step-structure",this.$node).get(0),e=window.getComputedStyle(t);this._animetime=setTimeout(this._transEnd,10+this.returntran(e.transitionDuration)+this.returntran(e.transitionDelay))}}),window.addEventListener("resize",stepResize,!0),window.addEventListener("orientationchange",stepResize,!0),Lyte.Component.register("lyte-svg",{_template:'<template tag-name="lyte-svg">\n\t<svg class="{{ltPropClass}}" viewBox="{{ltPropViewBox}}">\n\t\t<use id="{{ltPropId}}" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{lyteUiSetURL(ltPropPath,flag)}}"></use>\n\t</svg>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]}],_observedAttributes:["ltPropViewBox","ltPropClass","ltPropPath","ltPropId","flag"],data:function(){return{ltPropViewBox:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropPath:Lyte.attr("string"),ltPropId:Lyte.attr("string",{default:""}),flag:Lyte.attr("boolean",{default:!1})}},didConnect:function(){this.setData("flag",!0)}}),Lyte.Component.register("lyte-splitter",{_template:'<template tag-name="lyte-splitter">\n    <lyte-yield yield-name="splitter"></lyte-yield>\n</template>',_dynamicNodes:[{type:"insertYield",position:[1]}],_observedAttributes:["ltPropResize","ltPropCollapsible","columnElementCount","rowElementCount"],data:function(){return{ltPropResize:Lyte.attr("boolean",{default:!0}),ltPropCollapsible:Lyte.attr("boolean",{default:!0}),columnElementCount:Lyte.attr("number",{default:0}),rowElementCount:Lyte.attr("number",{default:0})}}}),Lyte.createCustomElement("lyte-row-splitter",{constructor:function(){},static:{observedAttributes:{}}}),Lyte.createCustomElement("lyte-column-splitter",{constructor:function(){},static:{observedAttributes:{}}}),Lyte.createCustomElement("lyte-row-element",{constructor:function(){$L(this).closest("lyte-splitter").get(0);var t=$L(this).closest("lyte-row-splitter").get(0),e=this.parentElement,o=e.querySelectorAll("lyte-row-element"),i=e.children[e.children.length-1],a=Object.keys(o).map(function(t){return o[t]}),l=a.indexOf(this);$L(t).find("lyte-row-element");if(i!=this&&"false"!==this.getAttribute("lt-prop-resize")&&a[l+1]&&"false"!==a[l+1].getAttribute("lt-prop-resize")){var n=document.createElement("LYTE-ROW-HANDLE");e.insertBefore(n,this.nextSibling)}if(i==this){var r=0,s=$L(t).children("lyte-row-element").filter(function(t,e){if(e.hasAttribute("lt-prop-size")){var o=e.getAttribute("lt-prop-size"),i=parseInt(e.getAttribute("lt-prop-size").match(/\d+/g));if(-1!==o.indexOf("%"))return e.style.flexBasis=o,r+=i,!1}return!0}),d=$L(this).parent().children("lyte-row-handle").length,p=s.length,c=e.getBoundingClientRect().height-8*d,h=(c-r/100*c)/p/c*100+"%";s.css("flexBasis",h)}},static:{observedAttributes:{}}}),Lyte.createCustomElement("lyte-column-element",{constructor:function(){$L(this).closest("lyte-splitter").get(0);var t=$L(this).closest("lyte-column-splitter").get(0),e=this.parentElement,o=e.querySelectorAll("lyte-column-element"),i=e.children[e.children.length-1],a=Object.keys(o).map(function(t){return o[t]}),l=a.indexOf(this);$L(this).parent().children("lyte-column-element");if(i!=this&&"false"!==this.getAttribute("lt-prop-resize")&&a[l+1]&&"false"!==a[l+1].getAttribute("lt-prop-resize")){var n=document.createElement("LYTE-COLUMN-HANDLE");e.insertBefore(n,this.nextSibling)}if(i==this){var r=0,s=$L(t).children("lyte-column-element").filter(function(t,e){if(e.hasAttribute("lt-prop-size")){var o=e.getAttribute("lt-prop-size"),i=parseInt(e.getAttribute("lt-prop-size").match(/\d+/g));if(-1!==o.indexOf("%"))return e.style.flexBasis=o,r+=i,!1}return!0}),d=$L(this).parent().children("lyte-column-handle").length,p=s.length,c=e.getBoundingClientRect().width-8*d,h=(c-r/100*c)/p/c*100+"%";s.css("flexBasis",h)}},static:{observedAttributes:{}}}),Lyte.createCustomElement("lyte-row-handle",{connectedCallback:function(){var t=document.createElement("DIV");t.setAttribute("class","rowHandleIcon"),this.appendChild(t)},constructor:function(){var t,e,o,i,a,l,n,r,s=this,d=0,p=0;function c(i){var r=(a-i.clientY)/(t.getBoundingClientRect().height-8*$L(s).parent().children("lyte-row-handle").length)*100;l-r>=d&&n+r>=p?(e.style.flexBasis=l-r+"%",e.setAttribute("lt-prop-size",l-r+"%"),o.style.flexBasis=n+r+"%",o.setAttribute("lt-prop-size",n+r+"%")):l-r<d+1?(o.style.flexBasis=l+n-d+"%",o.setAttribute("lt-prop-size",l+n-d+"%"),e.style.flexBasis=d+"%",e.setAttribute("lt-prop-size",d+"%")):n+r<p+1&&(e.style.flexBasis=l+n-p+"%",e.setAttribute("lt-prop-size",l+n-p+"%"),o.style.flexBasis=p+"%",o.setAttribute("lt-prop-size",p+"%"))}function h(){s.classList.remove("splitResizing"),r.removeEventListener("mousemove",c),r.removeEventListener("mouseup",h);var t=e.getAttribute("lt-prop-splitter-id"),i=o.getAttribute("lt-prop-splitter-id"),a={};a[t]={element:e,size:e.getAttribute("lt-prop-size")},a[i]={element:o,size:o.getAttribute("lt-prop-size")},r.getMethods("onResizeEnd")&&r.component.executeMethod("onResizeEnd",a)}s.addEventListener("mousedown",function(u){s.classList.add("splitResizing"),r=$L(this).closest("lyte-splitter").get(0),splitterComponentRow=$L(this).closest("lyte-row-splitter").get(0),t=s.parentElement,childArray=Object.keys(t.children).map(function(e){return t.children[e]}),i=childArray.indexOf(s),e=childArray[i-1],o=childArray[i+1],a=u.clientY,$L(this).parent().children("lyte-row-element").css("flexGrow",0),getComputedStyle(e).flexBasis||(e.style.flexBasis=(100/t.querySelectorAll("lyte-row-element").length-1)/2+"%");getComputedStyle(o).flexBasis&&"auto"!==getComputedStyle(o).flexBasis||(o.style.flexBasis=100/t.querySelectorAll("lyte-row-element").length/($L("lyte-row-element").length-2)+"%");e.style.flexGrow=o.style.flexGrow=0,a=u.clientY,l=parseFloat(getComputedStyle(e).flexBasis),n=parseFloat(getComputedStyle(o).flexBasis),e.hasAttribute("lt-prop-min-size")&&(d=parseFloat(e.getAttribute("lt-prop-min-size")));o.hasAttribute("lt-prop-min-size")&&(p=parseFloat(o.getAttribute("lt-prop-min-size")));r.addEventListener("mousemove",c),r.addEventListener("mouseup",h)})},static:{observedAttributes:{}}}),Lyte.createCustomElement("lyte-column-handle",{connectedCallback:function(){var t=document.createElement("DIV");t.setAttribute("class","columnHandleIcon"),this.appendChild(t)},constructor:function(){var t,e,o,i,a,l,n,r,s=this,d=0,p=0,c={},h={};function u(i){var r=(a-i.clientX)/(t.getBoundingClientRect().width-8*$L(s).parent().children("lyte-column-handle").length)*100;l-r>=d&&n+r>=p?(e.style.flexBasis=l-r+"%",e.setAttribute("lt-prop-size",l-r+"%"),o.style.flexBasis=n+r+"%",o.setAttribute("lt-prop-size",n+r+"%"),c.value=l-r,h.value=n+r,$L(e).data("flexValues",c),$L(o).data("flexValues",h)):l-r<d+1?(o.style.flexBasis=l+n-d+"%",o.setAttribute("lt-prop-size",l+n-d+"%"),e.style.flexBasis=d+"%",e.setAttribute("lt-prop-size",d+"%")):n+r<p+1&&(e.style.flexBasis=l+n-p+"%",e.setAttribute("lt-prop-size",l+n-p+"%"),o.style.flexBasis=p+"%",o.setAttribute("lt-prop-size",p+"%"))}function y(){s.classList.remove("splitResizing"),r.removeEventListener("mousemove",u),r.removeEventListener("mouseup",y);var t=e.getAttribute("lt-prop-splitter-id"),i=o.getAttribute("lt-prop-splitter-id"),a={};a[t]={element:e,size:e.getAttribute("lt-prop-size")},a[i]={element:o,size:o.getAttribute("lt-prop-size")},r.getMethods("onResizeEnd")&&r.component.executeMethod("onResizeEnd",a)}s.addEventListener("mousedown",function(m){s.classList.add("splitResizing"),r=$L(s).closest("lyte-splitter").get(0),splitterComponentCol=$L(s).closest("lyte-column-splitter").get(0),t=s.parentElement,childArray=Object.keys(t.children).map(function(e){return t.children[e]}),i=childArray.indexOf(s),e=childArray[i-1],o=childArray[i+1],a=m.clientX,$L(this).parent().children("lyte-column-element").css("flexGrow",0),getComputedStyle(e).flexBasis||(e.style.flexBasis=(100/t.querySelectorAll("lyte-column-element").length-1)/2+"%");getComputedStyle(o).flexBasis&&"auto"!==getComputedStyle(o).flexBasis||(o.style.flexBasis=100/t.querySelectorAll("lyte-column-element").length/($L("lyte-column-element").length-2)+"%");e.style.flexGrow=o.style.flexGrow=0,a=m.clientX,l=parseFloat(getComputedStyle(e).flexBasis),n=parseFloat(getComputedStyle(o).flexBasis),e.hasAttribute("lt-prop-min-size")&&(d=parseFloat(e.getAttribute("lt-prop-min-size")));o.hasAttribute("lt-prop-min-size")&&(p=parseFloat(o.getAttribute("lt-prop-min-size")));$L(e).data("flexValues")||(c={value:getComputedStyle(e).flexBasis});$L(o).data("flexValues")||(h={value:getComputedStyle(o).flexBasis});$L(e).data("flexValues",c),$L(o).data("flexValues",h),r.addEventListener("mousemove",u),r.addEventListener("mouseup",y)})},static:{observedAttributes:{}}}),Lyte.Component.register("lyte-table",{_template:'<template tag-name="lyte-table">\n\t<div class="lyteTableScroll">\n\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t<lyte-table-structure id="{{ltPropId}}" class="{{ltPropClass}}">\n\t\t   <template is="if" value="{{ltPropHeaderLabelKey}}"><template case="true">\n\t\t\t   <lyte-colgroup>\n\t\t\t\t   <template is="for" items="{{ltPropHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t\t<lyte-col></lyte-col>\n\t\t\t\t\t</template> \n\t\t\t\t</lyte-colgroup>\t\n\t\t\t\t<lyte-thead>\n\t\t\t\t\t<lyte-tr>\n\t\t\t\t\t   <template is="if" value="{{ltPropHeader.length}}"><template case="true"><template is="for" items="{{ltPropHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t<lyte-th id="{{list.id}}" class="{{list.class}}" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}">\n\t\t\t\t\t\t\t{{unescape(list[ltPropHeaderLabelKey])}}\n\t\t\t\t\t\t</lyte-th>\n\t\t\t\t\t\t\t</template></template></template>\t\n\t\t\t\t\t</lyte-tr>\n\t\t\t\t</lyte-thead>\n\t\t\t</template></template>\t\n\t\t\t<lyte-tbody>\n\t\t\t\t<template is="if" value="{{ltPropInfiniteScroll}}"><template case="true">\n\t\t\t\t\t<template is="for" items="{{ltPropData}}" item="list" index="indexVal">\t\n\t\t\t\t\t\t <lyte-tr id="{{list.body.id}}" class="{{list.body.class}}">\n\t\t\t\t\t\t\t<template is="for" items="{{ltPropHeader}}" item="header">\n\t\t\t\t\t\t\t\t<lyte-td>\n\t\t\t\t\t\t\t\t\t<div style="height: {{ltPropCellHeight}}">\n\t\t\t\t\t\t\t\t\t\t{{unescape(lyteUiGetValue(list.body,header[ltPropBodyLabelKey]))}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</lyte-td>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t \t</lyte-tr>\n\t\t\t\t\t</template>\n\t\t\t\t</template><template case="false">\n\t\t\t\t<template is="for" items="{{ltPropContent}}" item="list" index="indexVal">\t\n\t\t\t\t\t <lyte-tr id="{{list.id}}" class="{{list.class}}">\n\t\t\t\t\t\t<template is="for" items="{{ltPropHeader}}" item="header">\n\t\t\t\t\t\t\t<lyte-td>{{unescape(lyteUiGetValue(list,header[ltPropBodyLabelKey]))}}</lyte-td>\n\t\t\t\t\t\t</template>\n\t\t\t\t \t</lyte-tr>\n\t\t\t\t</template>\n\t\t\t\t</template></template>\n\t\t    </lyte-tbody> \n\t\t    <template is="if" value="{{expHandlers(ltPropResize.vertical,\'||\',ltPropResize.horizontal)}}"><template case="true">\n\t\t    \t<lyte-table-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-resize>\n\t\t    \t<template is="if" value="{{ltPropResize.vertical}}"><template case="true">\n\t\t    \t\t<lyte-table-vertical-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-vertical-resize>\n\t\t    \t</template></template><template is="if" value="{{ltPropResize.horizontal}}"><template case="true">\n\t\t    \t\t<lyte-table-horizontal-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-horizontal-resize>\n\t\t    \t</template></template></template></template>\t\n\t</lyte-table-structure>\n\t</template><template case="false"><template is="if" value="{{ltPropInfiniteScroll}}"><template case="true">\n\t\t<lyte-yield yield-name="yield" lt-prop-data="{{ltPropData}}"></lyte-yield>\n\t</template><template case="false">\n\t <lyte-yield yield-name="yield"></lyte-yield>\n\t </template></template></template></template>\n\n\t \n</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"if",position:[3,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"for",position:[0],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'height: '","ltPropCellHeight"]}}}},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[4]},{type:"if",position:[4],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropContent","ltPropHeader","ltPropId","ltPropClass","ltPropBorder","ltPropHeaderLabelKey","ltPropBodyLabelKey","ltPropWidth","ltPropHeight","ltPropResize","ltPropFixedColumnClass","ltPropYield","ltPropScroll","ltPropColumnSortable","ltPropScrollbarOption","ltPropDualResize","ltPropData","ltPropInfiniteScroll","ltPropCellHeight","ltPropContentLength","ltPropPreventScrollbar","lyteUnbound","columns","nonFixedColumn","minWidth1","minWidth2","secondaryData","boundary","rowHeights"],init:function(){var t=navigator.userAgent;this._dir=_lyteUiUtils.getRTL(),this.isIE11Lyte=/rv:11/gi.test(t),this.isEdgeLyte=/Edge/gi.test(t),this._browser=this.isIE11Lyte||this.isEdgeLyte||t.match("Safari"),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node),this.$node.scrollTable=function(t,e){this.scrollDiv||(this.scrollDiv=this.$node.querySelector("div.lyteTableScroll")),void 0!=t&&(this.scrollDiv.scrollTop=e),void 0!=e&&(this.scrollDiv.scrollLeft=t);var o=new Event("scroll",{bubbles:!0});o._byFunc=!0,this.scrollDiv.dispatchEvent(o)}.bind(this),document._tableResize||(document._tableResize=!0,window.addEventListener("resize",resizeTable,!0),window.addEventListener("orientationchange",resizeTable,!0)),this.$node.toggleRows=function(t){$L.fastdom.mutate(function(){for(var e=this.$node.querySelectorAll("lyte-tbody lyte-tr.lytePreventInfiniteScroll"),o=0;o<e.length;o++)t?e[o].classList.remove("lyteHidden"):e[o].classList.add("lyteHidden")}.bind(this))}.bind(this)},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e.clientX:o-e.right;if("left"==t)return"right";if("right"==t)return"left"}return e?e[t]:t},didDestroy:function(){0==document.body.querySelectorAll("lyte-table[lyte-rendered]").length&&document._tableResize&&(window.removeEventListener("resize",resizeTable,!0),window.removeEventListener("orientationchange",resizeTable,!0),delete document._tableResize),!this.data.ltPropPreventScrollbar&&this.scrollDiv&&$L(this.scrollDiv).removeScroll(),delete this.scrollDiv,delete this._dummy,delete this._dummy1,delete this.resizeComponent,delete this.targetElem,delete this.$node.setValue,delete this.$node.scrollTable},initProcess1:function(t){if(!this._prevent&&this.data.ltPropInfiniteScroll){var e=this.$node.querySelector("lyte-table-structure"),o=this.data.ltPropContent||[],i=Math.min(this.data.ltPropContentLength||o.length,o.length),a=[];if(0==o.length&&!t)return;e&&(e.style.height="auto");for(var l=0;l<i;l++)a[l]={body:o[l],checked:!1,index:l};this.setData("ltPropData",a),t&&this._dummy&&(this._dummy.style.height=0,this._dummy.style.transform="translateY(0px)"),t&&this._dummy1&&(this._dummy1.style.transform="translateY(0px)"),delete this._stopScroll,t&&this.scrollDiv&&(this.scrollDiv.scrollTop=0,this.scrollDiv.scrollLeft=0),this._top=0,this._bottom=Math.max(i-1,0),this._boundary={top:0,bottom:i-1}}}.observes("ltPropContent.[]").on("init"),didConnect:function(){var t=this.data.ltPropInfiniteScroll,e=(this.data.secondaryData,this.data.ltPropResize);this.data.ltPropYield&&(e.vertical||e.horizontal)&&this.resizeComponentAppend.call(this);try{var o=this.$node.querySelector("div.lyteTableScroll");if(this.scrollDiv=o,o.comp=this,o._infiniteScroll=t,this.data.ltPropPreventScrollbar)this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node);else{$L(o).scroll(this.data.ltPropScrollbarOption);var i,a=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerY"),l=this.$node.querySelector("lyte-th");$L.fastdom.measure(function(){var t=this._dir;l&&a&&0==a.offsetTop&&(i=l.getBoundingClientRect().height,$L.fastdom.mutate(function(){a.style.top=i+"px",t&&this.$node.classList.add("lyteRTL")}.bind(this))),$L.fastdom.mutate(function(){this.data.ltPropDualResize&&this.$node.classList.add("lyteDualResize"),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)}.bind(this))}.bind(this))}}catch(t){}t&&(this.$node.classList.add("infinitescroll"),this.$node.setValue=function(t){this._stopScroll&&this.appendAddData1.call(this,t)}.bind(this))},columnWidth:function(t,e,o){var i=0;for(o||(o=0);o<e;o++)i+=t[o].property.width;return i},heightCalc:function(t,e,o){for(var i=0,a=e;a>0&&!(o<(i+=t[a]));a--);return[i,a]},topElem:function(t){if(this.isIE11Lyte||this.isEdgeLyte){var e=t.querySelector("lyte-td");return e?e.getBoundingClientRect():{}}return t.getBoundingClientRect()},cellSet:function(t,e){if(this.isIE11Lyte||this.isEdgeLyte){var o=t.querySelectorAll("lyte-td");if(!e&&o.length)return o[0].style.transform;for(var i=0;i<o.length;i++)o[i].style.transform=e}else{if(!e)return t.style.transform;t.style.transform=e}},scrollTable:function(t,e){var o=t.yScroll,i=this.getData("ltPropData"),a=this.getData("ltPropContent"),l=this.scrollDiv,n=e.tbodyClient,r=e.$nodeClient,s=this.$node.querySelector("lyte-table-structure"),d=this.$node.querySelector("lyte-th"),p=e.neglected,c=e.compNeg;d=d?d.property?d.property.height:d.getBoundingClientRect().height:0;var h=e.topElem,u=e.topElemClient;if(-1==s.style.height.indexOf("px")&&(s.style.height=n.height+"px",this._rowHgt=parseInt(10*u.height)/10,this._step=parseInt(10*(n.height-this._rowHgt*p.length))/10),!this._dummy){var y=e.tbody,m=document.createElement("lyte-tr");if(m.classList.add("dummy"),y.appendChild(m),m.setAttribute("style","transform:translateY(0px);height:0px"),this._dummy=m,this._browser){var g=document.createElement("div");g.classList.add("dummy"),this.scrollDiv.appendChild(g),g.setAttribute("style","transform:translateY(0px);height:5px"),this._dummy1=g}}if(void 0==o&&!l.classList.contains("eventBinded")){var f=parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0]);o=l.scrollTop>f?1:-1}if(o>0){if(parseFloat(r.top+d)>=parseFloat(u.bottom))if(this._boundary.bottom<=a.length-2){var v=Math.max(parseInt((r.top+d-u.bottom)/this._rowHgt),1);this._boundary.bottom+v>a.length-1&&(v=a.length-1-this._boundary.bottom);for(var b=0;b<v;b++){if(this._boundary.bottom+=1,b>=v-i.length&&(Lyte.Component.set(i[this._top],{body:a[this._boundary.bottom],index:this._boundary.bottom}),h.dataOrder=this._boundary.bottom),this._boundary.top=this._boundary.bottom-i.length+1,this.cellSet(h)?this.regex(h):this.cellSet(h,"translateY("+this._step+"px)"),this._dummy.style.transform="translateY("+(parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0])+this._rowHgt)+"px)",this._dummy.style.height=Math.max(parseFloat(this._dummy.style.height)-this._rowHgt,0)+"px",this._browser&&(this._dummy1.style.transform="translateY("+(parseFloat(this._dummy1.style.transform.match(/[\d|.]+/gi)[0])+this._rowHgt)+"px)"),this._bottom=this._top,this._top=(this._top+1)%i.length,this._boundary.bottom>=a.length){this._boundary.bottom=a.length-1,this._top=(this._top+1)%i.length;break}h=this.nthoftype.call(this,e.tbody,this._top+c.length,!0)}}else this.scrollEndMethod1()}else if(o<0){var D=e.bottmElem,P=e.bottmElemClient;if(r.bottom<=P.top){var C=this.cellSet(D).match(/[\d|.]+/gi);if(!C||C&&"0"==C[0])return;v=parseInt(Math.max(parseFloat((P.top-r.bottom)/this._rowHgt),0));var L=Math.max(v-1-this._boundary.top,0);for(b=v-1;b>=0&&0!=v&&0!=this._boundary.top;b--){if(this._boundary.top-=1,b<=i.length-1+L&&(Lyte.Component.set(i[this._bottom],{body:a[this._boundary.top],index:this._boundary.top}),D.dataOrder=this._boundary.top),this._boundary.bottom=this._boundary.top+i.length-1,this.cellSet(D)&&this.regex(D,!0),this._dummy.style.height=parseFloat(this._dummy.style.height)+this._rowHgt+"px",this._dummy.style.transform="translateY("+(parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)",this._browser&&(this._dummy1.style.transform="translateY("+(parseFloat(this._dummy1.style.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)"),this._top=this._bottom,this._bottom=(i.length+this._bottom-1)%i.length,-1==this._boundary.top){this._boundary.top=0,this._boundary.bottom=this._boundary.top+i.length-1;break}D=this.nthoftype.call(this,e.tbody,this._bottom+c.length,!0)}}}},regex:function(t,e){if(this.isIE11Lyte||this.isEdgeLyte)for(var o=t.querySelectorAll("lyte-td"),i=0;i<o.length;i++)this.regex1(o[i],e);else this.regex1(t,e)},regex1:function(t,e){t.style.transform=e?t.style.transform.replace(/[\d|.]+/gi,function(){return Math.max(parseFloat(arguments[0])-this._step,0).toFixed(3)}.bind(this)):t.style.transform.replace(/[\d|.]+/gi,function(){return(parseFloat(arguments[0])+this._step).toFixed(3)}.bind(this))},scrollEndMethod1:function(){this._stopScroll||(this._stopScroll=!0,this.getMethods("scrollEnd")&&this.appendAddData1(this.executeMethod("scrollEnd")))},appendAddData1:function(t){t&&(t.then?Promise.resolve(t).then(function(t){t&&this.apd1.call(this,t)}.bind(this),function(){}.bind(this)):this.apd1.call(this,t))},apd1:function(t){var e=this.data.ltPropContent;this.data.ltPropData;this._prevent=!0,t.constructor==Array?Lyte.arrayUtils(e,"concat",t):t.constructor==Object&&Lyte.arrayUtils(e,"push",t),delete this._prevent,delete this._stopScroll},nthoftype:function(t,e,o){var i=[],a=t.getElementsByTagName("lyte-tr");if(o)return a[e];for(var l=0;l<a.length;l++)a[l].classList.contains("dummy")||i.push(a[l].querySelectorAll("lyte-td")[e]);return i},scroll:function(t){var e=this.comp,o=this._wheelObj||{bcr:{}};this._scrollLeft=void 0!=o.scrollLeft?o.scrollLeft:this.scrollLeft,this._scrollTop=void 0!=o.scrollTop?o.scrollTop:this.scrollTop;var i=this._direction;if(e.scrollCheck.call(this,t,o),0==this._scrollLeft&&"rtl"!=i&&e.getData("ltPropInfiniteScroll")){var a=e.getData("columns");Lyte.arrayUtils(a,"remove",0,a.length);var l=this.querySelectorAll(".lyteTableFixed");if(l.length)for(var n=0;n<l.length;n++)l[n].style.left="0px",l[n].classList.remove("lyteTableFixed")}e.data.ltPropInfiniteScroll&&e.scrollTable.call(e,t,o),delete this._scrollLeft,delete this._scrollTop},scrollCheck:function(t,e){var o=this.getElementsByTagName("lyte-table-structure")[0],i=this._scrollTop,a=this._scrollLeft,l=this.parentElement.component.getData("ltPropScroll"),n=this.parentElement.component,r=this._direction,s=o.getElementsByTagName("lyte-tbody")[0],d=this.getElementsByTagName("lyte-thead")[0],p=[],c=[],h=[];if(d&&(p=d.getElementsByTagName("lyte-th")),(i!=this.prevScollTop||t._byFunc)&&l.vertical){var u=p;if(u.length){for(var y=0;y<u.length;y++)u[y].classList.add("tableRowFixed"),n.transform(!0,u[y],i);if(!i)for(y=0;y<u.length;y++)u[y].classList.remove("tableRowFixed")}}if((a!=this.prevScollLeft||t._byFunc)&&l.horizontal){var m=n.data.columns,g=[];if(d){var f=Array.apply(Array,d.getElementsByTagName("lyte-tr")),v=Array.apply(Array,d.getElementsByClassName("lyteRowCopy"));g=f.concat(v)}var b=n.data.ltPropFixedColumnClass||"";if(g.length){c=g[0].getElementsByTagName("lyte-th");for(var D=0;D<c.length;D++)c[D].classList.contains("lyteFixedColumn")&&h.push(c[D])}for(y=m.length;y<h.length;y++)if(h[y].property.right+n.columnWidth.call(n,h,y)>e.scrollDivClient.right&&"rtl"==r||h[y].property.left<e.scrollDivClient.left+n.columnWidth.call(n,h,y)&&"rtl"!=r){h[y].property.width;var P=h[y].order;if(P+1<c.length){!h[y].classList.contains("lyteTableFixed")&&h[y].classList.add("lyteTableFixed"),m.push(h[y]);for(var C=1;C<g.length;C++){(A=g[C].getElementsByTagName("lyte-th")[P])&&!A.classList.contains("lyteTableFixed")&&A.classList.add("lyteTableFixed")}for(var L=n.nthoftype.call(n,s,P),x=0;x<L.length;x++)!L[x].classList.contains("lyteTableFixed")&&L[x].classList.add("lyteTableFixed"),b&&L[x].classList.add(b)}}for(D=m.length-1;D>=0&&(S=m.length-1,0==a&&(!window.chrome||"rtl"!=r)||(parseFloat((c[m[S].order+1].property.right+m[S].property.width+n.columnWidth.call(n,m,m.length-1)).toFixed(2))<=parseFloat(e.scrollDivClient.right.toFixed(2))||c[m[S].order+1].property.right+2<m[S].property.left)&&"rtl"==r||c[m[S].order+1].property.left>=e.scrollDivClient.left+m[S].property.width+n.columnWidth.call(n,m,m.length-1)&&m[S].property.left>=e.scrollDivClient.left+n.columnWidth.call(n,h,m.length-1)&&"rtl"!=r);D--){c[m[S].order].classList.contains("lyteTableFixed")&&c[m[S].order].classList.remove("lyteTableFixed"),b&&c[m[S].order].classList.remove(b),n.transform(!1,m[S],0);for(C=0;C<g.length;C++){(A=g[C].getElementsByTagName("lyte-th")[m[S].order])&&(A.classList.contains("lyteTableFixed")&&A.classList.remove("lyteTableFixed"),n.transform(!1,A,0))}for(var w=n.nthoftype.call(n,s,m[S].order),_=0;_<w.length;_++)n.transform(!1,w[_],0),w[_].classList.contains("lyteTableFixed")&&w[_].classList.remove("lyteTableFixed"),b&&w[_].classList.remove(b);Lyte.arrayUtils(m,"removeAt",S)}for(var S=0;S<m.length;S++){var T,M=n.nthoftype.call(n,s,m[S].order),E=navigator.userAgent.toLowerCase();T=0==S?"rtl"==r?-1!=E.indexOf("firefox")||-1!=E.indexOf("safari")&&-1==E.indexOf("chrome")&&-1==E.indexOf("chromium")?a+n.columnWidth.call(n,c,m[S].order,0):-1!=E.indexOf("edge")||-1!=E.indexOf("trident")||-1!=E.indexOf("msie")?-a+n.columnWidth.call(n,c,m[S].order,0):a-1-e.scrollWidth+e.scrollDivClient.width+n.columnWidth.call(n,c,m[S].order,0):a-n.columnWidth.call(n,c,m[S].order,0):"rtl"==r?(-1!=E.indexOf("firefox")||-1!=E.indexOf("safari")&&-1==E.indexOf("chrome")&&E.indexOf("chromium"),n.transform(!1,m[S-1])+n.columnWidth.call(n,c,m[S].order,m[S-1].order+1)):n.transform(!1,m[S-1])-n.columnWidth.call(n,c,m[S].order,m[S-1].order+1);for(var k=0;k<M.length;k++)!M[k].classList.contains("lyteTableFixed")&&M[k].classList.add("lyteTableFixed"),n.transform(!1,M[k],T);n.transform(!1,m[S],T);for(C=0;C<g.length;C++){var A;(A=g[C].getElementsByTagName("lyte-th")[m[S].order])&&(!A.classList.contains("lyteTableFixed")&&A.classList.add("lyteTableFixed"),n.transform(!1,A,T))}}}this.prevScollLeft=a,this.prevScollTop=i},transform:function(t,e,o){var i=e.style.transform||"translateX(0px) translateY(0px)",a=parseFloat(/translateX\((.+)/.exec(i)[1]),l=parseFloat(/translateY\((.+)/.exec(i)[1]);if(void 0==o)return parseFloat(t?l:a);e.style.transform=t?"translateY("+o+"px) translateX("+a+"px)":"translateY("+l+"px) translateX("+o+"px)"},borderChangeObs:function(){this.borderChange.call(this)}.observes("ltPropBorder").on("didConnect"),borderChange:function(){this.data.ltPropBorder?this.$node.classList.add("border"):this.$node.classList.remove("border")},widthObsObs:function(){this.widthObs.call(this)}.observes("ltPropWidth").on("didConnect"),widthObs:function(){this.$node.querySelector("lyte-table-structure").style.width=this.data.ltPropWidth},heightObsObs:function(){this.heightObs.call(this)}.observes("ltPropHeight").on("didConnect"),heightObs:function(){this.$node.querySelector("lyte-table-structure").style.height=this.data.ltPropHeight},sortableObs:function(){this.sortable.call(this)}.observes("ltPropColumnSortable").on("didConnect"),sortable:function(){var t=this.$node.querySelector("lyte-thead");t&&(this.data.ltPropColumnSortable?(this.colSort=this.sortableColumns.bind(this),t.addEventListener("mousedown",this.colSort),t.addEventListener("touchstart",this.colSort),t.parentElement.classList.add("sortableTable")):(t.removeEventListener("mousedown",this.colSort),t.removeEventListener("touchstart",this.colSort),t.parentElement.classList.remove("sortableTable")))},composePath:function(t){for(var e=[],o=t.target.correspondingElement||t.target;o&&"HTML"!=o.tagName;)e.push(o),o=o.parentNode;return e},sortableColumns:function(t){var e=this.closestFind.call(this,t.path?t.path:this.composePath.call(this,t),"lyte-th:not(.lyteTableFixed)");if(e&&this.$node.contains(e)){var o,i="touchstart"==t.type;if(this.getMethods("onBeforeSelect")&&(o=this.executeMethod("onBeforeSelect",e,t,this.$node)),0!=o){var a=i?t.touches[0]:t;this._ww=window.innerWidth,this.mousemove=this.sortableMouseMove.bind(this),this.offLeft=this.rtlfunc.call(this,"clientX",a,this._ww)-this.rtlfunc.call(this,"left",e.getBoundingClientRect(),this._ww),this.colHead=e,this._thisBccr=this.$node.getBoundingClientRect(),e.classList.add("sortSelect"),document.documentElement.addEventListener(i?"touchmove":"mousemove",this.mousemove),this.mouseup=this.sortableMouseup.bind(this),document.documentElement.addEventListener(i?"touchend":"mouseup",this.mouseup),this.flag=!0,t.preventDefault(),this.getMethods("onSelect")&&this.executeMethod("onSelect",e,t,this.$node)}}},horiScroll:function(t,e){var o,i,a,l=this.rtlfunc.call(this,"left"),n=this.isIE11Lyte||this.isEdgeLyte;if(/mousemove|touchmove/i.test(t.type)&&(o=!0),o){if(this._reqId)return;i=this.rtlfunc.call(this,"clientX",t,e)>Math.min(this.rtlfunc.call(this,"right",this._thisBccr,e),e-2),a=this.rtlfunc.call(this,"clientX",t,e)<=Math.max(0,this.rtlfunc("left",this._thisBccr,innerWidth))}else i=parseFloat(t.style[l])-this._xxoff+parseFloat(t.style.width)>=this.rtlfunc("right",this._thisBccr,e)-1,a=parseFloat(t.style[l])-this._xxoff+parseFloat(t.style.width)>=this.rtlfunc("right",this._thisBccr,e)-1;i?(this.scrollDiv.scrollLeft+=2*(this._dir?-1*(n?-1:1):1),o&&(this.resizeComponent.offLeft-=2),this._reqId=window.requestAnimationFrame(function(){delete this._reqId,this.horiScroll(t,e)}.bind(this))):a?(o&&(this.resizeComponent.offLeft+=2),this.scrollDiv.scrollLeft-=2*(this._dir?-1*(n?-1:1):1),this._reqId=window.requestAnimationFrame(function(){delete this._reqId,this.horiScroll(t,e)}.bind(this))):(window.cancelAnimationFrame(this._reqId),delete this._prevent)},sortableMouseMove:function(t){var e="touchmove"==t.type,o=t;if(!e||1==o.touches.length){if(e&&(o=o.touches[0]),this.flag&&void 0==this._timeout){var i,a=this.colHead.getBoundingClientRect(),l=document.createElement("div");l.classList.add("lyteTableSortHelper"),l.innerHTML=this.colHead.innerText,this._xxoff=i=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1);var n=window.pageYOffset||document.documentElement.scrollTop;l.style.height=a.height+"px",l.style.width=a.width+"px",l.style[this.rtlfunc.call(this,"left")]=i+this.rtlfunc.call(this,"left",a,this._ww)+"px",l.style.top=n+a.top+"px",this._timeout=setTimeout(function(){document.body.appendChild(l),this.flag=!1}.bind(this),100)}var r=document.querySelector("div.lyteTableSortHelper");if(r){var s=this._dir?"right":"left",d=window.innerWidth,p=Math.max(Math.min(this.rtlfunc.call(this,"clientX",o,this._ww)-this.offLeft,this.rtlfunc.call(this,"right",this._thisBccr,this._ww)-parseFloat(r.style.width)),this.rtlfunc.call(this,"left",this._thisBccr,this._ww));if(parseFloat(p)>this.rtlfunc("left",this._thisBccr,d)&&parseFloat(p)+parseFloat(r.style.width)<this.rtlfunc("right",this._thisBccr,d)&&(window.cancelAnimationFrame(this._reqId),delete this._prevent,delete this._scrollDir),this._prevent)return;r.style[s]=p+this._xxoff+"px",this._prevent=!0,this.horiScroll(r,d),this.getMethods("onDrag")&&this.executeMethod("onDrag",this.colHead,r,t,this.$node)}t.preventDefault(),t.stopPropagation()}},sortableMouseup:function(t){if(this.flag)clearTimeout(this._timeout);else{var e="touchend"==t.type,o=document.getElementsByClassName("lyteTableSortHelper")[0],i=o.getBoundingClientRect(),a=i.left+i.width/2+2,l=i.top+i.height/2,n=this.closestFind.call(this,document.elementsFromPoint?document.elementsFromPoint(a,l):this.elementsFromPointCal.call(this,a,l),"lyte-th:not(.lyteTableFixed)"),r=this.$node.getElementsByTagName("lyte-tbody")[0];if(n!=this.colHead&&n){var s,d=this.colHead.parentElement.getElementsByTagName("lyte-th"),p=Array.prototype.indexOf.call(d,this.colHead),c=Array.prototype.indexOf.call(d,n),h=this.data.ltPropHeader;if(this.getMethods("onBeforeDrop")&&(s=this.executeMethod("onBeforeDrop",this.colHead,n,p,c,h,t,this.$node)),0!=s){if(h.length){var u=Lyte.arrayUtils(h,"removeAt",p),y=Array.prototype.indexOf.call(n.parentElement.getElementsByTagName("lyte-th"),n);Lyte.arrayUtils(h,"insertAt",p<c?y+1:y,u);var m=n.parentElement.getElementsByTagName("lyte-th",n.parentElement)[p<c?y+1:y];n.classList.contains("tableRowFixed")&&(m.classList.add("tableRowFixed"),m.style.top=n.style.top)}else{_lyteUiUtils.insertBefore(c>p?n.nextElementSibling:n,this.colHead);for(var g=this.nthoftype.call(this,r,p),f=this.nthoftype.call(this,r,c),v=0;v<g.length;v++)_lyteUiUtils.insertBefore(c>p?f[v].nextElementSibling:f[v],g[v])}this.getMethods("onDrop")&&this.executeMethod("onDrop",this.colHead,n,p,c,h,t,this.$node)}}document.body.removeChild(o)}document.documentElement.removeEventListener(e?"touchend":"mouseup",this.mouseup),document.documentElement.removeEventListener(e?"touchmove":"mousemove",this.mousemove),this.colHead.classList.remove("sortSelect"),window.cancelAnimationFrame(this._reqId),delete this.mouseup,delete this._xxoff,delete this.mousemove,delete this.offLeft,delete this.colHead,delete this.flag,delete this._timeout,delete this._thisBccr,delete this._ww,delete this._reqId,delete this._prevent,delete this._scrollDir,t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},elementsFromPointCal:function(t,e){for(var o=[],i=document.elementFromPoint(t,e);i!=document&&i!=document.documentElement&&i!=document.body&&i!=this.$node;)i.style.pointerEvents="none",o.push(i),i=document.elementFromPoint(t,e);for(var a=0;a<o.length;a++)o[a].style.pointerEvents="initial";return o},resizeComponentAppendObs:function(){this.data.ltPropYield&&this.resizeComponentAppend.call(this)}.observes("ltPropResize","ltPropResize.{}"),resizeComponentAppend:function(){var t=this.data.ltPropResize,e=this.$node.getElementsByTagName("lyte-table-structure")[0],o=e.getElementsByTagName("lyte-table-resize")[0],i=e.getElementsByTagName("lyte-table-vertical-resize")[0],a=e.getElementsByTagName("lyte-table-horizontal-resize")[0];if(t.vertical||t.horizontal){if(!o){var l=document.createElement("lyte-table-resize");e.appendChild(l),l.addEventListener("mousedown",this.actions.tableResize.bind(this)),l.addEventListener("touchstart",this.actions.tableResize.bind(this))}}else o&&e.removeChild(o);if(t.vertical){if(!i){l=document.createElement("lyte-table-vertical-resize");e.appendChild(l),l.addEventListener("mousedown",this.actions.tableResize.bind(this)),l.addEventListener("touchstart",this.actions.tableResize.bind(this))}}else i&&e.removeChild(i);if(t.horizontal){if(!a){l=document.createElement("lyte-table-horizontal-resize");e.appendChild(l),l.addEventListener("mousedown",this.actions.tableResize.bind(this)),l.addEventListener("touchstart",this.actions.tableResize.bind(this))}}else a&&e.removeChild(a)},data:function(){return{ltPropContent:Lyte.attr("array",{default:[]}),ltPropHeader:Lyte.attr("array",{default:[]}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropBorder:Lyte.attr("boolean",{default:!1}),ltPropHeaderLabelKey:Lyte.attr("string",{default:""}),ltPropBodyLabelKey:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropHeight:Lyte.attr("string",{default:"100%"}),ltPropResize:Lyte.attr("object",{default:{}}),ltPropFixedColumnClass:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropScroll:Lyte.attr("object",{default:{horizontal:!0,vertical:!0}}),ltPropColumnSortable:Lyte.attr("boolean",{default:!1}),ltPropScrollbarOption:Lyte.attr("object",{default:{}}),ltPropDualResize:Lyte.attr("boolean",{default:!1}),ltPropData:Lyte.attr("array",{default:[]}),ltPropInfiniteScroll:Lyte.attr("boolean",{default:!1}),ltPropCellHeight:Lyte.attr("string",{default:"20px"}),ltPropContentLength:Lyte.attr("number"),ltPropPreventScrollbar:Lyte.attr("boolean",{default:!1}),lyteUnbound:Lyte.attr("boolean",{default:!1}),columns:Lyte.attr("array",{default:[]}),nonFixedColumn:Lyte.attr("array",{default:[]}),minWidth1:Lyte.attr("string",{default:""}),minWidth2:Lyte.attr("string",{default:""}),secondaryData:Lyte.attr("array",{default:[]}),boundary:Lyte.attr("object",{default:{}}),rowHeights:Lyte.attr("array",{default:[]})}},actions:{tableResize:function(t){var e="touchstart"==t.type,o=t;if(!e||1==t.touches.length){e&&(o=t.touches[0]);var i=t.target.parentElement;i.previousElementSibling;if(document.Component=this,this.resizeComponent=i,this.targetElem=o.target,(i.parentElement.querySelector("lyte-th:last-of-type")!=i||this.data.ltPropDualResize)&&"LYTE-TH"==i.tagName||"LYTE-TH"!=i.tagName){this._thisBccr=this.$node.getBoundingClientRect();var a=window.innerWidth,l=i.getBoundingClientRect();if(this.data.ltPropDualResize&&(this.oriTab=this.$node.getElementsByTagName("lyte-table-structure")[0],n=this.oriTab.getBoundingClientRect().width),i.offLeft=l.width+this.rtlfunc.call(this,"left",l,a),i.offTop=o.clientY,document.addEventListener(e?"touchend":"mouseup",this.mouseup),document.addEventListener(e?"touchmove":"mousemove",this.resizeFunc),"LYTE-TH"==i.tagName){var n,r,s,d=this.$node.getElementsByTagName("lyte-th"),p=[],c=i.nextElementSibling;$L.fastdom.measure(function(){for(var t=0;t<d.length;t++)d[t].style.width&&i!=d[t]?p.push(null):p.push(d[t].offsetWidth);$L.fastdom.mutate(function(){i.classList.add("resizeSelect"),this.$node.classList.add("resizing");for(var t=0;t<d.length;t++)p[t]&&(d[t].style.width=p[t]+"px");c&&(r=c.style.width),s=i.style.width,$L.fastdom.measure(function(){c&&c.style.removeProperty("width"),this.minWidth.call(this,i,"minWidth1"),c&&(c.style.width=r),this.data.ltPropDualResize||(i.style.removeProperty("width"),this.minWidth.call(this,c,"minWidth2"),i.style.width=s),$L.fastdom.mutate(function(){this.data.ltPropDualResize&&(this.oriTab.style.width=n+"px")}.bind(this))}.bind(this))}.bind(this))}.bind(this))}else{var h=this.$node.getElementsByTagName("lyte-table-structure")[0];h.style.width=h.getBoundingClientRect().width+"px",this.$node.classList.add("tableResing")}}t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}}},minWidth:function(t,e){var o=window.getComputedStyle(t,null).getPropertyValue("min-width"),i=t.style.width;t.style.width="0px"==o?"50px":o,o=t.offsetWidth+"px",t.style.width=i,this.setData(e,o)},resetScrollbar:function(t){this.$node.classList.remove("tableResing"),$L.fastdom.measure(function(){var t=this.$node.getBoundingClientRect(),e=this.$node.getElementsByTagName("lyte-table-structure")[0].getBoundingClientRect(),o=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),i=window.innerWidth;this.scrollDiv.resetScrollbar&&this.scrollDiv.classList.contains("eventBinded")&&this.scrollDiv.resetScrollbar(!0),$L.fastdom.mutate(function(){var a=this.rtlfunc.call(this,"right",t,i),l=this.rtlfunc.call(this,"right",e,i),n=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerY:not(.left)"),r=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerX");n&&(a-l>0?n.style[this.rtlfunc.call(this,"right")]=a-l+o+"px":n.style.removeProperty("right")),r&&(a-l>0?r.style.width=e.width/t.width*100+"%":r.style.removeProperty("width"))}.bind(this))}.bind(this))},mouseup:function(t){var e="touchend"==t.type,o=document.Component,i=o.resizeComponent;o.resetScrollbar.call(o,t),delete document.Component,delete o.oriTab,document.removeEventListener(e?"touchend":"mouseup",o.mouseup),document.removeEventListener(e?"touchmove":"mousemove",o.resizeFunc),$L.fastdom.mutate(function(){i.classList.remove("resizeSelect"),o.$node.classList.remove("resizing"),document.removeEventListener(e?"touchend":"mouseup",o.mouseup),document.removeEventListener(e?"touchmove":"mousemove",o.resizeFunc),delete document.Component,delete o.oriTab,delete this._thisBccr,o.getMethods("onResizeEnd")&&$L.fastdom.mutate(function(){o.executeMethod("onResizeEnd",i,o.$node)})}),window.cancelAnimationFrame(o._reqId),delete o._reqId,t.stopPropagation()},resizeFunc:function(t){var e="touchmove"==t.type,o=t;if(!e||1==t.touches.length){e&&(o=o.touches[0]);var i=document.Component,a=window.innerWidth,l=i.resizeComponent,n=i.rtlfunc.call(i,"clientX",o,a),r=i.data.ltPropResize,s=n-l.offLeft,d=parseInt(l.style.width);if((r.horizontal||"LYTE-TH"==l.tagName)&&s){var p=s+d;i.getData("tableWidth");if("LYTE-TH"==l.tagName){if(p>Math.ceil(parseFloat(i.getData("minWidth1")))){var c=l.nextElementSibling,h=c?c.getBoundingClientRect().width-s:0;!i.data.ltPropDualResize&&h>Math.ceil(parseFloat(i.getData("minWidth2")))?(c.style.width=h+"px",l.style.width=p+"px"):i.data.ltPropDualResize&&(i.oriTab&&(i.oriTab.style.width=parseInt(i.oriTab.style.width)+s+"px"),l.style.width=p+"px",n>Math.max(i.rtlfunc("left",i._thisBccr,a),0)&&n<Math.min(i.rtlfunc("right",i._thisBccr,a),a)&&(window.cancelAnimationFrame(i._reqId),delete i._reqId))}}else if("LYTE-TH"!=l.tagName&&("LYTE-TABLE-HORIZONTAL-RESIZE"==i.targetElem.tagName||"LYTE-TABLE-RESIZE"==i.targetElem.tagName)){var u=l.parentElement;"LYTE-YIELD"==u.tagName&&(u=u.parentElement),l.style.width=p+"px"}l.offLeft=n,delete l.width}i.horiScroll(o,a),!r.vertical||"LYTE-TH"==l.tagName||"LYTE-TABLE-VERTICAL-RESIZE"!=i.targetElem.tagName&&"LYTE-TABLE-RESIZE"!=i.targetElem.tagName||(l.style.height=o.clientY+l.getBoundingClientRect().height-l.offTop+"px",l.offTop=o.clientY),t.preventDefault(),t.stopPropagation()}},arrayFrom:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o]);return e.slice()},closestFind:function(t,e){for(var o=this.arrayFrom.call(this,document.querySelectorAll(e)),i=0;i<t.length;i++)if(-1!=Array.prototype.indexOf.call(o,t[i]))return t[i];return null}}),!_lyteUiUtils.registeredCustomElements["lyte-th"]){function resizeTable(t){if(!t||"resize"!=t.type||!_lyteUiUtils.isMobile)for(var e=document.body.querySelectorAll("lyte-table[lyte-rendered]"),o=0;o<e.length;o++){var i=e[o].component;t&&"orientationchange"==t.type?setTimeout(i.resetScrollbar.bind(i),500,t):i.resetScrollbar.call(i,t)}}_lyteUiUtils.registeredCustomElements["lyte-th"]=!0,Lyte.createCustomElement("lyte-th",{static:{observedAttributes:{get:function(){return["fixed","resize","icon"]}}},attributeChangedCallback:function(t,e,o){if("fixed"==t){for(var i=this;"DIV"!=i.tagName;)i=i.parentElement;"enable"==o?this.classList.add("lyteFixedColumn"):this.classList.remove("lyteFixedColumn")}else if("resize"==t){var a;if("enable"==o)(a=document.createElement("lyte-tablehead-resize")).addEventListener("mousedown",this.resize),a.addEventListener("touchstart",this.resize),this.appendChild(a);else(a=this.getElementsByTagName("lyte-tablehead-resize")[0])&&this.removeChild(a)}else"icon"==t&&("disable"==o?this.classList.add("lytePreventIcon"):this.classList.remove("lytePreventIcon"))},resize:function(t){if(!this.parentNode.classList.contains("lyteTableFixed")){var e=$L(t.target).closest("lyte-table")[0];e.component.actions.tableResize.call(e.component,t)}}})}if(Lyte.Component.register("lyte-tabs",{_template:'<template tag-name="lyte-tabs">\n\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t<lyte-yield yield-name="tabYield"></lyte-yield>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}],_observedAttributes:["ltPropYield","ltPropHover","ltPropActiveClass","ltPropPosition","ltPropCloseIcon","prevTarget","ltPropHeight","ltPropType","ltPropMaxWidth","ltPropTabStyle","ltPropMenuWrapperClass","menuLabels"],init:function(){this.$node.addTab=function(t){this.component.constructTabs(this,t)},this.$node.deleteTab=function(t){this.component.deleteTabContent(t)},this.$node.openTab=function(t){this.component.openTabContent(t)},this.$node.enableTab=function(t){this.component.enableTab(t)},this.$node.disableTab=function(t){this.component.disableTab(t)}},data:function(){return{ltPropYield:Lyte.attr("boolean",{default:!0}),ltPropHover:Lyte.attr("string",{default:"lyteTabHover"}),ltPropActiveClass:Lyte.attr("string",{default:"lyteTabActive"}),ltPropPosition:Lyte.attr("object",{default:{pos:"top",align:"left"}}),ltPropCloseIcon:Lyte.attr("boolean",{default:!1}),prevTarget:Lyte.attr("object",{default:null}),ltPropHeight:Lyte.attr("string",{default:"400px"}),ltPropType:Lyte.attr("string"),ltPropMaxWidth:Lyte.attr("string",{default:"90%"}),ltPropTabStyle:Lyte.attr("string"),ltPropMenuWrapperClass:Lyte.attr("string"),menuLabels:Lyte.attr("array",{default:[]})}},didConnect:function(){this.initialFunc()},didDestroy:function(){this.$node.checkTabs&&(clearTimeout(this.$node.checkTabs),this.$node.checkTabs=!1)},initialFunc:function(){if(this.$node.childElementCount>1||"LYTE-TAB"===this.$node.children[0].tagName){this.checkTabStyle(),this.$node.style.height=this.getData("ltPropHeight");var t=this.$node.querySelector("lyte-tab-head");t.classList.add("lyteTabNav"),"collapse"==this.getData("ltPropType")&&t.classList.add("lyteTabOverflowV");var e,o=this.getData("ltPropPosition"),i=t.querySelectorAll("lyte-tab-title"),a=this.getContent(this.$node.querySelector("lyte-tab-body").children),l=this.getData("ltPropActiveClass");this.setPosition(o),this.getData("ltPropCloseIcon")&&this.createCloseIcon(t.querySelectorAll("lyte-tab-title"));t.addEventListener("click",function(t){this.showTab(t)}.bind(this),!0),t.addEventListener("mouseover",function(t){this.mouseOver(t)}.bind(this),!0),t.addEventListener("mouseout",function(t){this.mouseOut(t)}.bind(this),!0);for(var n=0;n<i.length;n++)i[n].classList.contains(l)&&(e=n);for(n=0;n<a.length;n++)!e||e!==n&&i[e].getAttribute("lt-prop-id")!==a[n].id?a[n].classList.add("lyteTabHide"):(this.executeOnBeforeOpen(i[e],i[e].getAttribute("lt-prop-id"),null),a[n].classList.add("lyteTabShow"),this.executeOnOpen(i[e],i[e].getAttribute("lt-prop-id")));e||(e=0,this.executeOnBeforeOpen(i[0],i[0].getAttribute("lt-prop-id"),null),i[0].classList.add(l),a[0].classList.remove("lyteTabHide"),a[0].classList.add("lyteTabShow"),this.executeOnOpen(i[0],i[0].getAttribute("lt-prop-id"))),this.setData("prevTarget",i[e]),$L.fastdom.measure(function(){if("auto"==this.getData("ltPropHeight"))"left"!==o.pos&&"right"!==o.pos||(this.$node.querySelector(".lyteTabNav").style.height="auto",this.$node.querySelector("lyte-tab-body").style.height="auto"),"top"!==o.pos&&"bottom"!==o.pos||(this.$node.querySelector("lyte-tab-body").style.height="auto"),this.makeAlignment(this.getData("ltPropPosition"));else{var t=window.getComputedStyle(this.$node),e=(t.borderTop?parseFloat(t.borderTop):0)+(t.borderBottom?parseFloat(t.borderBottom):0),i=this.$node.querySelector(".lyteTabNav").getBoundingClientRect().height,a=parseInt(t.height)-e;$L.fastdom.mutate(function(){"left"!==o.pos&&"right"!==o.pos||(this.$node.querySelector(".lyteTabNav").style.height=a+"px",this.$node.querySelector("lyte-tab-body").style.height=a+"px"),"top"!==o.pos&&"bottom"!==o.pos||(this.$node.querySelector("lyte-tab-body").style.height=a-i+"px"),this.makeAlignment(this.getData("ltPropPosition"))},this)}},this)}else console.error("No content detected")},checkTabStyle:function(){"nested"===this.getData("ltPropTabStyle")&&this.$node.classList.add("lyteNestedTab")},onPositionChange:function(){var t=this.$node;t.classList.remove("lyteTabDefaultLeft","lyteTabDefaultRight","lyteTabDefaultTop","lyteTabDefaultBottom");var e=t.querySelector("lyte-tab-head"),o=t.querySelector("lyte-tab-body"),i=t.querySelectorAll("lyte-tab-title");e.classList.remove("lyteTabAlignStart","lyteTabAlignEnd","lyteTabAlignCenter"),e.removeAttribute("style"),o.removeAttribute("style"),i[0].style.marginLeft="",i[0].style.marginTop="";for(var a=0;a<i.length;a++)i[a].style.float="";t=null,e=null,i=null,o=null,this.initialFunc()}.observes("ltPropPosition"),onHeightChange:function(){this.$node.style.height=this.getData("ltPropHeight"),this.setHeight(this.getData("ltPropPosition"))}.observes("ltPropHeight"),showTab:function(t){for(var e=t.target.correspondingElement||t.target;e&&e.parentNode&&"LYTE-TAB-TITLE"!=e.tagName;)e=e.parentNode;if(e&&"HTML"!=e.tagName&&!e.isEqualNode(document)&&"LYTE-TAB-TITLE"==e.tagName){var o=e.getAttribute("lt-prop-id");if(t.target.classList.contains("lyteTabCloseIcon")){if(!this.deleteTabContent(o))return;if(this.makeAlignment(this.getData("ltPropPosition")),!(e=this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title").length>0?this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title")[0]:null))return void this.setData("prevTarget",null);o=e.getAttribute("lt-prop-id")}this.openTabContent(e)}},mouseOver:function(t){for(var e=t.target.correspondingElement||t.target;e&&e.parentNode&&"LYTE-TAB-TITLE"!=e.tagName;)e=e.parentNode;if(e&&"HTML"!=e.tagName&&!e.isEqualNode(document)){var o=this.getData("ltPropHover");$L(e).addClass(o)}},mouseOut:function(t){for(var e=t.target.correspondingElement||t.target;e&&e.parentNode&&"LYTE-TAB-TITLE"!=e.tagName;)e=e.parentNode;if(e&&"HTML"!=e.tagName&&!e.isEqualNode(document)){var o=this.getData("ltPropHover");$L(e).removeClass(o)}},getContent:function(t){for(var e=[],o=0;o<t.length;o++)"LYTE-TAB-CONTENT"==t[o].tagName&&e.push(t[o]);return e},getHeader:function(t){for(var e=[],o=0;o<t.length;o++)"LYTE-TAB-TITLE"==t[o].tagName&&e.push(t[o]);return e},constructTabs:function(t,e){var o,i="",a="",l=!1,n=document.createElement("lyte-tab-title"),r=document.createElement("lyte-tab-content");"object"==typeof e&&"LYTE-TAB"===e.tagName?(i=e.getAttribute("lt-prop-title"),a=e.innerHTML,o=e.getAttribute("lt-prop-id")):(i=e.title,a=e.content,o=e.id,l=!0),o||(o=this.generateId(i)),n.innerHTML=i,r.innerHTML=a,n.setAttribute("lt-prop-id",o),r.id=o,r.classList.add("lyteTabHide"),t.querySelector("lyte-tab-head").append(n),t.querySelector("lyte-tab-body").append(r),l&&(this.getData("ltPropCloseIcon")&&this.createCloseIcon(new Array(n)),this.makeAlignment(this.getData("ltPropPosition")))},deleteTabContent:function(t){if(t){var e=!0;if(this.getMethods("onBeforeDelete")&&(e=void 0===(e=this.executeMethod("onBeforeDelete",t,this.$node))||e),!e)return!1;for(var o=this.$node.querySelector("#"+t),i=this.$node.querySelector("lyte-tab-head"),a=i.querySelectorAll("lyte-tab-title"),l=0;l<a.length;l++)if(a[l].getAttribute("lt-prop-id")===t){a[l].classList.contains("lyteTabCustomTitleWidth")&&!0,i.removeChild(a[l]),o&&this.$node.querySelector("lyte-tab-body").removeChild(o);break}return this.getMethods("onDelete")&&this.executeMethod("onDelete",t,this.$node),!0}},enableTab:function(t){if(t){if("string"==typeof t)for(var e=this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title"),o=0;o<e.length;o++)if(e[o].getAttribute("lt-prop-id")===t){e[o].classList.contains("lyteTabDisable")&&(e[o].classList.remove("lyteTabDisable"),e[o].classList.contains("lyteTabForceHide")&&Lyte.arrayUtils(this.getData("menuLabels"),"push",e[o].textContent));break}"object"==typeof t&&t.classList.contains("lyteTabDisable")&&(t.classList.remove("lyteTabDisable"),t.classList.contains("lyteTabForceHide")&&Lyte.arrayUtils(this.getData("menuLabels"),"push",t.textContent))}},disableTab:function(t){if(t){if("string"==typeof t)for(var e=this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title"),o=0;o<e.length;o++)if(e[o].getAttribute("lt-prop-id")===t){if(!e[o].classList.contains("lyteTabDisable"))if(e[o].classList.add("lyteTabDisable"),e[o].classList.contains("lyteTabForceHide"))-1!=(i=this.getData("menuLabels").indexOf(e[o].textContent))&&Lyte.arrayUtils(this.getData("menuLabels"),"removeAt",i,1);break}var i;if("object"==typeof t&&!t.classList.contains("lyteTabDisable"))if(t.classList.add("lyteTabDisable"),t.classList.contains("lyteTabForceHide"))-1!=(i=this.getData("menuLabels").indexOf(t.textContent))&&Lyte.arrayUtils(this.getData("menuLabels"),"removeAt",i,1)}},openTabContent:function(t){if(t){var e;if("string"==typeof t)for(var o=this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title"),i=this.$node.querySelector("#"+t),a=0;a<o.length;a++)if(o[a].getAttribute("lt-prop-id")===t){if(o[a].classList.contains(this.getData("ltPropActiveClass")))return;if(e=o[a],!this.executeOnBeforeOpen(e,t,this.getData("prevTarget")?this.getData("prevTarget").getAttribute("lt-prop-id"):null))return;this.hideAll(),e.classList.add(this.getData("ltPropActiveClass")),i&&(i.classList.remove("lyteTabHide"),i.classList.add("lyteTabShow")),this.executeOnOpen(e,t),this.setData("prevTarget",e);break}if("object"==typeof t){if(t.classList.contains(this.getData("ltPropActiveClass")))return;e=t;var l=t.getAttribute("lt-prop-id");i=this.$node.querySelector("#"+l);if(!this.executeOnBeforeOpen(t,l,this.getData("prevTarget")?this.getData("prevTarget").getAttribute("lt-prop-id"):null))return;this.hideAll(),t.classList.add(this.getData("ltPropActiveClass")),i&&(i.classList.remove("lyteTabHide"),i.classList.add("lyteTabShow")),this.executeOnOpen(t,l),this.setData("prevTarget",t)}"collapse"==this.getData("ltPropType")&&this.getData("menuLabels").indexOf(e.textContent)>-1&&this.collapseHeader(!0)}},createCloseIcon:function(t){for(var e=0;e<t.length;e++)if(!t[e].addedCloseIcon){var o=document.createElement("span");o.innerHTML=t[e].innerHTML,t[e].innerHTML="",t[e].appendChild(o);var i=document.createElement("span");i.classList.add("lyteTabCloseIcon"),t[e].appendChild(i)}},setPosition:function(t){switch(t.pos){case"left":this.$node.classList.add("lyteTabDefaultLeft");break;case"right":this.$node.classList.add("lyteTabDefaultRight");break;case"top":this.$node.classList.add("lyteTabDefaultTop");break;case"bottom":this.$node.classList.add("lyteTabDefaultBottom")}},checkHeightOnResize:function(){this.$node.getBoundingClientRect().height!=this.$node.querySelector(".lyteTabNav").getBoundingClientRect().height+this.$node.querySelector("lyte-tab-body").getBoundingClientRect().height&&this.setHeight(this.getData("ltPropPosition"))},setHeight:function(t){"auto"==this.getData("ltPropHeight")?("left"!==t.pos&&"right"!==t.pos||(this.$node.querySelector(".lyteTabNav").style.height="auto",this.$node.querySelector("lyte-tab-body").style.height="auto"),"top"!==t.pos&&"bottom"!==t.pos||(this.$node.querySelector("lyte-tab-body").style.height="auto"),this.makeAlignment(this.getData("ltPropPosition"))):$L.fastdom.measure(function(){var e=window.getComputedStyle(this.$node),o=(e.borderTop?parseFloat(e.borderTop):0)+(e.borderBottom?parseFloat(e.borderBottom):0),i=this.$node.querySelector(".lyteTabNav").getBoundingClientRect().height,a=parseInt(e.height)-o;$L.fastdom.mutate(function(){"left"!==t.pos&&"right"!==t.pos||(this.$node.querySelector(".lyteTabNav").style.height=a+"px",this.$node.querySelector("lyte-tab-body").style.height=a+"px"),"top"!==t.pos&&"bottom"!==t.pos||(this.$node.querySelector("lyte-tab-body").style.height=a-i+"px"),this.makeAlignment(this.getData("ltPropPosition"))},this)},this)},hideAll:function(){for(var t=this.$node.querySelector("lyte-tab-head").querySelectorAll("lyte-tab-title"),e=this.getContent(this.$node.querySelector("lyte-tab-body").children),o=this.getData("ltPropActiveClass"),i=0;i<t.length;i++)t[i].classList.contains(o)&&t[i].classList.remove(o);for(var a=0;a<e.length;a++)e[a].classList.contains("lyteTabShow")&&(e[a].classList.remove("lyteTabShow"),e[a].classList.add("lyteTabHide")),e[a].classList.contains("lyteTabHide")||e[a].classList.add("lyteTabHide"),$L(e[a]).hasClass("lyteTabHide")||$L(e[a]).addClass("lyteTabHide")},customizeTitleTab:function(t){$L.fastdom.measure(function(){var e=this.$node.querySelector("lyte-tab-head"),o=this.getWidth(e,!1);if("top"===t||"bottom"===t){var i=0,a=0,l=e.querySelectorAll("lyte-tab-title");"collapse"==this.getData("ltPropType")&&$L.fastdom.measure(function(){for(var t=0;t<l.length;t++)i+=this.getWidth(l[t],!0,!0);i>o&&this.collapseHeader()},this)}if("afterDelete"===t){l=e.querySelectorAll("lyte-tab-title"),a=o/l.length;$L.fastdom.mutate(function(){for(var t=0;t<l.length;t++)l[t].style.width=a+"px"})}},this)},collapseHeader:function(t){var e=this.$node.querySelector("lyte-tab-head"),o=this.getWidth(e,!1),i=e.offsetHeight,a=-1!=this.getData("ltPropMaxWidth").indexOf("%")?parseInt(this.getData("ltPropMaxWidth"))*o/100:parseFloat(this.getData("ltPropMaxWidth")),l=e.querySelectorAll("lyte-tab-title"),n=0,r=-1,s=Array.from(l).findIndex(function(t){return t.classList.contains("lyteTabActive")}),d=[];if(t)for(var p=0;p<l.length;p++)l[p].classList.contains("lyteTabForceHide")&&l[p].classList.remove("lyteTabForceHide");n+=this.getWidth(l[s],!0,!0);for(p=0;p<l.length;p++)if(p!=s&&(n+=this.getWidth(l[p],!0,!0))>a){r=p;break}if(r>-1&&r<l.length){for(p=r;p<l.length;p++)p==s?s>0&&!l[p-1].classList.contains("lyteTabForceHide")&&($L(l[p-1]).addClass("lyteTabForceHide"),$L(l[p-1]).hasClass("lyteTabDisable")||d.push(l[p-1].textContent)):($L(l[p]).addClass("lyteTabForceHide"),$L(l[p]).hasClass("lyteTabDisable")||d.push(l[p].textContent));if(this.$node.querySelector("#lyteTabMenu"))Lyte.arrayUtils(this.getData("menuLabels"),"removeAt",0,this.getData("menuLabels").length),Lyte.arrayUtils(this.getData("menuLabels"),"push",d);else{var c=document.createElement("span");c.id="moreMenu";var h=this.createUniqueSlector();c.classList.add(h),c.appendChild(document.createElement("span")),e.appendChild(c),this.createMenu(d,h,"init"),t||"bottom"===this.getData("ltPropPosition").pos&&(e.style.top=e.offsetTop+(Math.ceil(i/2)-1)+"px")}}else-1==r&&this.removeMenu()},createUniqueSlector:function(){for(var t=document.querySelectorAll("lyte-tabs"),e=0;e<t.length;e++)if(t[e].isEqualNode(this.$node))return"menuSel_"+e},createMenu:function(t,e,o){if("init"==o){var i=document.createElement("lyte-menu");i.id="lyteTabMenu",this.setData("menuLabels",t),i.ltProp({content:this.getData("menuLabels"),query:"."+e,event:"click",callout:!0}),this.getData("ltPropMenuWrapperClass")&&i.ltProp({wrapperClass:this.getData("ltPropMenuWrapperClass")}),i.setMethods({onMenuClick:function(t,e,o,i,a){for(var l,n=arguments[0],r=arguments[2].parentElement.component,s=arguments[3].parentElement.querySelectorAll("lyte-tab-title"),d=0;d<s.length;d++)if(s[d].textContent==n&&s[d].classList.contains("lyteTabForceHide")){l=s[d];break}l&&(l.classList.remove("lyteTabForceHide"),r.openTabContent(l)),r.getMethods("onMenuClick")&&r.executeMethod("onMenuClick",t,e,o,i,a,r,l)},onBeforeOpen:function(t,e,o){var i=t.parentElement.component;i.getMethods("onBeforeMenuOpen")&&i.executeMethod("onBeforeMenuOpen",t,e,o,i)},onOpen:function(t,e,o){var i=t.parentElement.component;i.getMethods("onMenuOpen")&&i.executeMethod("onMenuOpen",t,e,o,i)},onBeforeClose:function(t,e){var o=t.parentElement.component;o.getMethods("onBeforeMenuClose")&&o.executeMethod("onBeforeMenuClose",t,e,o)},onClose:function(t,e){var o=t.parentElement.component;o.getMethods("onMenuClose")&&o.executeMethod("onMenuClose",t,e,o)},beforeRender:function(t){var e=t.parentElement.component;e.getMethods("onBeforeMenuRender")&&e.executeMethod("onBeforeMenuRender",t,e)},afterRender:function(t){var e=t.parentElement.component;e.getMethods("onAfterMenuRender")&&e.executeMethod("onAfterMenuRender",t,e)}}),this.$node.appendChild(i)}},removeMenu:function(){var t=this.$node.querySelector("#lyteTabMenu");t&&(t.remove(),this.$node.querySelector("#moreMenu").remove()),this.setData("menuLabels",[])},onMenuLabelChange:function(){this.$node.querySelector("lyte-menu").ltProp({content:this.getData("menuLabels")})},makeAlignment:function(t){var e=this.$node.querySelector("lyte-tab-head");"left"!=t.align&&"top"!=t.align||e.classList.add("lyteTabAlignStart"),"right"!=t.align&&"bottom"!=t.align||("collapse"!=this.getData("ltPropType")||"top"!=t.pos&&"bottom"!=t.pos?e.classList.add("lyteTabAlignEnd"):e.classList.add("lyteTabRightCollapse")),"center"==t.align&&e.classList.add("lyteTabAlignCenter")},executeOnBeforeOpen:function(t,e,o){var i;return this.getMethods("onBeforeOpen")&&(i=this.executeMethod("onBeforeOpen",this.$node.querySelector("#"+e),this.$node.querySelector("#"+o),this,t,this.getData("prevTarget")?this.getData("prevTarget"):null)),void 0===i||i},executeOnOpen:function(t,e){this.getMethods("onOpen")&&this.executeMethod("onOpen",this.$node.querySelector("#"+e),this,t)},generateId:function(t){for(;-1!==t.indexOf(" ");)t=t.replace(" ","_");return t},getWidth:function(t,e,o){e=void 0==e||e;var i=getComputedStyle(t),a=parseInt(i.paddingLeft)+parseInt(i.paddingRight),l=0;return o&&(l=parseInt(i.marginLeft)+parseInt(i.marginRight)),parseFloat(i.width)+(e?0:-a)+l}}),_lyteUiUtils.registeredCustomElements["lyte-tab-title"]||(_lyteUiUtils.registeredCustomElements["lyte-tab-title"]=!0,Lyte.createCustomElement("lyte-tab-title",{static:{},connectedCallback:function(){var t=this.closest("lyte-tabs");"collapse"==t.getData("ltPropType")&&(t.checkTabs?(clearTimeout(t.checkTabs),t.checkTabs=!1):this.closest("lyte-tab-head").classList.add("lyteTabVH"),t.checkTabs=setTimeout(function(){var e=this.closest("lyte-tabs");if(e){for(var o=e.component,i=this.parentElement,a=o.getWidth(i,!1),l=0,n=i.querySelectorAll("lyte-tab-title"),r=-1,s=0;s<n.length;s++)l+=o.getWidth(n[s],!0,!0),n[s].classList.contains(o.getData("ltPropActiveClass"))&&(r=s);-1==r&&o.openTabContent(n[0]),l>a&&"collapse"==o.$node.ltProp("type")&&o.collapseHeader(),this.closest("lyte-tab-head").classList.remove("lyteTabVH")}t.checkTabs=!1}.bind(this),100))},disconnectedCallback:function(){var t=this.closest("lyte-tabs");t&&t.checkTabs&&(clearTimeout(t.checkTabs),t.checkTabs=!1,this.closest("lyte-tab-head").classList.remove("lyteTabVH"))}})),window.addEventListener("resize",function(){window._lyteUiUtils.tabResizeTriggered&&(clearTimeout(window._lyteUiUtils.tabResizeTriggered),window._lyteUiUtils.tabResizeTriggered=!1),window._lyteUiUtils.tabResizeTriggered=setTimeout(function(){for(var t=document.querySelectorAll("lyte-tabs"),e=0;e<t.length;e++)"collapse"==t[e].component.getData("ltPropType")&&t[e].component.collapseHeader(!0),t[e].component.checkHeightOnResize();window._lyteUiUtils.tabResizeTriggered=!1},50)}),Lyte.Component.register("lyte-tooltip",{_template:'<template tag-name="lyte-tooltip">\n   \n</template>',_dynamicNodes:[],_observedAttributes:["ltPropId","ltPropClass","ltPropKeepAlive","eventListeners","tooltips"],init:function(){this._dir=_lyteUiUtils.getRTL(),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},rtlfunc:function(t,e,o){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?o-e.left:"clientX"==t?o-e.clientX:o-e.right;if("left"==t)return"right";if("right"==t)return"left"}return e?e[t]:t},data:function(){return{ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropKeepAlive:Lyte.attr("boolean",{default:!1}),eventListeners:Lyte.attr("object",{default:{}}),tooltips:Lyte.attr("object",{default:{}})}},didConnect:function(){var t=document.body.querySelectorAll("lyte-tooltip");if(this._clickHide=this.clickHide,t.length>1)for(var e=0;e<t.length;e++)t[e].getAttribute("lt-prop-class")||t[e].getAttribute("lt-prop-id")||t[e]==this.$node||t[e].parentElement.removeChild(t[e]);var o=this.mousemove.bind(this);this.setData("eventListeners.mousemove",o),document.addEventListener("mousemove",o,!0),this._mousedown=this.mousedown.bind(this),this._mouseup=this.mouseup.bind(this),this._keydown=this.keydown.bind(this),this._toolscroll=this.tooltipScroll.bind(this),window.addEventListener("scroll",this._toolscroll,!0),document.addEventListener("keydown",this._keydown,!0),document.addEventListener("mousedown",this._mousedown,!0),document.addEventListener("touchstart",this._mousedown),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node),$L.fastdom.measure(function(){var t="rtl"==window.getComputedStyle(this.$node).getPropertyValue("direction");$L.fastdom.mutate(function(){t&&(this.direction=!0)}.bind(this))}.bind(this)),this.$node.trigger=function(t){this.mousemove({target:t||document.body})}.bind(this)},tooltipScroll:function(t){var e=this.data.tooltips;for(var o in e)e[o].classList.add("lyteTooltipHidden")},mousedown:function(t){this._mousedownFlag=!0;var e=t.target.correspondingElement||t.target;"touchstart"==t.type&&t.touches.length>1||(e.classList.contains("lyteSliderHandler")&&(delete this.prevTooltipNode,this._slider=!0),this.closeAllTooltip(),document.addEventListener("mouseup",this._mouseup,!0))},mouseup:function(t){if(delete this._mousedownFlag,document.removeEventListener("mouseup",this._mouseup,!0),this._slider){delete this._slider;var e=t.target.correspondingElement||t.target;e.classList.contains("lyteSliderHandler")&&this.mousemove({target:e})}},keydown:function(t){delete this.prevTooltipNode,this.closeAllTooltip()},tooltipOpenCallback:function(t,e){t.onTooltipShow&&t.onTooltipShow.apply(this,arguments),this.getMethods("onTooltipShow")&&this.executeMethod("onTooltipShow",t,e,t.tooltip)},tooltipCloseCallback:function(t){t.onTooltipHide&&t.onTooltipHide.apply(this,arguments),this.getMethods("onTooltipHide")&&this.executeMethod("onTooltipHide",t)},didDestroy:function(){window.removeEventListener("scroll",this._toolscroll,!0),document.removeEventListener("mousemove",this.getData("eventListeners").mousemove,!0),document.removeEventListener("mousedown",this._mousedown,!0),document.removeEventListener("touchstart",this._mousedown),document.removeEventListener("keydown",this._keydown,!0);var t=this.data.tooltips;for(var e in t)delete t[e].nodeName1.tooltipSpan,delete t[e].nodeName1.tooltip,document.body.removeChild(t[e]);delete this.$node.trigger,delete this._toolscroll,delete this._mousedown,delete this._keydown,this.data.tooltips=[],this.data.eventListeners={},this.data.tooltips={}},propertySetting:function(t){if(e=t.getAttribute("lt-prop-tooltip-config")){var e=JSON.parse(e);for(var o in e)t.tooltip.config[o]=e[o]}},createTooltip:function(t,e,o){o?this.followcursor.call(this,t,e):this.nonFollowcursor.call(this,t,e),this.getData("ltPropKeepAlive")||1!=e.nodeName1.tooltip.config.keeptooltip&&"true"!=e.nodeName1.tooltip.config.keeptooltip&&(e.nodeName1.tooltip.maxdisp=setTimeout(function(){if(document.body.contains(e)){this.prevTooltipNode==e.nodeName1&&delete this.prevTooltipNode;var t=e.nodeName1;delete e.nodeName1.tooltipSpan,delete e.nodeName1.tooltip,document.body.removeChild(e),this.tooltipCloseCallback(t),delete this.data.tooltips[e._random]}}.bind(this),e.nodeName1.tooltip.config.maxdisplaytime))},followcursor:function(t,e){document.body.contains(e)&&(e._callbackHandled||(this.tooltipOpenCallback(e.nodeName1,e),e._callbackHandled=!0),e.classList.contains("lyteTooltipHidden")?(e.classList.remove("lyteTooltipHidden"),$L.fastdom.measure(this._followcursor.bind(this,t,e))):this._followcursor(t,e))},_followcursor:function(t,e){if(this.data.tooltips[e._random]){var o,i=e.getBoundingClientRect(),a=e.nodeName1.getBoundingClientRect(),l=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),n=window.pageYOffset||document.documentElement.scrollTop,r=window.innerWidth,s=window.innerHeight,d=Math.min(20,parseInt(e.nodeName1.tooltip.config.margin)),p=this.rtlfunc.call(this,"clientX",t,r),c=t.clientY+n+5+d;if(p+i.width>r)if(p-i.width>0)p-=i.width;else{var h=r-(this.rtlfunc("left",a,r)+a.width/2),u=r-h;p=h>i.width/2&&u>i.width/2?u-.5*i.width:Math.max(0,r-i.width),o=!0}e.style[this.rtlfunc.call(this,"left")]=p+l+"px",e.style.top=c+"px",o&&$L.fastdom.measure(function(){this.data.tooltips[e._random]&&(i=e.getBoundingClientRect()).bottom>s&&t.clientY>s-t.clientY&&(e.style.top=t.clientY-i.height-d-5+n+"px")}.bind(this))}},createsupp:function(t){var e=document.createElement("span");return e.classList.add("lyteTooltipInnerSpan"),t.classList.add("lyteInnerToolAdded"),t.appendChild(e)},rightalign:function(t,e,o,i,a,l,n,r,s,d,p,c,h){if(t+e<o+i.width)return a.classList.remove(s),l||this.nonFollowcursor(n,a,d,!0),!0;if(o<e){if(h)this.createsupp(a).style[r]=.75*c-p+"px";a.style[r]=0}else a.style[r]=o+"px"},nonFollowcursor:function(t,e,o,i){var a,l="callout"==e.nodeName1.tooltip.config.appearance;e.classList.remove("lyteTooltipHidden"),a=(o=o||e.nodeName1.tooltip.config.position)||"bottom",l&&e.classList.add("lyte"+a[0].toUpperCase()+a.slice(1)),e._callbackHandled||(this.tooltipOpenCallback(e.nodeName1,e),e._callbackHandled=!0),$L.fastdom.measure(function(){if(e.nodeName1.tooltip){var a,n=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),r=window.pageYOffset||document.documentElement.scrollTop,s=window.innerWidth,d=window.innerHeight,p=e.getBoundingClientRect(),c=e.nodeName1.getBoundingClientRect(),h=this.rtlfunc.call(this,"left",c,s)+n,u=c.top+r,y=Math.min(parseInt(e.nodeName1.tooltip.config.margin),20),m=e.offsetWidth,g=c.width,f=c.height,v=this.rtlfunc.call(this,"left"),b=window.getComputedStyle(e),D=/content-box/.test(b.boxSizing),P=D?parseFloat(b.paddingLeft):0,C=D?parseFloat(b.paddingRight):0;D&&parseFloat(b.paddingTop),D&&parseFloat(b.paddingBottom);switch(l?(a=parseFloat(window.getComputedStyle(e,":before").getPropertyValue("width"))/2*1.414,!isNaN(a)&&a||(a=parseFloat(window.getComputedStyle(e,"left"==o?":before":":after").getPropertyValue("border-left-width")))):a=0,o.toLowerCase()){case"right":var L=(h+=a)+g+y;if(e.style.top=u+f/2-p.height/2+"px",s+n<L+p.width){if(!i&&s-(h+g-n-a)<h-a-n){e.classList.remove("lyteRight"),this.nonFollowcursor.call(this,t,e,"left",!0);break}e.style[v]=L+"px",e.style.width=s-L-P-C+"px",$L.fastdom.mutate(function(){$L.fastdom.measure(function(){e.style.top=u+f/2-e.getBoundingClientRect().height/2+"px"})})}else e.style[v]=L+"px";break;case"left":L=(h-=a)-y-m;if(e.style.top=u+f/2-p.height/2+"px",L<n){if(!i&&h+a-n<s-(h+a-n+g)){e.classList.remove("lyteLeft"),this.nonFollowcursor.call(this,t,e,"right",!0);break}e.style[v]="0px",e.style.width=h-n-P-C+"px",$L.fastdom.mutate(function(){$L.fastdom.measure(function(){e.style.top=u+f/2-e.getBoundingClientRect().height/2+"px"})})}else e.style[v]=L+"px";break;case"bottom":L=h+g/2-m/2;if(r+d<(x=(u+=a)+f+y)+p.height&&(e.classList.remove("lyteBottom"),!i)){this.nonFollowcursor.call(this,t,e,"top",!0);break}L=this.horicheck(L,n,s,p,e,c,v,a,l),e.style[v]=L+"px",e.style.top=x+"px";break;case"top":L=h+g/2-m/2;if((x=(u-=a)-y-e.clientHeight)<r&&(e.classList.remove("lyteTop"),!i)){this.nonFollowcursor.call(this,t,e,"bottom",!0);break}L=this.horicheck(L,n,s,p,e,c,v,a,l),e.style[v]=L+"px",$L.fastdom.mutate(function(){$L.fastdom.measure(function(){e.style.top=u-y-e.getBoundingClientRect().height+"px"})});break;case"bottomright":L=h+.75*g-.2*m;var x=(u+=a)+f+y;if(this.rightalign(s,n,L,p,e,i,t,v,"lyteBottomright","bottomleft",a,g,l))break;if(d+r<x+p.height){e.classList.remove("lyteBottomright"),i||this.nonFollowcursor.call(this,t,e,"topright",!0);break}e.style.top=x+"px";break;case"topright":L=h+.75*g-.2*m,x=(u-=a)-e.clientHeight-y;if(this.rightalign(s,n,L,p,e,i,t,v,"lyteTopright","topleft",a,g,l))break;if(x<r){e.classList.remove("lyteTopright"),i||this.nonFollowcursor.call(this,t,e,"bottomright",!0);break}e.style.top=x+"px";break;case"bottomleft":L=h-.8*m+.25*g+"px",x=(u+=a)+f+y+"px";if(parseInt(L)<n){e.classList.remove("lyteBottomleft"),i||this.nonFollowcursor.call(this,t,e,"bottomright",!0);break}if(e.style[v]=L,d+r<parseInt(x)+p.height){e.classList.remove("lyteBottomleft"),i||this.nonFollowcursor.call(this,t,e,"topleft",!0);break}e.style.top=x;break;case"topleft":L=h-.8*m+.25*g+"px",x=(u-=a)-parseInt(e.clientHeight)-y+"px";if(parseInt(L)<n){e.classList.remove("lyteTopleft"),i||this.nonFollowcursor.call(this,t,e,"topright",!0);break}if(e.style[v]=L,parseInt(x)<r){e.classList.remove("lyteTopleft"),i||this.nonFollowcursor.call(this,t,e,"bottomleft",!0);break}e.style.top=x;break;default:var w=a;L=this.rtlfunc.call(this,"clientX",t,s)-m/2;if(d+r<(x=u+w+f+y)+p.height&&(e.classList.remove("lyteBottom"),!i)){this.nonFollowcursor.call(this,t,e,"top",!0);break}L=this.horicheck(L,n,s,p,e,c,v,a,l),e.style[v]=L+"px",e.style.top=x+"px"}e.style[this.rtlfunc("right")]="auto"}}.bind(this))},horicheck:function(t,e,o,i,a,l,n,r,s){var d,p;if(t<e?(t=e,d=!0):o+e<t+i.width&&(t=o-i.width+e,p=!0),(d||p)&&s){var c=this.createsupp(a);this.rtlfunc("left",l,o);if(d){var h=this.rtlfunc("left",l,o);c.style[n]=(l.width+Math.min(h,0))/2+Math.max(0,h)+"px"}else{var u=o-this.rtlfunc("right",l,o);c.style[n]=i.width-(Math.max(0,u)+(l.width+Math.min(u,0))/2)+"px"}}return t},closeAllTooltip:function(t){for(var e=document.body.children,o=0;o<e.length;o++)e[o].classList.contains("lyteTooltip")&&e[o].nodeName1!=t&&(e[o].nodeName1.tooltip.bodyTimeout=setTimeout(this.removeTooltip.bind(this),e[o].nodeName1.tooltip.config.hidedelay,e[o],event))},removeTooltip:function(t,e){if(document.body.contains(t)){clearTimeout(t.nodeName1.tooltip.disptime),clearTimeout(t.nodeName1.tooltip.maxdisp),clearTimeout(t.nodeName1.tooltip.settime),clearTimeout(t.nodeName1.tooltip.maxdisp),this.prevTooltipNode==t.nodeName1&&delete this.prevTooltipNode;var o=t.nodeName1;delete t.nodeName1.tooltipSpan,delete t.nodeName1.tooltip,document.body.removeChild(t),this.tooltipCloseCallback(o),delete this.data.tooltips[t._random]}},mousemove:function(t){if(!this._mousedownFlag){for(var e=t.target.correspondingElement||t.target;e&&"BODY"!=e.tagName&&e!=document&&"HTML"!=e.tagName;){if(e.getAttribute&&e.getAttribute("lt-prop-title")){if(e.getAttribute("title")&&e.removeAttribute("title"),e.hasOwnProperty("tooltip")||(e.tooltip={}),e.tooltip.config={position:"",appearance:"callout",margin:0,showdelay:0,hidedelay:0,maxdisplaytime:5e3,keeptooltip:!1,aria:!1},e.tooltip.title=e.getAttribute("lt-prop-title"),this.propertySetting.call(this,e),this.prevTooltipNode==e||e.tooltip.tooltipSpan)if("followcursor"==e.tooltip.config.position&&this.prevTooltipNode==e&&e.tooltip.tooltipSpan){o=e.tooltip.tooltipSpan;clearTimeout(o.nodeName1.tooltip.maxdisp),clearTimeout(o.nodeName1.tooltip.settime),o._callbackHandled?this.followcursor.call(this,t,o):o.nodeName1.tooltip.settime=setTimeout(this.createTooltip.bind(this),o.nodeName1.tooltip.config.showdelay,t,o,!0)}else e.tooltip.tooltipSpan&&"none"==e.tooltip.tooltipSpan.style.display?(e.tooltip.tooltipSpan.style.display="",clearTimeout(e.tooltip.maxdisp),clearTimeout(e.tooltip.settime),clearTimeout(e.tooltip.bodyTimeout),e.tooltip.settime=setTimeout(this.createTooltip.bind(this),e.tooltip.config.showdelay,t,e.tooltip.tooltipSpan,"followcursor"==e.tooltip.config.position)):this.prevTooltipNode=e;else{this.prevTooltipNode=e;var o=document.createElement("span"),i=e.getAttribute("lt-prop-tooltip-class"),a=this.getData("ltPropId"),l=this.getData("ltPropClass"),n=Date.now()+"lytetooltip";if(this.data.tooltips[n]=o,o._random=n,a&&o.setAttribute("id",a),l&&o.classList.add(l),o.classList.add("lyteTooltip"),this.direction&&o.classList.add("lyteRTL"),o.classList.add("lyteTooltipHidden"),e.getAttribute("lt-prop-tooltip-style")&&(o.setAttribute("style",e.getAttribute("lt-prop-tooltip-style")),o.style.borderColor||(o.style.borderColor=o.style.backgroundColor)),"callout"==e.tooltip.config.appearance&&"followcursor"!=e.tooltip.config.position&&o.classList.add("lyteTooltipCallout"),e.tooltip.tooltipSpan=o,o.nodeName1=e,i)for(var r=i.split(" "),s=0;s<r.length;s++)o.classList.add(r[s]);e.tooltip.aria&&o.setAttribute("role","tooltip"),e.tooltip.settime=setTimeout(this.createTooltip.bind(this),o.nodeName1.tooltip.config.showdelay,t,o,"followcursor"==o.nodeName1.tooltip.config.position),o.textContent=o.nodeName1.tooltip.title,document.body.appendChild(o)}this.closeAllTooltip.call(this,e);break}e=e.parentNode}e&&-1!=["BODY","HTML"].indexOf(e.tagName)&&this.prevTooltipNode!=e&&(delete this.prevTooltipNode,this.closeAllTooltip.call(this))}}}),"complete"==document.readyState||"interactive"==document.readyState?document.body.querySelectorAll("lyte-tooltip").length||document.body.appendChild(document.createElement("lyte-tooltip")):document.addEventListener("DOMContentLoaded",function(t){document.body.querySelectorAll("lyte-tooltip").length||document.body.appendChild(document.createElement("lyte-tooltip"))}),Lyte.Component.register("lyte-tree",{_template:'<template tag-name="lyte-tree">\n  <template is="for" items="{{ltPropData}}" item="item" index="index">\n    <div class="lyteTreeBodyDiv">\n      <lyte-tree-body data-value="{{lyteUiTreeHelp(tempVar, index)}}" data-index="{{lyteUiTreeIndexHelp(indexVar, index)}}" class="{{lyteUiTreeClassHelp(item.defaultState,item.collapsed\n        ,ltPropWrapperOpenClass,ltPropWrapperCloseClass)}}">\n        <div class="mainContainer">\n        <lyte-yield collapsed="{{if(item.collapsed, \'collapsed\', \'\')}}" yield-name="content" list-value="{{item}}" list-index="{{lyteUiTreeHelp(tempVar, index)}}" class="{{lyteUiTreeChildHelp(item , ltPropLeafNodeClass , item.children)}}"></lyte-yield>\n          <template is="if" value="{{expHandlers(expHandlers(expHandlers(item.children.length,\'!==\',0),\'&amp;&amp;\',expHandlers(item.children,\'!==\',undefined)),\'&amp;&amp;\',expHandlers(item.collapsed,\'!\'))}}"><template case="true">\n            <template is="if" value="{{expHandlers(expHandlers(item.defaultState,\'!\'),\'||\',expHandlers(item.defaultState,\'===\',&quot;open&quot;))}}"><template case="true">\n              <lyte-tree class="lyteTreeOpened" temp-var="{{lyteUiTreeHelp(tempVar, index)}}" index-var="{{lyteUiTreeIndexHelp(indexVar, index)}}" lt-prop-data="{{item.children}}" id="{{ltPropId}}" lt-prop-tree-lines="{{ltPropTreeLines}}" lt-prop-yield="{{ltPropYield}}" lt-prop-open-class="{{ltPropOpenClass}}" lt-prop-wrapper-open-class="{{ltPropWrapperOpenClass}}" lt-prop-leaf-node-class="{{ltPropLeafNodeClass}}" lt-prop-close-class="{{ltPropCloseClass}}" lt-prop-wrapper-close-class="{{ltPropWrapperCloseClass}}" on-toggle="{{method(\'onToggle\')}}" on-toggle-end="{{method(\'onToggleEnd\')}}">\n                <template is="registerYield" yield-name="content" from-parent="">\n                 </template>\n              </lyte-tree>\n            </template><template case="false"><template is="if" value="{{expHandlers(item.defaultState,\'===\',&quot;close&quot;)}}"><template case="true">\n              <lyte-tree class="lyteTreeClosed" temp-var="{{lyteUiTreeHelp(tempVar, index)}}" index-var="{{lyteUiTreeIndexHelp(indexVar, index)}}" lt-prop-data="{{item.children}}" id="{{ltPropId}}" lt-prop-tree-lines="{{ltPropTreeLines}}" lt-prop-yield="{{ltPropYield}}" lt-prop-open-class="{{ltPropOpenClass}}" lt-prop-wrapper-open-class="{{ltPropWrapperOpenClass}}" lt-prop-leaf-node-class="{{ltPropLeafNodeClass}}" lt-prop-close-class="{{ltPropCloseClass}}" lt-prop-wrapper-close-class="{{ltPropWrapperCloseClass}}" on-toggle="{{method(\'onToggle\')}}" on-toggle-end="{{method(\'onToggleEnd\')}}">\n                <template is="registerYield" yield-name="content" from-parent="">\n                 </template>\n              </lyte-tree>\n            </template></template></template></template>\n         </template></template>\n        </div>\n      </lyte-tree-body>\n  </div>\n  </template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1,1]},{type:"insertYield",position:[1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"if",position:[1,1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1,1]}]}],_observedAttributes:["ltPropData","ltPropWrapperOpenClass","ltPropWrapperCloseClass","ltPropOpenClass","ltPropCloseClass","ltPropLeafNodeClass","treeHeight","ltPropStateAttr","heightTransArr","tempVar","indexVar"],data:function(){return{ltPropData:Lyte.attr("array",{default:[]}),ltPropWrapperOpenClass:Lyte.attr("string",{default:""}),ltPropWrapperCloseClass:Lyte.attr("string",{default:""}),ltPropOpenClass:Lyte.attr("string",{default:""}),ltPropCloseClass:Lyte.attr("string",{default:""}),ltPropLeafNodeClass:Lyte.attr("string",{default:"lyteTreeHasNoChild"}),treeHeight:Lyte.attr("number",{default:0}),ltPropStateAttr:Lyte.attr("string",{default:""}),heightTransArr:Lyte.attr("array",{default:[]}),tempVar:Lyte.attr("string",{default:""}),indexVar:Lyte.attr("string",{default:""})}},openrecursive:function(t){if(t.length){var e=t[0];if(t.shift(),!e||e.classList.contains("lyteTreeOpened"))return void this.openrecursive(t);var o=e.parentElement.querySelector("lyte-tree-icon");clearTimeout(e._treetime),e.classList.remove("lyteTreeClosed"),e.classList.add("lyteTreeOpened"),o.classList.remove("lyteIconClosed"),o.classList.add("lyteIconOpened"),e.style.display="",e.style.height="auto",this.data.ltPropCloseClass&&o.classList.remove(this.data.ltPropCloseClass),this.data.ltPropOpenClass&&o.classList.add(this.data.ltPropOpenClass),e._treetime=setTimeout(this.heightcalc.bind(this,e,t),0)}},heightcalc:function(t,e){if(document.body.contains(t)){var o=t.getBoundingClientRect().height;t.style.height=0,0==o?this.transEnd(t,e):setTimeout(this.heightset.bind(this,t,e,o),20)}else this.openrecursive(e)},heightset:function(t,e,o){document.body.contains(t)?(t.style.height=o+"px",t._trn=this.transEnd.bind(this,t,e),t.addEventListener("transitionend",t._trn)):this.openrecursive(e)},transEnd:function(t,e){t.style.height="auto",t.removeEventListener("transitionend",t._trn),delete t._trn,this.openrecursive(e)},stateChange:function(t){if(t.newValue){for(var e=t.newValue,o=[],i=1;i<=e.length;i++)o.push(this.$node.querySelector("lyte-tree[temp-var='"+e.slice(0,i)+"']"));this.openrecursive(o),this.setData("ltPropStateAttr","")}}.observes("ltPropStateAttr"),didConnect:function(){},methods:{onToggle:function(){},onToggleEnd:function(){}}}),_lyteUiUtils.registeredCustomElements["lyte-tree-icon"]||(_lyteUiUtils.registeredCustomElements["lyte-tree-icon"]=!0,Lyte.createCustomElement("lyte-tree-icon",{connectedCallback:function(){var t=this.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;t.classList.contains("lyteTreeClosed")&&(t.style.display="none"),this.hasAttribute("lyte-custom-icon")||(this.innerHTML='<i class="arrow up"></i>')},constructor:function(){for(var t,e=this.parentElement;"LYTE-TREE"!==e.nodeName;)e=e.parentElement;"LYTE-TREE"===e.nodeName&&(e=e.component);var o=this,i=o,a=e.$node.previousElementSibling;void 0!=a&&"content"===a.getAttribute("yield-name")&&(i=a.querySelector("lyte-tree-icon")),e.$node.classList.contains("lyteTreeOpened")?(i.className=e.getData("ltPropOpenClass"),i.classList.add("lyteIconOpened")):(i.className=e.getData("ltPropCloseClass"),i.classList.add("lyteIconClosed"));$L(this).closest("lyte-tree").get(0).component.data.ltPropData,$L(this).closest("lyte-tree-body").get(0).getAttribute("data-value").split("");0===this.classList.length&&(this.className=e.getData("ltPropCloseClass"),this.classList.add("lyteIconClosed")),this.addEventListener("click",function(a){var l,n;if(a.preventDefault(),l=n=this)for(;"LYTE-TREE-BODY"!==l.nodeName;)l=l.parentElement;if("LYTE-TREE-BODY"===l.nodeName){var r=l.querySelector("lyte-tree");if(r&&!r.classList.contains("treeTransRunning")){var s=r.component;function d(){r.classList.remove("lyteTreeOpened"),l.className=e.getData("ltPropWrapperCloseClass"),r.classList.add("lyteTreeClosed"),this.style.height="auto",n.style.pointerEvents="auto",r.style.display="none",o.className=e.getData("ltPropCloseClass"),i.classList.add("lyteIconClosed"),r.classList.remove("treeTransRunning"),this.removeEventListener("transitionend",d)}function p(){l.className=e.getData("ltPropWrapperOpenClass"),this.style.height=s.getData("treeHeight")+"px",this.style.height="auto",n.style.pointerEvents="auto",o.className=e.getData("ltPropOpenClass"),console.log("check"),o.classList.add("lyteIconOpened"),r.classList.remove("treeTransRunning"),this.removeEventListener("transitionend",p)}if(r.classList.contains("lyteTreeOpened")){var c=r.getBoundingClientRect().height;r.style.height=c+"px",setTimeout(function(){r.getBoundingClientRect().height;r.style.height="0px",r.classList.add("treeTransRunning"),r.addEventListener("transitionend",d)},10)}else r.classList.remove("lyteTreeClosed"),r.classList.add("lyteTreeOpened"),r.style.display="",r.style.height="auto",s.setData("treeHeight",r.getBoundingClientRect().height),r.style.height="0px",setTimeout(function(){r.style.height=s.getData("treeHeight")+"px",r.classList.add("treeTransRunning"),r.addEventListener("transitionend",p)},30)}}var h=l.parentElement.parentElement;function u(){var t=h.component.getData("ltPropData"),e=l.getAttribute("data-index").split(" ");if(e.length<2){void 0!==(o=t[i=e[0]])&&Lyte.objectUtils(o,"add","collapsed",!1)}else{for(var o=t,i=1;i<e.length;i++)o=t[e[i]];Lyte.objectUtils(o,"add","collapsed",!1)}}h&&h.component.getMethods("onToggle")&&(t=h.component.executeMethod("onToggle",l,a,h)),void 0!==t?t&&t.then?t.then(function(t){u()},function(){}):t&&u():u(),h&&h.component.getMethods("onToggleEnd")&&(t=h.component.executeMethod("onToggleEnd",l,a,h))}.bind(this))},static:{observedAttributes:{}}})),Lyte.Component.register("lyte-text",{_template:"<template tag-name=\"lyte-text\" lt-prop-title=\"{{if(expHandlers(tooltip, '&amp;&amp;', ltPropShow), ltPropValue, '' )}}\" onmouseenter=\"{{action('mouse')}}\">{{ltPropValue}}</template>",_dynamicNodes:[{type:"text",position:[0]}],_templateAttributes:{type:"attr",position:[]},_observedAttributes:["ltPropValue","ltPropShow","tooltip"],data:function(){return{ltPropValue:Lyte.attr("string",{default:""}),ltPropShow:Lyte.attr("boolean",{default:!0}),tooltip:Lyte.attr("boolean",{default:!1})}},reset:function(){var t=this.$node.scrollWidth,e=this.$node.offsetWidth;this.setData("tooltip",t>e)},actions:{mouse:function(){this.reset()}}}),Lyte.Component.register("lyte-wormhole",{_template:'<template tag-name="lyte-wormhole">\n\t<lyte-yield yield-name="lyte-content"></lyte-yield>\t\n</template>',_dynamicNodes:[{type:"insertYield",position:[1]}],_observedAttributes:["ltPropQuery"],data:function(){return{ltPropQuery:Lyte.attr("string")}},didConnectFunc:function(){var t=this.data.ltPropQuery?document.querySelector(this.data.ltPropQuery):document.body;t?this.getMethods("onBeforeAppend")&&0==this.executeMethod("onBeforeAppend",this.$node,t)||(_lyteUiUtils.appendChild(t,this.$node),this.appended=!0,this.getMethods("onAppend")&&this.executeMethod("onAppend",this.$node,t)):console.error("Provide valid outlet to append")}.observes("ltPropQuery").on("didConnect")}),Lyte.Component.register("lyte-rating",{_template:'<template tag-name="lyte-rating" class="{{lyteUiAddClassRating(ltPropWrapperClass,ltPropReadOnly)}}">\n\t<template is="if" value="{{ltPropYield}}"><template case="true">\n\t\t<lyte-yield yield-name="rateIcon"></lyte-yield>\n\t</template><template case="false"><template is="if" value="{{expHandlers(ifNotEquals(ltPropAppearance,\'smiley\'),\'&amp;&amp;\',lyteUiIfEqualsAny(ltPropType,\'switch\',\'multiple\'))}}"><template case="true">\n\t\t<template is="for" items="{{countArray}}" item="item" index="index">\n\t\t<lyte-rate-icon class="{{lyteUiGetArrayValueByIndex(emptyIconArray,index)}}" data-lrc="{{item}}"></lyte-rate-icon>\n\t\t</template>\n\t</template><template case="false">\n\t\t<template is="for" items="{{countArray}}" item="item" index="index">\n\t\t<lyte-rate-icon class="{{ltPropEmptyIcon}}" data-lrc="{{item}}"></lyte-rate-icon>\n\t\t</template>\n\t</template></template></template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}]}},default:{}}]}},default:{}}],_templateAttributes:{type:"attr",position:[]},_observedAttributes:["ltPropValue","ltPropCount","ltPropWrapperClass","ltPropType","ltPropAppearance","ltPropReadOnly","ltPropClearable","ltPropHalfIncrement","ltPropEmptyIcon","ltPropFullIcon","ltPropHalfIcon","ltPropHoverFullIcon","ltPropHoverHalfIcon","ltPropYield","countArray","currentHover","emptyIconArray","fullIconArray","halfIconArray","hoverFullIconArray","hoverHalfIconArray"],data:function(){return{ltPropValue:Lyte.attr("number",{default:0}),ltPropCount:Lyte.attr("number",{default:5}),ltPropWrapperClass:Lyte.attr("string"),ltPropType:Lyte.attr("string",{default:"default"}),ltPropAppearance:Lyte.attr("string"),ltPropReadOnly:Lyte.attr("boolean",{default:!1}),ltPropClearable:Lyte.attr("boolean",{default:!1}),ltPropHalfIncrement:Lyte.attr("boolean",{default:!1}),ltPropEmptyIcon:Lyte.attr("string",{default:"lyteDummyRC"}),ltPropFullIcon:Lyte.attr("string",{default:"lyteDummyRC"}),ltPropHalfIcon:Lyte.attr("string",{default:"lyteDummyRC"}),ltPropHoverFullIcon:Lyte.attr("string",{default:"lyteDummyRC"}),ltPropHoverHalfIcon:Lyte.attr("string",{default:"lyteDummyRC"}),ltPropYield:Lyte.attr("boolean",{default:!1}),countArray:Lyte.attr("array",{default:[]}),currentHover:Lyte.attr("number",{default:0}),emptyIconArray:Lyte.attr("array",{default:[]}),fullIconArray:Lyte.attr("array",{default:[]}),halfIconArray:Lyte.attr("array",{default:[]}),hoverFullIconArray:Lyte.attr("array",{default:[]}),hoverHalfIconArray:Lyte.attr("array",{default:[]})}},initFn:function(){if(this.$node.classList.remove("heart","lineHeart","star","lineStar","custom","lyteRatingSmiley","three","five"),"multiple"==this.getData("ltPropType"))if("custom"==this.getData("ltPropAppearance")){var t=this.getData("ltPropEmptyIcon").split(","),e=this.getData("ltPropFullIcon").split(","),o=this.getData("ltPropHoverFullIcon").split(",");if(this.getData("ltPropHalfIncrement")){var i=this.getData("ltPropHalfIcon").split(","),a=this.getData("ltPropHoverHalfIcon").split(",");this.setData("halfIconArray",i),this.setData("hoverHalfIconArray",a)}this.setData("emptyIconArray",t),this.setData("fullIconArray",e),this.setData("hoverFullIconArray",o)}else this.setData("ltPropAppearance","smiley"),this.$node.classList.add("lyteRatingSmiley"),3==this.getData("ltPropCount")?this.$node.classList.add("three"):(this.setData("ltPropCount",5),this.$node.classList.add("five")),this.setData("ltPropEmptyIcon","lyteRatingEmpty"),this.setData("ltPropFullIcon","lyteRatingFilled"),this.setData("ltPropHoverFullIcon","lyteRatingHover"),this.setData("ltPropHalfIncrement",!1);else if("switch"==this.getData("ltPropType")){if("custom"==this.getData("ltPropAppearance")){t=this.getData("ltPropEmptyIcon").split(","),e=this.getData("ltPropFullIcon").split(","),o=this.getData("ltPropHoverFullIcon").split(",");this.setData("emptyIconArray",t),this.setData("fullIconArray",e),this.setData("hoverFullIconArray",o)}else{this.setData("ltPropAppearance","likeDislike"),this.setData("ltPropEmptyIcon","lrcSwitchLikeEmpty,lrcSwitchDislikeEmpty"),this.setData("ltPropFullIcon","lrcSwitchLike,lrcSwitchDislike"),this.setData("ltPropHoverFullIcon","lrcSwitchHoverLike,lrcSwitchHoverDislike");t=this.getData("ltPropEmptyIcon").split(","),e=this.getData("ltPropFullIcon").split(","),o=this.getData("ltPropHoverFullIcon").split(",");this.setData("emptyIconArray",t),this.setData("fullIconArray",e),this.setData("hoverFullIconArray",o)}this.setData("ltPropCount",2),this.setData("ltPropHalfIncrement",!1),this.setData("ltPropClearable",!0)}else"toggle"==this.getData("ltPropType")?("custom"!=this.getData("ltPropAppearance")&&(this.setData("ltPropAppearance","heart"),this.setData("ltPropEmptyIcon","lrcToggleEmpty"),this.setData("ltPropFullIcon","lrcToggleFill"),this.setData("ltPropHoverFullIcon","lrcToggleHover2")),this.setData("ltPropCount",1),this.setData("ltPropHalfIncrement",!1),this.setData("ltPropClearable",!0)):"heart"==this.getData("ltPropAppearance")?(this.$node.classList.add("heart"),this.setData("ltPropEmptyIcon","lyteRatingEmpty"),this.setData("ltPropFullIcon","lyteRatingFilled"),this.setData("ltPropHoverFullIcon","lyteRatingHoverFilled"),this.getData("ltPropHalfIncrement")&&(this.setData("ltPropHalfIcon","lyteRatingHalf"),this.setData("ltPropHoverHalfIcon","lyteRatingHoverHalf"))):"lineHeart"==this.getData("ltPropAppearance")?(this.$node.classList.add("lineHeart"),this.setData("ltPropEmptyIcon","lyteRatingEmpty"),this.setData("ltPropFullIcon","lyteRatingFilled"),this.setData("ltPropHoverFullIcon","lyteRatingHoverFilled"),this.getData("ltPropHalfIncrement")&&(this.setData("ltPropHalfIcon","lyteRatingHalf"),this.setData("ltPropHoverHalfIcon","lyteRatingHoverHalf"))):"lineStar"==this.getData("ltPropAppearance")?(this.$node.classList.add("lineStar"),this.setData("ltPropEmptyIcon","lyteRatingEmpty"),this.setData("ltPropFullIcon","lyteRatingFilled"),this.setData("ltPropHoverFullIcon","lyteRatingHoverFilled"),this.getData("ltPropHalfIncrement")&&(this.setData("ltPropHalfIcon","lyteRatingHalf"),this.setData("ltPropHoverHalfIcon","lyteRatingHoverHalf"))):"custom"!=this.getData("ltPropAppearance")&&(this.setData("ltPropAppearance","star"),this.$node.classList.add("star"),this.setData("ltPropEmptyIcon","lyteRatingEmpty"),this.setData("ltPropFullIcon","lyteRatingFilled"),this.setData("ltPropHoverFullIcon","lyteRatingHoverFilled"),this.getData("ltPropHalfIncrement")&&(this.setData("ltPropHalfIcon","lyteRatingHalf"),this.setData("ltPropHoverHalfIcon","lyteRatingHoverHalf")));if(this.getData("ltPropCount")!=this.getData("countArray").length){for(var l=[],n=1;n<=this.getData("ltPropCount");n++)l.push(n);this.setData("countArray",l)}}.observes("ltPropType","ltPropCount","ltPropHalfIncrement").on("init"),appearanceChanged:function(){var t=this.getData("ltPropType");this.setData("ltPropType",""),this.setData("ltPropType",t)}.observes("ltPropAppearance"),didConnectFn:function(){this.setRating(),this.rendered||(this.getMethods("onRender")&&this.executeMethod("onRender",this),this.getData("ltPropValue")>0&&(this.rated=!0),this.rendered=!0)}.observes("ltPropValue").on("didConnect"),setRating:function(){this.clearHoverClasses();var t=this.getData("ltPropValue"),e=this.$node.querySelectorAll(".lyteRated"),o=this.$node.querySelectorAll("lyte-rate-icon");if("switch"==this.getData("ltPropType")){if(e.length){var i=parseInt(e[0].getAttribute("data-lrc"));e[0].classList.remove(this.getClass(i-1,"fi"),"lyteRated")}t>0&&o[t-1].classList.add(this.getClass(t-1,"fi"),"lyteRated")}else if("multiple"===this.getData("ltPropType")&&"smiley"!=this.getData("ltPropAppearance")){if(t%1!=0){for(var a=0;a<Math.floor(t);a++)o[a].classList.add(this.getClass(a,"fi"),"lyteRated");for(a=Math.floor(t);a<o.length;a++)o[a].classList.remove(this.getClass(a,"fi"),this.getClass(a,"hi"),"lyteRated");o[Math.ceil(t)-1].classList.add(this.getClass(Math.ceil(t)-1,"hi"),"lyteRated")}else if(e.length>0&&this.getData("halfIconArray").length&&e[e.length-1].classList.contains(this.getClass(e.length-1,"hi"))&&(e[e.length-1].classList.remove(this.getClass(e.length-1,"hi")),e[e.length-1].classList.add(this.getClass(e.length-1,"fi"))),t<e.length)for(a=t;a<e.length;a++)e[a].classList.remove(this.getClass(a,"fi"),"lyteRated"),this.getData("halfIconArray").length&&e[a].classList.remove(this.getClass(a,"hi"));else if(t>e.length)for(a=e.length;a<t&&a<o.length;a++)o[a].classList.add(this.getClass(a,"fi"),"lyteRated")}else if(t%1!=0){for(a=0;a<Math.floor(t);a++)o[a].classList.add(this.getData("ltPropFullIcon"),"lyteRated");for(a=Math.floor(t);a<o.length;a++)o[a].classList.remove(this.getData("ltPropFullIcon"),this.getData("ltPropHalfIcon"),"lyteRated");o[Math.ceil(t)-1].classList.add(this.getData("ltPropHalfIcon"),"lyteRated")}else if(e.length>0&&this.getData("ltPropHalfIcon")&&e[e.length-1].classList.contains(this.getData("ltPropHalfIcon"))&&(e[e.length-1].classList.remove(this.getData("ltPropHalfIcon")),e[e.length-1].classList.add(this.getData("ltPropFullIcon"))),t<e.length)for(a=t;a<e.length;a++)e[a].classList.remove(this.getData("ltPropFullIcon"),"lyteRated"),this.getData("ltPropHalfIcon")&&e[a].classList.remove(this.getData("ltPropHalfIcon"));else if(t>e.length)for(a=e.length;a<t&&a<o.length;a++)o[a].classList.add(this.getData("ltPropFullIcon"),"lyteRated");this.getMethods("onClick")&&this.executeMethod("onClick",this.getData("ltPropValue"),this)},getClass:function(t,e){return"fi"==e?Lyte.Component.registeredHelpers.lyteUiGetArrayValueByIndex(this.getData("fullIconArray"),t):"hi"==e?Lyte.Component.registeredHelpers.lyteUiGetArrayValueByIndex(this.getData("halfIconArray"),t):"hfi"==e?Lyte.Component.registeredHelpers.lyteUiGetArrayValueByIndex(this.getData("hoverFullIconArray"),t):"hhi"==e?Lyte.Component.registeredHelpers.lyteUiGetArrayValueByIndex(this.getData("hoverHalfIconArray"),t):void 0},clearHoverClasses:function(){for(var t=this.$node.querySelectorAll(".lyteRatingHover"),e=0;e<t.length;e++)"switch"==this.getData("ltPropType")?t[e].classList.remove(this.getClass(parseInt(t[e].getAttribute("data-lrc"))-1,"hfi"),"lyteRatingHover"):"multiple"==this.getData("ltPropType")&&"smiley"!=this.getData("ltPropAppearance")?(t[e].classList.remove(this.getClass(parseInt(t[e].getAttribute("data-lrc"))-1,"hfi"),"lyteRatingHover"),this.getData("hoverHalfIconArray").length&&t[e].classList.remove(this.getClass(parseInt(t[e].getAttribute("data-lrc"))-1,"hhi"),"lyteRatingHover")):t[e].classList.remove(this.getData("ltPropHoverFullIcon"),this.getData("ltPropHoverHalfIcon"),"lyteRatingHover")},getCurrentValue:function(t,e){var o=parseInt(e.getAttribute("data-lrc"));if(this.getData("ltPropHalfIncrement")){var i=e.getBoundingClientRect();t.clientX<=i.left+i.width/2&&(o=o-1+.5)}return o},onClick:function(t){if(this.getData("ltPropClearable"))if(this.rated&&this.getData("currentHover")==this.getData("ltPropValue"))this.setData("ltPropValue",0),this.rated=!1,this.setData("currentHover",0);else{var e=this.getCurrentValue(t,t.target.closest("lyte-rate-icon"));e!=this.getData("currentHover")&&this.setData("currentHover",e),this.setData("ltPropValue",this.getData("currentHover")),this.rated=!0}else this.setData("ltPropValue",this.getData("currentHover"))},onOver:function(t){var e=t.target,o=parseInt(e.getAttribute("data-lrc")),i=this.getData("currentHover"),a=this.$node.querySelectorAll("lyte-rate-icon"),l=i;if("switch"==this.getData("ltPropType"))a[o-1].classList.add(Lyte.Component.registeredHelpers.lyteUiGetArrayValueByIndex(this.getData("hoverFullIconArray"),o-1),"lyteRatingHover"),this.setData("currentHover",o);else if("multiple"==this.getData("ltPropType")&&"smiley"!=this.getData("ltPropAppearance"))if(this.getData("ltPropHalfIncrement")){i=Math.round(i);var n=e.getBoundingClientRect();if(o-1<i)for(var r=o-1;r<i;r++)a[r].classList.remove(this.getClass(r,"hfi"),this.getClass(r,"hhi"),"lyteRatingHover");else if(o-1>i)for(r=i;r<o-1;r++)a[r].classList.add(this.getClass(r,"hfi"),"lyteRatingHover");e.classList.remove(this.getClass(o,"hfi"),this.getClass(o,"hhi"),"lyteRatingHover"),t.clientX>n.left+n.width/2?(e.classList.add(this.getClass(o,"hfi"),"lyteRatingHover"),this.setData("currentHover",o)):(e.classList.add(this.getClass(o,"hhi"),"lyteRatingHover"),this.setData("currentHover",o-1+.5))}else{if(o>i)for(r=i;r<o;r++)a[r].classList.add(this.getClass(r,"hfi"),"lyteRatingHover");else if(o<i)for(r=o;r<i;r++)a[r].classList.remove(this.getClass(r,"hfi"),"lyteRatingHover");this.setData("currentHover",o)}else if(this.getData("ltPropHalfIncrement")){i=Math.round(i);n=e.getBoundingClientRect();if(o-1<i)for(r=o-1;r<i;r++)a[r].classList.remove(this.getData("ltPropHoverFullIcon"),this.getData("ltPropHoverHalfIcon"),"lyteRatingHover");else if(o-1>i)for(r=i;r<o-1;r++)a[r].classList.add(this.getData("ltPropHoverFullIcon"),"lyteRatingHover");e.classList.remove(this.getData("ltPropHoverFullIcon"),this.getData("ltPropHoverHalfIcon"),"lyteRatingHover"),t.clientX>n.left+n.width/2?(e.classList.add(this.getData("ltPropHoverFullIcon"),"lyteRatingHover"),this.setData("currentHover",o)):(e.classList.add(this.getData("ltPropHoverHalfIcon"),"lyteRatingHover"),this.setData("currentHover",o-1+.5))}else{if(o>i)for(r=i;r<o;r++)a[r].classList.add(this.getData("ltPropHoverFullIcon"),"lyteRatingHover");else if(o<i)for(r=o;r<i;r++)a[r].classList.remove(this.getData("ltPropHoverFullIcon"),"lyteRatingHover");this.setData("currentHover",o)}l!=this.getData("currentHover")&&this.getMethods("onHover")&&this.executeMethod("onHover",this.getData("currentHover"),this)},onOut:function(t){var e=t.target;if("switch"==this.getData("ltPropType"))e.classList.remove(Lyte.Component.registeredHelpers.lyteUiGetArrayValueByIndex(this.getData("hoverFullIconArray"),parseInt(e.getAttribute("data-lrc"))-1),"lyteRatingHover"),this.setData("currentHover",0);else{var o=this.$node.querySelectorAll("lyte-rate-icon"),i=o[0].getBoundingClientRect().left,a=o[o.length-1].getBoundingClientRect().right,l=e.getBoundingClientRect();if(t.clientX<=i||t.clientX>=a||t.clientY<=l.top||t.clientY>=l.bottom){for(var n=this.$node.querySelectorAll(".lyteRatingHover"),r=0;r<n.length;r++)"multiple"==this.getData("ltPropType")&&"smiley"!=this.getData("ltPropAppearance")?(n[r].classList.remove(this.getClass(r,"hfi"),"lyteRatingHover"),this.getData("halfIconArray").length&&n[r].classList.remove(this.getClass(r,"hhi"))):(n[r].classList.remove(this.getData("ltPropHoverFullIcon"),"lyteRatingHover"),this.getData("ltPropHoverHalfIcon")&&n[r].classList.remove(this.getData("ltPropHoverHalfIcon")));this.setData("currentHover",0)}}this.getMethods("onOut")&&this.executeMethod("onOut",parseInt(e.getAttribute("data-lrc")),this)}}),_lyteUiUtils.registeredCustomElements["lyte-rate-icon"]||(_lyteUiUtils.registeredCustomElements["lyte-rate-icon"]=!0,Lyte.createCustomElement("lyte-rate-icon",{static:{},connectedCallback:function(){var t=this.closest("lyte-rating").component;this.addEventListener("click",t.onClick.bind(t)),this.addEventListener("mousemove",t.onOver.bind(t)),this.addEventListener("mouseout",t.onOut.bind(t)),t.getData("ltPropYield")&&(t.timeoutId&&(clearTimeout(t.timeoutId),t.timeoutId=!1),t.timeoutId=setTimeout(function(){for(var t=this.closest("lyte-rating").querySelectorAll("lyte-rate-icon"),e=0;e<t.length;e++)t[e].setAttribute("data-lrc",e+1)}.bind(this),100))},disconnectedCallback:function(){}})),!_LyteBanner_)var _LyteBanner_={};Lyte.Component.register("lyte-banner",{_template:'<template tag-name="lyte-banner">\n    <template is="if" value="{{ltPropFloating}}"><template case="true">\n        <lyte-modal id="_lyteBannerModal" lt-prop-height="{{ltPropHeight}}" lt-prop-width="{{ltPropWidth}}" lt-prop-show="{{ltPropShow}}" lt-prop-freeze="false" lt-prop-allow-multiple="true" lt-prop-close-on-escape="false" lt-prop="{{stringify(ltPropModal)}}" lt-prop-overlay-close="false" lt-prop-wrapper-class="lyteBannerModal {{if(ltPropModal.wrapperClass,ltPropModal.wrapperClass)}}" on-show="{{method(&quot;modalOnShow&quot;)}}" lt-prop-show-close-button="{{ltPropShowCloseButton}}" on-before-show="{{method(&quot;modalOnBeforeShow&quot;)}}" on-close="{{method(&quot;modalOnClose&quot;)}}" on-before-close="{{method(&quot;modalOnBeforeClose&quot;)}}">\n            <template is="registerYield" yield-name="modal"> \n                <lyte-modal-content class="{{ltPropClass}}">\n                    <lyte-yield yield-name="yield"></lyte-yield>\n                </lyte-modal-content>\n            </template>\n        </lyte-modal>\n        </template><template case="false">\n            <div class="lyteBannerNonFloating" style="display:none;width:{{ltPropWidth}}; height:{{ltPropHeight}};">\n                <lyte-yield yield-name="yield"></lyte-yield>\n                <template is="if" value="{{ltPropShowCloseButton}}"><template case="true">\n                    <span id="BannerClose" class="lyteModalClose" onclick="{{action(\'close\')}}"></span>\n                </template></template>\n            </div>\n        </template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'display:none;width:'","ltPropWidth","'; height:'","ltPropHeight","';'"]}}}},{type:"insertYield",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropModal","ltPropFloating","ltPropShow","ltPropShowCloseButton","ltPropCloseButtonClass","ltPropPosition","ltPropInitDifference","ltPropBannerDifference","ltPropWidth","ltPropHeight","ltPropClass","returnFalse"],data:function(){return{ltPropModal:Lyte.attr("object",{default:{}}),ltPropFloating:Lyte.attr("boolean",{default:!0}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseButtonClass:Lyte.attr("string"),ltPropPosition:Lyte.attr("string",{default:"top"}),ltPropInitDifference:Lyte.attr("string",{default:"10px"}),ltPropBannerDifference:Lyte.attr("string",{default:"2px"}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropClass:Lyte.attr("string",{default:""}),returnFalse:Lyte.attr("boolean",{default:!1})}},actions:{close:function(){this.$node.querySelector(".lyteBannerNonFloating").style.display="none",this.$node.ltProp("show",!1)}},methods:{modalOnBeforeShow:function(t){var e=0,o=!0,i={top:"center",left:"center"};keys=Object.keys(t.$node.ltProp("offset"));for(var a=0;a<keys.length;a++){var l=keys[a];i[l]!=t.$node.ltProp("offset")[l]&&(o=!1)}if(o){var n=this.$node.ltProp("Position"),r=parseFloat(this.$node.ltProp("InitDifference")),s=parseFloat(this.$node.ltProp("BannerDifference"));if(n){_LyteBanner_[n]=_LyteBanner_[n]||[];var d=_LyteBanner_[n];if(d.length){var p=d[a=d.length-1].$node.querySelector("lyte-modal");e=p.component.actualModalDiv.getBoundingClientRect().height,p.ltProp("offset")&&p.ltProp("offset")[n]&&(e+=parseInt(p.ltProp("offset")[n],10)),s&&(e+=s),"top"==n?t.$node.ltProp("offset",{top:e+"px"}):(t.$node.ltProp("transition",{animation:"slideFromBottom"}),t.$node.ltProp("offset",{bottom:e+"px"}))}else r&&(e+=r),"top"!=n?(t.$node.ltProp("transition",{animation:"slideFromBottom"}),t.$node.ltProp("offset",{bottom:e+"px"})):t.$node.ltProp("offset",{top:e+"px"});_LyteBanner_[n].push(this)}}else this.$node.ltProp("position","");if(this.getMethods("onBeforeShow"))return this.executeMethod("onBeforeShow",this)},modalOnShow:function(t){if(this.getMethods("onShow"))return this.executeMethod("onShow",this)},modalOnBeforeClose:function(t,e){var o,i=0,a=this.$node.ltProp("Position"),l=parseFloat(this.$node.ltProp("InitDifference")),n=parseFloat(this.$node.ltProp("BannerDifference")),r=e.actualModalDiv.getBoundingClientRect();if(""!=a){for(var s=_LyteBanner_[a],d=0;d<s.length;d++)if(this===s[d]){o=d;break}i+=o-1<0?l:n,i+=r.height;for(d=o+1;d<s.length;d++){var p=s[d].$node.querySelector("lyte-modal"),c=parseFloat(s[d].$node.ltProp("BannerDifference")),h=parseFloat(s[d].$node.ltProp("InitDifference")),u=0,y=p.component.actualModalDiv.getBoundingClientRect(),m=p.ltProp("offset");u="top"==a?y.top-i:parseInt(m.bottom)-i,parseInt(u)-c<=0&&(i=i+c-h,u-=c,u+=h),"top"===a?m.top=u+"":m.bottom=u+"",p.component.computeOffsetImpl()}_LyteBanner_[a].splice(o,1),e.$node.ltProp("offset",{top:"center",left:"center"})}if(this.$node.ltProp("show",!1),this.getMethods("onBeforeClose"))return this.executeMethod("onBeforeClose",this)},modalOnClose:function(t){if(this.getMethods("onClose"))return this.executeMethod("onClose",this)}},showChanges:function(t){var e=this.$node.ltProp("ShowCloseButton"),o=this.$node.ltProp("Show"),i=this.$node.ltProp("CloseButtonClass"),a=this.$node.ltProp("Floating");if(this.data.returnFalse)this.setData("returnFalse",!1);else{if(!(t&&"ltPropShow"!==t.item&&"ltPropFloating"!==t.item||a)){var l=this.$node.querySelector(".lyteBannerNonFloating");if(o){if(0==this.executeMethod("onBeforeShow",this))return this.setData("returnFalse",!0),l.style.display="none",void this.setData("ltPropShow",!1);l.style.display="block",this.executeMethod("onShow",this)}else{if(0==this.executeMethod("onBeforeClose",this))return this.setData("returnFalse",!0),l.style.display="block",void this.setData("ltPropShow",!0);l.style.display="none",this.executeMethod("onClose",this)}}if(o&&e&&i)if(a)this.$node.querySelector("lyte-modal#_lyteBannerModal").component.childComp.querySelectorAll("span")[0].setAttribute("class",i);else this.$node.querySelectorAll("span")[0].setAttribute("class",i)}}.observes("ltPropCloseButtonClass","ltPropShowCloseButton","ltPropShow","ltPropFloating").on("didConnect")}),function(t){lyteDomObj&&(manageDraggable={init:!1,draggedEle:null,isRestricted:function(t,e){t=t instanceof Array?t:t.split(",");for(var o=0;o<t.length;o++)for(var i=document.querySelectorAll(t[o]),a=0;a<i.length;a++)if(e.isEqualNode(i[o]))return!0;return!1},destroy:function(t){if(t.classList.contains("draggable-element")||t.classList.contains("draggable-helper")){if(t.classList.contains("draggable-handle-element"))t.classList.remove("draggable-handle-element"),t.removeEventListener("mousedown",t._draggableData.__mousedown),t.removeEventListener("touchstart",t._draggableData.__mousedown,!0),t._draggableData=null;else for(var e=t.querySelectorAll(".draggable-handle-element"),o=0;o<e.length;o++)e[o].classList.remove("draggable-handle-element"),e[o].removeEventListener("mousedown",e[o]._draggableData.__mousedown),e[o].removeEventListener("touchstart",e[o]._draggableData.__mousedown,!0),e[o]._draggableData=null;t.classList.remove("draggable-element","draggable-helper"),t._mousedown=void 0}else console.info("ALERT! - U have already destroyed its draggable behaviour.")}},lyteDomObj.prototype.draggable=function(e){if(manageDraggable.init||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),o=e.length-1;o>=0&&e.item(o)!==this;)--o;return o>-1}),manageDraggable.init=!0),"string"!=typeof e||"destroy"!==e){var o=e||{};if(this.length>1)for(H=this,q=0;q<H.length;q++)$L(H[q]).draggable(Object.assign({},o));else if(!o.restrict||!manageDraggable.isRestricted(o.restrict,this[0])){var i;o._element=this[0],$L(o._element).addClass("draggable-element");var a,l,n,r,s,d,p,c,h,u,y={},m=[0,0],g=0,f=0,v=!1;o.placeholder=o.placeholder?o.placeholder:"lyteDraggablePlaceholder",o.containment=void 0===o.containment?document:$L(o.containment)[0],o.orientation=void 0===o.orientation?"default":o.orientation,o.handle=void 0===o.handle?this[0]:o.handle,o.restrict=void 0===o.restrict?[]:o.restrict instanceof Array?o.restrict:o.restrict.split(","),o.helper=o.helper?o.helper:"original",o.connectToSortable=o.connectToSortable?o.connectToSortable:null,o.cursorAt=o.cursorAt,o.disabled=o.disabled?o.disabled:"lyteDraggableDisabledPlaceholder",o.appendTo=o.appendTo&&"parent"!=o.appendTo?$L(o.appendTo)[0]:"parent",o.bubbles=void 0===o.bubbles||o.bubbles,o.scrollDivX=o.scrollDivX?"string"==typeof o.scrollDivX?document.querySelector(o.scrollDivX):o.scrollDivX:void 0,o.scrollDivY=o.scrollDivY?"string"==typeof o.scrollDivY?document.querySelector(o.scrollDivY):o.scrollDivY:void 0,o.scrollSpeed=o.scrollSpeed?parseInt(o.scrollSpeed):10,o.scrollSpeed<1&&(o.scrollSpeed=1);var b=function(e){if(manageDraggable.draggedEle&&$L(manageDraggable.draggedEle).hasClass("selected-element")&&manageDraggable.draggedEle._draggableData._isDown){if(i=manageDraggable.draggedEle){var o=i._draggableData;if(o&&o._isDown){e.preventDefault();var d=o._element;m=o._offset,f=o._marginLeft,g=o._marginTop;var y=o.orientation,b=o._offParent,D=d.getBoundingClientRect(),P=b.getBoundingClientRect();if(h=o.scrollDivY&&o._isRelativeY?o.scrollDivY.scrollTop:0,o.scrollDivX&&o._isRelativeX?(u=o.scrollDivX.scrollLeft,_lyteUiUtils.getRTL()&&"chrome"==A()&&o._isRelativeX&&(u-=o._maxScrollWidth?o._maxScrollWidth:o.scrollDivX.scrollWidth-o.scrollDivX.offsetWidth)):u=0,o._isRelative&&(scrollLeftValue=u),o._isMoved)o._placeholder&&(a=o._placeholder),o._positionedPlceholder&&(v=o._positionedPlceholder);else{var x=t.getComputedStyle(d);x.borderTop&&parseFloat(x.borderTop),x.borderBottom&&parseFloat(x.borderBottom),x.borderLeft&&parseFloat(x.borderLeft),x.borderRight&&parseFloat(x.borderRight);if("string"==typeof o.helper){if("clone"==o.helper){var _=d.cloneNode(!0);_lyteUiUtils.insertAfter(d,_),$L(d).removeClass("selected-element"),$L(_).hasClass("draggable-handle-element")||$L(_).addClass("draggable-handle-element"),_._draggableData=Object.assign({},o),(o=_._draggableData)._element=o.handle=_,i=_,(d=_).addEventListener("mousedown",U),o.connectToSortable&&(o._prevTop=e.clientY)}}else(_=o.helper(d))&&(_._callee=d,$L(d).removeClass("selected-element"),$L(_).hasClass("draggable-handle-element")||$L(_).addClass("draggable-handle-element"),$L(_).hasClass("selected-element")||$L(_).addClass("selected-element"),$L(_).addClass("draggable-helper"),_._draggableData=Object.assign({},o),(o=_._draggableData)._element=o.handle=_,manageDraggable.draggedEle=i=_,"parent"==o.appendTo?o._parent.appendChild(_):o.appendTo.appendChild(_),(d=_).addEventListener("mousedown",U),o.connectToSortable&&(o._prevTop=e.clientY),P=(b=o._offParent=d.offsetParent).getBoundingClientRect());if("undefined"!=typeof managerDD&&(managerDD._current=d),(o=d._draggableData||i._draggableData).connectToSortable&&((a=d.cloneNode(!0))._callee=d,$L(a).removeClass("selected-element"),a.innerHTML="",$L(a).attr("id","lyteDraggableDummy"),$L(a).addClass(o.placeholder),a.style.boxSizing="border-box",a.style.width=D.width+"px",a.style.height=D.height+"px",a.style.padding="0px"),d.style.top=D.top-P.top-parseInt(g)+h+"px",d.style.left=D.left-P.left-parseInt(f)+u+"px",d.style.zIndex=2e5,"border-box"==x.boxSizing?(d.style.width=D.width+"px",d.style.height=D.height+"px"):(d.style.width=M(d)+"px",d.style.height=T(d)+"px"),d.style.position="absolute",o.onDragStart&&C(o,i,a,e),o.scrollDivY&&(p=o.scrollDivY.scrollHeight-o.scrollDivY.offsetHeight),o.scrollDivX&&(c=o.scrollDivX.scrollWidth-o.scrollDivX.offsetWidth,o._maxScrollWidth=c),o.cursorAt&&_lyteUiUtils.getRTL()){var F=o.cursorAt,$={};for(key in F)"left"==key?$.left=o._element.offsetWidth-F[key]:$[key]=F[key];o._preCursorAt=Object.assign({},o.cursorAt),o.cursorAt=$,m=o._offset=[o.cursorAt.left,o.cursorAt.top]}}"mousemove"==e.type?o._mousePosition={x:e.clientX,y:e.clientY}:"touchmove"==e.type&&(o.touchTarget=e.touches,o._mousePosition={x:e.touches[0].clientX,y:e.touches[0].clientY});var R=!0;if(o.onDrag&&(R=L(o,i,e)),R)if("vertical"===y)d.style.top=o._mousePosition.y-m[1]-P.top-parseInt(g)+h+"px";else if("horizontal"===y)d.style.left=o._mousePosition.x-m[0]-P.left-parseInt(f)+u+"px";else if("default"===y){if(d.style.left=o._mousePosition.x-m[0]-P.left-parseInt(f)+u+"px",d.style.top=o._mousePosition.y-m[1]-P.top-parseInt(g)+h+"px",D=d.getBoundingClientRect(),o.scrollDivY){var O=o.scrollDivY.getBoundingClientRect();D.left<=O.right&&D.right>=O.left&&(n=requestAnimationFrame(E.bind(this,o,o.scrollDivY,O,p,o._isRelativeY,o._mousePosition,m,P)),!0)}if(o.scrollDivX){O=o.scrollDivX.getBoundingClientRect();(D.left<=O.right||D.right>=O.left)&&(_requestId2=requestAnimationFrame(k.bind(this,o,O,c,o._mousePosition,m,P,o._isRelativeX)),_animationFrameFired2=!0)}if(o.connectToSortable){var H=$L(o.connectToSortable).length?$L(o.connectToSortable)[0]._sortableParentData:null;if(l=H.sortableElemClass,d.style.display="none",r=document.elementFromPoint(o._mousePosition.x,o._mousePosition.y),d.style.display="",manageSortable.isOver(e,o,!0),!r)return;(s=r.closest("."+l))&&s.parentElement._sortableParentData.droppable?$L(r).hasClass("sortable-parent")&&S(r,o)&&N(r,o._mousePosition)&&I(r,o._mousePosition,d)?(_lyteUiUtils.appendChild(r,a),a.style.display="",v=!0):d.getBoundingClientRect().top<=s.getBoundingClientRect().top?(_lyteUiUtils.insertBefore(s,a),a.style.display="",v=!0):d.getBoundingClientRect().bottom>s.getBoundingClientRect().bottom&&(_lyteUiUtils.insertAfter(s,a),a.style.display="",v=!0):r&&$L(r).hasClass("sortable-parent")&&S(r,o)&&N(r,o._mousePosition)&&I(r,o._mousePosition,d)?(_lyteUiUtils.appendChild(r,a),a.style.display="",v=!0):B(r)||$L(r).hasClass("sortable-parent")&&S(r,o)||(document.getElementById("lyteDraggableDummy")&&(document.getElementById("lyteDraggableDummy").style.display="none"),v=!1),v&&(!o.onPlaceholder||w(o,a)?($L(a).hasClass(o.disabled)&&$L(a).removeClass(o.disabled),$L(a).addClass(o.placeholder)):($L(a).hasClass(o.placeholder)&&$L(a).removeClass(o.placeholder),$L(a).addClass(o.disabled))),o._placeholder=a,o._positionedPlceholder=v}}"undefined"!=typeof managerDD&&managerDD._drag(e),o._isMoved=!0}}}else i=null},D=function(t){if("mouseup"==t.type&&(document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",D)),"touchend"==t.type&&(document.removeEventListener("touchmove",b,!0),document.removeEventListener("touchend",D,!0)),manageDraggable.draggedEle&&$L(manageDraggable.draggedEle).hasClass("selected-element")&&manageDraggable.draggedEle._draggableData._isDown){if(i=manageDraggable.draggedEle){if((c=i._draggableData).cursorAt&&_lyteUiUtils.getRTL()&&(c.cursorAt=Object.assign({},c._preCursorAt),c._preCursorAt=void 0),c.connectToSortable&&manageSortable.prevSortable&&(manageSortable.prevSortable=!1),a=c._placeholder,c&&c._isDown){c._isDown=!1;var e=c._element;if(c._isMoved){var o=!1;c._isMoved=!1,y=c._initialPos,g=parseInt(c._marginTop),f=parseInt(c._marginLeft);var l=!0;if(c.onBeforeStop&&(l=x(c,t)),l){if(c.connectToSortable&&c._positionedPlceholder){var n=F(a)?F(a):$(a),r=n?n._sortableChildData:a.parentElement._sortableParentData;_lyteUiUtils.replaceWith(a,e),a=null,e._sortableChildData=r,e.removeEventListener("mousedown",U),R(e),o=!0}}else{if("original"!=c.helper)return e.remove(),void(document.getElementById("lyteDraggableDummy")&&a.remove());"absolute"===y.pos?(e.style.left=y.x+"px",e.style.top=y.y+"px"):(e.style.left="",e.style.top="",e.style.position=""),c._positionedPlceholder=!1}if("undefined"!=typeof managerDD&&(managerDD._drop(t),managerDD._current=null),c.onStop&&(l=_(c,t)),!l){if("original"!=c.helper&&!o)return e.remove(),void(document.getElementById("lyteDraggableDummy")&&a.remove());"absolute"===y.pos?(e.style.left=y.x+"px",e.style.top=y.y+"px"):(e.style.left="",e.style.top="",e.style.position="")}}e.style.zIndex="",$L(i).removeClass("selected-element")}c.touchTarget=null,i=null,document.getElementById("lyteDraggableDummy")&&(document.getElementById("lyteDraggableDummy").remove(),a&&(a=null))}for(var s=t.target.ownerDocument.querySelectorAll(".selected-element"),d=t.target.ownerDocument.querySelectorAll(".lyteDraggableDummy"),p=0;p<s.length;p++){var c;(c=(e=s[p])._draggableData).cursorAt&&c._preCursorAt&&_lyteUiUtils.getRTL()&&(c.cursorAt=Object.assign({},c._preCursorAt),c._preCursorAt=void 0),c._placeholder&&(c._placeholder=null,c._positionedPlceholder=!1),c._isDown=!1,c._isMoved=!1,$L(e).removeClass("selected-element")}for(p=0;p<d;p++)d[p].remove();manageDraggable.draggedEle=null}else i=null},P=function(t,e){return void 0==(d=t.onStart(t._element,e))||d},C=function(t,e,o,i){t.onDragStart(t._element,e,o,i)},L=function(t,e,o){return void 0==(d=t.onDrag(t._element,e,o))||d},x=function(t,e){return void 0==(d=t.onBeforeStop(t._element,t._placeholder,t._positionedPlceholder?t._placeholder.parentElement:null,e,O(t,"onBeforeStop")))||d},w=function(t,e){var o=t.onPlaceholder(t._element,e,t._element.parentElement,e?e.parentElement:null);return void 0==o||o},_=function(t,e){return t._element.style.display="none","mouseup"==e.type?r=document.elementFromPoint(e.clientX,e.clientY):"touchend"==e.type&&(r=document.elementFromPoint(t.touchTarget[0].clientX,t.touchTarget[0].clientY)),t._element.style.display="",void 0===(d=t.onStop(t._element,t._positionedPlceholder?t._element.parentElement:null,r,e,O(t,"onStop")))||d};o.__mousedown=U,o.__mousemove=b,o.__mouseup=D,o._element._mousedown||("string"!=typeof o.handle&&o.handle.length?o.handle.forEach(function(t){ele=$L(t,o._element)[0],ele._draggableData=o,$L(ele).addClass("draggable-handle-element"),ele.addEventListener("mousedown",o.__mousedown),ele.addEventListener("touchstart",o.__mousedown,!0)}):(o.handle._draggableData=o,$L(o.handle).addClass("draggable-handle-element"),o.handle.addEventListener("mousedown",o.__mousedown),o.handle.addEventListener("touchstart",o.__mousedown,!0)),o._element._mousedown=!0),o.onReady&&function(t){t.onReady(t._element)}(o);var S=function(t,e){return!(!t.matches(e.connectToSortable)||!t._sortableParentData.droppable)},T=function(t){var e=getComputedStyle(t),o=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),i=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);return elementHeight=t.offsetHeight-o-i,elementHeight},M=function(t){var e=getComputedStyle(t),o=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i=parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth);return elementWidth=t.offsetWidth-o-i,elementWidth},E=function(t,e,o,i,a,l,r,s){var d=t._element.getBoundingClientRect(),p=e.scrollTop;if(d.top-parseInt(t._marginTop)<=o.top&&p>0)a&&(t._element.style.top=l.y-r[1]-s.top-(i-p>=t.scrollSpeed?t.scrollSpeed:i-p)+p+"px"),e.scrollTop-=t.scrollSpeed;else{if(!(d.bottom>=o.bottom-3&&p<i))return cancelAnimationFrame(n),!1,void(n=null);i-p>t.scrollSpeed?(a&&(t._element.style.top=l.y-r[1]-s.top+t.scrollSpeed+p+"px"),e.scrollTop+=t.scrollSpeed):(a&&(t._element.style.top=l.y-r[1]-s.top+i-p+p+"px"),e.scrollTop+=i-p)}n=requestAnimationFrame(E.bind(this,t,e,o,i,a,l,r,s))},k=function(t,e,o,i,a,l,n){var r=t._element.getBoundingClientRect();if(u=t.scrollDivX.scrollLeft,!_lyteUiUtils.getRTL()||_lyteUiUtils.getRTL()&&"chrome"==A()&&!n)if(r.right>=e.right-2&&u<o)o-u>=t.scrollSpeed?(t.scrollDivX.scrollLeft+=t.scrollSpeed,n&&(t._element.style.left=i.x-a[0]-l.left+t.scrollSpeed+u+"px")):(t.scrollDivX.scrollLeft+=t.scrollSpeed-(o-u),n&&(t._element.style.left=i.x-a[0]-l.left+(t.scrollSpeed-(o-u))+u+"px"));else{if(!(r.left<=e.left+2&&u>0))return cancelAnimationFrame(_requestId2),_animationFrameFired2=!1,void(_requestId2=null);n&&(t._element.style.left=i.x-a[0]-l.left-(o-u>t.scrollSpeed?t.scrollSpeed:t.scrollSpeed-(o-u))+u+"px"),t.scrollDivX.scrollLeft-=t.scrollSpeed}else if("chrome"==A()&&n)if(r.right>=e.right&&u<o)o-u>=5?(t.scrollDivX.scrollLeft+=5,n&&(t._element.style.left=i.x-a[0]-l.left+5+(u-o)+"px")):(t.scrollDivX.scrollLeft+=5-(o-u),n&&(t._element.style.left=i.x-a[0]-l.left+(5-(o-u))+u+"px"));else{if(!(r.left<=e.left&&u>0))return cancelAnimationFrame(_requestId2),_animationFrameFired2=!1,void(_requestId2=null);n&&(t._element.style.left=i.x-a[0]-l.left-(o-u+5)+"px"),t.scrollDivX.scrollLeft-=5}else if("firefox"==A()||"safari"==A())if(r.right>=e.right&&u<0)o+u>=5?(t.scrollDivX.scrollLeft+=5,n&&(t._element.style.left=i.x-a[0]-l.left+5+u+"px")):(t.scrollDivX.scrollLeft+=5-(o+u),n&&(t._element.style.left=i.x-a[0]-l.left+(5-(o+u))+u+"px"));else{if(!(r.left<=e.left&&u>-o))return cancelAnimationFrame(_requestId2),_animationFrameFired2=!1,void(_requestId2=null);n&&(t._element.style.left=i.x-a[0]-l.left+(u-5)+"px"),t.scrollDivX.scrollLeft-=5}else if("ie"==A()||"edge"==A())if(r.right>=e.right&&u>0)t.scrollDivX.scrollLeft-=u>=5?5:u;else{if(!(r.left<=e.left&&u<o))return cancelAnimationFrame(_requestId2),_animationFrameFired2=!1,void(_requestId2=null);n&&(t._element.style.left=i.x-a[0]-l.left-u-5+"px"),t.scrollDivX.scrollLeft+=5}_requestId2=requestAnimationFrame(k.bind(this,t,e,o,i,a,l,n))},A=function(){return navigator.userAgent.search("rv:11")>=0?"ie":navigator.userAgent.search("Edge")>=0?"edge":navigator.userAgent.search("Chrome")>=0?"chrome":navigator.userAgent.search("Firefox")>=0?"firefox":navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0?"safari":void 0},N=function(e,o){var i=t.getComputedStyle(e),a=e.getBoundingClientRect();return o.x>a.left+parseFloat(i.paddingLeft||0)&&o.x<a.right-parseFloat(i.paddingRight||0)&&o.y>a.top+parseFloat(i.paddingTop||0)&&o.y<a.bottom-parseFloat(i.paddingBottom||0)},I=function(t,e,o){for(var i=t.children,a=0,l=[],n=0;n<i.length;n++)"TEMPLATE"!=i[n].tagName&&"dummy"!=i[n].id?l.push(i[n]):a++;return a==i.length||o.getBoundingClientRect().top>l[l.length-1].getBoundingClientRect().bottom},F=function(t){for(;t.previousElementSibling;)if("TEMPLATE"!=(t=t.previousElementSibling).tagName&&$L(t).hasClass("sortable-element"))return t;return null},$=function(t){for(;t.nextElementSibling;)if("TEMPLATE"!=(t=t.nextElementSibling).tagName&&$L(t).hasClass("sortable-element"))return t;return null},R=function(t){t.style.left="",t.style.top="",t.style.zIndex="",t.style.position="",$L(t).addClass("sortable-element "+t._sortableChildData.sortableElemClass),t.classList.remove("draggable-handle-element","draggable-element")},B=function(t){for(;t;){if(t.id&&"lyteDraggableDummy"===t.id)return!0;t=t.parentElement}return!1},O=function(t,e){if(t.connectToSortable&&t._positionedPlceholder){var o,i;if("onBeforeStop"===e&&(o=t._placeholder,i=t._placeholder.parentElement),"onStop"===e&&(o=t._element,i=t._element.parentElement),i._sortableParentData.omitRestricted){for(var a=Array.from(i.children).filter(function(t){return"TEMPLATE"!=t.tagName}),l=0;l<a.length;l++)isNotRestricted(t,a[l])||(a.splice(l,1),--l);return a.indexOf(o)}return Array.from(i.children).filter(function(t){return"TEMPLATE"!=t.tagName}).indexOf(o)}return-1};return this}}else if(this.length>1)for(var H=this,q=0;q<H.length;q++)manageDraggable.destroy(H[q]);else manageDraggable.destroy(this[0]);function U(e){if(3!=e.which){var o=e.target.closest(".draggable-handle-element");if(manageDraggable.draggedEle=o,o){o._draggableData.bubbles||e.stopPropagation();var i=o._draggableData,a=i._element,l=a.getBoundingClientRect(),n=t.getComputedStyle(a);l.width,l.height;i._offParent=a.offsetParent,i._parent=a.parentElement;var r=!0;if(i.onStart&&(r=P(i,e)),!r)return;y={x:a.offsetLeft,y:a.offsetTop,pos:$L(a).css("position")},i.cursorAt?m=[i.cursorAt.left,i.cursorAt.top]:"mousedown"==e.type?m=[e.clientX-l.left,e.clientY-l.top]:"touchstart"==e.type&&(m=[e.touches[0].clientX-l.left,e.touches[0].clientY-l.top]),"touchstart"==e.type&&(document.addEventListener("touchmove",b,!0),document.addEventListener("touchend",D,!0),i._element.classList.add("stopDefaultMove")),n.marginTop&&(g=n.marginTop),n.marginLeft&&(f=n.marginLeft),i.scrollDivY&&"relative"==t.getComputedStyle(i.scrollDivY).position&&i.scrollDivY.contains(a)?i._isRelativeY=!0:i._isRelativeY=!1,i.scrollDivX&&"relative"==t.getComputedStyle(i.scrollDivX).position&&i.scrollDivX.contains(a)?i._isRelativeX=!0:i._isRelativeX=!1,i._isDown=!0,i._initialPos=y,i._offset=m,i._marginLeft=f,i._marginTop=g,$L(o).addClass("selected-element"),"undefined"!=typeof managerDD&&(managerDD._current=i._element),"mousedown"==e.type&&(document.addEventListener("mousemove",b),document.addEventListener("mouseup",D))}else o=null}}})}(window),function(t){lyteCaretHelper={isPlainObject:function(t){if("object"==typeof t&&null!==t){if("function"==typeof Object.getPrototypeOf){var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}return"[object Object]"==Object.prototype.toString.call(t)}return!1},contentEditable:function(t){return!(!t.contentEditable||"true"!==t.contentEditable)}},lyteDomObj&&(lyteDomObj.prototype.caret=function(e,o,i){var a,l=function(){return{css_attr:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap","wordSpacing"],copyCss:function(){var t;return t={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===a.domObj.prop("tagName")&&this.css_attr.push("width"),$L(this.css_attr).each(function(e,o){return t[o]=a.domObj.css(o)}),t},createClone:function(t){return this.clone=$L("<div></div>"),this.clone.css(this.copyCss()),this.clone.html(t),_lyteUiUtils.insertAfter(a.element,this.clone[0]),this},getPosition:function(){var t,e,o;return o={left:(e=(t=this.clone.find("#caret")).position()).left,top:e.top,height:t.height()},this.clone[0].remove(),o}}},n=function(e){if(e){var o=null!=e?e.iframe:void 0,i=o.contentWindow;return{iframe:o,window:i,document:o.contentDocument||i.document}}return{iframe:void 0,window:t,document:document}};lyteCaretHelper.isPlainObject(o)?(a=n(o),o=void 0):a=n(i),"LYTE-INPUT"==this[0].tagName?("textarea"==this[0].ltProp("type")&&(a.element=this[0].querySelector("textarea")),"text"==this[0].ltProp("type")&&(a.element=this[0].querySelector("text")),a.domObj=$L(a.element)):(a.element=this[0],a.domObj=this);var r=lyteCaretHelper.contentEditable(this[0])?new function(){return{contentEditable:!0,setPos:function(t){var e,o,i,l=a.window.getSelection();return l&&(e=0,o=!1,(i=function(t,n){var r,s,d,p,c,h;for(h=[],d=0,p=(c=n.childNodes).length;d<p&&(r=c[d],!o);d++)if(3===r.nodeType){if(e+r.length>=t){o=!0,(s=a.document.createRange()).setStart(r,t-e),l.removeAllRanges(),l.addRange(s);break}h.push(e+=r.length)}else h.push(i(t,r));return h}).call(this,t,a.element)),a.element},getIEPosition:function(){return this.getPosition()},getPosition:function(){var t,e;return e=this.getOffset(),t=a.domObj.offset(),e.left-=t.left,e.top-=t.top,e},getIEPos:function(){var t,e;return e=a.document.selection.createRange(),(t=a.document.body.createTextRange()).moveToElementText(a.element),t.setEndPoint("EndToEnd",e),t.text.length},getPos:function(){var t,e,o;return(o=this.getRange())?((t=o.cloneRange()).selectNodeContents(a.element),t.setEnd(o.endContainer,o.endOffset),e=t.toString().length,t.detach(),e):a.document.selection?this.getIEPos():void 0},getIEOffset:function(){var t,e;return(t=a.document.selection.createRange().duplicate()).moveStart("character",-1),{height:(e=t.getBoundingClientRect()).bottom-e.top,left:e.left,top:e.top}},getOffset:function(t){var e,o,i,l,n;return a.window.getSelection&&(i=this.getRange())?(i.endOffset-1>0&&i.endContainer!==a.element&&((e=i.cloneRange()).setStart(i.endContainer,i.endOffset-1),e.setEnd(i.endContainer,i.endOffset),o={height:(l=e.getBoundingClientRect()).height,left:l.left+l.width,top:l.top},e.detach()),o&&0!==(null!=o?o.height:void 0)||(e=i.cloneRange(),n=a.document.createTextNode("|"),e.insertNode(n),e.selectNode(n),o={height:(l=e.getBoundingClientRect()).height,left:l.left,top:l.top},n.remove(),e.detach())):a.document.selection&&(o=this.getIEOffset()),o&&(o.top+=$L(a.window).scrollTop(),o.left+=$L(a.window).scrollLeft()),o},getRange:function(){var t;if(a.window.getSelection)return(t=a.window.getSelection()).rangeCount>0?t.getRangeAt(0):null}}}:new function(){return{contentEditable:!1,getIEPos:function(){var t,e,o,i,l,n;return e=a.element,i=0,(l=a.document.selection.createRange())&&l.parentElement()===e&&(o=e.value.replace(/\r\n/g,"\n").length,(n=e.createTextRange()).moveToBookmark(l.getBookmark()),(t=e.createTextRange()).collapse(!1),i=n.compareEndPoints("StartToEnd",t)>-1?o:-n.moveStart("character",-o)),i},getPos:function(){return a.document.selection?this.getIEPos():a.element.selectionStart},setPos:function(t){var e,o;return e=a.element,a.document.selection?((o=e.createTextRange()).move("character",t),o.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},getIEOffset:function(t){var e;return e=a.element.createTextRange(),t||(t=this.getPos()),e.move("character",t),{left:e.boundingLeft,top:e.boundingTop,height:e.boundingHeight}},getOffset:function(t){var e,o;return a.element,a.document.selection?((e=this.getIEOffset(t)).top+=$L(a.window).scrollTop()+a.domObj.scrollTop(),e):(e=a.domObj.offset(),o=this.getPosition(t),{left:e.left+o.left-a.domObj.scrollLeft(),top:e.top+o.top-a.domObj.scrollTop(),height:o.height})},getPosition:function(t){var e,o;return a.element,void 0===t&&(t=this.getPos()),e=a.domObj.val().slice(0,t),o=a.domObj.val().slice(t),(new l).createClone(this.createHTML(e,o)).getPosition()},getIEPosition:function(t){var e,o;return o=this.getIEOffset(t),e=a.domObj.offset(),{left:o.left-e.left,top:o.top-e.top,height:o.height}},createHTML:function(t,e){return"<span style='position: relative; display: inline;'>"+this.htmlEncode(t)+"</span><span id='caret' style='position: relative; display: inline;'>|</span><span style='position: relative; display: inline;'>"+this.htmlEncode(e)+"</span>"},htmlEncode:function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t}}};return"pos"===e?o||0===o?r.setPos(o):r.getPos():"position"===e?a.document.selection?r.getIEPosition(o):r.getPosition(o):"offset"===e?r.getOffset(o):(console.error("Sorry! The method ",e," doesn't match the predefined set of methods. Kindly check."),null)})}(window),lyteDomObj&&(lyteDomObj.prototype.cropper=function(t){function e(t){return t.getBoundingClientRect()}var o,i,a,l=this[0],n=1,r=l.parentElement,s="n:n",d=1,p=t;a=$L(l).data("cropper")?$L(l).data("cropper").angle:t.angle?t.angle:0,p||(p={aspectRatio:"n:n"});var c,h,u,y,m,g,f,v,b,D,P,C,L,x,w,_,S,T,M,E,k,A,N,I,F,$,R,B,O,H,q={},U=function(){},Y=function(){},V=function(){},z=function(){};function W(){c=document.createElement("DIV"),h=document.createElement("DIV"),u=document.createElement("DIV"),y=document.createElement("DIV"),g=document.createElement("DIV"),m=document.createElement("DIV"),f=document.createElement("DIV"),v=document.createElement("DIV"),b=document.createElement("DIV"),D=document.createElement("DIV"),P=document.createElement("DIV"),L=document.createElement("DIV"),C=document.createElement("DIV"),x=document.createElement("DIV"),T=document.createElement("SPAN"),M=document.createElement("SPAN"),E=document.createElement("SPAN"),k=document.createElement("SPAN"),N=document.createElement("SPAN"),I=document.createElement("SPAN"),F=document.createElement("SPAN"),$=document.createElement("SPAN"),w=document.createElement("IMG"),_=document.createElement("IMG"),S=document.createElement("IMG"),(A=l.parentElement).appendChild(c),c.appendChild(h),h.appendChild(u),u.appendChild(_),h.appendChild(y),h.appendChild(m),m.appendChild(f),f.appendChild(N),m.appendChild(v),v.appendChild(I),m.appendChild(b),b.appendChild(F),m.appendChild(D),D.appendChild($),m.appendChild(P),m.appendChild(L),m.appendChild(x),m.appendChild(C),m.appendChild(T),m.appendChild(M),m.appendChild(E),m.appendChild(k),m.appendChild(g),g.appendChild(S)}if(o=e(l),l.style.display="none",l.addEventListener("load",function t(){l.complete&&0===r.querySelectorAll(".lyteCropArea").length&&(o=e(l),l.style.display="none"),l.removeEventListener("load",t)}),0!==r.querySelectorAll(".lyteCropArea").length){var j=r.querySelectorAll(".lyteCropArea")[0];r.removeChild(j),l.style.display="block",o=e(l),l.style.display="none"}function X(){switch(s){case"n:n":G(1),K(1);break;case"1:1":case"2:3":case"3:2":case"4:3":case"3:4":case"16:9":case"9:16":G(d),K(d)}}function G(t){p.minSize?(B=p.minSize,R=p.minSize/t):(B=15,R=15/t)}function K(t){var o=e(_);"landscape"===i?p.maxSize?p.maxSize>o.width?(O=o.height,H=o.height*t,"n:n"===s&&(O=o.height,H=o.width)):(H=p.maxSize,O=p.maxSize/t,"n:n"===s&&(O=p.maxSize,H=p.maxSize)):(O=o.height,H=o.height*t,"n:n"===s&&(O=o.height,H=o.width)):"portrait"===i&&(p.maxSize?p.maxSize>o.height?(O=o.width/t,H=o.width,"n:n"===s&&(O=o.height,H=o.width)):(H=p.maxSize*t,O=p.maxSize,"n:n"===s&&(O=p.maxSize,H=p.maxSize)):(O=o.width/t,H=o.width,"n:n"===s&&(O=o.height,H=o.width)))}function Q(t){var o;return p.selection?p.selection.size?(o=parseFloat(p.selection.size),p.maxSize&&parseFloat(p.maxSize)<parseFloat(p.selection.size)&&(o=parseFloat(p.maxSize)),p.minSize&&parseFloat(p.minSize)>parseFloat(p.selection.size)&&(o=parseFloat(p.minSize))):initialValue=Z().width:o="n:n"===s?e(_).width:Z().width,o}function Z(){var t={};return"landscape"===i?(t.width=e(_).height*d,t.height=e(_).height):(t.width=e(_).width,t.height=e(_).width/d),t.width>e(_).width&&(t.width=e(_).width,t.height=e(_).width/d),t.height>e(_).height&&(t.height=e(_).height,t.width=e(_).height*d),t}function J(){var t={};return parseFloat(p.selection.top)+e(m).height>e(y).bottom?t.top=e(y).height-e(m).height:t.top=parseFloat(p.selection.top),parseFloat(p.selection.left)+e(m).width>e(y).right?t.left=e(y).width-e(m).width:t.left=parseFloat(p.selection.left),t}function tt(){var t={};return t.cropperTop=(e(y).height-e(m).height)/2,t.cropperLeft=(e(_).width-e(m).width)/2,t}function et(t){var o;switch(U(),T.style.opacity=M.style.opacity=E.style.opacity=k.style.opacity=1,y.style.opacity="0.6",t.preventDefault(),o="lyteCropDivImageImg"===t.target.className||"lyteCropDivImage"===t.target.className?"parent":"child",$L(".lyteCropTopEdge")[0],$L(".lyteCropRightEdge")[0],$L(".lyteCropBottomEdge")[0],$L(".lyteCropLeftEdge")[0],$L(".lyteCropTopRightCorner")[0],$L(".lyteCropBottomRightCorner")[0],$L(".lyteCropBottomLeftCorner")[0],$L(".lyteCropTopLeftCorner")[0],o){case"parent":if("lyteCropDivImage"===t.target.className||"lyteCropDivImageImg"===t.target.className){var i=e(m),a=e(y),l=e(c),n=e(h),r=(e(_),t.clientX),p=t.clientY,u=a.left-l.left,g=a.right-i.width-n.left,f=a.top-l.top;function v(t){T.style.opacity=M.style.opacity=E.style.opacity=k.style.opacity=1,t.preventDefault();var o=t.clientX,n=t.clientY;i.top+(n-p)-l.top+l.top>a.top?m.style.top=i.top+(n-p)-l.top+"px":m.style.top=f+"px",i.left+(o-r)-l.left+l.left>a.left?m.style.left=i.left+(o-r)-l.left+"px":m.style.left=u+"px",i.right+(o-r)-l.right+l.right<a.right||(m.style.left=g+"px"),i.bottom+(n-p)-l.bottom+l.bottom<a.bottom||(m.style.top=a.bottom-i.height-l.top+"px");var s=_.style.transform;_.style.transform="rotate(0deg)",S.style.left=e(_).left-e(m).left+"px",S.style.top=e(_).top-e(m).top+"px",_.style.transform=s,it()}l.bottom,l.bottom,a.bottom,i.height,window.innerHeight,l.bottom,document.addEventListener("mousemove",v),document.addEventListener("mouseup",function t(){y.style.opacity="",T.style.opacity=M.style.opacity=E.style.opacity=k.style.opacity=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",t),document.removeEventListener("mousedown",v),it(),V()})}break;case"child":{var b,D=e(m),P=D.left,C=D.top,L=D.width,x=D.height,w=D.right,A=D.bottom,N=e(y),I=N.top,F=N.left,$=N.width,q=N.height,W=N.bottom,j=N.right,X=e(c),G=X.top,K=X.left,Q=(X.width,X.height,X.right),Z=X.bottom,J=e(h),tt=(J.height,J.width,J.left,J.top,e(_)),et=tt.left,ot=tt.top,at=tt.width,lt=tt.height,nt=(r=t.clientX,p=t.clientY,D.top+D.height/2-X.top),rt=D.left+D.width/2-X.left;function st(t){it(),Y();var o,i,a,l,n,c,h=t.clientX,u=t.clientY,y=t.clientX,g=t.clientY,f=e(m);function v(){f=e(m)}switch(b){case"lyteCropLeftEdge":if(v(),o=0,i=0,a=0,l=0,L-(h-r)>=B&&L-(h-r)<=H)h>F&&(a=L-(y-r)+"px",l=(L-(y-r))/d+"px",o=C-G+(y-r)/d/2+"px",i=P-K+(h-r)+"px",$L(m).css({width:a,height:l,top:o,left:i})),v(),h-6<=F&&(f.height>=q&&(f.width>=$||!(f.top<I))||(o=W-(($-(j-w))/d+(W-(nt+($-(j-w))/d/2)))+"px",i=F-K+"px",$L(m).css({top:o,left:i})),i=F-K+"px",a=w-F+"px",l=($-(j-w))/d+"px",$L(m).css({width:a,height:l,left:i})),v(),f.bottom>=W&&(o=W-f.height-G+"px",$L(m).css({top:o})),v(),f.top<=I&&(o=I-G+"px",$L(m).css({top:o})),v(),f.bottom>=W&&f.top<=I&&(i=w-(W-I)*d-K+"px",a=(W-I)*d+"px",l=W-I+"px",o=I-G+"px",$L(m).css({width:a,height:l,top:o,left:i}));else if(L-(h-r)<=B)"n:n"!==s?(i=w-B-K+"px",o=nt-R/2+"px",a=B+"px",l=R+"px",$L(m).css({width:a,height:l,top:o,left:i})):(i=w-B-K+"px",a=B+"px",$L(m).css({width:a,left:i}));else if(L-(h+6-r)>=H)if("n:n"!==s){var D=(L-(y-r))/d;((T=L-(y-r))>=H||D>=O)&&h+6<=F&&w-F>=H&&(i=w-H-K+"px",v(),(o=nt-O/2)<0&&(o=0),o>W-O-I&&(o=W-O-I),a=H+"px",l=O+"px",$L(m).css({width:a,height:l,top:o,left:i}))}else H!=at?(i=w-H-F,a=H+"px"):(i=0,a=w-F+"px"),$L(m).css({width:a,left:i});break;case"lyteCropTopEdge":v(),o=0,i=0,a=0,l=0,x-(u-p)>=R&&x-(u-p)<=O?(u>I+6&&(a=(x-(u-p))*d+"px",l=x-(u-p)+"px",i=P-K+(u-p)*d/2+"px",o=C-G+(u-p)+"px",$L(m).css({width:a,height:l,top:o,left:i})),v(),u-6<=I&&(f.height>=q&&(f.width>=$||!(f.left<F))||(i=j-((A-I)*d+(j-(rt+(A-I)*d/2)))+"px",o=I-G+"px",$L(m).css({top:o,left:i})),a=(A-I)*d+"px",l=A-I+"px",$L(m).css({width:a,height:l})),v(),f.left<=F&&(i=F-K+"px",$L(m).css({left:i})),v(),f.right>=j&&(i=j-f.width-K+"px",$L(m).css({left:i})),v(),f.right>=j&&f.left<=F&&(a=j-F+"px",l=(j-F)/d+"px",o=A-(j-F)/d-G+"px",i=F-K+"px",$L(m).css({width:a,height:l,top:o,left:i}))):x-(u-p)<=R?"n:n"!==s?(o=A-R-G+"px",i=rt-B/2+"px",a=B+"px",l=R+"px",$L(m).css({width:a,height:l,top:o,left:i})):(o=A-R-G+"px",l=R+"px",$L(m).css({height:l,top:o})):x-(u-p)>=O&&("n:n"!==s?(D=x-(u-p),((T=(x-(u-p))*d)>=H||D>=O)&&u-6<I&&A-I>=O&&(o=A-O-G+"px",v(),(i=rt-H/2)<0&&(i=0),i>j-H-F&&(i=j-H-F),a=H+"px",l=O+"px",$L(m).css({width:a,height:l,top:o,left:i}))):(O!=lt?(o=A-O-I,l=O+"px"):(o=0,l=A-I+"px"),$L(m).css({height:l,top:o})));break;case"lyteCropRightEdge":if(v(),o=0,n=0,a=0,l=0,i=0,L+(y-r)>=B&&L+(y-r)<=H)y<j&&(a=L+(y-r)+"px",l=(L+(y-r))/d+"px",o=C-G-(y-r)/d/2+"px",n=w-Q-(y-r)+"px",$L(m).css({width:a,height:l,top:o,right:n})),y>=j&&(o=nt-(j-P)/d/2+"px",a=j-P+"px",l=(j-P)/d+"px",$L(m).css({width:a,height:l,top:o})),v(),f.bottom>=W&&(o=W-f.height-G+"px",$L(m).css({top:o})),v(),f.top<=I&&(o=I-G+"px",$L(m).css({top:o})),v(),f.bottom>=W&&f.top<=I&&(i=P-K+"px",a=(W-I)*d+"px",l=W-I+"px",$L(m).css({width:a,height:l,left:i}));else if(L+(y-r)<=B)"n:n"!==s?(o=nt-R/2+"px",a=B+"px",l=R+"px",$L(m).css({width:a,height:l,top:o})):(a=B+"px",$L(m).css({width:a}));else if(L+(h-r)>=H)if("n:n"!==s){var T=L+(y-r);((D=(L+(y-r))/d)>=O||T>=H)&&P<=j-H&&((o=nt-O/2)<0&&(o=0),o>W-O-I&&(o=W-O-I),a=H+"px",l=O+"px",$L(m).css({width:a,height:l,top:o}))}else a=H!=at?H+"px":j-P+"px",$L(m).css({width:a});break;case"lyteCropBottomEdge":v(),o=0,n=0,a=0,l=0,i=0,x+(u-p)>=R&&x+(u-p)<=O?(u<W&&(a=(x+(g-p))*d+"px",l=x+(u-p)+"px",i=P-K-(g-p)*d/2+"px",c=A-Z-(g-p)+"px",$L(m).css({width:a,height:l,left:i,bottom:c})),u>=W&&(i=rt-(W-C)*d/2+"px",a=(W-C)*d+"px",l=W-C+"px",$L(m).css({width:a,height:l,left:i})),v(),f.left<=F&&(i=F-K+"px",$L(m).css({left:i})),v(),f.right>=j&&(i=j-f.width-K+"px",$L(m).css({left:i})),v(),f.right>=j&&f.left<=F&&(i=F-K+"px",a=j-F+"px",l=(j-F)/d+"px",$L(m).css({width:a,height:l,left:i}))):x+(u-p)<=R?"n:n"!==s?(i=rt-B/2+"px",a=B+"px",l=R+"px",$L(m).css({width:a,height:l,left:i})):(l=R+"px",$L(m).css({height:l})):x+(u-p)>=O&&("n:n"!==s?(D=x+(u-p),((T=(x+(g-p))*d)>=H||D>=O)&&C<=W-O&&((i=rt-H/2)<0&&(i=0),i>j-H-F&&(i=j-H-F),a=H+"px",l=O+"px",$L(m).css({width:a,height:l,left:i}))):(l=O!=lt?O+"px":W-C+"px",$L(m).css({height:l})));break;case"lyteCropTopRightCorner":v(),o=0,n=0,a=0,l=0,i=0,"n:n"===s?(L+(y-r)>=B&&L+(y-r)<=H?y<j&&(a=L+(y-r)+"px",$L(m).css({width:a}),$L(m).css({width:a})):L+(y-r)<B?y<=P&&(a=B+"px",$L(m).css({width:a})):L+(y-r)>H&&y>=j&&(a=H!=at?H+"px":j-P+"px",$L(m).css({width:a})),x-(g-p)>=R&&x-(g-p)<=O?g>I&&(o=C-G+(u-p)+"px",l=x-(g-p)+"px",$L(m).css({height:l,top:o})):x-(g-p)<R?g>A&&(l=R+"px",o=A-R-I+"px",$L(m).css({height:l,top:o})):x-(g-p)>O&&g<=I&&(O!=lt?(o=A-O-I+"px",l=O+"px"):(o=I-ot+"px",l=A-I+"px"),$L(m).css({height:l,top:o}))):x-(u-p)>=R&&x-(u-p)<=O?(u>=I+5&&(a=(x-(u-p))*d+"px",l=x-(u-p)+"px",o=C-G+(u-p)+"px",n=w-Q-(h-r)+"px",$L(m).css({width:a,height:l,top:o,right:n})),v(),u<I+5&&(f.height>=q&&(f.width>=$||!(f.left<F))||(o=I-G+"px"),a=(A-I)*d+"px",l=A-I+"px",$L(m).css({width:a,height:l,top:o})),v(),f.right>=j&&(o=A-(j-P)/d-G+"px",a=j-P+"px",l=(j-P)/d+"px",$L(m).css({width:a,height:l,top:o}))):x-(u-p)<=R?(o=A-R-G+"px",a=B+"px",l=R+"px",$L(m).css({width:a,height:l,top:o})):x-(u-p)>=O&&(D=x-(u-p),((T=(x-(u-p))*d)>=H||D>=O)&&u-6<I&&A-I>=O&&P<=j-H&&(o=A-O-G+"px",(i=rt-H/2)<0&&(i=0),i>j-H-F&&(i=j-H-F),a=H+"px",l=O+"px",$L(m).css({width:a,height:l,top:o})));break;case"lyteCropTopLeftCorner":v(),o=0,n=0,a=0,l=0,i=0,"n:n"===s?(v(),L-(h-r)>=B&&L-(h-r)<=H?h>F&&(a=L-(y-r)+"px",i=P-K+(h-r)+"px",$L(m).css({width:a,left:i})):L-(h-r)<B?y>w&&(a=B+"px",i=w-B-F+"px",$L(m).css({width:a,left:i})):L-(h-r)>H&&h<=F&&(H!=at?(a=H+"px",i=w-H-F+"px"):(a=w-F+"px",i=F-et+"px"),$L(m).css({width:a,left:i})),x-(g-p)>=R&&x-(g-p)<=O?g>I&&(o=C-G+(u-p)+"px",l=x-(g-p)+"px",$L(m).css({height:l,top:o})):x-(g-p)<R?g>A&&(l=R+"px",o=A-R-I+"px",$L(m).css({height:l,top:o})):x-(g-p)>O&&g<=I&&(O!=lt?(o=A-O-I+"px",l=O+"px"):(o=I-ot+"px",l=A-I+"px"),$L(m).css({height:l,top:o}))):x-(u-p)>=R&&x-(u-p)<=O?(u>=I+5&&(a=(x-(u-p))*d+"px",l=x-(u-p)+"px",o=C-G+(u-p)+"px",i=P-K+(u-p)*d+"px",$L(m).css({width:a,height:l,left:i,top:o})),v(),u-6<=I&&(f.height>q&&(f.width>$||!(f.left<F))||(i=j-((A-I)*d+(j-w))-K+"px",o=I-G+"px"),a=(A-I)*d+"px",l=A-I+"px",$L(m).css({width:a,height:l,left:i,top:o})),v(),f.left<=F&&(o=A-(w-F)/d-G+"px",i=F-K+"px",a=w-F+"px",l=(w-F)/d+"px",$L(m).css({width:a,height:l,left:i,top:o}))):x-(u-p)<=R?"n:n"!==s&&(o=A-R-G+"px",i=w-B-K+"px",a=B+"px",l=R+"px",$L(m).css({width:a,height:l,left:i,top:o})):x-(u-p)>=O&&(D=x-(u-p),((T=(x-(u-p))*d)>=H||D>=O)&&u-6<I&&A-I>=O&&w-F>=H&&(o=A-O-G+"px",(i=rt-H/2)<0&&(i=0),i>j-H-F&&(i=j-H-F),a=H+"px",l=O+"px",$L(m).css({width:a,height:l,top:o,left:i})));break;case"lyteCropBottomRightCorner":v(),o=0,n=0,a=0,l=0,i=0,"n:n"===s?(v(),x+(u-p)>=R&&x+(u-p)<=O?u<W&&(l=x+(u-p)+"px",$L(m).css({height:l})):x+(u-p)<R?g<C&&(l=R+"px",$L(m).css({height:l})):x+(u-p)>O&&u>=W&&(l=O!=lt?O+"px":W-C+"px",$L(m).css({height:l})),L+(h-r)>=B&&L+(h-r)<=H?h<j&&(a=L+(h-r)+"px",$L(m).css({width:a})):L+(h-r)<B?y<=P&&(a=B+"px",$L(m).css({width:a})):L+(h-r)>H&&h>=j&&(a=H!=at?H+"px":j-P+"px",$L(m).css({width:a}))):L+(y-r)>=B&&L+(y-r)<=H?(y<j&&(a=L+(y-r)+"px",l=(L+(y-r))/d+"px",$L(m).css({width:a,height:l})),v(),f.right>=j-5&&y>=j-5&&(a=j-P+"px",l=(j-P)/d+"px",$L(m).css({width:a,height:l})),v(),f.bottom>=W&&(l=W-C+"px",a=(W-C)*d+"px",$L(m).css({width:a,height:l}))):L+(y-r)<=B?(a=B+"px",l=R+"px",$L(m).css({width:a,height:l})):L+(y-r)>=H&&(T=L+(y-r),((D=(L+(y-r))/d)>=O||T>=H)&&W-C>=O&&j-P>=H&&(a=H+"px",l=O+"px",$L(m).css({width:a,height:l})));break;case"lyteCropBottomLeftCorner":v(),o=0,n=0,a=0,l=0,i=0,"n:n"===s?(v(),L-(h-r)>=B&&L-(h-r)<=H?h>F&&(a=L-(y-r)+"px",i=P-K+(h-r)+"px",$L(m).css({width:a,left:i})):L-(h-r)<B?y>w&&(a=B+"px",i=w-B-F+"px",$L(m).css({width:a,left:i})):L-(h-r)>H&&h<=F&&(H!=at?(a=H+"px",i=w-H-F+"px"):(a=w-F+"px",i=F-et+"px"),$L(m).css({width:a,left:i})),x+(u-p)>=R&&x+(u-p)<=O?u<W&&(l=x+(u-p)+"px",$L(m).css({height:l})):x+(u-p)<R?g<C&&(l=R+"px",$L(m).css({height:l})):x+(u-p)>O&&u>=W&&(l=O!=lt?O+"px":W-C+"px",$L(m).css({height:l}))):L-(h-r)>=B&&L-(h-r)<=H?(h>F&&(a=L-(y-r)+"px",l=(L-(y-r))/d+"px",i=P-K+(h-r)+"px",$L(m).css({width:a,height:l,left:i})),v(),h-6<=F+2&&(f.height>=q&&(f.width>=$||!(f.left<F))||(i=F-K+"px"),a=w-F+"px",l=(w-F)/d+"px",$L(m).css({width:a,height:l,left:i})),v(),f.bottom>=W&&(l=W-C+"px",a=(W-C)*d+"px",i=j-((W-C)*d+(j-w))-K+"px",$L(m).css({width:a,height:l,left:i}))):L-(h-r)<=B?"n:n"!==s&&(i=w-B-K+"px",a=B+"px",l=R+"px",$L(m).css({width:a,height:l,left:i})):L-(h-r)>=H&&"n:n"!==s&&(T=L-(y-r),((D=(L-(y-r))/d)>=O||T>=H)&&h-6<F&&w-F>=H&&W-C>=O&&(i=w-H-K+"px",a=H+"px",l=O+"px",$L(m).css({width:a,height:l,left:i})))}var M=_.style.transform;_.style.transform="rotate(0deg)",S.style.left=e(_).left-e(m).left+"px",S.style.top=e(_).top-e(m).top+"px",_.style.transform=M,it()}u=N.left-X.left,f=N.top-X.top,g=N.right-D.width-J.left,b=""===t.target.className?t.target.parentElement.className:t.target.className,document.addEventListener("mousemove",st),document.addEventListener("mouseup",function t(){y.style.opacity="",T.style.opacity=M.style.opacity=E.style.opacity=k.style.opacity=0,document.removeEventListener("mousemove",st),document.removeEventListener("mouseup",t),it(),z()})}}}function ot(t,i,a,l,n){var p=_.style.transform.match(/-?\d+/g)[0],u=parseInt(p),y=u;if(90===(u=Math.abs(u))||270===u){if(o.height<o.width){_.style.width=S.style.width=e(r).height+"px",_.style.height=S.style.height="auto",c.style.height=e(r).height+"px",c.style.top="0px",c.style.width=e(_).width+"px";var g=Math.abs(e(c).left-e(_).left);_lyteUiUtils.getRTL()?(c.style.left="-"+(e(r).width-e(c).width)/2+"px",_.style.left=-g+"px"):(c.style.left=(e(r).width-e(c).width)/2+"px",_.style.left=-g+"px")}else if(o.height>o.width){_.style.width=S.style.width="auto",_.style.height=S.style.height=e(r).width+"px",c.style.width=e(r).width+"px",c.style.left="0px",c.style.height=e(_).height+"px",c.style.top=(e(r).height-e(c).height)/2+"px";var f=Math.abs(e(c).left-e(_).left);_lyteUiUtils,_.style.left=f+"px"}_.style.top=e(c).top-e(_).top+"px",X(),"n:n"!==s?(R=e(c).height/i.width*15,B=R*d):(R=e(c).height/i.width*15,B=R);var v=D=t.height*e(c).width/i.height,b=P=t.width*e(c).height/i.width;B>D&&"n:n"!=s&&(b=(v=B)/d),R>P&&"n:n"!=s&&(v=(b=R)*d),m.style.width=v+"px",m.style.height=b+"px",-90!==y&&-270!==y||(m.style.left=(t.top-i.top)*e(c).width/i.height+"px",m.style.top=e(c).height-((t.left-i.left)*e(c).height/i.width+e(m).height)+"px"),90!==y&&270!==y||(m.style.top=(t.left-i.left)*e(c).height/i.width+"px",m.style.left=e(c).width-(e(m).width+(t.top-i.top)*e(c).width/i.height)+"px")}else{var D,P;o.height<o.width?(_.style.width=S.style.width=e(r).width+"px",_.style.height=S.style.height="auto",c.style.width=e(r).width+"px",c.style.left="0px",c.style.right="",c.style.height=e(_).height+"px",c.style.top=(e(r).height-e(c).height)/2+"px",_.style.left=(e(c).width-e(_).width)/2+"px"):(_.style.width=S.style.width="auto",_.style.height=S.style.height=e(r).height+"px",c.style.height=e(r).height+"px",c.style.top="0px",c.style.width=e(_).width+"px",_lyteUiUtils.getRTL()?c.style.left="-"+(e(r).width-e(c).width)/2+"px":c.style.left=(e(r).width-e(c).width)/2+"px",_.style.left=(e(c).width-e(_).width)/2+"px"),_.style.top=(e(h).height-e(_).height)/2+"px",X(),v=D=t.height*e(c).width/i.height,b=P=t.width*e(c).height/i.width,R>P&&"n:n"!=s&&(v=(b=R)*d),m.style.width=v+"px",m.style.height=b+"px",-180===y&&(m.style.top=e(c).height-((t.left-i.left)*e(c).height/i.width+e(m).height)+"px",m.style.left=(t.top-i.top)*e(c).width/i.height+"px"),0!==y&&180!==y||(m.style.top=(t.left-i.left)*e(c).height/i.width+"px",m.style.left=e(c).width-(e(m).width+(t.top-i.top)*e(c).width/i.height)+"px")}var C=_.style.transform;_.style.transform="rotate(0deg)",S.style.left=e(_).left-e(m).left+"px",S.style.top=e(_).top-e(m).top+"px",_.style.transform=C}function it(){var t,n,r,p=e(m);q.cropperDimensions={top:m.offsetTop,left:m.offsetLeft,width:p.width,height:p.height},q.imageDimension=o,q.resolution=(t=$L(".lyteCropDivImageImg")[0],n=t.naturalWidth/t.getBoundingClientRect().width,r=t.naturalHeight/t.getBoundingClientRect().height,90!==q.angle&&270!==q.angle||(n=t.naturalHeight/t.getBoundingClientRect().width,r=t.naturalWidth/t.getBoundingClientRect().height),{width:m.getBoundingClientRect().width*n,height:m.getBoundingClientRect().height*r}),q.rotate=function(){var t=e(m),o=e(c),l=(e(_),_.style.transform);if(l)(n=l.match(/-?\d+/g))[0],(n=parseInt(n[0])+90)>=360&&(n=0),_.style.transform="rotate("+n+"deg)",S.style.transform="rotate("+n+"deg)";else{var n=90;_.style.transform="rotate("+n+"deg)",S.style.transform="rotate("+n+"deg)"}a=n,q.angle=n,d=1/d,i="landscape"===i?"portrait":"landscape",ot(t,o),it()},q.getCroppedImage=function(){var t=$L(".lyteCropDivImageImg")[0],o=e(m),i=e(c),a=e(S);return t.naturalWidth,o.width,function(e,l){var n=document.createElement("CANVAS"),r=n.getContext("2d");n.style.background="#eee";var s,d,p=_.style.transform,c=0;p&&(c=p.match(/-?\d+/g),c=parseInt(c[0])),90!==Math.abs(c)&&270!==Math.abs(c)&&(S.style.transform="rotate(0deg)");var h=i.left-o.left,u=i.top-o.top;if(90!==Math.abs(c)&&270!==Math.abs(c)?(n.width=Math.round(o.width*(e.naturalWidth/a.width)),n.height=Math.round(o.height*(e.naturalHeight/a.height)),s=e.naturalWidth,d=e.naturalHeight):(n.height=Math.round(o.height*(e.naturalWidth/a.height)),n.width=Math.round(o.width*(e.naturalHeight/a.width)),d=e.naturalWidth,s=e.naturalHeight),h*=s/a.width,u*=d/a.height,S.style.transform=p,0!==c){r.save(),Math.abs(c)%90==0&&180!==Math.abs(c)&&360!==Math.abs(c)&&(e.naturalWidth,e.naturalHeight);var y=s/2,m=d/2;Math.abs(c)%90==0&&180!==Math.abs(c)&&360!==Math.abs(c)?(r.translate(h+y,u+m),r.rotate(c*(Math.PI/180)),r.drawImage(t,-m,-y,d,s)):(r.translate(h+s/2,u+d/2),r.rotate(c*(Math.PI/180)),r.drawImage(t,-s/2,-d/2,s,d)),r.restore()}else r.drawImage(e,h,u,s,d);return n}(t)},q.changeByHeight=function(t){var o,i,a=e(m),l=e(y),n=parseFloat(t);n+e(m).top<=e(y).bottom||(n=e(y).bottom-e(m).top);var r=e(m).left+e(m).width/2-e(y).left;n>=O&&(n=O),n<=R&&(n=R);var p=n*d;a.top+n>=l.bottom&&(i=l.bottom-n-l.top,$L(m).css({top:i}));var c=r-p/2;c>=0&&$L(m).css({left:c}),c+p>=e(y).right-e(y).left&&(c=e(y).right-p-e(y).left,$L(m).css({left:c})),"n:n"!==s?$L(m).css({width:p,height:n}):(p=e(m).width,$L(m).css({height:n})),"NaN"===t&&(p=B,n=R),o={cropperWidth:p,cropperHeight:n};var h=_.style.transform;return _.style.transform="rotate(0deg)",S.style.left=e(_).left-e(m).left+"px",S.style.top=e(_).top-e(m).top+"px",_.style.transform=h,it(),o},q.changeByWidth=function(t){var o,i,a=parseFloat(t);a+e(m).left<=e(y).right||(a=e(y).right-e(m).left);var l=e(m),n=e(y),r=e(m).top+e(m).height/2-e(y).top;a>=H&&(a=H),a<=B&&(a=B);var p=a/d;l.left+a>=n.right&&(i=n.right-a-n.left,$L(m).css({left:i}));var c=r-p/2;c>=0&&$L(m).css({top:c}),c+p>=e(y).bottom-e(y).top&&(c=e(y).bottom-p-e(y).top,$L(m).css({top:c})),"n:n"!==s?$L(m).css({width:a,height:p}):(p=e(m).height,$L(m).css({width:a})),"NaN"===t&&(a=B,p=R),o={cropperWidth:a,cropperHeight:p};var h=_.style.transform;return _.style.transform="rotate(0deg)",S.style.left=e(_).left-e(m).left+"px",S.style.top=e(_).top-e(m).top+"px",_.style.transform=h,it(),o},q.swapAspectRatio=function(){d=1/d,X();var t,o,i,a,l=e(m).height,n=e(m).width,r=e(m).height/2+e(m).top,s=e(m).width/2+e(m).left;e(m).top+n>e(y).bottom?(t=e(y).bottom-n-e(y).top,$L(m).css({top:t})):((t=r-e(m).width/2-e(y).top)<=0&&(t=0),$L(m).css({top:t})),e(m).left+l>e(y).right?(o=e(y).right-l-e(y).left,$L(m).css({left:o})):((o=s-e(m).height/2-e(y).left)<=0&&(o=0),$L(m).css({left:o})),$L(m).css({width:l,height:n}),n>=e(_).height&&(i=e(_).height*d,a=e(_).height,o=(e(_).width-i)/2,$L(m).css({height:a,width:i,top:0,left:o})),l>=e(_).width&&(i=e(_).width,a=e(_).width/d,t=(e(_).height-a)/2,$L(m).css({height:a,width:i,left:0,top:t}));var p=_.style.transform;_.style.transform="rotate(0deg)",S.style.left=e(_).left-e(m).left+"px",S.style.top=e(_).top-e(m).top+"px",_.style.transform=p,it()},q.angle=a,$L(l).data("cropper",q)}!function(){switch(p&&(s=p.aspectRatio),p.cropStart&&(U=p.cropStart),p.cropDrag&&(Y=p.cropDrag),p.onSet&&(V=p.onSet),p.cropEnd&&(z=p.cropEnd),s){case"n:n":d=void 0;break;case"1:1":d=1;break;case"2:3":d=2/3;break;case"3:2":d=1.5;break;case"4:3":d=4/3;break;case"3:4":d=.75;break;case"16:9":d=16/9;break;case"9:16":d=9/16}n=l.naturalWidth/l.naturalHeight,l.naturalWidth>l.naturalHeight?i="landscape":l.naturalWidth<=l.naturalHeight&&(i="portrait"),W(),c.setAttribute("class","lyteCropArea"),w.setAttribute("class","lyteCropMainImage"),h.setAttribute("class","lyteCropBox"),u.setAttribute("class","lyteCropFixedDiv"),_.setAttribute("class","lyteCropFixedImage"),y.setAttribute("class","lyteCropOpacityDiv"),m.setAttribute("class","lyteCropCropper"),T.setAttribute("class","lytecropVerGrid1"),M.setAttribute("class","lytecropVerGrid2"),E.setAttribute("class","lytecropHorGrid1"),k.setAttribute("class","lytecropHorGrid2"),f.setAttribute("class","lyteCropTopEdge"),N.setAttribute("class","lyteCropTopSpan"),v.setAttribute("class","lyteCropBottomEdge"),I.setAttribute("class","lyteCropBottomSpan"),b.setAttribute("class","lyteCropLeftEdge"),F.setAttribute("class","lyteCropLeftSpan"),D.setAttribute("class","lyteCropRightEdge"),$.setAttribute("class","lyteCropRightSpan"),P.setAttribute("class","lyteCropTopRightCorner"),L.setAttribute("class","lyteCropTopLeftCorner"),C.setAttribute("class","lyteCropBottomRightCorner"),x.setAttribute("class","lyteCropBottomLeftCorner"),g.setAttribute("class","lyteCropDivImage"),S.setAttribute("class","lyteCropDivImageImg"),function(){var t=function(){var t={};switch(i){case"landscape":t.imageWidth=e(A).width,t.imageHeight=e(A).width/n;break;case"portrait":t.imageWidth=e(A).height*n,t.imageHeight=e(A).height}return t}();_.style.height=t.imageHeight+"px",_.style.width=t.imageWidth+"px",S.style.height=t.imageHeight+"px",S.style.width=t.imageWidth+"px",c.style.height=e(_).height+"px",c.style.width=e(_).width+"px";var o,r=(o={},"landscape"===i?(o.imageTop=(e(A).height-e(_).height)/2,o.imageLeft=0):(o.imageTop=0,_lyteUiUtils.getRTL()?o.imageLeft="-"+(e(A).width-e(_).width)/2:o.imageLeft=(e(A).width-e(_).width)/2),o);c.style.left=r.imageLeft+"px",c.style.top=r.imageTop+"px";var u,y,g,f=(u={},_.src=w.src=S.src=l.src,u.cropperWidth=Q(),u.cropperHeight=(y=d,"n:n"===s&&(y=1),p.selection?p.selection.size?(g=parseFloat(p.selection.size)/y,p.maxSize&&parseFloat(p.maxSize)<parseFloat(p.selection.size)&&(g=parseFloat(p.maxSize)/y),p.minSize&&parseFloat(p.minSize)>parseFloat(p.selection.size)&&(g=parseFloat(p.minSize)/y)):g=Z().height:g="n:n"===s?e(_).height:Z().height,g),u);m.style.height=f.cropperHeight+"px",m.style.width=f.cropperWidth+"px";var v=function(){var t={};return p.selection?(p.selection.top?t.cropperTop=J().top:t.cropperTop=tt().cropperTop,p.selection.left?t.cropperLeft=J().left:t.cropperLeft=tt().cropperLeft):(t.cropperLeft=tt().cropperLeft,t.cropperTop=tt().cropperTop),t}();if(m.style.top=v.cropperTop+"px",m.style.left=v.cropperLeft+"px",S.style.left=-v.cropperLeft+"px",S.style.top=-v.cropperTop+"px",h.style.overflow="unset",90===a||270===a){var b=e(m),D=e(c);e(_);if(P=a)a-90,(P=a)>=360&&(P=0),_.style.transform="rotate("+P+"deg)",S.style.transform="rotate("+P+"deg)";else{var P=90;_.style.transform="rotate("+P+"deg)",S.style.transform="rotate("+P+"deg)"}d=1/d,i="landscape"===i?"portrait":"landscape",X(),ot(b,D)}if(180===a)if(P=a)a-90,(P=a)>=360&&(P=0),_.style.transform="rotate("+P+"deg)",S.style.transform="rotate("+P+"deg)";else{var P=90;_.style.transform="rotate("+P+"deg)",S.style.transform="rotate("+P+"deg)"}it(),m.addEventListener("mousedown",et)}(),X(),it()}()}),function(t){lyteDomObj&&(managerDD={init:!1,_current:null,_droppables:[],_checkAcceptable:function(t,e){if("string"!=typeof e){if(0===e.length)return!0;for(var o=0;o<e.length;o++)if(t.matches(e[o]))return!0}return!1},_isNotRejected:function(t,e){if("string"!=typeof e){if(0===e.length)return!0;for(var o=0;o<e.length;o++)if(t.matches(e[o]))return!1;return!0}return!1},_isOverAxis:function(t,e,o){return t>=e&&t<e+o},_checkIntersects:function(t,e,o,i){var a=e.getBoundingClientRect(),l=o.getBoundingClientRect(),n=a.left,r=a.top,s=n+a.width,d=r+a.height,p=l.left,c=l.top,h=p+l.width,u=c+l.height;if(e.ownerDocument.defaultView!=o.ownerDocument.defaultView){for(var y=e.ownerDocument.defaultView||e.ownerDocument.parentWindow;y&&y.frameElement;){n+=(m=y.frameElement.getBoundingClientRect()).left,s+=m.left,r+=m.top,d+=m.top,y=y.parent}for(y=o.ownerDocument.defaultView||o.ownerDocument.parentWindow;y&&y.frameElement;){var m;p+=(m=y.frameElement.getBoundingClientRect()).left,h+=m.left,c+=m.top,u+=m.top,y=y.parent}}switch(i){case"fit":return p<=n&&s<=h&&c<=r&&d<=u;case"intersect":return p<n+a.width/2&&s-a.width/2<h&&c<r+a.height/2&&d-a.height/2<u;case"pointer":if("mousemove"==t.type||"mouseup"==t.type)return managerDD._isOverAxis(t.clientY,c,l.height)&&managerDD._isOverAxis(t.clientX,p,l.width);if("touchmove"==t.type||"touchend"==t.type)return managerDD._isOverAxis(t.changedTouches[0].clientY,c,l.height)&&managerDD._isOverAxis(t.changedTouches[0].clientX,p,l.width);case"touch":return(r>=c&&r<=u||d>=c&&d<=u||r<c&&d>u)&&(n>=p&&n<=h||s>=p&&s<=h||n<p&&s>h);default:return!1}},_drag:function(t){for(var e=this._droppables,o=this._current,i=0;i<e.length;i++){var a=e[i]._droppableData;if(!a.disabled&&!o.isEqualNode(e[i])&&managerDD._checkAcceptable(o,a.accept)&&managerDD._isNotRejected(o,a.reject)){if(managerDD._checkIntersects(t,o,e[i],a.tolerance)){!a.entered&&a.onEnter&&a.onEnter(o,e[i]),a.onDrag&&a.onDrag(o,e[i],t),a.hoverClass&&!$L(e[i]).hasClass(a.hoverClass)&&(this.removeHoverClass(e[i],a.hoverClass),a.activeClass&&$L(e[i]).hasClass(a.activeClass)&&$L(e[i]).removeClass(a.activeClass),$L(e[i]).addClass(a.hoverClass),a.onHover&&a.onHover(o,e[i])),a.entered||(a.entered=!0);break}a.entered&&a.onLeave&&a.onLeave(o,e[i]),a.hoverClass&&$L(e[i]).hasClass(a.hoverClass)&&$L(e[i]).removeClass(a.hoverClass),a.activeClass&&!$L(e[i]).hasClass(a.activeClass)&&$L(e[i]).addClass(a.activeClass),a.entered&&(a.entered=!1)}}},_drop:function(t){for(var e=this._droppables,o=this._current,i=0;i<e.length;i++)if(!o.isEqualNode(e[i])){var a=e[i]._droppableData;if(a.activeClass&&$L(e[i]).hasClass(a.activeClass)&&$L(e[i]).removeClass(a.activeClass),a.hoverClass&&$L(e[i]).hasClass(a.hoverClass)&&$L(e[i]).removeClass(a.hoverClass),!a.disabled&&managerDD._checkAcceptable(o,a.accept)&&managerDD._checkIntersects(t,o,e[i],a.tolerance)){a.onDrop&&a.onDrop(o,e[i]);break}}},isRestricted:function(t,e){t=t instanceof Array?t:t.split(",");for(var o=0;o<t.length;o++)for(var i=document.querySelectorAll(t[o]),a=0;a<i.length;a++)if(e.isEqualNode(i[o]))return!0;return!1},destroy:function(e){if(e.classList.contains("droppable-element")){if(-1!==managerDD._droppables.indexOf(e)&&managerDD._droppables.splice(managerDD._droppables.indexOf(e),1),e._droppableData.registerFromParent||e._droppableData.registerToParent){var o=t;managerDD.deleteDroppable(e,o,"up"),managerDD.deleteDroppable(e,o,"down")}e._droppableData&&(e._droppableData=null),e.classList.remove("droppable-element")}else console.info("ALERT! - U have already destroyed its droppable behaviour.")},sortDroppables:function(){for(var t=this._droppables,e=t[t.length-1],o=e.getBoundingClientRect(),i=0;i<t.length-1;i++){var a=t[i].getBoundingClientRect();if(o.height<a.height&&o.width<a.width)return t.splice(t.indexOf(e),1),void t.splice(i,0,e)}},removeHoverClass:function(t,e){for(var o=this._droppables,i=0;i<o.length;i++)!o[i].isEqualNode(t)&&o[i].classList.contains(e)&&o[i].classList.remove(e)},deleteDroppable:function(t,e,o){if("up"==o)for(;e.parent&&((e=e.parent).managerDD&&-1!==e.managerDD._droppables.indexOf(t)&&e.managerDD._droppables.splice(e.managerDD._droppables.indexOf(t),1),e.parent!=e.top););if("down"==o){var i=e.document.documentElement.querySelectorAll("iframe");if(i)for(var a=0;a<i.length;a++){var l=i[a].contentWindow;l.managerDD&&-1!==l.managerDD._droppables.indexOf(t)&&(l.managerDD._droppables.splice(l.managerDD._droppables.indexOf(t),1),l.managerDD.deleteDroppable(t,l,"down"))}}}},lyteDomObj.prototype.droppable=function(e){if(managerDD.init||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),o=e.length-1;o>=0&&e.item(o)!==this;)--o;return o>-1}),managerDD.init=!0),managerDD.init||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),o=e.length-1;o>=0&&e.item(o)!==this;)--o;return o>-1}),managerDD.init=!0),"string"!=typeof e||"destroy"!==e){var o=e||{};if(this.length>1)for(n=this,r=0;r<n.length;r++)$L(n[r]).droppable(Object.assign({},o));else if(!o.restrict||!managerDD.isRestricted(o.restrict,this[0])){if(o._element=droppableEle=this[0],$L(o._element).addClass("droppable-element"),o.entered=!1,o.activeClass=!!o.activeClass&&o.activeClass,o.accept=o.accept?o.accept:[],o.disabled=!0===o.disabled&&o.disabled,o.hoverClass=!!o.hoverClass&&o.hoverClass,o.tolerance="fit"===o.tolerance||"intersect"===o.tolerance||"pointer"===o.tolerance||"touch"===o.tolerance?o.tolerance:"intersect",o.registerToParent=o.registerToParent,o.reject=o.reject?o.reject:[],droppableEle._droppableData=o,-1==managerDD._droppables.indexOf(droppableEle)&&(managerDD._droppables.push(droppableEle),managerDD._droppables.length>1&&o.sortDroppables&&managerDD.sortDroppables()),o.registerToParent)for(var i=t;i.parent&&((i=i.parent).managerDD&&(i.managerDD._droppables.push(droppableEle),i.managerDD._droppables.length>1&&droppableEle._droppableData.sortDroppables&&i.managerDD.sortDroppables()),i.parent!=i.top););if(o.registerFromParent){i=t;for(var a=t;a.parent;){if((a=a.parent).managerDD){var l=a.managerDD._droppables;for(r=0;r<l.length;r++)-1==i.managerDD._droppables.indexOf(l[r])&&(i.managerDD._droppables.push(l[r]),i.managerDD._droppables.length>1&&droppableEle._droppableData.sortDroppables&&i.managerDD.sortDroppables())}if(a.parent==a.top)break}}return droppableEle=null,o.onReady&&o.onReady(this[0]),this}}else if(this.length>1)for(var n=this,r=0;r<n.length;r++)managerDD.destroy(n[r]);else managerDD.destroy(this[0])})}(window),function(){var t=function(){},e=[];function o(t){return this.queue=[],this.total=0,this.sequential=!(t||{}).hasOwnProperty("sequential")||t.sequential,this.success={},this.error={},this.complete={},this.order=[],this}function i(o,i,l){var n=o.success||t,r=o.complete||t,s=o.error||t,d=o.beforeSend,p={};return new Promise(function(t,c){$L.extend(p,o),p.complete=function(){i.sequential?a(i)===l?(r.apply(this,arguments),i.order.shift(),function(t){var e,o,i,l,n,r,s=["success","error","complete"];for(;(e=a(t))&&(r=!0,s.forEach(function(a){r=$L.isEmptyObject(o=t[a][e]||{})&&r,n=o.context,l=o.args,(i=o.fn)&&i.apply(n,l)}),!r);)t.order.shift()}(i)):i.complete[l]={fn:r,context:this,args:arguments}:r.apply(this,arguments)},p.success=function(){i.sequential&&a(i)!==l?i.success[l]={fn:n,context:this,args:arguments}:n.apply(this,arguments),t({statusText:arguments[1],id:l,options:o,lXHR:arguments[2],data:arguments[0],passed:!0})},p.error=function(){i.sequential&&a(i)!==l?i.error[l]={fn:s,context:this,args:arguments}:s.apply(this,arguments),c({id:l,options:o,lXHR:arguments[0],statusText:arguments[1],error:s,passed:!1})},p.beforeSend=function(){var t;if(d)return!1===(t=d.apply(this,arguments))&&(e.push(l),c({id:l,options:o,lXHR:arguments[0],passed:!1})),t},$L.ajax(p)})}function a(t){var o=(t.order||[])[0];return~e.indexOf(o)&&(t.order.shift(),o=a(t)),o}function l(t,e){return new Promise(function(o,i){t.then(function(){o({data:arguments,passed:!0,id:e})},function(){i({data:arguments,passed:!1,id:e})})})}o.prototype.initiate=function(){for(var t,o,a,n,r,s=this.queue,d=[];t=s.shift();)o=t.options,a=t.id,r=t.type,this.order.push(a),"Object"===r?d.push(i(o,this,a)):(this.sequential=!1,d.push(l(o,a)));return n=new Promise(function(t,o){Promise.all(d.map(function(t){return t.catch(function(t){return t})})).then(function(t,o,i){var a=[],l=[];e=[],i.forEach(function(t){t.passed?l.push(t):a.push(t)}),0===a.length?t({success:l,failure:a}):o({success:l,failure:a})}.bind(this,t,o))}),this.queue=[],n},o.prototype.add=function(t){var e,o=this;return Array.isArray(t)?t.map(function(t){return o.add(t)}):(e=this.total++,this.queue.push({id:e,options:t,type:function(t){var e="Object";return t instanceof Promise&&(e="Promise"),e}(t)}),e)},o.prototype.removeAll=function(){var t=this.queue;this.remove(t.map(function(t){return t.id}))},o.prototype.remove=function(t){var e=this.queue;t=Array.isArray(t)?t:[t],this.queue=e.filter(function(e){return!!!~t.indexOf(e.id)})},$L.reqQueue=function(t){return new o(t)}}(),function(){if(lyteDomObj){var t=navigator.userAgent,e={uA:t,isUbuntu:/ubuntu/gi.test(t),isIpad:/ipad/gi.test(t),safari:/safari/gi.test(t),isIE11Lyte:/rv:11/gi.test(t),isEdgeLyte:/Edge/gi.test(t),mode:{},chrome:!!window.chrome,firefox:/firefox/gi.test(t)};function o(t,e,o){var i,a=document.createElement("div");return a.className=t,a._scrolldiv=this,a.style.visibility="hidden",(i=document.createElement("div")).classList.add("lyteScrollDiv"),e.handlerClass&&i.classList.add(e.handlerClass),e.containerClass&&a.classList.add(e.containerClass),a.appendChild(i),o?(i._direction=o,e.horizontalContainerClass&&a.classList.add(e.horizontalContainerClass),e.horizontalHandlerClass&&i.classList.add(e.horizontalHandlerClass),this._horiDiv=a):(e.verticalContainerClass&&a.classList.add(e.verticalContainerClass),e.verticalHandlerClass&&i.classList.add(e.verticalHandlerClass),this._vertDiv=a),this.parentElement.appendChild(a),a.addEventListener("click",d,!0),i.addEventListener("mousedown",p),this._infiniteScroll||i.addEventListener("touchstart",p),a}function i(t,e,o){t.style[e]!=o&&(t.style[e]=o)}function a(t,e,o,a,l){var n;return l=l||{},t?(-1!=["mouseenter","touchstart"].indexOf(l.type)&&"scroll"==this._scrollData.showOn||(this._enableScroll=!0,e&&(clearTimeout(e._entertimeout),clearTimeout(e._leavetimeout),delete e._entertimeout,delete e._leavetimeout,"touchstart"==l.type?e._entertimeout=setTimeout(i.bind(this,e,"visibility","visible"),150):i(e,"visibility","visible"),e.classList.add("visible"),P.call(this,a,void 0,{},o))),n=!0):e&&(i(e,"visibility","hidden"),e.classList.remove("visible")),n}function l(t){this.removeEventListener("wheel",l,!0),this.classList.contains("eventBinded")||n.call(this,{type:"mouseenter"}),t.preventDefault()}function n(t){if(!(this.classList.contains("eventBinded")&&1!=t||"mouseenter"==t.type&&this._prtmseenr)){var e,o={scrollLeft:this.scrollLeft,scrollTop:this.scrollTop,scrollWidth:this.scrollWidth,scrollHeight:this.scrollHeight,bcr:this.getBoundingClientRect()};if(this._wheelObj=o,this.classList.contains("lyteTableScroll")&&b.call(this,o),this._direction=getComputedStyle(this).direction,o.vertbcr=this._vertDiv?this._vertDiv.getBoundingClientRect():{},o.horbcr=this._horiDiv?this._horiDiv.getBoundingClientRect():{},e=a.call(this,!u.call(this,!0,o),this._vertDiv,o,!0,t),(e=a.call(this,!u.call(this,!1,o),this._horiDiv,o,!1,t)||e)&&t){if(this._mouseleave=this._mouseleave||s.bind(this.parentElement),"touchstart"==t.type){if(1!=t.touches.length)return;clearTimeout(this._tchtime),document.addEventListener("touchcancel",this._mouseleave,!0)}else this.addEventListener("wheel",y,!0),this.addEventListener("keydown",r,!0),"scroll"==this._scrollData.showOn&&this.addEventListener("mousemove",v,!0);this._allowTouch=!0,document.addEventListener("touchend",this._mouseleave,!0),this.classList.add("eventBinded"),this._tabindex=void 0==this._tabindex?this.tabIndex:this._tabindex,-1==this.tabIndex&&(this.tabIndex=0)}}}function r(t){if(t.target==this){var o=t.keyCode,i={scrollLeft:this.scrollLeft,scrollTop:this.scrollTop,scrollWidth:this.scrollWidth,scrollHeight:this.scrollHeight,bcr:this.getBoundingClientRect()};if(-1!=[37,38,39,40].indexOf(o)){var a,l,n=this._scrollData.keyStep,r=t.metaKey||t.ctrlKey,s=this._direction;if(38==o)a=r?-i.scrollTop:-n,l=!0;else if(40==o)a=r?i.scrollHeight-i.scrollTop:n,l=!0;else if(39==o){var d;if("rtl"==s)d=e.isIE11Lyte||e.isEdgeLyte?i.scrollWidth-i.scrollLeft:e.firefox||e.safari?-i.scrollLeft:i.scrollWidth-i.bcr.width,a=r?d:n;else a=r?i.scrollWidth-i.bcr.width:n}else a="rtl"==s&&(e.firefox||e.safari)?r?i.bcr.width-i.scrollWidth:-n:r?-i.scrollLeft:-n;0!=a&&m.call(this,i,l,a)&&(this[l?"scrollTop":"scrollLeft"]+=a,f.call(this,t),t.preventDefault())}}}function s(t){if(!((t=t||{}).relatedTarget&&this.contains(t.relatedTarget)||document._scrollmouseup)){if("touchend"==t.type){var e=t.target.correspondingElement||t.target;if(e&&e.classList.contains("lyteScrollContainer"))return}var o=$L(this).children(".lyteScrollContainer"),a=this._scrolldiv;if(o.length){for(var n=0;n<o.length;n++)clearTimeout(o[n]._entertimeout),clearTimeout(o[n]._leavetimeout),delete o[n]._entertimeout,delete o[n]._leavetimeout,o[n].classList.remove("visible"),"touchend"==t.type?o[n]._leavetimeout=setTimeout(i.bind(this,o[n],"visibility","hidden"),150):o[n].style.visibility="hidden";"mouseleave"==t.type?(a.removeEventListener("wheel",y,!0),a.removeEventListener("keydown",r,!0),a.removeEventListener("mousemove",v,!0),a.addEventListener("wheel",l,!0)):"touchend"!=t.type&&"touchcancel"!=t.type||(a._prtmseenr=!0,a._tchtime=setTimeout(function(){delete a._prtmseenr},500),document.removeEventListener("touchcancel",a._mouseleave,!0)),t.type&&(document.removeEventListener("touchend",a._mouseleave,!0),delete a._allowTouch,a.classList.remove("eventBinded"),delete a._wheelObj,delete a._prevPosY,delete a._mouseleave,delete a._prevPosX,delete a._wheelEvt),delete this._scrolldiv._enableScroll}}}function d(t){if(this.classList.contains("visible")){if("touchmove"==t.type){if(t.touches.length>1)return;t.preventDefault(),t=t.touches[0]}var e,o=this._scrolldiv,i=this.children[0],a=this.getBoundingClientRect(),l=i.getBoundingClientRect(),n={scrollLeft:o.scrollLeft,scrollTop:o.scrollTop,scrollWidth:o.scrollWidth,scrollHeight:o.scrollHeight,bcr:o.getBoundingClientRect()},r="width",s="left",d="scrollLeft",p="scrollWidth",c="clientX";this.classList.contains("lyteTableScroll")&&!n.$nodeClient&&b.call(this,n),n.vertbcr=this._vertDiv?this._vertDiv.getBoundingClientRect():{},n.horbcr=this._vertDiv?this._horiDiv.getBoundingClientRect():{},i._direction||(!0,r="height",s="top",d="scrollTop",p="scrollHeight","bottom",c="clientY"),e=("click"!=t.type?t[c]-(this.prev||t[c]):t[c]-(l[s]+l[r]/2))/(n.bcr[r]+n.bcr[s]-a[s])*n[p],o[d]+=e,f.call(o,t),this.prev=t[c]}}function p(t){var e="touchstart"==t.type;document._scrollmousemove=d.bind(this.parentNode),document._scrollmouseup=c.bind(this.parentNode),document.addEventListener(e?"touchmove":"mousemove",document._scrollmousemove,!0),document.addEventListener(e?"touchend":"mouseup",document._scrollmouseup,!0),t.preventDefault(),t.stopPropagation()}function c(t){var e="touchend"==t.type;document.removeEventListener(e?"touchmove":"mousemove",document._scrollmousemove,!0),document.removeEventListener(e?"touchend":"mouseup",document._scrollmouseup,!0),delete document._scrollmousemove,delete document._scrollmouseup,delete this.prev,this._scrolldiv.contains(t.target.correspondingElement||t.target)||"always"==this._scrolldiv._scrollData.showOn||s.call(this._scrolldiv.parentElement,{type:"mouseleave"})}function h(t){document._scrollmouseup||(document._scrollmouseup=c.bind(this.parentElement),document.addEventListener("mouseup",document._scrollmouseup,!0))}function u(t,e){var o="scrollTop",i="scrollHeight",l="height",n=t?this._vertDiv:this._horiDiv;if(t||(o="scrollLeft",i="scrollWidth",l="width"),e[o]+e.bcr[l]>=e[i]-5&&0==e[o])return n&&n.classList.contains("visible")&&a.call(this,!1,n),!0}function y(t){if(!function(t){for(var e,o=(t=t||{target:this}).target.correspondingElement||t.target;o&&o!=this;){if(o.classList.contains("preventWheel")){e=!0;break}o=o.parentElement}return e}.call(this,t))if("touchmove"==t.type){if(this._allowTouch&&1==t.touches.length){var e=t.touches[0];g.call(this,t,[(this._prevPosX||e.clientX)-e.clientX,(this._prevPosY||e.clientY)-e.clientY]),this._prevPosY=e.clientY,this._prevPosX=e.clientX}}else g.call(this,t)}function m(t,o,i){var a="scrollTop",l="scrollHeight",n="height";o?this._vertDiv:this._horiDiv;return o||(a="scrollLeft",l="scrollWidth",n="width"),!(i>0&&Math.round(t[a]+t.bcr[n])>=t[l]||i<0&&Math.round(-t[a]+t.bcr[n])>=t[l])&&(!!(!o&&e.firefox&&"rtl"==this._direction&&i<0&&0==t[a])||!(i<0&&0==t[a]&&!(i<0&&e.safari&&"rtl"==this._direction&&0==t[a])))}function g(t,o){var i,a,l=o||function(t){var o=this._scrollData.wheelSpeed,i=o,a=e.uA.toLowerCase(),l=this._infiniteScroll,n=e.isIE11Lyte;-1==a.indexOf("edge")&&-1==a.indexOf("trident")&&-1==a.indexOf("msie")||"rtl"!=this._direction||(o*=-1);var r,s,d=t.deltaMode&&1==t.deltaMode;return t.deltaX>0?r=Math.max(d?6*t.deltaX:t.deltaX,l?0:4):t.deltaX<0&&(r=Math.min(l?0:-4,d?6*t.deltaX:t.deltaX)),t.deltaY>0?s=Math.min(Math.max(d?6*t.deltaY:t.deltaY,l?0:4),n?20:1/0):t.deltaY<0&&(s=Math.max(Math.min(l?0:-4,d?6*t.deltaY:t.deltaY),n?-20:-1/0)),[r*o,s*i]}.call(this,t),r=l[0]||0,d=l[1]||0,p=!1,c=this._wheelObj||{},h=this.classList.contains("lyteTableScroll");if(Math.abs(o?r:t.deltaX||0)<Math.abs(o?d:t.deltaY||0)&&(p=!0),!(this._scrollData.nested&&p&&function(t,e){for(var o=t.target;o!=this;){var i=o.scrollTop,a=o.scrollHeight,l=o.offsetHeight,n=window.getComputedStyle(o),r=/scroll|auto/i.test(n.overflowY)||o.classList.contains("lyteScrollBar")&&/hidden/i.test(n.overflowY);if(l<a)if(e){if(l+i<a&&r)return!0}else if(i&&r)return!0;o=o.parentNode}}.call(this,t,d>0))){if("scroll"==this._scrollData.showOn){if(!this._enableScroll)return n.call(this,!0),void t.preventDefault();clearTimeout(this._scrollplugin),this._scrollplugin=setTimeout(s.bind(this.parentElement,{}),this._scrollData.tOut)}if(this._scrollEnd&&(c={scrollLeft:this.scrollLeft,scrollTop:this.scrollTop,scrollWidth:this.scrollWidth,scrollHeight:this.scrollHeight,bcr:this.getBoundingClientRect()},this._wheelObj=c,this.classList.contains("lyteTableScroll")&&b.call(this,c)),this._wheelObj){if((i=u.call(this,p,c))&&p&&(!this._vertDiv||this._vertDiv&&!this._vertDiv.classList.contains("visible"))||i&&!p&&(!this._horiDiv||this._horiDiv&&!this._horiDiv.classList.contains("visible")))return;if(a=m.call(this,c,p,p?d:r),!this._infiniteScroll&&!a)return void(this._scrollData.preventOnEnd&&t.preventDefault());t.preventDefault(),!a&&h&&p&&this.comp.scrollTable.call(this.comp,{yScroll:d},this._wheelObj)}p?e.isIE11Lyte?this._wheelObj&&(this._wheelObj.scrollTop=Math.max(Math.min(this._wheelObj.scrollTop+d,this._wheelObj.scrollHeight-this._wheelObj.bcr.height),0),h&&(t.yScroll=d,this.comp.scroll.call(this,t)),this.scrollTop+=d):e.isIE11Lyte||(this.scrollTop+=d):e.isIE11Lyte?this._wheelObj&&(this._wheelObj.scrollLeft=Math.max(Math.min(this._wheelObj.scrollLeft+r,this._wheelObj.scrollWidth-this._wheelObj.bcr.width),0),h&&(t.xScroll=r,this.comp.scroll.call(this,t)),this.scrollLeft+=r):this.scrollLeft+=r,(e.safari||e.isIE11Lyte||e.isIpad)&&(this._alive=!0,clearTimeout(this._alivetime),this._alivetime=setTimeout(function(){delete this._alive,delete this._alivetime}.bind(this),16),this._scrollFun.call(this,t))}}function f(t){var o,i,a=e.isIE11Lyte||e.safari||e.isIpad,l=e.isIE11Lyte;if(a&&t&&"scroll"==t.type&&this._alive&&!t._byFunc)D.call(this,e.mode.a,e.mode.b,this._wheelObj||{bcr:{}},t);else{var n={scrollLeft:this.scrollLeft,scrollTop:this.scrollTop,scrollWidth:this.scrollWidth,scrollHeight:this.scrollHeight,bcr:this.getBoundingClientRect()};this._wheelObj=n,this.classList.contains("lyteTableScroll")&&b.call(this,n),this.prevScrlLeft!=n.scrollLeft&&(o=n.scrollLeft-(this.prevScrlLeft||0),i=0,P.call(this,!1,o,t,n)),this.prevScrlTop!=n.scrollTop&&(i=n.scrollTop-(this.prevScrlTop||0),o=0,P.call(this,!0,i,t,n)),e.mode.b=i,e.mode.a=o,l&&(!a||this._alive&&!t._byFunc)||this.classList.contains("lyteTableScroll")&&this.comp.scroll.call(this,t)}}function v(t){clearTimeout(this._scrollplugin),this._scrollplugin=setTimeout(s.bind(this.parentElement),500)}function b(t){var e=this.comp.$node.getElementsByTagName("lyte-th");if(this._infiniteScroll){t.$nodeClient=this.parentElement.getBoundingClientRect();var o=this.getElementsByClassName("lytePreventInfiniteScroll");t.neglected=[];for(var i=0;i<o.length;i++)o[i].classList.contains("lyteHidden")||t.neglected.push(o[i]);if(t.compNeg=o,void 0!=this.comp._top){t.topElem=[];for(var a=this.getElementsByTagName("lyte-tbody")[0],l=a.getElementsByTagName("lyte-tr"),n=0;n<l.length;n++)l[n].classList.contains("dummy")||t.topElem.push(l[n]);t.topElem=t.topElem[this.comp._top+t.compNeg.length],t.topElemClient=t.topElem?this.comp.topElem(t.topElem):{},t.bottmElem=a.querySelector("lyte-tr:nth-of-type("+(this.comp._bottom+1+t.compNeg.length)+")"),t.bottmElemClient=t.bottmElem?this.comp.topElem(t.bottmElem):{},t.tbody=a,t.tbodyClient=t.tbody?t.tbody.getBoundingClientRect():{}}}t.scrollDivClient=t.bcr;for(var r=0;r<e.length;r++)e[r].property=e[r].getBoundingClientRect(),e[r].order=r;t.calculated=!0}function D(t,o,i,a){delete this._scrollEnd,(Math.ceil(i.scrollLeft+i.bcr.width+this._scrollData.offset.x)>=i.scrollWidth&&("rtl"!=this._direction||!e.chrome)||(e.firefox||e.safari)&&"rtl"==this._direction&&Math.ceil(-i.scrollLeft+i.bcr.width+this._scrollData.offset.x)>=i.scrollWidth||"rtl"==this._direction&&e.chrome&&i.scrollLeft==this._scrollData.offset.x)&&(a.horiScrollEnd=!0),Math.ceil(i.scrollTop+i.bcr.height+this._scrollData.offset.y)>=i.scrollHeight&&(this._scrollEnd=a.vertScrollEnd=!0),a.yScroll=o,a.xScroll=t,a._byPlugin=!0,this._wheelObj=i}function P(t,o,a,l){if(0!=parseInt(Math.abs(o))&&(!t||this._vertDiv)&&(t||this._horiDiv)){var n=this[t?"_vertDiv":"_horiDiv"],r=l[t?"vertbcr":"horbcr"]||n.getBoundingClientRect(),s=n.children[0],d="scrollTop",p="scrollHeight",c="height",h="top",u=this._direction;t||(d="scrollLeft",p="scrollWidth",c="width",h="left");var y=(l.bcr[c]-(r[h]-l.bcr[h]))/l[p],m=l[d]/l[p],g=this._scrollData.minLength,f=g?"auto"!=g?g:0:.1*l.bcr[c];i(s,c,Math.max(y*l.bcr[c],f).toFixed(3)+"px"),"rtl"==u&&s._direction?e.safari&&!window.chrome||e.firefox?i(s,"transform","translateX("+l[d]/l[p]*100*l.bcr[c]/parseFloat(Math.max(y*l.bcr[c],f).toFixed(3))+"%)"):i(s,"transform","translateX("+-(l[p]-l.bcr[c]-l[d])/l[p]*100*l.bcr[c]/parseFloat(Math.max(y*l.bcr[c],f).toFixed(3))+"%)"):i(s,"transform",(t?"translateY":"translateX")+"("+m*(l.bcr[c]-(r[h]-l.bcr[h])-Math.max(0,f-y*l.bcr[c]))+"px)"),this.prevScrlLeft=l.scrollLeft,this.prevScrlTop=l.scrollTop,a.type&&D.call(this,t?0:o,t?o:0,l,a)}}function C(t){var e=t.target.correspondingElement||t.target;e!=document&&e!=document.body&&e._scrollFun&&e._scrollFun.call(e,t),t._byFunc&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}lyteDomObj.prototype.removeScroll=function(){for(var t=0;t<this.length;t++){var e=this[t],o=e.parentElement;if(o){e._scrollData&&delete e._scrollData;for(var i=o.querySelectorAll("div.lyteScrollContainer"),a=0;a<i.length;a++)i[a].parentElement==o&&(delete i[a]._entertimeout,delete i[a]._leavetimeout,o.removeChild(i[a]));e.classList.remove("lyteScrollBar","eventBinded"),e.removeEventListener("mouseenter",n,!0),e.removeEventListener("wheel",l,!0),e.removeEventListener("touchstart",n,!0),o.removeEventListener("mouseleave",s,!0),e.removeEventListener("mousedown",h),e.removeEventListener("touchmove",y,{passive:!1}),e.removeEventListener("scroll",f,!0),clearTimeout(e._tchtime),e._mouseleave&&(document.removeEventListener("touchcancel",e._mouseleave,!0),document.removeEventListener("touchend",e._mouseleave,!0)),delete e._wheelObj,delete e._vertDiv,delete e._horiDiv,delete e._scrollFun,delete e._alivetime,delete e._alive,delete e._wheelObj,delete e.resetScrollbar,delete o._scrolldiv,delete e._tchtime,delete e._allowTouch,e.classList.remove("eventBinded"),e.tabIndex=e._tabindex,delete e._tabindex,delete e._wheelObj,delete e._prevPosY,delete e._mouseleave,delete e._prevPosX,delete e._wheelEvt}}return this},lyteDomObj.prototype.scroll=function(t){(t=t||{}).showOn=t.showOn||"hover",t.keyStep=t.keyStep||30,t.wheelSpeed=t.wheelSpeed||1,t.preventOnEnd=void 0==t.preventOnEnd||t.preventOnEnd,t.offset=t.offset||{x:0,y:0},t.tOut=t.scrollTimeout||500,t.nested=t.nested||!1,t.preventXScroll&&(t.preventHorizontal=!0),t.preventYScroll&&(t.preventVertical=!0);for(var a=0;a<this.length;a++){var r,d=this[a],p=d.parentElement;i(p,"position","relative"),d._scrollData&&$L(d).removeScroll(),d.resetScrollbar=n.bind(this[a]),p._scrolldiv=d,d._scrollData=t,t.preventVertical||(r=o.call(d,"lyteScrollContainer lyteScrollContainerY",t),"left"==t.verticalPosition&&r.classList.add("left")),t.preventHorizontal||(r=o.call(d,"lyteScrollContainer lyteScrollContainerX",t,!0),"top"==t.horizontalPosition&&r.classList.add("top")),e.firefox&&(d.scrollLeft=0,d.scrollTop=0),d.addEventListener("mouseenter",n,!0),d.addEventListener("touchstart",n,!0),d.addEventListener("touchmove",y,{passive:!1}),d.addEventListener("mousedown",h),d.addEventListener("wheel",l,!0),"always"!=t.showOn?p.addEventListener("mouseleave",s,!0):setTimeout(n.bind(this[a]),100,{}),d.classList.add("lyteScrollBar"),d._scrollFun=f}return this},lyteDomObj.prototype.destroyLyteScroll=function(){return $L(".lyteScrollBar").removeScroll(),window.removeEventListener("scroll",C,!0),this},lyteDomObj.prototype.resetScrollbar=function(){for(var t=0;t<this.length;t++)this[t]._scrollData&&this[t].resetScrollbar(!0)},window.addEventListener("scroll",C,!0)}}(window),function(){if(lyteDomObj){function t(t){if(!([37,13,38,39,40,91,27,16,18].indexOf(t.keyCode)>-1)){this._searchPluginData;clearTimeout(this.timeout),clearTimeout(this._iptime),this.timeout=setTimeout(o.bind(this),100,t)}}function e(t){clearTimeout(this._iptime),this._iptime=setTimeout(o.bind(this),30,t)}function o(t){t=t||{};var e=this._searchPluginData,o=function(){var t=this._searchPluginData,e="string"==typeof t.scope?document.querySelector(t.scope):t.scope,o=[],i=[],a=[],l=[];if(t.search){a=e.querySelectorAll(t.search.trim());for(var n=t.target?t.target:t.search,r=0;r<a.length;r++)o.push(a[r].textContent);i=e.querySelectorAll(n)}else{var s=function t(e){var o=[];var i=[];for(var a=0;a<e.childElementCount;a++){for(;e.children[a].childElementCount;){returnedVal=t(e.children[a]),o=o.concat(returnedVal[0]),i=i.concat(returnedVal[1]);break}e.children[a].childElementCount||(o.push(e.children[a].textContent),i.push(e.children[a]))}return[o,i]}(e);o=s[0],i=s[1],a=i.slice()}t.related&&(t.target||t.scope)&&(l=e.querySelectorAll(t.related));return[o,i,a,l]}.call(this,t),r=o[0],s=o[1],d=o[2],p=o[3],c=e.caseSensitive,h=e.minLength?e.minLength:0,u=e.method?e.method:"contains",y=t.keyCode||t.which,m=i(c,"LYTE-INPUT"==this.tagName?this.querySelector("input,textarea").value:this.value,e.trim),g=[],f=e.component,v=[];if(m.length>=h||8==y||46==y){if(m.length)for(var b=0;b<r.length;b++){a(u,m=m,D=i(c,r[b].trim()))?g.push(d[b]):v.push(d[b])}else g=Array.apply(Array,d);if(e.onSearch&&0==e.onSearch(g,t,m))return;for(b=0;b<r.length;b++){var D=i(c,r[b].trim());m=m;n.call(this,s[b],a(u,m,D),m)}if(/tree|accordion/.test(f))"accordion"==f?$L.fastdom.measure(function(t,e,o){for(var i=$L(this._searchPluginData.scope)[0],a=0;a<t.length;a++){for(var l=$L(t[a]).closest("lyte-accordion-item",i),n=0;n<e.length;n++){var r=$L(e[n]).closest("lyte-accordion-item",i);l[0]!=r[0]||(Lyte.arrayUtils(e,"removeAt",n),n--)}if(t[a+1]){var r=$L(t[a+1]).closest("lyte-accordion-item",i);l[0]==r[0]&&(Lyte.arrayUtils(t,"removeAt",a+1),a--)}}$L.fastdom.mutate(function(){for(var a=i.ltProp("exclusive")?t.length-1:0;a<t.length;a++){var l=!1,n=$L(t[a]).closest("lyte-accordion-item");l=!n.hasClass("lyteAccordionActive"),o||(l=!l),l&&n.click()}for(var r=0;r<e.length;r++){var n=$L(e[r]).closest("lyte-accordion-item");n.hasClass("lyteAccordionActive")&&n.click()}})}.bind(this,g,v,m)):"tree"==f&&$L.fastdom.measure(function(t,e,o,i){for(var a=$L(this._searchPluginData.scope)[0],n=0;n<t.length;n++){var r=$L(t[n]).closest(".lyteTreeBodyDiv");for(j=0;j<e.length;j++){var s=$L(e[j]).closest(".lyteTreeBodyDiv"),d=r[0].contains(s[0])||s[0].contains(r[0]);d&&(s.addClass("lyteSearchHidden"),Lyte.arrayUtils(e,"removeAt",j),j--)}}for(var n=0;n<t.length;n++)l(t[n],a),o.length&&a.ltProp("stateAttr",$L(t[n]).closest("lyte-tree-body").attr("data-value"));if(o.length)for(var n=0;n<e.length;n++)$L(e[n]).closest(".lyteTreeBodyDiv").addClass("lyteSearchHidden");else!function(t){for(var e=t.length-1;e>=0;e--){var o=t.eq(e);o.hasClass("lyteIconOpened")&&setTimeout(o.click.bind(o),20)}}($L("lyte-yield:not(.noChildClass) lyte-tree-icon",a))}.bind(this,g,v,m));else for(b=0;b<p.length;b++)p[b].querySelectorAll(e.target||e.search).length==p[b].querySelectorAll(".lyteSearchHidden").length?p[b].classList.add("lyteSearchHidden"):p[b].classList.remove("lyteSearchHidden")}}function i(t,e,o){return t||(e=e.toLowerCase()),o&&(e=e.trim()),e}function a(t,e,o){var i;switch(t){case"contains":i=o.indexOf(e)>=0;break;case"startsWith":i=0==o.indexOf(e);break;case"endsWith":var a=o.lastIndexOf(e);-1!=a&&(i=a+e.length==o.length)}return i}function l(t,e){var o=$L(t).closest(".lyteSearchHidden",e);o.length&&(o.removeClass("lyteSearchHidden"),l(t,e))}function n(t,e,o){var i=this._searchPluginData,a=i.component;i.scope.constructor==String?document.querySelector(i.scope):i.scope;if(e){if("dropdown"==a){var l=$L(t).closest("lyte-drop-box")[0];l&&l.classList.contains("lyteDropdownHidden")&&l.origindd.toggle()}t.classList.remove("lyteSearchHidden")}else if("tree"!=a){if(t.classList.contains("lyteSearchHidden"))return;t.classList.add("lyteSearchHidden")}}lyteDomObj.prototype.search=function(i){if((i=i||{}).scope){"string"==typeof i.scope?document.body.querySelector(i.scope.trim()):i.scope;var a=this[0];return a._searchPluginData=i,"accordion"==i.component?i.related="lyte-accordion-item":"tree"==i.component&&(i.related=".lyteTreeBodyDiv lyte-yield:not(.noChildClass) lyte-tree-icon"),a.setValue=function(t){t=void 0!=t?t:"","LYTE-INPUT"==this.tagName?this.ltProp({value:t}):this.value=t;var e=new Event("keyup");e.which=e.keyCode=8,this.dispatchEvent(e)},a.addEventListener("keyup",t),a.addEventListener("input",e),a.reset=o.bind(a),this}console.error("scope is not given")},$L.prototype.removeSearch=function(){for(var o=0;o<this.length;o++){var i,a,l,n=this[o];n._searchPluginData&&(delete n.reset,i=n._searchPluginData.scope,a=n._searchPluginData.target||n._searchPluginData.search,l=n._searchPluginData.related,i&&((i=$L(i)).find(a).removeClass("lyteSearchHidden"),l&&i.find(l).removeClass("lyteSearchHidden"),delete n._searchPluginData,n.removeEventListener("input",e),n.removeEventListener("keyup",t)))}return this}}}(),function(t,e){var o,i,a,l={},n=[],r=[],s={},d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"meta",92:"meta",93:"meta",224:"meta"},p={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",187:"plus",188:"<",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},c={_:"-",plus:"=","{":"[","}":"]","|":"\\",":":";",'"':"'","<":",",">":".","?":"/","~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0"};function h(t){for(var e=1;e<=12;e++)if(t.toLowerCase()==="f"+e)return!0;return!1}function u(t){for(var e,o,i,a=y(t),l=[],n=0;n<a.length;n++)"ctrl"===(o=(o=a[n]).toLowerCase())||"command"===o||"alt"===o||"shift"===o?(a[n]="command"===a[n]?"meta":a[n],-1!=t.indexOf("+")&&(l.push(a[n]),a.splice(n,1),n--)):h(a[n])?a[n]=a[n].toLowerCase():(e=a[n],c[e]&&-1!=t.indexOf("+")&&(l.push("shift"),a[n]=c[a[n]]));return-1!==t.indexOf("+")?(a=a.join("+"),i=!0):(a=a.join(" "),i=!1),{modifier:l,newKey:a,modifierFlag:i}}function y(t){return-1!==t.indexOf("+")?t.split("+"):t.split(" ")}function m(e,o,a,l){if(o)f(),i=setTimeout(function(){var o;(o=!1!==(o=e.call(t,a,l))||o)||a.preventDefault(),s={},n=[],r=[]},o);else{f();var d=e.call(t,a,l);(d=!1!==d||d)||a.preventDefault(),s={},n=[],r=[]}}function g(t,o){(function(t){var o=t;switch(t.tagName){case"BUTTON":case"LYTE-ACCORDION-ITEM":case"LYTE-NAV-ITEM":return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length);case"LYTE-MENU-ITEM":for(;"LYTE-MENU-BODY"!==o.tagName;)o=o.parentElement;for(var i=o.parent.ltProp("query"),a=e.querySelectorAll(i),l=0;l<a.length;l++)if(a[l].offsetWidth||a[l].offsetHeight||a[l].getClientRects().length)return!0;return!1}})(t="LYTE-BUTTON"===t.tagName?t.querySelector("button"):t)&&(o?(f(),a=setTimeout(function(){t.click(),s={},n=[],r=[]},o)):(f(),t.click(),s={},n=[],r=[]))}function f(){clearTimeout(i),clearTimeout(a)}function v(t){var i,a;if(!(i=e.activeElement,("INPUT"===(a=i.tagName)&&-1===["checkbox","radio","file","color","range"].indexOf(i.type)||"true"===i.getAttribute("contenteditable")||"SELECT"===a||"TEXTAREA"===a)&&!i.classList.contains("lyte-shortcut"))){var h=function(t){var e=t.which;return d[e]?d[e]:p[e]?t.shiftKey?p[e]:c[p[e]]:String.fromCharCode(e).toLowerCase()}(t);d[t.which]?r.push(d[t.which]):(n.push(h),r.push(h)),function(t){for(var e in l){if(-1!==e.indexOf("r:")){var o=e.substring(2).match(new RegExp("^/(.*?)/([gimy]*)$"));if(new RegExp(o[1],o[2]).test(n.join(""))){s[e]=1;continue}s[e]=0}var i,a=y(e);if(s[e]=i=s[e]?s[e]:0,!c[a[i]]||"shift"!==t){if(c[t]&&c[t]===a[i]){for(var r=l[e],d=!1,p=0;p<r.length;p++)if(r[p].modifierFlag&&-1!==r[p].modifier.indexOf("shift")){s[e]++,d=!0;break}if(d)continue}a[i]===t?s[e]++:s[e]=0}}}(h);var u=function(t){var e=[],o=function(t){var e=[];return t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.shiftKey&&e.push("shift"),t.metaKey&&e.push("meta"),e}(t);for(var i in s)if(-1!==i.indexOf("r:")&&s[i]>0)(n=l[i])._invokedKey=i,e.push(n);else for(var a=0;a<l[i].length;a++){var n;(n=l[i][a]).modifierFlag&&s[i]===y(i).length&&n.modifier.sort().join(" ")===o.sort().join(" ")?(n._invokedKey=0!==n.modifier.sort().length?n.modifier.sort().join("+")+"+"+i:i,e.push(n),s[i]=0):n.modifierFlag||s[i]!==y(i).length||r.length!==y(i).length||(n._invokedKey=i,e.push(n),s[i]=0)}return e}(t);clearTimeout(o),o=setTimeout(function(){s={},n=[],r=[]},1e3),u.length&&function(t,e){for(var o=0;o<t.length;o++){t[o].type;var i=t[o].value,a=t[o].wait,l=t[o]._invokedKey;"function"==typeof i?m(i,a,e,l):g(i,a)}}(u,t)}}function b(t,e,o){L.push({newKey:t,oldKey:void 0,value:e,options:o})}function D(t){return t=t.replace(/\s+/i," ")}function P(t,e,o){t="r:"+t;var i=o.wait?o.wait:0,a=typeof e;l[t]={type:a,value:e,wait:i}}function C(t){var e=u(D(t)),o=l[e.newKey];if(o)for(var i=0;i<o.length;i++){if(e.modifierFlag&&o[i].modifier.sort().join(" ")===e.modifier.sort().join(" ")){l[e.newKey].splice(i,1);break}if(!e.modifierFlag){l[e.newKey].splice(i,1);break}}}function L(t){!function(){for(var t=0;t<=9;t++)d[t+96]=t.toString();for(t=1;t<=12;t++)d[111+t]="f"+t;navigator.userAgent.match("Firefox")?(p[59]=":",p[173]="_"):(p[186]=":",p[189]="_")}(),t.addEventListener("keydown",v)}Object.defineProperty(L,"push",{writable:!1,value:function(t){var e=t.oldKey;if(e&&L.unregister(e),t.newKey){var o=D(t.newKey);if("regex"!==t.type){var i,a=t.value,n=u(o);i=t.options&&t.options.wait?t.options.wait:0;var r=typeof a;if(l[n.newKey]){for(var s=!0,d=0;d<l.length;d++)if(l[d].modifier.sort().join(" ")===n.modifier.sort().join(" ")){l[n.newKey][d]={type:r,value:a,modifier:n.modifier,modifierFlag:n.modifierFlag,wait:i},s=!1;break}s&&l[n.newKey].push({type:r,value:a,modifier:n.modifier,modifierFlag:n.modifierFlag,wait:i})}else l[n.newKey]=[{type:r,value:a,modifier:n.modifier,modifierFlag:n.modifierFlag,wait:i}]}else P(o,t.value,options)}}}),Object.defineProperty(L,"register",{writable:!1,value:function(t,e,o){o&&"regex"===o.type&&P(t,e,o);var i=typeof t;"string"===i||"object"===i?"object"===i?function(t,e,o){for(var i=0;i<t.length;i++)b(t[i],e,o)}(t,e,o):b(t,e,o):console.error("Invalid Type")}}),Object.defineProperty(L,"unregister",{writable:!1,value:function(t){if("object"==typeof t)for(var e=0;e<t.length;e++){C(t[e])}else C(t)}}),Object.defineProperty(L,"unregisterAll",{writable:!1,value:function(){for(var t in l)delete l[t]}}),L(e),t.shortcut=L}(window,document),function(t){lyteDomObj&&(manageSortable={keyPressed:!1,keyValue:0,countSortable:0,init:!1,prevSortable:!1,mousedownTriggered:!1,draggedEle:null,_ssData:{},measureQueue:[],mutateQueue:[],isEqual:function(t,e){if(t.length!=e.length)return!1;for(var o=0;o<t.length;o++)if(-1==e.indexOf(t[o]))return!1;return!0},convertToArrayOfItems:function(t){if("string"!=typeof t&&t.length>0)return t;var e=[];return t.split(",").forEach(function(t,o){var i=$L(t.trim());if(i.length)for(var a=0;a<i.length;a++)-1==e.indexOf(i[a])&&e.push(i[a]);else-1==e.indexOf(i)&&e.push(i)}),e},destroy:function(t){if(t.classList.contains("sortable-parent")){for(var e=Array.from(t.children).filter(function(t){return"TEMPLATE"!=t.tagName}),o=t.getSortableClass(),i=0;i<e.length;i++)e[i].classList.remove("sortable-element",o),e[i]._sortableChildData&&(e[i]._sortableChildData=null);t._mousedown&&(t.removeEventListener("mousedown",t.__mouseDownEvent),t.removeEventListener("touchstart",t.__mouseDownEvent,!0),t._mousedown=!1),t.classList.remove("sortable-parent"),t._sortableParentData=null}else console.info("ALERT! - U have already destroyed its sortable behaviour.")},cancel:function(t){if(t.classList.contains("sortable-parent")){for(var e=t.children,o=e.length-1;o>=0;o--)if(e[o]._pos!=o){for(var i,a=o;a>=0;a--)if(e[a]._pos==o){i=e[a];break}o==e.length-1?_lyteUiUtils.appendChild(t,i):_lyteUiUtils.insertBefore(e[o+1],i)}}else console.info("ALERT! - The element is not a sortable parent.")},alreadySortable:function(t){for(var e=0;e<t.length;e++)if($L(t[e]).hasClass("sortable-parent")&&t[e]._sortableParentData)return{found:!0,class:t[e]._sortableParentData.sortableElemClass};return{found:void 0}},isOver:function(t,e,o){var i,a;if(o){if((i=manageSortable.prevSortable?manageSortable.prevSortable.getBoundingClientRect():null)&&(t.clientX<i.left||t.clientX>i.right||t.clientY<i.top||t.clientY>i.bottom))manageSortable.prevSortable&&manageSortable.prevSortable._sortableParentData&&manageSortable.prevSortable._sortableParentData.onLeave&&manageSortable.prevSortable._sortableParentData.onLeave(t,{element:e._element,sortable:manageSortable.prevSortable,placeholder:e._placeholder}),manageSortable.prevSortable=!1;else if((a=document.querySelectorAll(e.connectToSortable+".sortable-parent")).length)for(var l=a.length-1;l>=0;l--){var n=a[l]._bcr||a[l].getBoundingClientRect();if(a[l]._sortableParentData.droppable&&t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom){(!manageSortable.prevSortable||manageSortable.prevSortable&&manageSortable.prevSortable!=a[l])&&(manageSortable.prevSortable=a[l],manageSortable.prevSortable._sortableParentData&&manageSortable.prevSortable._sortableParentData.onEnter&&manageSortable.prevSortable._sortableParentData.onEnter(t,{element:e._element,sortable:manageSortable.prevSortable,placeholder:e._placeholder}));break}}}else if((i=manageSortable.prevSortable?manageSortable.prevSortable._bcr||manageSortable.prevSortable.getBoundingClientRect():null)&&(t.clientX<i.left||t.clientX>i.right||t.clientY<i.top||t.clientY>i.bottom))manageSortable.prevSortable&&manageSortable.prevSortable._sortableParentData&&manageSortable.prevSortable._sortableParentData.onLeave&&manageSortable.prevSortable._sortableParentData.onLeave(t,{element:e._div,sortable:manageSortable.prevSortable,placeholder:e._placeholder}),manageSortable.prevSortable=!1;else if((a=e.connectedWith.length?e.connectedWith:[e._parentElem]).length)for(l=a.length-1;l>=0;l--){n=a[l]._bcr||a[l].getBoundingClientRect();if(a[l]._sortableParentData.droppable&&t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom){(!manageSortable.prevSortable||manageSortable.prevSortable&&manageSortable.prevSortable!=a[l])&&(manageSortable.prevSortable=a[l],manageSortable.prevSortable._sortableParentData&&manageSortable.prevSortable._sortableParentData.onEnter&&manageSortable.prevSortable._sortableParentData.onEnter(t,{element:e._div,sortable:manageSortable.prevSortable,placeholder:e._placeholder}));break}}}},lyteDomObj.prototype.sortable=function(e){var o,i,a,l;if(manageSortable.init||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),o=e.length-1;o>=0&&e.item(o)!==this;)--o;return o>-1}),Array.from||(Array.from=(o=Object.prototype.toString,i=function(t){return"function"==typeof t||"[object Function]"===o.call(t)},a=Math.pow(2,53)-1,l=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),a)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!i(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var n,r=l(e.length),s=i(this)?Object(new this(r)):new Array(r),d=0;d<r;)n=e[d],s[d]=a?void 0===o?a(n,d):a.call(o,n,d):n,d+=1;return s.length=r,s})),manageSortable.init=!0),"string"!=typeof e||"destroy"!==e)if("string"!=typeof e||"cancel"!==e){var n=e||{};if(!(this.length>1)){var r=void 0==this.length?this:this[0];if(r._sortableParentData){var s=r._sortableParentData;n._parentElem=void 0==n._parentElem?s._parentElem:n._parentElem,n.containment=n.containment?n.containment:s.containment,n.connected=n.connectedWith?manageSortable.isEqual(n.connectedWith,s.connectedWith):s.connected,n.connectedWith=n.connectedWith?n.connectedWith:s.connectedWith,n.orientation=n.orientation?n.orientation:s.orientation,n.droppable=void 0==n.droppable?s.droppable:n.droppable,n.draggable=void 0==n.draggable?s.draggable:n.draggable,n.sortableElemClass=s.sortableElemClass,n.placeholder=n.placeholder?n.placeholder:s.placeholder,n.disabled=n.disabled?n.disabled:s.disabled,n.onReady=n.onReady?n.onReady:s.onReady,n.onSelect=n.onSelect?n.onSelect:s.onSelect,n.onDragStart=n.onDragStart?n.onDragStart:s.onDragStart,n.onDrag=n.onDrag?n.onDrag:s.onDrag,n.onPlaceholder=n.onPlaceholder?n.onPlaceholder:s.onPlaceholder,n.onBeforeDrop=n.onBeforeDrop?n.onBeforeDrop:s.onBeforeDrop,n.onDrop=n.onDrop?n.onDrop:s.onDrop,n.cancel=void 0==n.cancel?s.cancel:n.cancel instanceof Array?n.cancel:n.cancel.split(","),n.tolerance=n.tolerance?n.tolerance:s.tolerance,n.items=void 0==n.items?s.items:n.items instanceof Array?n.items:n.items.split(","),n.cursorAt=void 0==n.cursorAt?s.cursorAt:n.cursorAt,n.restrict=void 0==n.restrict?s.restrict:n.restrict instanceof Array?n.restrict:n.restrict.split(","),n.scrollDivX=void 0==n.scrollDivX?s.scrollDivX:"string"==typeof n.scrollDivX?document.querySelector(n.scrollDivX):n.scrollDivX,n.scrollDivY=void 0==n.scrollDivY?s.scrollDivY:"string"==typeof n.scrollDivY?document.querySelector(n.scrollDivY):n.scrollDivY,n.omitRestricted=void 0==n.omitRestricted?s.omitRestricted:n.omitRestricted,n.onEnter=n.onEnter?n.onEnter:s.onEnter,n.onLeave=n.onLeave?n.onLeave:s.onLeave,n.clone=n.clone?n.clone:s.clone,n.preventDefault=n.preventDefault?n.preventDefault:s.preventDefault,n.appendTo=n.appendTo?"parent"!=n.appendTo?$L(n.appendTo)[0]:"parent":s.appendTo,n.helper=n.helper?n.helper:s.helper,n.preventDropAtEnd=void 0==n.preventDropAtEnd?s.preventDropAtEnd:n.preventDropAtEnd,n.preventDropAtStart=void 0==n.preventDropAtStart?s.preventDropAtStart:n.preventDropAtStart,$L(r).hasClass("sortable-parent")||$L(r).addClass("sortable-parent","lyteSortableParent"),n.executeOnReady&&(n._parentElem.executedOnReady=!1)}else n.connected||n.changed||(++manageSortable.countSortable,n.changed=!0),n._parentElem=r,$L(n._parentElem).addClass("sortable-parent","lyteSortableParent"),n.containment=n.containment,n.connectedWith=n.connectedWith?n.connectedWith:[],n.orientation=n.orientation?n.orientation:"default",n.droppable=void 0==n.droppable||n.droppable,n.draggable=void 0==n.draggable||n.draggable,n.sortableElemClass=n.sortableElemClass?n.sortableElemClass:r.parentElement&&r.parentElement._sortableParentData?r.parentElement._sortableParentData.sortableElemClass:"horizontal"===n.orientation?"sortable-element-h"+manageSortable.countSortable:"vertical"===n.orientation?"sortable-element-v"+manageSortable.countSortable:"sortable-element-d"+manageSortable.countSortable,n.placeholder=n.placeholder?n.placeholder:"lyteSortablePlaceholder",n.disabled=n.disabled?n.disabled:"lyteSortableDisabledPlaceholder",n.cancel=void 0==n.cancel?[]:n.cancel instanceof Array?n.cancel:n.cancel.split(","),n.tolerance=n.tolerance?n.tolerance:"intersect",n.items=void 0==n.items?[]:n.items instanceof Array?n.items:n.items.split(","),n.cursorAt=n.cursorAt,n.restrict=void 0==n.restrict?[]:n.restrict instanceof Array?n.restrict:n.restrict.split(","),n.scrollDivX=n.scrollDivX?"string"==typeof n.scrollDivX?document.querySelector(n.scrollDivX):n.scrollDivX:void 0,n.scrollDivY=n.scrollDivY?"string"==typeof n.scrollDivY?document.querySelector(n.scrollDivY):n.scrollDivY:void 0,n.omitRestricted=void 0!=n.omitRestricted&&n.omitRestricted,n.clone=!!n.clone,n.preventDefault=void 0==n.preventDefault?{mousedown:!0,mousemove:!0}:n.preventDefault,n.appendTo=n.appendTo&&"parent"!=n.appendTo?$L(n.appendTo)[0]:"parent",n.preventDropAtEnd=void 0==n.preventDropAtEnd||n.preventDropAtEnd,n.preventDropAtStart=void 0==n.preventDropAtStart||n.preventDropAtStart;var d,p,c,h,u=[0,0],y=0,m=0,g="",f="",v=0,b=0,D=null,P=null,C=!1,L=!1,x=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,w=t.cancelAnimationFrame||t.mozCancelAnimationFrame,_=0,S=0,T=null,M=function(e){if("Windows"===ht()&&manageSortable.mouseMoveTriggered)manageSortable.mouseMoveTriggered=!1;else if("touchmove"==e.type&&e.preventDefault(),C&&D&&(w(D),C=!1,D=null),L&&P&&(w(P),L=!1,P=null),manageSortable.draggedEle&&manageSortable.draggedEle.classList.contains("sortable-element-selected")&&manageSortable.draggedEle._sortableChildData._isDown){if(h=manageSortable.draggedEle){var o=h._sortableChildData;if(o&&o._isDown){(void 0==o.preventDefault.mousemove||o.preventDefault.mousemove)&&e.preventDefault(),void 0!==document.body.style.MozUserSelect&&(document.body.style.MozUserSelect="none"),f=o._div,g=o._placeholder,u=o._offset,y=o._marginTop,m=o._marginLeft,c=o.sortableElemClass;var i,a=h.getBoundingClientRect(),l=0;(i=o.scrollDivY?o.scrollDivY:Z(g))&&(!T||T&&T!=i)&&(S=i.scrollHeight-i.offsetHeight,T=i);var n=!1;if(i&&("relative"==t.getComputedStyle(i).position||"fixed"==t.getComputedStyle(i).position)&&(!yt(f)||yt(f)&&i.contains(f))?(n=!0,b=i.scrollTop):b=0,!o._placedPlaceholder){o.onDragStart&&z(o),a=yt(h)?h._origin.getBoundingClientRect():h.getBoundingClientRect(),o.containment?o.containmentDimensions=Q(o,h):o.containmentDimensions=null;var r=h.offsetWidth,s=h.offsetHeight,v=0,M=h.offsetParent;for(_=o.scrollDivX?o.scrollDivX.scrollWidth-o.scrollDivX.clientWidth:0,o._maxScrollWidth=_,o._isRelative&&o.scrollDivX.contains(f)&&(l=o.scrollDivX.scrollLeft),_lyteUiUtils.getRTL()&&"chrome"==ct()&&o._isRelative&&o.scrollDivX.contains(f)&&(l=o.scrollDivX.scrollLeft-o._maxScrollWidth),"table"==M.tagName.toLowerCase()&&""==(v=M.cellSpacing)&&(v=2);("table"==M.tagName.toLowerCase()||"lyte-table-structure"==M.tagName.toLowerCase())&&""==M.style.position;)M=M.offsetParent;var E=tt(f);E&&M!=E&&(M=E);var k=M.getBoundingClientRect();return f.style.top=a.top-(k.top+parseInt(v)+parseInt(y))+b+"px",f.style.left=a.left-(k.left+parseInt(m))+l+"px",f.style.boxSizing="border-box",f.style.zIndex=3001,f.style.width=r+"px",f.style.height=s+"px",yt(f)&&(f.style.visibility=""),"tr"!=h.tagName.toLowerCase()&&"lyte-tr"!=h.tagName.toLowerCase()||J(h),$L(g).attr("id","dummy"),g.style.width=r+"px",g.style.height=s+"px",f.classList.add("lyteSortableElem"),g.style.padding="0px",g.classList.add(o.placeholder),_lyteUiUtils.insertBefore(yt(f)?f._origin:f,g),f.style.position="absolute",f.classList.add("lyteSortableDisablePE"),o._placedPlaceholder=!0,o._div=f,o._placeholder=g,o._prevTop=e.clientY,o._prevLeft=e.clientX,o.onDrag&&W(o,e),manageSortable.isOver(e,o),void(o._isMoved=!0)}var F=$L.fastdom.measure(function(){if(manageSortable.measureQueue.shift(),h){o.containment&&(o.containmentDimensions=Q(o,h)),"mousemove"==e.type?d={x:e.clientX,y:e.clientY}:"touchmove"==e.type&&(d={x:e.touches[0].clientX,y:e.touches[0].clientY});var t=f.offsetParent,r=tt(f);r&&t!=r&&(t=r);var s,v,w=t.getBoundingClientRect();o._isRelative&&o.scrollDivX.contains(f)&&(l=o.scrollDivX.scrollLeft),_lyteUiUtils.getRTL()&&"chrome"==ct()&&o._isRelative&&o.scrollDivX.contains(f)&&(l=o.scrollDivX.scrollLeft-o._maxScrollWidth),a=f.getBoundingClientRect(),h.parentElement._bcr=h.parentElement.getBoundingClientRect();var _,T,M=i?i.getBoundingClientRect():0;i&&a.left<=M.right&&a.right>=M.left&&(D=x(I.bind(this,o,i,M,S,null,n,d,u,w)),C=!0),o.scrollDivX&&(M=o.scrollDivX.getBoundingClientRect(),(a.left<=M.left||a.right>=M.right)&&(P=x(N.bind(this,o,M,d,u,w,o._isRelative)),L=!0));var E=$L.fastdom.mutate(function(){if(manageSortable.mutateQueue.shift(),h){s=d.x-u[0]-w.left-parseInt(m)+l,v=d.y-u[1]-w.top-parseInt(y)+b,o.containment?"vertical"==o.orientation?v+w.top>=o.containmentDimensions.top&&v+w.top<=o.containmentDimensions.top+(o.containmentDimensions.height-a.height)+b&&(f.style.top=v+"px"):(s+w.left>=o.containmentDimensions.left&&s+w.left<=o.containmentDimensions.left+(o.containmentDimensions.width-a.width)&&(f.style.left=s+"px"),v+w.top>=o.containmentDimensions.top&&v+w.top<=o.containmentDimensions.top+(o.containmentDimensions.height-a.height)+b&&(f.style.top=v+"px")):"vertical"==o.orientation?f.style.top=v+"px":(f.style.left=s+"px",f.style.top=v+"px"),a={left:w.left+(s-l),top:w.top+(v-b),right:w.left+(s-l)+a.width,bottom:w.top+(v-b)+a.height};var t=$L.fastdom.measure(function(){if(manageSortable.measureQueue.shift(),h&&(p=document.elementFromPoint(d.x,d.y),T=p?p.closest("."+c):null,_=T?T.getBoundingClientRect():{},p)){var t=$L.fastdom.mutate(function(){manageSortable.mutateQueue.shift(),h&&(T&&et(T,h.parentElement,h,o.connectedWith,o.containmentDimensions,d)?$L(p).hasClass("sortable-parent")&&ot(p,h.parentElement,h,o.connectedWith,o.containmentDimensions,d)&&at(p,d)&&lt(p,d,h)?(_lyteUiUtils.appendChild(p,g),A(o,p,T)):("pointer"==o.tolerance&&("horizontal"===o.orientation?(e.clientX<o._prevLeft?(_lyteUiUtils.insertBefore(T,g),A(o,p,T)):e.clientX>o._prevLeft&&(_lyteUiUtils.insertAfter(T,g),A(o,p,T)),o._prevLeft=e.clientX):(e.clientY<o._prevTop&&T.previousElementSibling!=g?(_lyteUiUtils.insertBefore(T,g),A(o,p,T)):e.clientY>o._prevTop&&T.nextElementSibling!=g&&(_lyteUiUtils.insertAfter(T,g),A(o,p,T)),o._prevTop=e.clientY)),"intersect"==o.tolerance&&("horizontal"===o.orientation?a.left<_.left?(_lyteUiUtils.insertBefore(T,g),A(o,p,T)):a.right>_.right&&(_lyteUiUtils.insertAfter(T,g),A(o,p,T)):a.top<_.top&&T.previousElementSibling!=g?(_lyteUiUtils.insertBefore(T,g),A(o,p,T)):a.bottom>_.bottom&&T.nextElementSibling!=g&&(_lyteUiUtils.insertAfter(T,g),A(o,p,T)))):p&&$L(p).hasClass("sortable-parent")&&ot(p,h.parentElement,h,o.connectedWith,o.containmentDimensions,d)&&at(p,d)&&lt(p,d,h,n,i)&&(!o.preventDropAtEnd||O(o,p))&&(_lyteUiUtils.appendChild(p,g),A(o,p,T)),o.onDrag&&W(o,e),manageSortable.isOver(e,o),o._isMoved=!0,T=null,p=null)});manageSortable.mutateQueue.push(t)}});manageSortable.measureQueue.push(t)}});manageSortable.mutateQueue.push(E)}});manageSortable.measureQueue.push(F)}}}else h=null},E=function(e){e.target;if(C&&D&&(w(D),C=!1,D=null),L&&P&&(w(P),L=!1,P=null),manageSortable.measureQueue.length)for(;manageSortable.measureQueue.length;)$L.fastdom.clear(manageSortable.measureQueue.shift());if(manageSortable.mutateQueue.length)for(;manageSortable.mutateQueue.length;)$L.fastdom.clear(manageSortable.mutateQueue.shift());if("mouseup"==e.type&&(document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",E)),"touchend"==e.type&&(document.removeEventListener("touchmove",M,!0),document.removeEventListener("touchend",E,!0)),manageSortable.prevSortable&&(manageSortable.prevSortable=!1),!(manageSortable.draggedEle&&$L(manageSortable.draggedEle).hasClass("sortable-element-selected")&&manageSortable.draggedEle._sortableChildData._isDown))return k(e),h=null,manageSortable.draggedEle=null,void(manageSortable.mousedownTriggered=!1);if((h=manageSortable.draggedEle).classList.remove("lyteSortableDisablePE"),h){var o=h._sortableChildData;h.parentElement;if(o._isDown){if(o._isDown=!1,f=o._div,g=1==document.querySelectorAll("#dummy").length?document.querySelectorAll("#dummy")[0]:o._placeholder,_placeholderParent=g.parentElement,o._isMoved){o._isMoved=!1,o._toIndex=q(o,g,Array.from(_placeholderParent.children).filter(function(t){return"TEMPLATE"!=t.tagName&&!$L(t).hasClass("sortable-element-selected")}));var i=!0;if(o.onBeforeDrop&&(i=j(o,e,g,_placeholderParent)),$L(g).hasClass(o.disabled))return nt(o),manageSortable.draggedEle=null,void(manageSortable.mousedownTriggered=!1);if(!i)return nt(o),yt(f)&&f.remove(),manageSortable.draggedEle=null,void(manageSortable.mousedownTriggered=!1);var a=st(g)?st(g):dt(g),l=a&&a._sortableChildData?Object.assign({},a._sortableChildData):Object.assign({},g.parentElement._sortableParentData);o._fromIndex==o._toIndex&&o._parentElem==_placeholderParent?g.remove():_lyteUiUtils.replaceWith(g,f),rt(f),g=null,f._sortableChildData=l,o.onDrop&&X(o,e),yt(f)&&delete f._origin}else rt(f),"a"==h.tagName.toLowerCase()&&(t.location.href=h.href);o._div=null,o._placeholder=null,o._placedPlaceholder=!1,o._returnElemBelow=null,o._source=null,o._fromIndex=null}$L(h).removeClass("sortable-element-selected"),u=null,null,null,d=null,p=null,null,y=null,m=null,c=null,h=null,g=null,f=null,T=null}k(e),manageSortable.draggedEle=null,manageSortable.mousedownTriggered=!1},k=function(t){for(var e=t.target.ownerDocument.querySelectorAll(".lyteSortablePlaceholder"),o=0;o<e.length;o++)if(e[o]._callee){var i=e[o]._callee;_lyteUiUtils.replaceWith(e[o],i),$L(i).removeClass("sortable-element-selected"),rt(i),yt(i)&&i.remove()}else e[o].remove();var a=t.target.ownerDocument.querySelectorAll(".sortable-element-selected");for(o=0;o<a.length;o++)$L(a[o]).removeClass("sortable-element-selected"),rt(a[o]),yt(a[o])&&a[o].remove()};r.addToSortable=function(t){t._sortableChildData=r._sortableParentData,$L(t).addClass("sortable-element "+r._sortableParentData.sortableElemClass)},r.getSortableClass=function(){return r._sortableParentData.sortableElemClass};var A=function(t,e,o){!t.onPlaceholder||G(t,e||o.parentElement)?(g.classList.contains(t.disabled)&&g.classList.remove(t.disabled),g.classList.add(t.placeholder)):(g.classList.contains(t.placeholder)&&g.classList.remove(t.placeholder),g.classList.add(t.disabled)),t._returnElemBelow=o||e},N=function(t,e,o,i,a,l){if(t._div){var n=t._div.getBoundingClientRect();if(v=t.scrollDivX.scrollLeft,_=t._maxScrollWidth,!_lyteUiUtils.getRTL()||_lyteUiUtils.getRTL()&&"chrome"==ct()&&!l)if(n.right>=e.right&&v<_)_-v>=5?(t.scrollDivX.scrollLeft+=5,l&&t.scrollDivX.contains(t._div)&&(t._div.style.left=o.x-i[0]-a.left+5+v+"px")):(t.scrollDivX.scrollLeft+=5-(_-v),l&&t.scrollDivX.contains(t._div)&&(t._div.style.left=o.x-i[0]-a.left+(5-(_-v))+v+"px"));else{if(!(n.left<=e.left&&v>0))return w(P),L=!1,void(P=null);l&&t.scrollDivX.contains(t._div)&&(t._div.style.left=o.x-i[0]-a.left-(_-v>5?5:5-(_-v))+v+"px"),t.scrollDivX.scrollLeft-=5}else if("chrome"==ct()&&l)if(n.right>=e.right&&v<_)_-v>=5?(t.scrollDivX.scrollLeft+=5,l&&t.scrollDivX.contains(t._div)&&(t._div.style.left=o.x-i[0]-a.left+5+(v-_)+"px")):(t.scrollDivX.scrollLeft+=5-(_-v),l&&t.scrollDivX.contains(t._div)&&(t._div.style.left=o.x-i[0]-a.left+(5-(_-v))+v+"px"));else{if(!(n.left<=e.left&&v>0))return w(P),L=!1,void(P=null);l&&t.scrollDivX.contains(t._div)&&(t._div.style.left=o.x-i[0]-a.left-(_-v+5)+"px"),t.scrollDivX.scrollLeft-=5}else if("firefox"==ct()||"safari"==ct())if(n.right>=e.right&&v<0)_+v>=5?(t.scrollDivX.scrollLeft+=5,l&&t.scrollDivX.contains(t._div)&&(t._div.style.left=o.x-i[0]-a.left+5+v+"px")):(t.scrollDivX.scrollLeft+=5-(_+v),l&&t.scrollDivX.contains(t._div)&&(t._div.style.left=o.x-i[0]-a.left+(5-(_+v))+v+"px"));else{if(!(n.left<=e.left&&v>-_))return w(P),L=!1,void(P=null);l&&t.scrollDivX.contains(t._div)&&(t._div.style.left=o.x-i[0]-a.left+(v-5)+"px"),t.scrollDivX.scrollLeft-=5}else if("ie"==ct()||"edge"==ct())if(n.right>=e.right&&v>0)t.scrollDivX.scrollLeft-=v>=5?5:v;else{if(!(n.left<=e.left&&v<_))return w(P),L=!1,void(P=null);l&&t.scrollDivX.contains(t._div)&&(t._div.style.left=o.x-i[0]-a.left-v-5+"px"),t.scrollDivX.scrollLeft+=5}P=x(N.bind(this,t,e,o,i,a,l))}},I=function(t,e,o,i,a,l,n,r,s){$L.fastdom.measure(function(){if(t._div){var d=t._div.getBoundingClientRect(),p=t._placeholder.parentElement.offsetTop-e.offsetTop+5,c=e.scrollTop;$L.fastdom.mutate(function(){if(t._div){if(d.top-parseInt(t._marginTop)<=o.top+p&&c>0)l&&e.contains(t._div)&&(t._div.style.top=n.y-r[1]-s.top-(i-c>=10?10:i-c)+c+"px"),e.scrollTop-=10;else{if(!(d.bottom>=o.bottom-3&&c<i))return 0==c&&d.top-parseInt(t._marginTop)<=o.top+p&&!F(t,"first")?R(t,"first"):c==i&&d.bottom>=o.bottom-3&&!F(t,"last")&&R(t,"last"),w(D),C=!1,void(D=null);i-c>10?(l&&e.contains(t._div)&&(t._div.style.top=n.y-r[1]-s.top+10+c+"px"),e.scrollTop+=10):(l&&e.contains(t._div)&&(t._div.style.top=n.y-r[1]-s.top+i-c+c+"px"),e.scrollTop+=i-c)}D=x(I.bind(this,t,e,o,i,a,l,n,r,s))}})}})},F=function(t,e){var o=t._placeholder,i=o.parentElement,a=$(t,i);return"first"===e?a[0]==o:a[a.length-1]==o},$=function(t,e){return t&&t.omitRestricted?Array.from(e.children).filter(function(e){return"TEMPLATE"!=e.tagName&&B(t,e)}):Array.from(e.children).filter(function(t){return"TEMPLATE"!=t.tagName})},R=function(t,e){var o=t._placeholder,i=o.parentElement,a=$(t,i);if("first"===e){for(var l=0;l<a.length;l++)if(!t.preventDropAtStart||B(t,a[l])){_lyteUiUtils.insertBefore(a[l],o);break}}else for(l=a.length-1;l>=0;l--)if(!t.preventDropAtEnd||B(t,a[l])){_lyteUiUtils.insertAfter(a[l],o);break}},B=function(t,e){for(var o=0;o<t.restrict.length;o++)if(e.matches(t.restrict[o]))return!1;return!0},O=function(t,e){var o=$(null,e);return!o.length||B(t,o[o.length-1])},H=function(t,e){if(!t.draggable)return!1;for(var o=0;o<t.cancel.length;o++)for(var i=e;i.parentElement;){if(i.matches(t.cancel[o]))return!1;if($L(i).hasClass("sortable-element"))break;i=i.parentElement}return!0},q=function(t,e,o){if(t.omitRestricted)for(var i=0;i<o.length;i++)B(t,o[i])||(o.splice(i,1),--i);for(var a=0;a<o.length;a++)if("TEMPLATE"!=o[a].tagName&&e==o[a])return a},U=function(t){var e=yt(t._div)?t._div._origin:t._div;if(t.omitRestricted){for(var o=Array.from(t._source.children).filter(function(t){return"TEMPLATE"!=t.tagName}),i=0;i<o.length;i++)B(t,o[i])||(o.splice(i,1),--i);return o.indexOf(e)}return Array.from(t._source.children).filter(function(t){return"TEMPLATE"!=t.tagName}).indexOf(e)},Y=function(t){var e=yt(t._div)?t._div._origin:t._div,o=t._parentElem;return e.classList.contains("sortable-parent")&&e.parentElement.classList.contains("sortable-parent")&&(o=e.parentElement),o},V=function(t,e){var o=t.onSelect(t._div,t._fromIndex,t._source,e);return void 0==o||o},z=function(t){t.onDragStart(t._div,t._source)},W=function(t,e){var o=1==document.querySelectorAll("#dummy").length?document.querySelectorAll("#dummy")[0]:t._placeholder;t.onDrag(t._div,t._returnElemBelow,e,o)},j=function(t,e,o){var i=t.onBeforeDrop(t._div,t._returnElemBelow,o,t._fromIndex,t._toIndex,t._source,o?o.parentElement:null,e);return void 0==i||i},X=function(t,e){t.onDrop(t._div,t._div._sortableChildData._parentElem,t._returnElemBelow,t._fromIndex,t._toIndex,t._source,e)},G=function(t,e){if(e.id&&"dummy"==e.id)e=e.parentElement;else for(;e&&!$L(e).hasClass("sortable-parent");)e=e.parentElement;var o=1==document.querySelectorAll("#dummy").length?document.querySelectorAll("#dummy")[0]:t._placeholder,i=t.onPlaceholder(t._div,o,t._parentElem,o?o.parentElement:null);return void 0==i||i},K=$(n,n._parentElem);n._parentElem.__mouseDownEvent=function(e){if(3!=e.which)if(manageSortable.mousedownTriggered)manageSortable.mousedownTriggered=!1;else{for(var o=e.target;o;){if($L(o).hasClass("sortable-element")){h=o;break}o=o.parentElement}if(o||(h=null,manageSortable.draggedEle=null),h&&H(h._sortableChildData||h.parentElement._sortableParentData,e.target)&&pt(h._sortableChildData||h.parentElement._sortableParentData,e.target)){manageSortable.draggedEle=h;var i=h._sortableChildData||h.parentElement._sortableParentData;if((void 0==i.preventDefault.mousedown||i.preventDefault.mousedown)&&e.preventDefault(),h.parentElement&&!h.classList.contains(h.parentElement._sortableParentData.sortableElemClass)&&h.classList.add(h.parentElement._sortableParentData.sortableElemClass),"function"==typeof i.helper){var a=i.helper(h);a&&(a.classList.add("sortable-helper"),a._sortableChildData=Object.assign({},h._sortableChildData),a.classList.add(h.parentElement._sortableParentData.sortableElemClass),a._origin=h,manageSortable.draggedEle=a,"parent"==i.appendTo?_lyteUiUtils.appendChild(h.parentElement,a):_lyteUiUtils.appendChild($L(i.appendTo)[0],a),i=a._sortableChildData,a.style.visibility="hidden")}g=ut(manageSortable.draggedEle,i.clone),i._div=f=manageSortable.draggedEle;var l=!0;if(i._source=Y(i),i._fromIndex=U(i),i.onSelect&&(l=V(i,e)),l){f.classList.add("sortable-element-selected");var n=t.getComputedStyle(f),r=yt(f)?f._origin.getBoundingClientRect():f.getBoundingClientRect();i.scrollDivX&&"relative"==t.getComputedStyle(i.scrollDivX).position?i._isRelative=!0:i._isRelative=!1,n.marginTop&&(y=n.marginTop),n.marginLeft&&(m=n.marginLeft),"mousedown"==e.type?u=[i.cursorAt&&i.cursorAt.left||e.clientX-r.left,i.cursorAt&&i.cursorAt.top||e.clientY-r.top]:"touchstart"==e.type&&(u=[i.cursorAt&&i.cursorAt.left||e.touches[0].clientX-r.left,i.cursorAt&&i.cursorAt.top||e.touches[0].clientY-r.top],document.addEventListener("touchmove",i._parentElem.__mouseMoveEvent,!0),document.addEventListener("touchend",i._parentElem.__mouseUpEvent,!0)),i._isDown=!0,i._placeholder=g,i._offset=u,i._marginTop=y,i._marginLeft=m,i._event=e,i._placedPlaceholder=!1,manageSortable.draggedEle._sortableChildData||(manageSortable.draggedEle._sortableChildData=i),g=null,f=null,h=null,"mousedown"==e.type&&(document.addEventListener("mousemove",M),document.addEventListener("mouseup",E),manageSortable.mousedownTriggered=!0,"Windows"===ht()&&(manageSortable.mouseMoveTriggered=!0))}else i.helper&&manageSortable.draggedEle.remove(),manageSortable.draggedEle=null,h=null}else h=null}},n._parentElem.__mouseMoveEvent=M,n._parentElem.__mouseUpEvent=E,n._parentElem._sortableParentData=n;for(ft=0;ft<K.length;ft++)K[ft]._pos=ft,B(n,K[ft])&&!K[ft].classList.contains("sortable-element-selected")&&(K[ft]._sortableChildData=n,$L(K[ft]).addClass("sortable-element "+n.sortableElemClass));n.draggable&&!n._parentElem._mousedown&&(n._parentElem.addEventListener("mousedown",n._parentElem.__mouseDownEvent),n._parentElem.addEventListener("touchstart",n._parentElem.__mouseDownEvent,!0),n._parentElem._mousedown=!0),!n.connected&&n.connectedWith.length>0&&(n.connectedWith=manageSortable.convertToArrayOfItems(n.connectedWith),n.connectedWith.forEach(function(t){var e=n.connectedWith.concat();index=e.indexOf(t),e.splice(index,1),e.push(t),$L(t).sortable({_parentElem:$L(t)[0],connectedWith:e,connected:!0,restrict:n.restrict,sortableElemClass:n.sortableElemClass})})),n.onReady&&!n._parentElem.executedOnReady&&(!function(t){t.onReady(t._parentElem)}(n),n._parentElem.executedOnReady=!0);var Q=function(t,e){if("parent"==t.containment)return{left:(o=yt(e)?e._origin.parentElement.getBoundingClientRect():e.parentElement.getBoundingClientRect()).left,right:o.right,top:o.top,bottom:o.bottom,height:o.height,width:o.width,offsetLeft:yt(e)?e._origin.parentElement.offsetLeft:e.parentElement.offsetLeft,offsetTop:yt(e)?e._origin.parentElement.offsetTop:e.parentElement.offsetTop};var o,i=void 0==$L(t.containment).length?null:$L(t.containment)[0];return{left:(o=i.getBoundingClientRect()).left,right:o.right,top:o.top,bottom:o.bottom,height:o.height,width:o.width,offsetLeft:i.offsetLeft,offsetTop:i.offsetTop}},Z=function(e){for(var o=e.parentElement;e.parentElement;)if(e=e.parentElement,o.scrollHeight>e.clientHeight&&("hidden"!=t.getComputedStyle(e).overflowY&&"visible"!=t.getComputedStyle(e).overflow||e.matches(".lyteScrollBar")))return e;return null},J=function(t){for(var e=t.children,o=[],i=0;i<e.length;i++)"td"!=e[i].tagName.toLowerCase()&&"lyte-td"!=e[i].tagName.toLowerCase()||(o[i]=e[i].style.width||e[i].offsetWidth+"px");for(i=0;i<e.length;i++)"td"!=e[i].tagName.toLowerCase()&&"lyte-td"!=e[i].tagName.toLowerCase()||(e[i].style.width=o[i])},tt=function(t){for(;t.parentElement;){if(t=t.parentElement,"relative"==getComputedStyle(t).position)return t}return null},et=function(t,e,o,i,a,l){if("dummy"!=t.id){o.parentElement.id,t.parentElement.id;if(a&&(l.x<a.left||l.x>a.right||l.y<a.top||l.y>a.bottom))return!1;if(o.parentElement==t.parentElement||t.parentElement==o._sortableChildData._parentElem)return!0;if(-1!=i.indexOf(t.parentElement)&&t._sortableChildData.droppable)return!0}return!1},ot=function(t,e,o,i,a,l){o.parentElement.id;return(!a||!(l.x<a.left||l.x>a.right||l.y<a.top||l.y>a.bottom))&&(o.parentElement==t||t==e||!(-1==i.indexOf(t)||!it(t)))},it=function(t){for(var e,o=t.children,i=0;i<o.length;i++)if(o[i]!=t.querySelector("#dummy")&&"TEMPLATE"!=o[i].tagName&&$L(o[i]).hasClass("sortable-element")){e=o[i];break}return e&&e._sortableChildData?e._sortableChildData.droppable:t._sortableParentData.droppable},at=function(e,o){var i=t.getComputedStyle(e),a=e.getBoundingClientRect();return o.x>a.left+parseFloat(i.paddingLeft||0)&&o.x<a.right-parseFloat(i.paddingRight||0)&&o.y>a.top+parseFloat(i.paddingTop||0)&&o.y<a.bottom-parseFloat(i.paddingBottom||0)},lt=function(t,e,o,i,a){for(var l=t.children,n=0,r=[],s=0;s<l.length;s++)"TEMPLATE"!=l[s].tagName&&"dummy"!=l[s].id&&B(t._sortableParentData,l[s])?r.push(l[s]):n++;return n==l.length||(1==r.length&&r[r.length-1]==o||r.length>1&&r[r.length-1]==o&&o.getBoundingClientRect().top>r[r.length-2].getBoundingClientRect().bottom+(i?a.scrollTop:0)||o.getBoundingClientRect().top>r[r.length-1].getBoundingClientRect().bottom+(i?a.scrollTop:0))},nt=function(t){$L(t._div).removeClass("sortable-element-selected"),rt(t._div),t._placeholder.remove()},rt=function(t){t.style.position="",t.style.top="",t.style.left="",t.style.width="",t.style.height="",t.style.zIndex="",t.style.boxSizing="",$L(t).removeClass("lyteSortableElem"),$L(t).removeClass("lyteSortableDisablePE"),yt(t)&&$L(t).removeClass("sortable-helper")},st=function(t){for(;t.previousElementSibling;)if("TEMPLATE"!=(t=t.previousElementSibling).tagName&&$L(t).hasClass("sortable-element"))return t;return null},dt=function(t){for(;t.nextElementSibling;)if("TEMPLATE"!=(t=t.nextElementSibling).tagName&&$L(t).hasClass("sortable-element"))return t;return null},pt=function(t,e){if(!(t.items.length>0))return!0;for(var o=0;o<t.items.length;o++)for(var i=document.querySelectorAll(t.items[o]),a=0;a<i.length;a++)if(i[a]==e)return!0;return!1},ct=function(){return navigator.userAgent.search("rv:11")>=0?"ie":navigator.userAgent.search("Edge")>=0?"edge":navigator.userAgent.search("Chrome")>=0?"chrome":navigator.userAgent.search("Firefox")>=0?"firefox":navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0?"safari":void 0},ht=function(){var e=t.navigator.userAgent,o=t.navigator.platform,i=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(o)?i="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(o)?i="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(o)?i="Windows":/Android/.test(e)?i="Android":!i&&/Linux/.test(o)&&(i="Linux"),i},ut=function(t,e){var o;if(e)for(var i=(o=t.cloneNode(e)).children,a=t.children,l=0;l<i.length;l++){var n=a[l].getBoundingClientRect();i[l].innerHTML="",i[l].style.width=n.width+"px",i[l].style.height=n.height+"px",i[l].style.boxSizing="border-box"}else(o=t.cloneNode()).innerHTML="",o.style.boxSizing="border-box";return o._callee=t,o.classList.remove("sortable-element-selected","sortableElem"),yt(t)&&(o.style.visibility=""),o},yt=function(t){return t.classList.contains("sortable-helper")};return this}gt=this;n.changed||(++manageSortable.countSortable,n.changed=!0);var mt=manageSortable.alreadySortable(this);mt.found&&(n.sortableElemClass=mt.class);for(ft=0;ft<gt.length;ft++)$L(gt[ft]).sortable(Object.assign({},n))}else if(this.length>1)for(var gt=this,ft=0;ft<gt.length;ft++)manageSortable.cancel(gt[ft]);else manageSortable.cancel(this[0]);else if(this.length>1)for(var gt=this,ft=0;ft<gt.length;ft++)manageSortable.destroy(gt[ft]);else manageSortable.destroy(this[0])})}(window),function(t){if(lyteDomObj){var e=function(){var e=new Map,o=new Map,i=0,a={fnId:0};return t.addEventListener("message",function(t){var e=t.data.fnId;e&&o[e]()}),function(t){e[t]||(i++,e[t]=i,o[i]=t),a.fnId=e[t],postMessage(a,"*")}}();mIManager={KEY:{BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},inputBuffer:[],currentDataQuery:null,textarea:null,escapeMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},bindResize:!1,id:null,bindScroll:!1,bindClick:!1,searchTriggeredId:!1,htmlEncode:function(t){var e="(?:"+Object.keys(mIManager.escapeMap).join("|")+")",o=RegExp(e),i=RegExp(e,"g");return t=null==t?"":""+t,o.test(t)?t.replace(i,function(t){return mIManager.escapeMap[t]}):t},mentionsSyntax:function(t){return"["+t.value+":"+t.id+"]"},createElement:function(t,e,o){var i=document.createElement(t);return e&&(i.id=e),o&&$L(i).addClass(o),i},setCaratPosition:function(t,e){if(t.createTextRange){var o=t.createTextRange();o.move("character",e),o.select()}else t.selectionStart?(t.focus(),t.setSelectionRange(e,e)):t.focus()},init:function(e){var o=mIManager.createElement("div",null,"lyteMIWrapper");_lyteUiUtils.insertBefore(e,o),_lyteUiUtils.appendChild(o,e);var i=mIManager.createElement("div",null,"lyteMIDropdown");_lyteUiUtils.insertAfter(e,i),mIManager.copyTextarea(e);var a=t.getComputedStyle(e),l=mIManager.createElement("div",null,"lyteMentions");l.style.fontFamily=a.fontFamily,l.style.fontSize=a.fontSize,l.style.fontWeight=a.fontWeight;var n=mIManager.createElement("div",null,"lyteMentionsInnerDiv");return _lyteUiUtils.appendChild(l,n),_lyteUiUtils.insertBefore(e,l),i},rtrim:function(t){return t.replace(/\s+$/,"")},ltrim:function(t){return t.replace(/^\s+/,"")},highlightContent:function(t,e){return e||e.length?t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):t},copyTextarea:function(t){var e=["paddingTop","paddingRight","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","marginLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor","box-sizing","-moz-box-sizing","-webkit-box-sizing"];if("textarea"!==t.type)return!1;var o=$L(t),i=$L(mIManager.createElement("div")).css({position:"absolute",visibility:"hidden",display:"none","word-wrap":"break-word"}),a=parseInt(o.css("line-height"),10)||parseInt(o.css("font-size"),"10"),l=parseInt(o.css("height"),10)||3*a,n=parseInt(o.css("max-height"),10)||Number.MAX_VALUE;function r(){var t=Math.floor(parseInt(o.outerWidth(),10));o[0]._mIData&&o[0]._mIData._overlayDiv&&$L(o[0].previousElementSibling).css("fontSize",o.css("fontSize")),i.outerWidth()!==t&&(i.css({width:t+"px",fontSize:o.css("fontSize")}),"true"===i[0].getAttribute("setHeight")?i[0].setAttribute("setHeight","false"):d(!0))}function s(t,e){var i=Math.floor(parseInt(t,10));o.height()!==i&&(o.css({height:i+"px",overflow:e}),r())}i.addClass("lyteMIOffsetDiv");var d=function(t){i[0].style.display="block";var e=o[0].value.replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),r=i[0].innerHTML.replace(/<br>/gi,"<br />");if(t||e+"&nbsp;"!==r){if(i[0].innerHTML=e+"&nbsp;",Math.abs(i.outerHeight()+a-o.outerHeight())>=3||""===e){i[0].setAttribute("setHeight","true");var d=i.outerHeight();d>=n?s(n,"auto"):s(d<=l?l:d,"hidden")}i[0].style.display=""}};n<0&&(n=Number.MAX_VALUE),_lyteUiUtils.insertAfter(o[0],i[0]);for(var p=e.length;p--;)"width"===e[p].toString()&&"0px"===o.css(e[p].toString())?r():i.css(e[p].toString(),o.css(e[p].toString()));d(!0),o[0]._closureEvnt=d,o[0].addEventListener("input",o[0]._closureEvnt),o[0].addEventListener("change",o[0]._closureEvnt)},callAtTheEndOfResize:function(t){clearTimeout(mIManager.id),mIManager.id=setTimeout(function(){var t=document.querySelectorAll('textarea[data-lyte-mentions="true"]');if(t.length>0)for(var e=0;e<t.length;e++){var o,i=$L(t[e]),a=$L(t[e].nextElementSibling),l=Math.floor(parseInt(i.outerWidth(),10));if(i[0]._mIData&&i[0]._mIData._overlayDiv&&$L(i[0].previousElementSibling).css("fontSize",i.css("fontSize")),a.outerWidth()!==l)if(a.css({width:l+"px",fontSize:i.css("fontSize")}),"true"===a[0].getAttribute("setHeight"))a[0].setAttribute("setHeight","false");else"function"==typeof Event?o=new Event("change"):(o=document.createEvent("Event")).initEvent("change",!0,!0),i[0].dispatchEvent(o)}},200)}},lyteDomObj.prototype.mentionsInput=function(o){mIManager.bindResize||(Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],a=0;a<o;){var l=e[a];if(t.call(i,l,a,e))return a;a++}return-1},configurable:!0,writable:!0}),t.addEventListener("resize",mIManager.callAtTheEndOfResize),mIManager.bindResize=!0);var i,a,l=[],n=[],r="",s=function(){mIManager.inputBuffer=[]},d=function(t,e){return t.indexOf(e)+e.length},p=function(){var t=a.value,e=(a._mIData.searchBy,0),o="";a._mIData.lyteMICollection.forEach(function(i){var l=a._mIData.triggerChar+mIManager.mentionsSyntax({id:i.id,value:i[a._mIData.searchBy]});o=t.substring(0,e),t=o+t.substring(e).replace(i[a._mIData.searchBy],l),e=d(t,l)});var i=mIManager.htmlEncode(t);a._mIData.lyteMICollection.forEach(function(t){var e=a._mIData.triggerChar+mIManager.mentionsSyntax({id:t.id,value:t[a._mIData.searchBy]}),o="<strong class='lyteMentionsStrongDiv'><span>"+t[a._mIData.searchBy]+"</span></strong>";i=i.replace(e,o)}),i=(i=i.replace(/\n/g,"<br />")).replace(/ {2}/g,"&nbsp; "),a._mIData.syntaxMessage=t,a._mIData._overlayDiv.innerHTML=i},c=function(){var t=a._mIData.syntaxMessage,e=a._mIData.searchBy;n=a._mIData.lyteMICollection;for(var o=[],i=[],l=0;l<n.length;l++)n[l][e]&&-1!=t.indexOf(n[l][e]+":"+n[l].id)?o.push(n[l]):i.push(n[l]);a._mIData.lyteMICollection=o,i.length&&function(t,e){t.onRemove&&t.onRemove(e)}(a._mIData,i)},h=function(t){a._addedMentions=!0;var e=a.value,o=t[a._mIData.searchBy],i=a.selectionEnd-mIManager.currentDataQuery.length-1,l=a.selectionEnd;if(e.substring(i,l)!==a._mIData.triggerChar+mIManager.currentDataQuery){var n=new RegExp("\\"+a._mIData.triggerChar+mIManager.currentDataQuery,"gi");n.exec(e),i=n.lastIndex-r.length-1,l=n.lastIndex}var c=e.substr(0,i),h=e.substr(l,e.length),y=(c+o).length+1,m=c+o+h+" ";t.position={start:i,end:i+o.length},function(t,e){for(var o=0,i=0,l=a._mIData.searchBy,n=a._mIData.lyteMICollection,r=0;r<n.length&&-1!=e.substring(o).indexOf(n[r][l]);r++)o=d(e,n[r][l]),++i;a._mIData.lyteMICollection.splice(i,0,t)}(t,c),s(),mIManager.currentDataQuery="",u(),a.value=m,p(),w(a),a.focus(),setTimeout(function(){mIManager.setCaratPosition(a,y)},100),a._mIData.onAdd&&function(t,e){t.onAdd(e)}(a._mIData,t)},u=function(t){var e=a||t;l=[],i||(i=e._mIData.lyteMIList),e._mIData.onHide&&e._mIData.onHide(i,e),e._mIData.dropbody&&(i.innerHTML=""),i.classList.remove("lyteMIDisplayBlock","lyteMIAddOverflow","lyteMIListAppended","lyteMIDropdown__Down","lyteMIDropdown__Up"),i.style=""},y=function(t){var e=mIManager.createElement("lyte-mentions-item");e._mentionsData=t;var o=mIManager.highlightContent(t[a._mIData.searchBy],mIManager.currentDataQuery),i=mIManager.createElement("span","","lyteMIItemContent");return i.innerHTML=o,e.appendChild(i),e},m=function(t){var e=$L(this);i||(i=this.closest(".lyteMIDropdown")),a=i._textarea,h(e[0]._mentionsData),t.stopPropagation()},g=function(t){t&&($L("lyte-mentions-item",i).length&&$L("lyte-mentions-item",i).removeClass(a._mIData.activeItem),$L(t).addClass(a._mIData.activeItem),(l=[]).push(t))},f=function(e,o){var i=e._textarea,a=i.getBoundingClientRect(),l=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,t.innerHeight||0);t.pageXOffset||document.documentElement.scrollLeft;n+=t.pageYOffset||document.documentElement.scrollTop;var r=function(e){var o=document.createElement("div"),i=getComputedStyle(e),a=e.value,l={};for(var n in i)/[\d -]+/g.test(n)||"function"==typeof i[n]||("lineHeight"==n&&(l[n]=i[n]),"letterSpacing"==n&&(l[n]=i[n]),"height"==n&&(l[n]="auto"),"width"==n&&(l[n]=i[n]),"fontSize"==n&&(l[n]=i[n]),"paddingLeft"==n&&(l[n]=i[n]),"paddingRight"==n&&(l[n]=i[n]),"paddingTop"==n&&(l[n]=i[n]),"paddingBottom"==n&&(l[n]=i[n]),"marginLeft"==n&&(l[n]=i[n]),"marginRight"==n&&(l[n]=i[n]),"marginTop"==n&&(l[n]=i[n]),"marginBottom"==n&&(l[n]=i[n]),"borderLeft"==n&&(l[n]=i[n]),"borderRight"==n&&(l[n]=i[n]),"borderTop"==n&&(l[n]=i[n]),"borderBottom"==n&&(l[n]=i[n]),"boxSizing"==n&&(l[n]=i[n]),"whiteSpace"==n&&(l[n]=i[n]),"fontWeight"==n&&(l[n]=i[n]),"fontFamily"==n&&(l[n]=i[n]),"testAlign"==n&&(l[n]=i[n]),"display"==n&&(l[n]=i[n]),"direction"==n&&(l[n]=i[n]),"wordBreak"==n&&(l[n]=i[n]),"wordWrap"==n&&(l[n]=i[n]),"wordSpacing"==n&&(l[n]=i[n]),"position"==n&&(l[n]="relative"));for(var n in l)o.style[n]=i[n];var r=e.selectionStart-(mIManager.currentDataQuery.length+1),s=a.substr(0,r);o.textContent=s;var d=document.createElement("span");d.textContent=a.substr(r,mIManager.currentDataQuery.length+1)||".",o.appendChild(d),document.body.appendChild(o);var p=e.getBoundingClientRect(),c=d.getBoundingClientRect(),h=t.pageXOffset||document.documentElement.scrollLeft,u=t.pageYOffset||document.documentElement.scrollTop,y={x:p.left+h+d.offsetLeft,y:p.top+u+d.offsetTop,height:c.height,width:c.width};return o.remove(),y}(i);if(l.height<n-(r.y+r.height+5))e.style.top=r.y+r.height+5+"px",$L(e).removeClass("lyteMIDropdown__Up"),$L(e).addClass("lyteMIDropdown__Down");else if(l.height<r.y)e.style.top=r.y-l.height+"px",$L(e).removeClass("lyteMIDropdown__Down"),$L(e).addClass("lyteMIDropdown__Up");else{"up"==v(n,r.y,r.height)?(e.style.top="5px",$L(e).height(r.y-5),$L(e).addClass("lyteMIAddOverflow","lyteMIDropdown__Up")):(e.style.top=r.y+r.height+5+"px",$L(e).height(n-(r.y+r.height+5)-5),$L(e).addClass("lyteMIAddOverflow","lyteMIDropdown__Down"))}if(r.x+l.width<a.right)e.style.left=r.x+"px";else{var s=r.x+r.width-l.width;s<0&&(r.x+r.width<=a.left+a.width/2?(e.style.maxWidth=a.right-r.x+"px",s=r.x):(e.style.maxWidth=l.width+s-10+"px",s=10)),e.style.left=s+"px"}o||($L(e).addClass("lyteMIListAppended"),i._mIData.onBeforeShow&&i._mIData.onBeforeShow(e,i))},v=function(t,e,o){return e-5>t-(e+o+5)?"up":"down"},b=function(t){if("none"===getComputedStyle(t).maxWidth){var e=getComputedStyle(t._textarea);t.style.maxWidth=parseFloat(e.width)-(parseFloat(e.paddingLeft)+parseFloat(e.paddingRight))+"px"}},D=function(t){if(t.length){for(var e=mIManager.createElement("ul"),o=0;o<t.length;o++){var l=y(t[o]);if(l.addEventListener("click",m,!0),a._mIData.avatars&&t[o].avatar){var n=new Image;n.src=t[o].avatar,l.prepend(n)}e.append(l),l=null}i.append(e),i._appended||(_lyteUiUtils.appendChild(document.body,i),i._appended=!0),g(e.children[0]),$L(i).addClass("lyteMIHide"),$L(i).addClass("lyteMIDisplayBlock"),b(i),f(i),$L(i).removeClass("lyteMIHide")}},P=function(){var t=mIManager.currentDataQuery;if(0==a._mIData.minChars||t&&t.length&&t.length>=a._mIData.minChars){var e=a._mIData.onDataRequest(t);e&&(e.then?Promise.resolve(e).then(function(e){if(!1===I.dropbody){i._appended||(_lyteUiUtils.appendChild(document.body,i),i._appended=!0);var o=I.displayMentions(e,t,i);if(void 0===o||o){if("bindClick"===o){a._mIData.validateCollections=!0;for(var l=$L("lyte-mentions-item",i),n=0;n<l.length;n++)l[n].addEventListener("click",m,!0)}g(i.querySelector("lyte-mentions-item")),$L(i).addClass("lyteMIHide"),$L(i).addClass("lyteMIDisplayBlock"),b(i),f(i),$L(i).removeClass("lyteMIHide")}}else D(e)},function(t){console.error(t)}):function(t){var e=a._mIData.mode,o=a._mIData.searchBy,i=mIManager.currentDataQuery,l=[];if(t.length){for(var n=0;n<t.length;n++)switch(e){case"contains":t[n][o].trim().toLowerCase().indexOf(i.toLowerCase())>=0&&l.push(t[n]);break;case"startsWith":t[n][o].trim().toLowerCase().startsWith(i.toLowerCase())&&l.push(t[n]);break;case"endsWith":t[n][o].trim().toLowerCase().endsWith(i.toLowerCase())&&l.push(t[n])}D(function(t,e){for(var o=0;o<e.length;o++)for(var i=0;i<t.length;i++)e[o].id==t[i].id&&t.splice(i,1);return t}(l,a._mIData.lyteMICollection))}}(e))}},C=function(t,e){var o=null,i=t.tagName;if("next"==e)for(;t.nextElementSibling;){if(t.nextElementSibling.tagName===i){o=t.nextElementSibling;break}t=t.nextElementSibling}if("prev"==e)for(;t.previousElementSibling;){if(t.previousElementSibling.tagName===i){o=t.previousElementSibling;break}t=t.previousElementSibling}return o},L=function(t,e){for(var o,i=(t.match(new RegExp(e,"g"))||[]).length;i>0&&t;){if(0==(o=t.lastIndexOf(e)))return o;if(o>0&&(" "==t.charAt(o-1)||"\n"==t.charAt(o-1)))return o;i=((t=t.substring(0,o)).match(new RegExp(e,"g"))||[]).length}return-1},x=function(t){var e=a._mIData.lyteMICollection;if(e.length>0)for(var o=e.length-1;o>=0;o--)if(e[o].position.end<=t.length)return t.substring(e[o].position.end);return t},w=function(t){var e;"function"==typeof Event?e=new Event("change"):(e=document.createEvent("Event")).initEvent("change",!0,!0),t.dispatchEvent(e)};if("string"==typeof o){if("setMessage"===o){if(!(a=this.length>0?"LYTE-INPUT"===this[0].tagName&&"textarea"==this[0].ltProp("type")?this[0].querySelector("textarea"):this[0]:null)||!a.getAttribute("data-lyte-mentions"))return console.error(this+" is not Initialized using lyte-mentions plugin.Please check."),null;if("object"!=typeof arguments[1])return a?(console.error("Inappropriate arguments passed. Please pass an object containing a message and a collection to be set."),null):(console.error("Element doesnt exist.Please check."),null);a.value&&this.mentionsInput("reset");var _=arguments[1].message,S=_,T=arguments[1].collection?arguments[1].collection:a._mIData.onDataRequest(),M=[],E=[],k=_;T.forEach(function(t){var e={id:t.id,value:t[a._mIData.searchBy]},o=a._mIData.triggerChar+mIManager.mentionsSyntax(e),i=_.indexOf(o);if(-1!=i){var l=k.indexOf(o);E.push(k.substring(0,l)),k=k.substring(l+o.length),t.position={start:i,end:i+e.value.length},M.push(t);var n="<strong class='lyteMentionsStrongDiv'><span>"+e.value+"</span></strong>";_=_.replace(o,e.value),S=S.replace(o,n),E.push(n)}}),E.push(k),S=(S=S.replace(/\n/g,"<br />")).replace(/ {2}/g,"&nbsp; "),a._callee&&"LYTE-INPUT"==a._callee.tagName?a._callee.ltProp("value",_):a.value=_,a._mIData.syntaxMessage=arguments[1].message+" ",E.forEach(function(t,e){if(e%2==0){var o=document.createTextNode(t);a._mIData._overlayDiv.appendChild(o)}else a._mIData._overlayDiv.innerHTML=a._mIData._overlayDiv.innerHTML+t}),a._mIData.lyteMICollection=M,w(a),a.focus()}if("getMessage"===o)return(a=this.length>0?"LYTE-INPUT"===this[0].tagName&&"textarea"==this[0].ltProp("type")?this[0].querySelector("textarea"):this[0]:null)&&a.getAttribute("data-lyte-mentions")?a._mIData.syntaxMessage?a._mIData.syntaxMessage:a.value:a?(console.error(this+" is not Initialized using lyte-mentions plugin.Please check."),null):(console.error("Element doesnt exist.Please check."),null);if("getCollection"===o)return(a=this.length>0?"LYTE-INPUT"===this[0].tagName&&"textarea"==this[0].ltProp("type")?this[0].querySelector("textarea"):this[0]:null)&&a.getAttribute("data-lyte-mentions")?a._mIData.lyteMICollection:a?(console.error(this+" is not Initialized using lyte-mentions plugin.Please check."),null):(console.error("Element doesnt exist.Please check."),null);if("destroy"===o){if(!(a=this.length>0?"LYTE-INPUT"===this[0].tagName&&"textarea"==this[0].ltProp("type")?this[0].querySelector("textarea"):this[0]:null)||!a.getAttribute("data-lyte-mentions"))return a?(console.error(this+" is not Initialized using lyte-mentions plugin.Please check."),null):(console.error("Element doesnt exist.Please check."),null);a.removeAttribute("data-lyte-mentions");var A=a.parentElement;_lyteUiUtils.insertBefore(A,a),a._mIData.lyteMIList.remove(),a._mIData=null,A.remove(),a.removeEventListener("keydown",a._lyteMenIpKeydownEvent),a.removeEventListener("keypress",a._lyteMenIpKeypressEvent),a.removeEventListener("input",a._lyteMenIpInputEvent),a.removeEventListener("paste",a._lyteMenIpPasteEvent),a.removeEventListener("input",a._closureEvnt),a.removeEventListener("change",a._closureEvnt),delete a._lyteMenIpKeydownEvent,delete a._lyteMenIpKeypressEvent,delete a._lyteMenIpInputEvent,delete a._lyteMenIpClickEvent,delete a._lyteMenIpBlurEvent,delete a._closureEvnt,mIManager.bindResize&&0==document.querySelectorAll('textarea[data-lyte-mentions="true"]').length&&(t.removeEventListener("resize",mIManager.callAtTheEndOfResize),mIManager.bindResize=!1),mIManager.bindClick&&0==document.querySelectorAll('textarea[data-lyte-mentions="true"]').length&&(t.removeEventListener("click",mIManager.onClick),mIManager.bindClick=!1),mIManager.bindScroll&&0==document.querySelectorAll('textarea[data-lyte-mentions="true"]').length&&(t.removeEventListener("scroll",mIManager.onScroll),mIManager.bindScroll=!1)}if("reset"===o){if(!(a=this.length>0?"LYTE-INPUT"===this[0].tagName&&"textarea"==this[0].ltProp("type")?this[0].querySelector("textarea"):this[0]:null)||!a.getAttribute("data-lyte-mentions"))return a?(console.error(this+" is not Initialized using lyte-mentions plugin.Please check."),null):(console.error("Element doesnt exist.Please check."),null);a._callee&&"LYTE-INPUT"==a._callee.tagName?a._callee.ltProp("value",""):a.value="",p(),c(),w(a)}return!0}var N,I=o||{};if(!(this.length>1)){if("LYTE-INPUT"==this[0].tagName&&"textarea"==this[0].ltProp("type")?(N=this[0].querySelector("textarea"),I.isLyteInput=!0):N=this[0],N.getAttribute("data-lyte-mentions"))return N._mIData?(N._mIData.mode=I.mode?I.mode:N._mIData.mode,N._mIData.activeItem=I.activeItem?I.activeItem:N._mIData.activeItem,N._mIData.triggerChar=I.triggerChar?I.triggerChar:N._mIData.triggerChar,N._mIData.minChars=void 0==I.minChars?N._mIData.minChars:parseInt(I.minChars),N._mIData.avatars=void 0==I.avatars?N._mIData.avatars:I.avatars,N._mIData.searchBy=I.searchBy?I.searchBy:N._mIData.searchBy,N._mIData.dropbody=void 0==I.dropbody?N._mIData.dropbody:I.dropbody,N._mIData.listItemTag=void 0==I.listItemTag?N._mIData.listItemTag:I.listItemTag,N._mIData.interval=I.interval?parseInt(I.interval):N._mIData.interval,N._mIData.onDataRequest=I.onDataRequest?I.onDataRequest:N._mIData.onDataRequest,N._mIData.onAdd=I.onAdd?I.onAdd:N._mIData.onAdd,N._mIData.onRemove=I.onRemove?I.onRemove:N._mIData.onRemove,N._mIData.displayMentions=I.displayMentions?I.displayMentions:N._mIData.displayMentions,N._mIData.onHide=I.onHide?I.onHide:N._mIData.onHide):(N._mIData=I,console.error("ALERT ! You are trying to bind mentions behaviour to a textarea which already has it enabled. Please don't call it twice to avoid abnormal behaviour.")),this;N.setAttribute("data-lyte-mentions",!0),I.element=N,I.mode=I.mode?I.mode:"contains",I.activeItem=I.activeItem?I.activeItem:"lyteMIActive",I.triggerChar=I.triggerChar?I.triggerChar:"@",I.minChars=void 0==I.minChars?1:parseInt(I.minChars),I.avatars=void 0==I.avatars||I.avatars,I.searchBy=I.searchBy?I.searchBy:"name",I.lyteMICollection=[],I.dropbody=void 0==I.dropbody||I.dropbody,I.listItemTag=void 0==I.listItemTag?"li":I.listItemTag,I.interval=I.interval?parseInt(I.interval):0;return I.lyteMIList=mIManager.init(N),I.lyteMIList._textarea=N,I._overlayDiv=N.previousElementSibling.children[0],I.isLyteInput||$L(N.previousElementSibling).addClass("lyteMentionsNormalTextarea"),N._mIData=I,N._lyteMenIpKeydownEvent=function(t){a=this;var o=mIManager.KEY;if(t.keyCode!==o.LEFT&&t.keyCode!==o.RIGHT&&t.keyCode!==o.HOME&&t.keyCode!==o.END){if(t.keyCode===o.BACKSPACE||(t.metaKey||t.ctrlKey)&&88==t.keyCode){var n=a.selectionStart-a.selectionEnd;Math.abs(n)>mIManager.inputBuffer.length||t.metaKey&&t.keyCode===o.BACKSPACE?mIManager.inputBuffer=[]:mIManager.inputBuffer=mIManager.inputBuffer.slice(0,(0==n?-1:n)+mIManager.inputBuffer.length)}else if((t.metaKey||t.ctrlKey)&&90==t.keyCode&&s(),i||(i=a._mIData.lyteMIList),"block"==$L(i).css("display"))switch(t.keyCode){case o.UP:case o.DOWN:var r,d=null;t.keyCode===o.DOWN?l&&l.length?(d=C(l[0],"next"),r="down"):(d=i.querySelector("lyte-mentions-item"),r="up"):(d=C(l[0],"prev"),r="up"),d&&(g(d),function(t,e,o){var i=e.offsetTop,a=t.scrollTop,l=t.getBoundingClientRect().height,n=e.getBoundingClientRect().height;"down"===o&&a+l<i+n?t.scrollTop=t.scrollTop+i+n-(l+a):"up"===o&&i<a&&(t.scrollTop=i)}(i,d,r)),t.preventDefault(),t.stopPropagation();break;case o.RETURN:case o.TAB:l&&l.length&&(l[0].dispatchEvent(new Event("click")),t.preventDefault(),t.stopPropagation())}}else e(s)},N._lyteMenIpKeypressEvent=function(t){a=this;var e=mIManager.KEY;if(!(t.keyCode===e.LEFT&&"%"!==t.key||t.keyCode===e.RIGHT&&"'"!==t.key||t.keyCode===e.HOME&&"$"!==t.key||t.keyCode===e.END&&"#"!==t.key||t.keyCode===e.UP&&"&"!==t.key||t.keyCode===e.DOWN&&"("!==t.key||t.keyCode===e.BACKSPACE||t.keyCode===e.TAB||t.keyCode===e.RETURN||t.keyCode===e.ESC||"Shift"===t.key||"Control"==t.key||"Alt"==t.key||"Meta"==t.key)){var o=a.value||"",i=t.key;a.selectionStart<a.selectionEnd&&i&&(o=o.substring(0,a.selectionStart)+i,mIManager.inputBuffer=[]),o=x(o.substring(0,a.selectionStart))+i;var l=L(o,a._mIData.triggerChar);if(l>-1){var n=o.substring(l);mIManager.inputBuffer=n.split("")}}},N._lyteMenIpInputEvent=function(t){i=(a=this)._mIData.lyteMIList,p(),(a._mIData.dropbody||a._mIData.validateCollections)&&c(),u();var e,o=L(mIManager.inputBuffer.join(""),a._mIData.triggerChar);o>-1&&" "!=(e=mIManager.inputBuffer.slice(o+1).join("")).charAt(0)&&"\n"!=e.charAt(0)?(mIManager.searchTriggeredId&&(clearTimeout(mIManager.searchTriggeredId),mIManager.searchTriggeredId=!1),mIManager.searchTriggeredId=setTimeout(function(){mIManager.searchTriggeredId=!1,r=mIManager.inputBuffer.slice(o+1).join(""),mIManager.currentDataQuery=r,P()},a._mIData.interval)):mIManager.searchTriggeredId&&(clearTimeout(mIManager.searchTriggeredId),mIManager.searchTriggeredId=!1)},N._lyteMenIpClickEvent=function(t){s()},N._lyteMenIpBlurEvent=function(t){u(t.target)},N._lyteMenIpPasteEvent=function(e){if((a=this).selectionStart==a.selectionEnd)var o=x(a.value)+(e.clipboardData||t.clipboardData).getData("text");else{o=a.value.substring(0,a.selectionStart)+(e.clipboardData||t.clipboardData).getData("text");var i=a.value.substring(a.selectionEnd);if(i.length>0){var l=i.indexOf(" ");o+=i.substring(0,l>-1?l:i.length)}}mIManager.inputBuffer=o.split("")},N.addEventListener("keydown",N._lyteMenIpKeydownEvent),N.addEventListener("keypress",N._lyteMenIpKeypressEvent),N.addEventListener("input",N._lyteMenIpInputEvent),N.triggerInputEvent=function(){var t;"function"==typeof Event?t=new Event("input"):(t=document.createEvent("Event")).initEvent("input",!0,!0),N.dispatchEvent(t)},N.addEventListener("paste",N._lyteMenIpPasteEvent),I.lyteMIList.addEventListener("mouseover",function(t){a=t.currentTarget._textarea;var e=t.target.closest("lyte-mentions-item");g(e)}),mIManager.bindScroll||(mIManager.onScroll=function(t){if(t&&t.target&&!t.target.isEqualNode(document)&&"HTML"!=t.target.tagName&&!t.target.closest(".lyteMIDropdown")){var e=document.querySelectorAll(".lyteMIListAppended");if(e.length>0)for(var o=0;o<e.length;o++)f(e[o],!0)}},t.addEventListener("scroll",mIManager.onScroll,!0),mIManager.bindScroll=!0),mIManager.bindClick||(mIManager.onClick=function(t){for(var e=t.target;e&&("TEXTAREA"!==e.tagName||"true"!==e.getAttribute("data-lyte-mentions"))&&"HTML"!=e.tagName;)e=e.parentElement;if(e&&"TEXTAREA"===e.tagName){e._lyteMenIpClickEvent(t);for(var o=document.querySelectorAll(".lyteMIDropdown.lyteMIDisplayBlock"),i=0;i<o.length;i++)e._mIData.lyteMIList.isEqualNode(o[i])||u(o[i]._textarea);e._addedMentions=!1}else if(e&&"HTML"===e.tagName)for(o=document.querySelectorAll(".lyteMIDropdown.lyteMIDisplayBlock"),i=0;i<o.length;i++)u(o[i]._textarea)},document.body.addEventListener("click",mIManager.onClick,!0),mIManager.bindClick=!0),this}for(var F=0;F<this.length;F++)if("LYTE-INPUT"==this[F].tagName&&"textarea"==this[F].ltProp("type")){var $=this[F].querySelector("textarea"),R=Object.assign({},I);R.isLyteInput=!0,$L($).mentionsInput(Object.assign({},R))}else $L(this[F]).mentionsInput(Object.assign({},I))}}}(window),function(t){var e,o,i={"ease-in":function(t){return t*t},"ease-out":function(t){return t*(2-t)},linear:function(t){return t},"ease-in-out":function(t){return t<.5?2*t*t:(4-2*t)*t-1}};function a(e,o,l,r,s,d,p,c,h,u){var y,m=Date.now(),g=d-(p=p-(m-l)),f=$L.Tween.propHooks[e];y=function(t,e){return i[e](t)}((g=p<0?d:g)/d,c),"set"in f?f.set(h,s+r*y,u):this[e]=s+r*y,u._stopped||(p>0?this["rAF"+e]=t.requestAnimationFrame(a.bind(this,e,o,m,r,s,d,p,c,h,u)):n(h.get(0),!1))}function l(t,e){var o=$L.Tween.propHooks[t];return"get"in o?o.get(e):e.get(0)[t]}function n(t,i){if(o.data[t.lyteAnimateId][0]){var a=o.data[t.lyteAnimateId][0],l=a.nonstandard||0,n=a.standard;e.get(t,"animeProp","animate");i?a.standard=n=!0:(l--,a.nonstandard=l),n&&l<=0&&o.dequeue(t)}}function r(t){t.lyteAnimateId||o.add(t);var i=t.nodeName,a=e.get(t,"displayValue");if(a)return a;var l=t.ownerDocument,n=l.body.appendChild(l.createElement(i));return a=l.defaultView.getComputedStyle(n).display,l.body.removeChild(n),"none"===a&&(a="block"),e.set(t,"displayValue",a),a}function s(t,e){for(var o={},i=["left","right","top","bottom"],a=0;a<i.length;a++)o["margin-"+i[a]]=o["padding-"+i[a]]=t;return e&&(o.width=o.height=o.opacity=t),o}function d(t,i){for(var a=[],l=0;l<t.length;l++){var n=t[l];o.add(n);var s=n.style.display;i?("none"==s&&(a[l]=e.get(n,"display"),a[l]||(a[l]="")),""==s&&"none"==$L(n).css("display")&&(a[l]=r(n))):"none"!=s&&(a[l]="none",e.set(n,"display",s))}for(var d=0;d<t.length;d++)$L(t[d]).css("display",a[d]);return t}function p(){return d([this])}function c(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function h(){this.data={}}function u(t){t.target==this&&e.get(this,"endCallback").call(this,t)}function y(){}function m(t,e,o,i){var a=t[e].toString();if(/^(\()/g.exec(a))return a;var l=/cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|auto|vmin|vmax|%+$/gi,n=a.match(l),r=a.match(/^\+=|\-=|\*=|\/=/g);if("none"==i[o]||/matrix/gi.test(i[o]))n="";else if(null==n){var s=i[o].match(l);n=null==s?"":"auto"==s[0]?"px":s[0]}else n=n[0],a=a.slice(0,a.indexOf(n));if(r){var d=parseInt(i[o]),p=a.split("=");switch(d=NaN==d?0:d,p[0]){case"/":a=d/parseFloat(p[1]);break;case"-":a=d-parseFloat(p[1]);break;case"*":a=d*parseFloat(p[1]);break;default:a=d+parseFloat(p[1])}}return a+n}function g(){this.style.removeProperty("transition")}function f(){if((e.get(this,"animeProp","animate")||[]).length){g.call(this);var t=function(){if(document.body.contains(this)){for(var t=o.data[this.lyteAnimateId][0].options,e=["timingFunction","duration","delay"],i="",a=Object.keys(o.data[this.lyteAnimateId][0].value||{}),l=0;l<e.length;l++)if(e[l]in t){var n="";"delay"!=e[l]&&"duration"!=e[l]||/[ms|s]+/gi.test(t[e[l]])||(n="ms"),i+="transition-"+c(e[l])+":"+t[e[l]]+n+";"}if(a.length){i+="transition-property : ";for(var r=0;r<a.length;r++)i+=r>0?","+c(a[r]):c(a[r])}return i+";"}}.call(this);e.set(this,"endCallback",function(t){"timeout"!=t.type&&t.stopPropagation();var i=e.get(this,"animeProp","animate");if(o.data[this.lyteAnimateId].length){var a=e.get(this,"propertyCount");if("timeout"==t.type&&(a=i.length-1),e.set(this,"propertyCount",++a),i.length==a){clearTimeout(this._anitime),delete this._anitime,g.call(this);var l=e.get(this,"animeProp","mode"),r=e.get(this,"animeProp","original");l?"hide"==l?"timeout"==t.type?(p.call(this),$L.each(r,function(t,e){$L(this).css(t,e)}.bind(this)),n(this,!0)):setTimeout(function(){p.call(this),$L.each(r,function(t,e){$L(this).css(t,e)}.bind(this)),n(this,!0)}.bind(this),20):($L.each(r,function(t,e){$L(this).css(t,e)}.bind(this)),n(this,!0)):n(this,!0),setTimeout(function(){this.style.overflow=this._orioverflow,delete this._orioverflow}.bind(this),20)}}}),this._orioverflow=this.style.overflow,this.style.overflow="hidden",e.set(this,"propertyCount",0),this._styletime=setTimeout(function(){delete this._styletime;var i=$L(this).attr("style");$L(this).attr("style",(i?i+";":"")+t),setTimeout(function(){var t=o.data[this.lyteAnimateId][0];if(t){var i=t.options,a=Date.now(),l=i.fired;e.set(this,"animeProp","startTime",a);var n=e.get(this,"animeProp");i.start&&!l&&(i.fired=!0,i.start.call(this,{options:i,from:n.from,to:n.to,value:o.data[this.lyteAnimateId][0].value,startTime:a,target:this,transitionProperty:Object.keys(n.to)}));var r=this;$L.each(e.get(this,"animeProp","to"),function(t,e){$L(r).css(t,e)}),this._anitime=setTimeout(u.bind(this,{type:"timeout",target:this}),function(t){var e=0;if(/\d+/.test(t)){var o=t.match(/(\d+)(s|ms){0,}$/);e=parseFloat(o[1])*("s"==o[2]?1e3:1)}return e}(i.duration.toString())+10)}else g.call(this),this.removeEventListener("transitionend",u)}.bind(this),20)}.bind(this),20)}else n(this,!0)}function v(t,e,o){var i={};return o&&o.constructor==Function&&(i.complete=o),e&&(e.constructor==Function?i.complete=e:e.constructor==Object?$L.extend(i,e):e.constructor==String&&(i.timingFunction=e)),void 0!=t&&(t.constructor==Object?$L.extend(i,t):t.constructor==Number?i.duration=t:t.constructor==Function&&(i.complete=t)),void 0!=i.delay&&/[s]+/gi.test(i.delay)&&(options.delay=1e3*parseInt(options.delay)),"duration"in i||(i.duration=400),/[s]+/gi.test(i.duration)&&(options.duration=1e3*parseInt(options.duration)),i.timingFunction||(i.timingFunction="ease"),i}function b(t,e,o){$L(this).css(t,this.style[t].replace(/([0-9.-]+)/,function(t){return(parseFloat(t)-e)*o+e}))}function D(i,a){if(i){e.get(this,"propertyCount");e.set(this,"propertyCount",(e.get(this,"animeProp","animate")||[]).length-1),u.call(this,{target:this,type:"timeout"}),a&&o.dequeueAll(this)}else{var l=o.data[this.lyteAnimateId];if(!l)return;clearTimeout(this._anitime),delete this._anitime;for(var r=l[0].options,s=e.get(this,"animeProp"),d=Date.now(),p=s.from,c=(s.to,s.startTime),h=1-Math.max(0,c+r.duration-d)/r.duration,y=Object.keys(s.to||{}),m=e.get(this,"animeProp","standardObj"),g=0;g<y.length;g++)if(m[y[g]]){n(this,!0);var f=p[y[g]];"none"!=f||/deg/gi.test(f)||(f=1),f=parseInt(f),f=isNaN(f)?0:f,b.call(this,y[g],f,h)}else t.cancelAnimationFrame(this["rAF"+y[g]]),n(this,!1);$L(this).css("transition",""),a&&o.dequeueAll(this)}}$L.Tween={propHooks:{}},h.prototype={add:function(t){if(t.lyteAnimateId)return t.lyteAnimateId;var e="lyteAnimate"+parseInt(Math.random()*Math.pow(10,6));return t.lyteAnimateId=e,this.data[e]=[],t[t.lyteAnimateId]={},e},queue:function(t,e,o){for(var i=0;i<t.length;i++){var a=t[i],l=a.lyteAnimateId;l||(l=this.add(a)),this.data[l].push({elem:a,options:e,value:o,properties:Object.keys(o)}),1==this.data[l].length&&(a.addEventListener("transitionend",u),this.next(a))}},dequeue:function(t){var i,a,l,n,r;i=t,n=((o.data[i.lyteAnimateId][0]||{}).options||{}).complete,r={},n&&(a=e.get(i,"animeProp","animate"),l=e.get(i,"animeProp"),r.transitionProperty=a,r.from=l.from,r.to=l.to,r.startTime=l.startTime,n.call(i,r)),this.data[t.lyteAnimateId].splice(0,1),this.next(t)},dequeueAll:function(t){this.data[t.lyteAnimateId]=this.data[t.lyteAnimateId].splice(),this.next(t)},next:function(t){clearTimeout(t._nextime),t._nextime=setTimeout(this.call.bind(this),13,t)},call:function(i){delete i._nextime,i.lyteAnimateId&&this.data[i.lyteAnimateId][0]?function(){var i=!$L.isWindow(this)&&this.ownerDocument.defaultView;$L.fastdom.measure(function(){var s=i;if(i){var d=i.getComputedStyle(this);if(!(s="none"==d.display)&&!this.offsetParent)return void f.call(this)}var p=o.data[this.lyteAnimateId][0];if(p){var c=p.value,h=Object.keys(c),u=[],y={},g={},v=e.get(this,"animeProp","original");v||(v={},e.set(this,"animeProp","original",v)),$L.fastdom.mutate(function(){if(p=o.data[this.lyteAnimateId][0]){for(var d,b=!0,D={},P=$L(this),C=!1,L=0;L<h.length;L++){var x,w=h[L].replace(/(-\w)/g,function(t){return t[1].toUpperCase()}),_=c[h[L]],S=null;if(!(i&&/show|hide|toggle/.test(_)&&("hide"==_||!s&&"toggle"==_?S="hide":("show"==_||s&&"toggle"==_)&&(S="show"),"show"==S&&!s||"hide"==S&&s))&&(i&&b&&(s?void 0==this._lytedisplay?this.style.display=r(this):this.style.display=this._lytedisplay||"":this._lytedisplay=this.style.display,d=i.getComputedStyle(this),this.getBoundingClientRect(),b=!1),-1==u.indexOf(w)&&u.push(w),D[w]=D[w]=x=w in(d||{}),C=C||!!x,s?("show"!=S?y[w]=x?d[w]:l(w,P):(v[w]=this.style[w],y[w]=0),g[w]=x?S?d[w]:m(c,h[L],w,d):c[h[L]]):("hide"!=S?g[w]=x?m(c,h[L],w,d):c[h[L]]:(v[w]=this.style[w],g[w]=0),y[w]=x?d[w]:l(w,P)),parseFloat(g[w])==parseFloat(y[w])||/auto/.test(g[w])||/auto/.test(y[w]))){delete y[w],delete g[w];var T=u.indexOf(w);T>-1&&u.splice(T,1)}}e.set(this,"animeProp","from",y),e.set(this,"animeProp","to",g),e.set(this,"animeProp","mode",S),e.set(this,"animeProp","animate",u),e.set(this,"animeProp","standardObj",D),p.standard=!C,!C&&$L.isEmptyObject(g)&&n(this),C&&($L.each(y,function(t,e){D[t]&&(this.style[t]=e)}.bind(this)),f.call(this)),$L.each(g,function(i,n){var r=p.nonstandard||0;D[i]||(p.nonstandard=r+1,function(i,n,r){var s,d=Date.now(),p=$L(r),c=($L.Tween.propHooks[i],l(i,p)),h=n-c,u=o.data[r.lyteAnimateId][0].options,y=u.duration||1,m=e.get(r,"animeProp"),g=u.start,f=u.fired;s=u.timingFunction="ease"===u.timingFunction?"ease-in-out":u.timingFunction,g&&!f&&(u.fired=!0,g.call(r,{options:u,from:m.from,to:m.to,value:u.value,startTime:d,target:r,transitionProperty:Object.keys(m.to)})),r["rAF"+i]=t.requestAnimationFrame(a.bind(r,i,n,d,h,c,y,y,s,p,u))}(i,n,this))}.bind(this))}}.bind(this))}}.bind(this))}.call(i):(this.data[i.lyteAnimateId]=[],i.removeEventListener("transitionend",u))}},y.prototype={set:function(){arguments.length<3||(3==arguments.length?(void 0==arguments[0][arguments[0].lyteAnimateId]&&(arguments[0][arguments[0].lyteAnimateId]={}),arguments[0][arguments[0].lyteAnimateId][arguments[1]]=arguments[2]):4==arguments.length&&(void 0==arguments[0][arguments[0].lyteAnimateId][arguments[1]]&&(arguments[0][arguments[0].lyteAnimateId][arguments[1]]={}),arguments[0][arguments[0].lyteAnimateId][arguments[1]][arguments[2]]=arguments[3]))},get:function(){if(!(arguments.length<1))return 1==arguments.length?arguments[0][arguments[0].lyteAnimateId]:2==arguments.length?arguments[0][arguments[0].lyteAnimateId][arguments[1]]:3==arguments.length&&arguments[0][arguments[0].lyteAnimateId][arguments[1]]?arguments[0][arguments[0].lyteAnimateId][arguments[1]][arguments[2]]:void 0}},e=new y,o=new h,lyteDomObj&&(lyteDomObj.prototype.animate=function(){if(arguments.length){var t=v(arguments[1],arguments[2],arguments[3]);o.queue(this,t,arguments[0])}return this},lyteDomObj.prototype.fadeTo=function(t,e,i,a){if(void 0!=e&&e.constructor==Number&&e<1){var l=e;e=t,t=l}t=t||0;var n=v(e,i,a);return o.queue(this,n,t.constructor==Object?t:{opacity:t}),this},$L.each({fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"},slideUp:{height:"hide",paddingTop:"hide",paddingBottom:"hide"},slideDown:{height:"show",paddingTop:"show",paddingBottom:"show"},slideToggle:{height:"toggle",paddingTop:"toggle",paddingBottom:"toggle"}},function(t,e){lyteDomObj.prototype[t]=function(t,o,i){return this.animate(e,t,o,i)}}),lyteDomObj.prototype.stop=function(t,e){return $L.each(this,function(){D.call(this,void 0==e||e,t)})},lyteDomObj.prototype.finish=function(t){return $L.each(this,function(){var t=o.data[this.lyteAnimateId];if(t&&t.length){for(var e=1;e<t.length;e++)t[e].options.duration=1;D.call(this,!0,!1)}})},$L.each({show:s("show",!0),hide:s("hide",!0),toggle:s("toggle",!0)},function(t,e){lyteDomObj.prototype[t]=function(o,i,a){return o&&o.constructor!=Boolean?this.animate(e,o,i,a):$L.each(this,function(){(function t(e,o){if(function(t,e){return!("hide"==e&&t||"show"==e&&!t)}(e,o))return e.constructor==Boolean?d([this],e):$L.each(this,function(){t("none"!=$L(this).css("display"))})}).call(this,"none"==$L(this).css("display"),t)})}}))}(window),function(){function t(t,e,o,i,a){$L(t).animate(e,function(t,e,o,i){var a=$L.extend({},t),l=a[o?"onAfter":"onAfterFirst"];return l&&(a.complete=function(t){l.call(i,e,a)}),a}(o,i,a,t))}function e(e,o,i,a){var l=a.axis.split(""),n={},r=l.length,s=a.queue;s&&(a.duration/=2),l.forEach(function(l,d){s&&(n={}),function(e,o,i,a,l,n,r,s){var d="x"===r?"Left":"Top",p=$L(o),c=l.queue,h="scroll"+d,u=d.toLowerCase(),y=e.dom?e[d]+p[h]():e[u];i[h]=Math.abs(y),c?t(o,i,l,n,s===a-1):a-1===s&&t(o,i,l,n,!0)}.call(this,e,o,n,r,a,i,l,d)})}function o(t,e,o){var i=$L(t),a=t.document,l=o.toLowerCase(),n=(a||{}).documentElement,r=$L(n);return e?r[l]()-t["inner"+o]:t["scroll"+o]-i[l]()}function i(t,e,i){var a,l,n,r,s=t,d=$L.isWindow(e);switch(typeof t){case"number":case"string":a=(/([0-9]*)%/g.exec(t)||[])[1],s={top:a?.01*a*o(e,d,"Height"):parseFloat(t),left:a?.01*a*o(e,d,"Width"):parseFloat(t),dom:!1};break;case"object":t.nodeType||t instanceof lyteDomObj&&(t=t.get(0))?(l=$L(t),s={},r=t.getBoundingClientRect(),n=$L.isWindow(t)?{top:0,left:0}:e.getBoundingClientRect(),["Left","Top"].forEach(function(t){!function(t,e,o,i,a,l){var n,r=e.margin,s=t.toLowerCase();n=r?parseInt(i.css("margin"+t),10)+parseInt(i.css("border"+t+"Width"),10):0,o[t]=a[s]-l[s]-n}(t,i,s,l,r,n)}),s.dom=!0):s.dom=!1}return function(t,e){var o,e="object"==typeof e?e:{left:e,top:e};for(o in t)t[o]=t[o]+(e[o.toLowerCase()]||0)}(s,i.offset),s}lyteDomObj.prototype.scrollTo=function(t,o,a){"function"==typeof a&&(a={onAfter:a}),"object"==typeof o&&((a||{}).onAfter&&(o.onAfter=a.onAfter),o=(a=o).duration),a||(a={}),a=$L.extend({},$L.scrollTo.defaults,a),this.each(function(){e(i(t,this,a),this,t,a)})},$L.scrollTo=function(){$L(window).scrollTo()},$L.scrollTo.defaults={axis:"xy",duration:0},$L.each(["scrollLeft","scrollTop"],function(t,e){$L.Tween.propHooks[e]={get:function(t){return t[e]()},set:function(t,o,i){var a=Math.round(o),l=t[e](),n="_old"+e;i.interrupt&&i[n]&&i[n]!==l&&(t.stop(!1,!1),i._stopped=!0),i[n]=a,t[e](a)}}})}(),function(){if(window.lyteDomObj){var t={},e=document.createElement("span");function o(e){var o=e.target;o._sticky&&(0==t.sticky?l.call(o,o._sticky.highlight,!0):o._sticky.highlight&&l.call(o,!0))}function i(e){for(var o=this.parentElement.querySelectorAll(".lyteSticky "+e.query),i=0;i<o.length;i++){var a=o[i].style,l=o[i].parentElement.style;o[i]._sticky={val:a[e.position],position:a.position,parPos:l.position},0!=t.sticky?(a.position=t.sticky?"sticky":t.webkitsticky?"-webkit-sticky":"",a[e.position]=e.offset+"px"):(a.position="relative",l.position="relative")}}function a(t){for(var e=this.parentElement.querySelectorAll(".lyteSticky "+t.query),o=0;o<e.length;o++){var i=e[o]._sticky,a=e[o].style,l=e[o].parentElement.style;i&&(e[o].classList.remove("lyteStickyActive"),a.position=i.position,l.position=i.parPos,a[t.position]=i.val,delete e[o]._sticky)}}function l(t,e){if(this.offsetParent){var o=this._sticky,i=[],a=this.parentElement.querySelectorAll(".lyteSticky "+o.query),l=this==document.body?window.pageYOffset:this.scrollTop,n=this==document.body?window.pageXOffset:this.scrollLeft,r=o.position,s=-1!=["bottom","top"].indexOf(r),d=this.getBoundingClientRect(),p=s?"height":"width",c=o.offset;if(!s&&o._prevx!=n||s&&o._prevy!=l){for(var h=0;h<a.length;h++)i[h]={},i[h].node=a[h],a[h].parent=a[h].parentElement,i[h].curBcr=a[h].getBoundingClientRect(),i[h].parBcr=a[h].parentElement.getBoundingClientRect();for(h=0;h<a.length;h++){var u=i[h],y=u.parBcr,m=(u.curBcr,u.node.style),g=1,f=0,v=!1;if(-1!=["bottom","right"].indexOf(r)&&(g*=-1),g>0){if(parseInt(y[r])<=parseInt(d[r])&&parseInt(y[r]+y[p])>=parseInt(d[r]+c))f=d[r]-y[r]+c,v=!0}else if(parseInt(y[r])>=parseInt(d[r])&&parseInt(y[r]-y[p])<parseInt(d[r]-c))f=y[r]-d[r]+c,v=!0;v?(e&&(m[r]=f+"px"),t&&u.node.classList.add("lyteStickyActive"),0==l&&u.node.classList.remove("lyteStickyActive")):t&&u.node.classList.remove("lyteStickyActive")}}o._prevx=n,o._prevY=l}}e.style.position="sticky","sticky"==e.style.position?t.sticky=!0:(e.style.position="-webkit-sticky","-webkit-sticky"==e.style.position?t.webkitsticky=!0:t.sticky=!1),e=void 0,lyteDomObj.prototype.destroySticky=function(){return $L(".lyteSticky").removeSticky(),window.removeEventListener("scroll",o,!0),this},lyteDomObj.prototype.removeSticky=function(){for(var t=0;t<this.length;t++){var e=this[t]._sticky;e&&(clearTimeout(e._stickytime),clearTimeout(e._init),clearTimeout(e._genscroll),a.call(this[t],e),this[t].classList.remove("lyteSticky"),delete this[t]._sticky)}return this},lyteDomObj.prototype.sticky=function(e){(e=e||{}).position=function(t){if(_lyteUiUtils.getRTL()){if("left"==t)return"right";if("right"==t)return"left"}return t}(e.position)||"top",e.offset=e.offset||0,e.query=e.query||"*>*:first-child:not(template)";for(var o=0;o<this.length;o++)this[o]._sticky&&$L(this[o]).removeSticky(),this[o].classList.add("lyteSticky"),this[o]._sticky=JSON.parse(JSON.stringify(e)),this[o]._sticky._stickytime=setTimeout(i.bind(this[o]),20,this[o]._sticky),this[o]._sticky._init=setTimeout(l.bind(this[o],e.highlight,0==t.sticky),40);return this},window.addEventListener("scroll",o,!0)}}(window),function(){if(lyteDomObj){function t(t,e,o){var i=t.getBoundingClientRect();return Math.round(Math.max(0,-this.getBoundingClientRect().top+e+i.top+(o?i.height:0)))}function e(e){var o,i=this._wheelObj,a=this.offsetHeight,l=this._scrollspy.obj,n=i?i.scrollTop:this==document.body?window.pageYOffset:this.scrollTop,r=this.parentElement.querySelector(".lyteScrollSpy "+l.query+".lyteSpyActive:not(template)"),s=l.onChange;if(e.length)if("all"==l.position)(function(e,o,i,a){for(var l,n=[],r=[],s=[],d=0;d<e.length;d++){s.push({topp:t.call(this,e[d],i),hgt:e[d].offsetHeight});var p=$L(e[d]).hasClass("lyteSpyActive");s[d].topp<=i+o&&s[d].topp>i||s[d].topp+s[d].hgt>=i&&s[d].topp+s[d].hgt<=i+o||s[d].topp<=i&&s[d].topp+s[d].hgt>=i+o?(p||($L(e[d]).addClass("lyteSpyActive"),l=!0),n.push(e[d])):p&&($L(e[d]).removeClass("lyteSpyActive"),r.push(e[d]),l=!0)}l&&a&&a.constructor==Function&&a(n,r,this)}).call(this,e,a,n,s);else{if("bottom"==l.position){for(var d=e.length-1;d>=0;d--)if(e[d].off=t.call(this,e[d],n,!0),n+a-this._scrollspy.obj.offset>e[d].off){if(o&&e[d].off<o.off)continue;o=e[d]}}else for(d=0;d<e.length;d++)if(e[d].off=t.call(this,e[d],n)+e[d].offsetHeight,n+this._scrollspy.obj.offset<e[d].off){if(o&&e[d].off>o.off)continue;o=e[d]}r!=o&&(r&&r.classList.remove("lyteSpyActive"),o.classList.add("lyteSpyActive"),s&&s.constructor==Function&&s(o,r,r?function(t,e,o){for(var i=[],a=0;a<o.length;a++)o[a]!=t&&o[a]!=e&&(o[a].off>t.off&&o[a].off<e.off||o[a].off<t.off&&o[a].off>e.off)&&i.push(o[a]);return i}.call(this,r,o,e):[],this))}}function o(){e.call(this,function(t){var e=".lyteScrollSpy "+this._scrollspy.obj.query+":not(template)",o=this._scrollspy.obj.ignore;o.constructor==String&&(o=o.split(","));for(var i=0;i<o.length;i++)e+=":not("+o[i].trim()+")";return this.parentElement.querySelectorAll(e)}.call(this,this.children));delete this._scrollspy.obj._spytime}function i(t){var e=t.target;e._scrollspy&&(e._scrollFun?(clearTimeout(e._scrollspy.obj._spytime),e._scrollspy.obj._spytime=setTimeout(o.bind(e),0)):o.call(e))}lyteDomObj.prototype.removeScrollspy=function(){for(var t=0;t<this.length;t++)this[t].classList.remove("lyteScrollSpy"),clearTimeout(this[t]._scrollspy.obj._spytime),delete this[t]._scrollspy},lyteDomObj.prototype.scrollspy=function(t){(t=t||{}).activeClass=t.activeClass||"lyteSpyActive",t.offset=t.offset||0,t.ignore=t.ignore||[],t.position=t.position||"top",t.query=t.query||">*";for(var e=0;e<this.length;e++)this[e].classList.add("lyteScrollSpy"),this[e]._scrollspy={obj:t},setTimeout(i,20,{target:this[e]});return this},window.addEventListener("scroll",i,!0)}}(window),function(t){if(lyteDomObj){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["Su","Mo","Tu","We","Th","Fr","Sa"],n=[31,28,31,30,31,30,31,31,30,31,30,31],r="W",s=1,d="lyteMoment",p=19,c=80,h={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},u=[{val:"YYYY",type:"year",regex:/\d{4}/,len:4},{val:"GGGG",type:"year",regex:/\d{4}/,len:4,isWEG:!0},{val:"gggg",type:"year",regex:/\d{4}/,len:4,isWEG:!0},{val:"YY",type:"year",regex:/\d{2}/,len:2},{val:"GG",type:"year",regex:/\d{2}/,len:2,isWEG:!0},{val:"gg",type:"year",regex:/\d{2}/,len:2,isWEG:!0},{val:"MMMM",type:"month",regex:/[A-z]{3,}/,long:!0,str:!0,array:o},{val:"MMM",str:!0,type:"month",regex:/[A-z]{3,}/,array:e},{val:"Mo",suff:!0,type:"month",regex:/\d{1,2}(?=st|nd|rd|th)/,max:12},{val:"MM",type:"month",regex:/\d{2}/,len:2,max:12,alt:!0},{val:"M",type:"month",regex:/\d{1,2}/,max:12},{val:"DDDD",type:"date",regex:/\d{3}/,len:3,year:!0},{val:"DDDo",type:"date",suff:!0,regex:/\d{1,3}(?=st|nd|rd|th)/,len:3,year:!0,ignore:/\d{3}(?=st|nd|rd|th)/},{val:"DDD",type:"date",regex:/\d{1,3}/,year:!0,ignore:/\d{3}/},{val:"Do",type:"date",suff:!0,regex:/\d{1,2}(?=st|nd|rd|th)/},{val:"DD",type:"date",regex:/\d{2}/,len:2,alt:!0},{val:"D",type:"date",regex:/\d{1,2}/},{val:"["+r+"]Wo",type:"week",suff:!0,regex:new RegExp("["+r+"]d{1,2}(?=st|nd|th|rd)"),isWEG:!0},{val:"["+r+"]wo",type:"week",suff:!0,regex:new RegExp("["+r+"]d{1,2}(?=st|nd|th|rd)"),isWEG:!0},{val:"["+r+"]WW",type:"week",regex:new RegExp(r+"(\\d{2})"),len:2,isWEG:!0,match:1},{val:"["+r+"]ww",type:"week",regex:new RegExp(r+"(\\d{2})"),len:2,isWEG:!0,match:1},{val:"["+r+"]W",type:"week",regex:new RegExp(r+"(\\d{1,2})"),isWEG:!0,match:1},{val:"["+r+"]w",type:"week",regex:new RegExp(r+"(\\d{1,2})"),isWEG:!0,match:1},{val:"E",type:"day",regex:/\d{1}/,isWEG:!0},{val:"e",type:"day",regex:/\d{1}/,isWEG:!0,local:!0},{val:"A",type:"meridian",regex:/AM|PM/,str:!0,time:!0},{val:"a",type:"meridian",regex:/am|pm/,str:!0,time:!0,lower:!0},{val:"ZZ",type:"timezone",regex:/(\+|\-)(\d{2})(\d{2})$/,time:!0,len:2},{val:"Z",type:"timezone",regex:/(\+|\-)(\d{2}):(\d{2})$/,time:!0,len:2},{val:"HH",type:"hour",regex:/\d{2}/,railway:!0,time:!0,len:2,max:23},{val:"H",type:"hour",regex:/\d{1,2}/,railway:!0,time:!0,max:23},{val:"hh",type:"hour",regex:/\d{2}/,time:!0,len:2,max:12},{val:"h",type:"hour",regex:/\d{1,2}/,time:!0,max:12},{val:"kk",type:"hour",regex:/\d{2}/,railway:!0,time:!0,len:2,max:24,deduct:-1},{val:"k",type:"hour",regex:/\d{1,2}/,railway:!0,time:!0,max:24,deduct:-1},{val:"mm",type:"minute",regex:/\d{2}/,time:!0,len:2,max:59},{val:"m",type:"minute",regex:/\d{1,2}/,time:!0,max:59},{val:"ss",type:"second",regex:/\d{2}/,time:!0,len:2,max:59},{val:"s",type:"second",regex:/\d{1,2}/,time:!0,max:59},{val:"S",type:"millisecond",regex:/[0-9]{1,}/,time:!0,valForm:/[S]+/},{val:"zz",type:"timezone",regex:/\[(UT|GMT|EDT|EST|CDT|CST|MDT|MST|PDT|PST)\]$/,str:!0,time:!0},{val:"z",type:"timezone",regex:/\[(UT|GMT|EDT|EST|CDT|CST|MDT|MST|PDT|PST)\]$/,str:!0,time:!0},{val:"X",type:"timestamp",regex:/\d{10}/,time:!0},{val:"x",type:"timestamp",regex:/\d{13,}/,time:!0,milli:!0},{val:"dddd",type:"longdate",regex:/[A-z]{3,}/,long:!0,str:!0,array:i},{val:"ddd",type:"longdate",regex:/[A-z]{3}/,str:!0,array:a},{val:"dd",type:"longdate",regex:/[A-z]{2}/,str:!0,array:l},{val:"do",type:"longdate",regex:/\d{1}(?=st|nd|rd|th)/,suff:!0},{val:"d",type:"longdate",regex:/\d{1}/},{val:"Qo",type:"quarter",regex:/\d{1}(?=st|nd|rd|th)/,suff:!0},{val:"Q",type:"quarter",regex:/\d{1}/}];function y(t,e,o,i){t&&(this._arg=t),this._format=e,function(t){if(!t)return!0;var e=t.constructor;if(e==Array&&!e.length)return!0;if(e==Object&&!Object.keys(t).length)return!0;return!1}(t)&&(t=new Date),m(o)&&m(i)?(this.uL=void 0==o?p:o,this.lL=void 0==i?c:i):this.alt=!!o,this._isValid=k.call(this,t,e)}function m(t){return void 0!=t}function g(t,e,o){for(var i=0,a=0;a<t;a++)i+=n[a],e&&1==a&&(i+=1);return i+(o||0)}function f(t){return 2==(t+="").length&&(t=_(parseInt(t))),(t=parseInt(t))%4==0&&t%100!=0||t%400==0}function v(t){var e=t.match(/{{/),o=t.match(/}}/);return e&&o?v(t=t.replace(t.slice(e.index,o.index+2),function(t){for(var e="",o=0;o<t.length-4;o++)e+="*";return e})):t}function b(t,e){for(var o,i=$L.extend(!0,[],u),a=[],l=0;l<i.length;l++){var n=i[l];if(!t.length)break;if(t.indexOf(n.val)>-1){if(e&&n.alt){o=!0;continue}o&&(n.val=i[l-1].val),o=!1,a.push({format:n,index:t.indexOf(n.val)}),t=t.replace(n.val,Math.pow(10,n.val.length-1)),l--}else;}return a.sort(function(t,e){return t.index-e.index})}function D(t,e,o,i){return t=t.replace(e,i||""),o&&(t=t.replace(/st|nd|rd|th/,"")),t}function P(t,e){var o,i;for(i=0;i<t.length;i++)if(new RegExp(t[i]).test(e)){o=t[i];break}return{mon:o,index:i}}function C(t,i,a,l){var n;if(a){var r=P(l?o:e,t);n=r.mon,t=r.index,(!n||t>11)&&(t="Invalid")}else(t=parseInt(t)-1)>11&&(t="Invalid");return{val:t,mon:n}}function L(t){var e,o=parseInt(t[2]);return minute=parseInt(t[3]),e=60*o+minute,"+"==t[1]?-1*e:e}function x(t,e){if(t=parseInt(t),ini=0,ind=0,inc=n[0],t>365+(e?1:0))return{};for(;ini+inc<t;)ini+=inc,ind++,inc=n[ind],e&&1==ind&&(inc+=1);return{day:t-ini,mon:ind}}function w(t){var e,o=f(t.getFullYear()),i=t.getMonth(),a=t.getDate(),l=-s,n=new Date(t.getFullYear(),0).getDay();return l+=g(i,o),0==i&&n>4&&a<3+s&&(l=l+365+((o=f(t.getFullYear()-1))?1:0),n=new Date(t.getFullYear()-1,0).getDay(),e=!0),{week:Math.ceil((l+n+a)/7),day:(l+n+a)%7||7,repYear:e}}function _(t){var e=t+"";if(t=parseInt(t),2==e.length){var o=(new Date).getFullYear(),i=parseInt(o/100),a=o%100,l=(this.uL,(a-(this.lL||c)+100)%100);t=a>l?t<l?i+1+""+T(t,2):i+""+T(t,2):t<l?i+""+T(t,2):i-1+""+T(t,2)}return t}function S(t,e){for(var o,i,a={},l=new Date((new Date).getFullYear(),0),d=b(v(e),!0),p=t,c=e=e.replace(/{{|}}/g,""),u=0;u<d.length;u++){var y,g=d[u].format;switch(g.type){case"date":case"year":case"week":case"day":g.regex.test(t)?(y="year"==g.type?t.match(g.regex)[g.match||0]:parseInt(t.match(g.regex)[g.match||0]),a[g.type]=y,t=D(t,g.regex,g.suff),p=D(p,g.regex,g.suff,g.val),"week"==g.type&&(t=D(t,r)),"day"==g.type&&g.local&&a.day++,g.year&&(a.date=x(a.date).day)):a.year&&a.week?(a[g.type]=s,e=e.replace(g.val,""),c=c.replace(g.val,"")):a[g.type]="Invalid",/date/i.test(g.type)&&0==a[g.type]&&(a[g.type]="Invalid");break;case"month":g.regex.test(t)?(y=C(t.match(g.regex)[0],g.suff,g.str,g.long),a.month=y.val,t=D(t,y.mon||g.regex,g.suff),p=D(p,y.mon||g.regex,g.suff,g.val)):a.month="Invalid",a.month<0&&(a.month="Invalid");break;case"quarter":g.regex.test(t)&&(y=t.match(g.regex)[0],a.quarter=y,t=D(t,y,g.suff),p=D(p,y,g.suff,g.val));break;case"longdate":g.regex.test(t)&&(y=g.str?P(g.array,t.match(g.regex)[0]):parseInt(t.match(g.regex)[0]),a.longdate=m(y.index)?y.index:y,t=D(t,y.mon||y,g.suff),p=D(p,y.mon||y,g.suff,g.val));break;case"hour":case"minute":case"second":case"meridian":g.regex.test(t)&&(g.str?y=t.match(g.regex)[0]:(y=parseInt(t.match(g.regex)[0]),g.railway&&(a.railway=!0)),g.deduct&&y--,a[g.type]=y,g.max&&y>g.max&&(a[g.type]="Invalid"),t=D(t,g.regex),p=D(p,g.regex,g.suff,g.val));break;case"millisecond":g.regex.test(t)&&(y=t.match(g.regex)[0],a.millisecond=parseFloat(y),t=D(t,y).replace(/[S]+/,""),p=D(p,g.regex,g.suff,g.val),c=c.replace(/[S]+/,"S"));break;case"timestamp":g.regex.test(t)&&(y=parseInt(t.match(g.regex)[0]),a.timestamp=y*(g.milli?1:1e3),t=D(t,y),p=D(p,y,g.suff,g.val));break;case"timezone":g.regex.test(t)&&(g.str?(y=t.match(g.regex)[0],y=h[y]):y=L(t.match(g.regex)),this._utcOffset=y,a.timezone=y-l.getTimezoneOffset(),t=D(t,g.regex),p=D(p,g.regex,g.suff,g.val))}e=e.replace(g.valForm||g.val,"")}if(m(a.day)||m(a.week)){var w=a.date;m(a.year)||(a.year=l.getFullYear()),m(a.day)||(a.day=s),function(t){if(void 0!=t.day||t.week){var e=new Date(t.year,0,1);if(!k.call(this,e))return{};var o=e.getDay(),i=f(t.year||e.getFullYear()),a=s+t.week==1?t.day-o+s:2==t.week?7+s-o+t.day:7+s-o+t.day+7*(t.week-2);if(a>365+(i?1:0)&&new Date(t.year+1,0,1).getDay()>4&&(t.year+=1,a-=365+(i?1:0)),a>365+(i?1:0)||0==t.day||t.day>7)return void(t.month=t.year=t.date="Invalid");var l=x(a,i);t.month=l.mon,t.date=l.day}if(t.year){var n=parseInt(t.year);n<100&&(t.year=_(n))}t.month<0&&(t.month="Invalid"),t.date<1&&(t.date="Invalid")}.call(this,a),m(w)&&(a.date>w&&a.month++,a.date=w)}if(m(a.longdate)&&a.day&&a.day!=a.longdate?l.setFullYear("Invalid"):m(a.year)&&l.setFullYear(_(a.year)),m(a.month)&&l.setMonth(a.month),m(a.date)&&l.setDate(a.date<=n[l.getMonth()]+(f(l.getFullYear())?1:0)?a.date:"Invalid"),m(a.hour)){var S=a.meridian;l.setHours(a.railway?(o=a.hour,(i=S?"PM"==S:a.hour>11)&&o<12?o+=12:12!=o||i||(o=0),o):"PM"==S?a.hour<12?a.hour+12:a.hour:a.hour%12)}return m(a.minute)&&l.setMinutes(a.minute),m(a.second)&&l.setSeconds(a.second),m(a.millisecond)&&l.setMilliseconds(a.millisecond),m(a.timestamp)&&(l=new Date(a.timestamp)),m(a.timezone)&&l.setMinutes(l.getMinutes()+a.timezone),!!(this._isCorrectFormat=t.length==e.length&&c==p&&k.call(this,l))||(this._format?void 0:k.call(this,new Date(this._arg)))}function T(t,e,o,i){var a="";if(i&&t++,o&&(a=function(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(t)),e){t=t.toString();for(var l=1;l<e;l++)t.length<=l&&(t="0"+t)}return t+a}function M(){var t;return this._UTC&&(t=new Date(this._dateObj.getTime())).setMinutes(t.getMinutes()+t.getTimezoneOffset()),t||this._dateObj}function E(t){var e=M.call(this),o=b(v(t)),i={},a={date:e.getDate(),month:e.getMonth(),year:e.getFullYear(),day:e.getDay()};t=function(t,e){for(var o=0,i=0;i<e.length;i++)t=t.slice(0,e[i].index+o)+e[i].format.val+d+t.slice(e[i].index+o+e[i].format.val.length),o+=10;return t}(t.replace(/{{|}}/g,""),o);for(var l=0;l<o.length;l++){var n=o[l].format;switch(n.type){case"date":t=t.replace(n.val+d,T(n.year?g(a.month,f(a.year),a.date):a.date,n.len,n.suff));break;case"month":t=n.str?t.replace(n.val+d,n.array[a.month]):t.replace(n.val+d,T(a.month+1,n.len,n.suff));break;case"year":t=t.replace(n.val+d,2==n.len?T(a.year%100,2):4==(a.year+"").length?a.year:T(a.year,4)),i.year=i.year||[],i.year.push(n);break;case"day":case"week":i.flag=!0,i[n.type]=i[n.type]||[],i[n.type].push(n);break;case"quarter":t=t.replace(n.val+d,T(Math.ceil((a.month+1)/3),null,n.suff));break;case"longdate":t=n.str?t.replace(n.val+d,n.array[a.day]):t.replace(n.val+d,T(a.day,null,n.suff));break;case"hour":var s=e.getHours();t=t.replace(n.val+d,T(n.railway?s:s>12?s%12:s||12,n.len,null,n.deduct));break;case"minute":t=t.replace(n.val+d,T(e.getMinutes(),n.len));break;case"second":t=t.replace(n.val+d,T(e.getSeconds(),n.len));break;case"millisecond":t=t.replace(n.val+d,T(e.getMilliseconds(),3)).replace(/\\S+/,"");break;case"timezone":var p="";if(!n.str){var c=e.getTimezoneOffset(),h=(s=this._UTC?"00":T(Math.abs(parseInt(c/60)),2),this._UTC?"00":T(Math.abs(c%60),2)),u=c<0?"+":"-";p="ZZ"==n.val?u+s+h:u+s+":"+h}t=t.replace(n.val+d,p);break;case"timestamp":p="";"X"==n.val?p+=parseInt(e.getTime()/1e3):p+=e.getTime(),t=t.replace(n.val+d,p);break;case"meridian":var y=e.getHours()>11?"PM":"AM";n.lower&&(y=y.toLowerCase()),t=t.replace(n.val+d,y)}}if(i.flag){var m=w(e);if(i.week)for(var D=0;D<i.week.length;D++)t=t.replace(i.week[D].val+d,r+T(m.week,i.week[D].len,i.week[D].suff));if(i.day)for(D=0;D<i.day.length;D++)t=t.replace(i.day[D].val+d,m.day-(i.day[D].local?1:0));if(m.repYear&&i.year)for(D=0;D<i.year.length;D++)t=t.replace(2==i.year[D].len?a.year%100:a.year,(2==i.year[D].len?a.year%100:a.year)-1)}return t.replace(/{{|}}/g,"")}function k(t,e){var o=t.constructor;if(o==Date)return this._dateObj=t,this._isMoment=!0,"Invalid Date"!=t.toString();if(o==String){if(e){var i=S.call(this,t,e);return i&&this._isCorrectFormat&&(this._format=e),i}if(this.constructFormat)return k.call(this,t,this.constructFormat.call(this,t));console.warn("Its not supported in lyte-moment-basic.js. Add lyte-moment-additional.js for format construction")}else{if(o==Array)return k.call(this,new Date(Date.parse(Date.apply(Date,o))).getTime());if(o==Number)return t*=/^\d{10}$/.test(t)?1e3:1,k.call(this,new Date(t));if(t._isMoment)return k.call(this,t._dateObj.getTime())}}y.prototype={_UTC:!1,isDef:m,find:P,isLeap:f,dayArr:n,getDObj:M,getWeekReverse:w,weekShort:l,weekMid:a,weekLong:i,longMon:o,shortMon:e,week:r,crctLength:T,formats:u,replace:D,inbuiltFormats:{},getCorrectYear:_,validate:function(){return!!this._isValid},toDate:function(){return this._dateObj},isSame:function(t){return!!(this._isValid&&t&&t._isMoment&&t._isValid)&&this._dateObj.getTime()==t._dateObj.getTime()},format:function(t){if(this._isValid)return t=this.inbuiltFormats[t]||t||"YYYY-MM-DDTHH:mm:ssZ",E.call(this,t)},utc:function(t){return this._UTC=!0,this},local:function(t){return this._UTC=!1,this},utcOffset:function(t){if(this._isValid)return this._UTC?0:this._dateObj.getTimezoneOffset()}},$L.moment=function(t,e,o,i){return new y(t,e,o,i)},$L.moment.lyteMoment=y,$L.moment.setLimits=function(t,e){p=t,c=e}}}(window),function(t){if($L.moment){var e=$L.moment.lyteMoment.prototype,o=[{val:"YYYY-MM-DD",regex:/^(\d{4}-\d{2}-\d{2})/},{val:"GGGG-["+e.week+"]WW-E",regex:new RegExp("^(\\d{4}-"+e.week+"\\d{2}-\\d)")},{val:"GGGG-["+e.week+"]WW",regex:new RegExp("^(\\d{4}-"+e.week+"\\d{2})")},{val:"YYYY-DDD",regex:/^(\d{4}-\d{3})/},{val:"YYYY-MM",regex:/^(\d{4}-\d{2})/},{val:"YYYYMMDD",regex:/^(\d{8})/},{val:"GGGG["+e.week+"]WWE",regex:new RegExp("^(\\d{4}"+e.week+"\\d{2}\\d)")},{val:"GGGG["+e.week+"]WW",regex:new RegExp("^(\\d{4}"+e.week+"\\d{2})")},{val:"YYYYDDD",regex:/^(\d{4}\d{3})/}],i=[{val:"HH:mm:ss.SSSS",regex:/^\d{2}:\d{2}:\d{2}\.[0-9]{1,}$/},{val:"HH:mm:ss,SSSS",regex:/^\d{2}:\d{2}:\d{2},[0-9]{1,}$/},{val:"HH:mm:ss",regex:/^\d{2}:\d{2}:\d{2}$/},{val:"HH:mm",regex:/^\d{2}:\d{2}$/},{val:"HHmmss.SSSS",regex:/^\d{6}\.[0-9]{1,}$/},{val:"HHmmss,SSSS",regex:/^\d{6},[0-9]{1,}$/},{val:"HHmmss",regex:/^\d{6}$/},{val:"HHmm",regex:/^\d{4}$/},{val:"HH",regex:/^\d{2}$/}];function a(t,e){for(var o=this.formats.slice(),i={},a=t,l=new RegExp(this.week+"|G|E","i").test(t),n=0;n<o.length;n++){var r=o[n];if(e==r.time&&(r.regex.test(a)&&l==!!r.isWEG&&!this.isDef(i[r.type]))){if(r.ignore&&!r.ignore.test(a)){var s=this.dayArr[i.month]||30;if(parseInt(a.match(r.regex)[0])<s)continue}if(r.str){(d=this.find(r.array,a.replace(/(Y|G)+/,"")).mon)&&(t=this.replace(t,d,!1,r.val),i[r.type]=r.array?this.find(r.array,d).index:d)}else{var d=a.match(r.regex)[0];t=this.replace(t,r.regex,r.suff,r.val),i[r.type]=parseInt(d),"week"==r.type&&(t=replace(t,new RegExp(this.week+"(?=\\["+this.week+")")))}a=a.replace(d,"")}}return t}function l(t,e){for(var o=0;o<t.length;o++)if(t[o].regex.test(e))return t[o]}function n(t){return this._dateObj.setFullYear(parseInt(this.getCorrectYear(this.crctLength(this._dateObj.getFullYear()%100,2)))),this}e.additional=!0,$L.extend(e,{inbuiltFormats:{localDatetime:"YYYY-MM-DDTHH:mm",localSecondDatetime:"YYYY-MM-DDTHH:mm:ss",localMillisecondDatetime:"YYYY-MM-DDTHH:mm:ss.SSS",defaultDate:"YYYY-MM-DD",defaultTime:"HH:mm",defaultTimeSecond:"HH:mm:ss",defaultTimeMillisecond:"HH:mm:ss.SSS",defaultWeek:"GGGG-[W]WW",defaultMonth:"YYYY-MM"},get:function(t){if(t)return this[t]()},set:function(t,e){if(t){if(e.constructor==Object){for(var o in e)this[o](e[o]);return this}return this[t](e)}},constructFormat:function(t){var e,n=l.call(this,o,t);return n?t=(e=l.call(this,i,t.replace(n.regex,"")))?n.val+e.val:a.call(this,t.replace(n.regex,n.val),!0):(t=a.call(this,t),t=a.call(this,t,!0)),t}}),new Array({prop:"date",array:[e.weekLong,e.weekShort,e.weekMid]},{prop:"day",array:[e.weekLong,e.weekShort,e.weekMid]},{prop:"month",array:[e.shortMon,e.longMon]},{prop:"year"},{prop:"fullYear"},{prop:"hours"},{prop:"minutes"},{prop:"seconds"},{prop:"milliseconds"},{prop:"UTCMilliseconds"},{prop:"time"}).forEach(function(t){e[t.prop]=function(e){if(this._isValid){var o=this._dateObj,i=t.prop[0].toUpperCase()+t.prop.slice(1);if(this.isDef(e)){if(e.constructor==String)for(var a=0;a<t.array.length;a++){var l=this.find(t.array[a],e);if(l.mon){e=l.index;break}}else e.constructor==Number&&Math.floor(e)!=e&&("year"==t.prop?(t.prop="month",e=Math.round(12*e)):e=Math.round(e));return"day"==t.prop?o.setDate(o.getDate()+(e-o.getDay())):o["set"+i](e),this}return o["get"+i]()}}}),$L.extend(e,{week:function(t){if(this._isValid){var e=this._dateObj;return this.isDef(t)?(e.setDate(e.getDate()+7*(t-this.week())),this):this.getWeekReverse.call(this,e).week}},quarter:function(t){if(this._isValid){var e=this._dateObj;if(this.isDef(t)){e.getMonth();return e.setMonth(e.getMonth()+3*(t-this.quarter())),this}return Math.ceil(e.getMonth()/3)}},add:function(t,e,o){if(this._isValid){this.getDObj();if(this.isDef(e)){var i=this.set(e,this.get(e)+t);return o?n.call(this,i):i}}},subtract:function(t,e,o){if(this._isValid){this.getDObj();if(this.isDef(e)){var i=this.set(e,this.get(e)-t);return o?n.call(this,i):i}}},startOf:function(t){if(this._isValid){var e,o=this.getDObj();switch(t){case"year":e=o.setFullYear(o.getFullYear());case"month":e=o.setMonth(e?0:o.getMonth());case"date":case"day":e=o.setDate(e?1:o.getDate());case"week":if(!e){var i=this.getWeekReverse(o);e=o.setDate(o.getDate()-(i.day-1))}case"hour":e=o.setHours(e?0:o.getHours());case"minute":e=o.setMinutes(e?0:o.getMinutes());case"second":e=o.setSeconds(e?0:o.getSeconds());default:o.setMilliseconds(e?0:o.getMilliseconds())}return this}},endOf:function(t){if(this._isValid){var e,o=this.getDObj();switch(t){case"year":e=o.setFullYear(o.getFullYear());case"month":e=o.setMonth(e?11:o.getMonth());case"date":case"day":var i=o.getMonth();e=o.setDate(e?this.dayArr[i]+(1==i&&isLeap(o.getFullYear()?1:0)):o.getDate());case"week":if(!e){var a=this.getWeekReverse(o);e=o.setDate(o.getDate()+(7-a.day))}case"hour":e=o.setHours(e?23:o.getHours());case"minute":e=o.setMinutes(e?59:o.getMinutes());case"second":e=o.setSeconds(e?59:o.getSeconds());default:o.setMilliseconds(e?999:o.getMilliseconds())}return this}},fromNow:function(t){if(this._isValid){var e=this.get("time"),o=$L.moment(t).get("time");if(this.isDef(o)){var i,a,l=parseInt((o-e)/1e3),n=l<0,r={years:{val:27648e3,conv:31536e3},months:{val:2246400,conv:2592e3},days:{val:79200,conv:86400},hours:{val:2700,conv:3600},minutes:{val:44,conv:60},seconds:{val:0,conv:1}};for(i in l=Math.abs(l),r)if(l>=r[i].val){a=Math.round(l/r[i].conv);break}if(this.isDef(a))return{property:i,value:a,past:n,timestamp:o-e}}}}})}}(window),function(){if(lyteDomObj){function t(t,e,o){var i;switch(o){case"startswith":i=0==t.indexOf(e);break;case"endswith":var a=t.indexOf(e);-1!=a&&(i=a+e.length==t.length);break;default:i=-1!=t.indexOf(e)}return i}function e(t,e,o,l,n){for(var r=new RegExp("("+(l||"").replace(/(\\|\'|\"|\?|\^|\$|\.|\||\*|\+|\(|\)|\[|\]|\{|\})/g,"\\$1")+")","ig"),s=/(?!>)([^><]+)(?=<)/gi,d=0;d<t.length;d++)for(var p=$L(t[d]).closest("lyte-tree")[0],c=0;c<e.length;c++){var h=$L(e[c]).closest("lyte-tree")[0];(p==h||h.contains(p))&&(n.highlight&&a(e[c]),Lyte.arrayUtils(e,"removeAt",c),c--)}for(d=0;d<t.length;d++)n.highlight&&i(t[d],l,n,r,s),l.length&&o.ltProp("stateAttr",$L(t[d]).closest("lyte-tree").attr("temp-var"));for(d=0;d<e.length;d++)if(a(e[d]),l.length){var u=$L("lyte-yield:not(.noChildClass) lyte-tree-icon",$L(e[d]).closest("lyte-tree").parent()).eq(0);u.hasClass("lyteIconOpened")&&u.click()}l.length||function(t){for(var e=$L("lyte-yield:not(.noChildClass) lyte-tree-icon",t),o=e.length-1;o>=0;o--){var i=e.eq(o);i.hasClass("lyteIconOpened")&&i.click()}}.call(this,o)}function o(t){var e=(t=(t=t||"").trim()).indexOf("<template"),o=t.indexOf("</template>"),i=[];for(i.push(e);-1!=e;)(e=t.split("<template",i.length+1).join("<template").length)>o?(e=(t=t.slice(0,i.pop())+t.slice(o+11,t.length)).indexOf("<template"),o=t.indexOf("</template>")):i.push(e);return t}function i(t,e,i,a,l){t.classList.add("lyteSearchHidden");var n=t._findelement;n||((n=document.createElement(t.tagName)).classList.add("lyteHighlightdiv"),_lyteUiUtils.insertAfter(t,n),t._findelement=n,n._originalelement=t),n.style.display="",t.children.length?n.innerHTML=o(t.innerHTML).replace(l.test(o(t.innerHTML))?l:/.+/gi,function(t){return t.replace(a,'<span class = "lyteFindHighlight '+(i.highlightclass||"")+'">$1</span>')}):n.innerHTML=t.textContent.replace(a,'<span class = "lyteFindHighlight '+(i.highlightclass||"")+'">$1</span>')}function a(t){$L(t).removeClass("lyteSearchHidden"),$L(t._findelement).css("display","none")}function l(o){var l=this._finddata,n=$L(l.scope)[0],r=l.component,s=$L(l.search||l.target,n),d=l.method,p=("LYTE-INPUT"!=this.tagName?this.value:this.querySelector("input,textarea").value).toLowerCase(),c=[],h=[];l.trim&&(p=p.trim());for(var u=0;u<s.length;u++)s.eq(u).hasClass("lyteHighlightdiv")||(t(s[u].textContent.trim().toLowerCase(),p,d)?c.push(s[u]):h.push(s[u]));l.onSearch&&0==l.onSearch.call(this,c,h,o,p,this)||"tree"==r&&e.call(this,c,h,n,p,l)||"accordion"==r&&function(t,e,o,l,n){for(var r=new RegExp("("+(l||"").replace(/(\\|\'|\"|\?|\^|\$|\.|\||\*|\+|\(|\)|\[|\]|\{|\})/g,"\\$1")+")","ig"),s=/(?!>)([^><]+)(?=<)/gi,d=o.ltProp("exclusive"),p=0;p<t.length;p++){for(var c=0;c<e.length;c++)$L(e[c]).closest("lyte-accordion-item").is($L(t[p]).closest("lyte-accordion-item"))&&(n.highlight&&a(e[c]),Lyte.arrayUtils(e,"removeAt",c),c--);t[p+1]&&$L(t[p]).closest("lyte-accordion-item").is($L(t[p+1]).closest("lyte-accordion-item"))&&l.length&&n.highlight&&i(t[p+1],0,n,r,s),l.length&&n.highlight&&i(t[p],0,n,r,s)}for(p=0;p<t.length;p++){!l.length&&a(t[p]);var h=$L(t[p]).closest("lyte-accordion-item ",o);if(h.hasClass("lyteAccordionActive"))l||h.click();else{if(d&&p!=t.length-1)continue;l&&h.click()}}for(p=0;p<e.length;p++)n.highlight&&a(e[p]),$L(e[p]).closest("lyte-accordion-item.lyteAccordionActive",o).click()}.call(this,c,h,n,p,l)||void 0==r&&function(t,e,o,l,n){var r=new RegExp("("+(l||"").replace(/(\\|\'|\"|\?|\^|\$|\.|\||\*|\+|\(|\)|\[|\]|\{|\})/g,"\\$1")+")","ig"),s=/(?!>)([^><]+)(?=<)/gi;if(l.length)for(var d=0;d<t.length;d++)n.highlight&&i(t[d],0,n,r,s);for(d=0;d<e.length;d++)n.highlight&&a(e[d]);if(!l.length)for(d=0;d<t.length;d++)n.highlight&&a(t[d])}.call(this,c,h,n,p,l)}function n(t){clearTimeout(this._timeout),this._timeout=setTimeout(l.bind(this,t),250)}lyteDomObj.prototype.lytefind=function(t){(t=t||{}).highlight=void 0==t.highlight||t.highlight;var e=this.get(0);return e._finddata&&this.eq(0).removefind(),e._finddata=t,e.setValue=function(t){"LYTE-INPUT"!=this.tagName?this.value=t:this.ltProp("value",t),n.call(this,{})}.bind(e),e.addEventListener("input",n),this},lyteDomObj.prototype.removefind=function(){for(var t=0;t<this.length;t++){var e=this[t];if(e._finddata){for(var o=$L(".lyteHighlightdiv",e._finddata.scope),i=0;i<o.length;i++)o[i]._originalelement&&($L(o[i]._originalelement).removeClass("lyteSearchHidden"),delete o[i]._originalelement._findelement,delete o[i]._originalelement),o[i].remove();clearTimeout(e._timeout),e.removeEventListener("input",n),delete e._finddata,delete e._timeout,delete e.setValue}}return this}}}(),function(){var t={line_break:/(\n|\r\n|\r)/,special:/[*#\-_~!`()\[\]\.|"]/,space:/[ ]/,number:/\d/},e={b:"bold",i:"italics",u:"underline",s:"strike",div:"para",table:"table",thead:"thead",tbody:"tbody",tr:"tr",td:"td",th:"th",img:"image",a:"hyperlink",ul:"ul",ol:"ol",li:"li",code:"code",blockquote:"blockquote",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5"};function o(t){var e=t.flush();if(e)return new i(e,"text")}function i(t,e){var o={value:t,type:e};return this.get=function(t){return o[t]||""},this}function a(e){return t.space.test(e)}function l(e){return t.line_break.test(e)}function n(e){return e.match(t.special)}function r(t){for(var e,r,s=0,d=t.length,p=new function(){var t=[];this.push=function(e){t.push(e)},this.flush=function(){var e=t;return t=[],e.join("")}},c=new function(){var t=[],e=0;this.push=function(e){e&&t.push(e)},this.peek=function(){return t[e]||new i},this.peekback=function(){return t[e-1]||new i},this.eat=function(){return t[e++]||new i},this.pointer=function(t){return isNaN(t)?e:e=t},this.flush=function(){e=0,t=[]}};s<d;s++)l(e=t.charAt(s))?(c.push(o(p)),c.push(new i(e,"line_break"))):(r=n(e))?(c.push(o(p)),c.push(new i(e,"special"+r[0]))):a(e)?(c.push(o(p)),c.push(new i(e,"space"))):p.push(e);return c.push(o(p)),c}function s(t,o){var i,a=new function(){var t=[];this.push=function(e){return t.push(e),e},this.pop=function(){t.pop()},this.callStackContains=function(e){return!!~t.indexOf(e)},this.isEmpty=function(){return 0===t.length}},l=function(t){var e={};return t=t||{},["bold","italics","strike","underline","blockquote","code","para","hyperlink","image","header","h1","h2","h3","h4","h5","ol","ul","li","table","thead","tbody","tr","th","td"].forEach(function(o){e[o]=new function(t){var e=t||{};return this.getAttribute=function(t){return e[t]},this.getAllAttributes=function(){return e},this}(t[o])}),{getAllAttributes:function(t){return e[t].getAllAttributes()},getAttribute:function(t,o){return e[t].getAttribute(o)||""}}}(o),n=(o||{}).onBeforeAppend;function r(t,e){var o,i,a,n,r,s=$L(t);for(i in~["h1","h2","h3","h4","h5"].indexOf(e)?(a=l.getAllAttributes(e),n=l.getAllAttributes("header"),r={},$L.extend(r,n),$L.extend(r,a),o=r):o=l.getAllAttributes(e),o)s.attr(i,o[i])}var s=function(){return t.pointer()},d=function(e){t.pointer(e)},p=function(t){return"boolean"==typeof t||!t.querySelector("*")&&!t.textContent.trim()},c=function(){return!l.getAttribute("header","ignoreWhiteSpaceJoiner")},h=function(){for(var e=s();!$();){if(!St())return d(e),!0;t.eat()}return d(e),!1},u=function(){for(var e=0;"special#"===t.peek().get("type");)e++,t.eat();return e},y=function(t){var o,i=function(t){return e[t]}(t.tagName.toLowerCase());return n&&(o=n.call(window,t,i)),o||t},m=function(t,e){t&&e&&(1===e.nodeType&&(e=y(e)),t.appendChild(e))},g=function(){var e,o,i,a,l=document.createElement("div");return r(l,"para"),e=s(),f()?(e=s(),(i=function(){var e,o;if((e=u())<=5&&(!c()&&!St()||c()&&St(t.eat()))&&h())return r(o=document.createElement("h"+e),"h"+e),Q(o),o}())?m(l,i):(d(e),Q(l))):v()?(a=t.eat(),e=s(),(i=et())?(m(l,i),Q(l)):(d(e),(i=function(){var t;if(h())return r(t=document.createElement("blockquote"),"blockquote"),Q(t),t}())?m(l,i):(d(e),J(l,a),Q(l)))):q()?m(l,R()):U()?m(l,B()):D()&&(o=P())?m(l,o):(d(e),Q(l)),l},f=function(){var e=s();return b(),"special#"===t.peek().get("type")||(d(e),!1)},v=function(){var t=s();return b(),!!nt()||(d(t),!1)},b=function(){for(;St();)t.eat()},D=function(){var e=s();return b(),"special|"===t.peek().get("type")||(d(e),!1)},P=function(){var t,e=document.createElement("table"),o=A();return!!o&&(!!(t=k(o.row_count))&&(m(e,o.header),!!(t=C(o.row_count))&&(m(e,t),r(e,"table"),e)))},C=function(t){for(var e,o=document.createElement("tbody");x(L());){if(!(e=w(t)))return!1;m(o,e)}return 0!==o.children.length&&(r(o,"tbody"),o)},L=function(){for(var e=s(),o="";!$();)o+=t.eat().get("value");return d(e),o},x=function(t){return!!~t.indexOf("|")},w=function(e){var o,i=document.createElement("tr"),a=(s(),0);for(b();"special|"===t.eat().get("type");)(o=S())&&(a++,m(i,o));return a<e&&_(i,a,e),!(a>e)&&(r(i,"tr"),i)},_=function(t,e,o){for(var i,a=e;a<o;a++)i=document.createElement("td"),m(t,i),r(i,"td")},S=function(){var t=document.createDocumentFragment(),e=document.createElement("td");return i=!0,Q(t),i=!1,T(t),!p(t)&&(e.appendChild(t),r(e,"td"),e)},T=function(t){M(t),E(t)},M=function(t){var e,o=t.childNodes[0];o&&3===o.nodeType&&(e=(e=o.nodeValue).replace(/^\s+/g,""),o.nodeValue=e)},E=function(t){var e,o=t.childNodes.length,i=t.childNodes[o-1];i&&3===i.nodeType&&(e=(e=i.nodeValue).replace(/\s+$/g,""),i.nodeValue=e)},k=function(e){var o=0;for(b();!$()&&!F();){if("special|"!==t.peek().get("type")&&"special-"!==t.peek().get("type"))return!1;"special|"===t.eat().get("type")&&"special-"===t.peek().get("type")&&o++}return!I()&&o===e},A=function(){for(var e,o,i=document.createElement("thead"),a=document.createElement("tr");"special|"===t.peek().get("type");)t.eat(),(o=N())&&m(a,o);return 0!==(e=a.children.length)&&(m(i,a),!I()&&(r(i,"thead"),r(a,"tr"),{row_count:e,header:i}))},N=function(){var t=document.createDocumentFragment(),e=document.createElement("th");return i=!0,Q(t),i=!1,T(t),!p(t)&&(e.appendChild(t),r(e,"th"),e)},I=function(){for(;!$();){if(!F())return!1;t.eat()}t.eat()},F=function(){return"line_break"===t.peek().get("type")||""===t.peek().get("type")||St()},$=function(){return"line_break"===t.peek().get("type")||""===t.peek().get("type")},R=function(){var t=document.createElement("ol");do{m(t,O()),I()}while(H());return r(t,"ol"),t},B=function(){var t=document.createElement("ul");do{m(t,O()),I()}while(H());return r(t,"ul"),t},O=function(){var t=document.createElement("li"),e=document.createDocumentFragment();return Q(e),t.appendChild(e),t},H=function(){var t=s(),e=q()||(d(t),U());return e||d(t),e},q=function(){var e,o,i,a=s();return b(),o=(e=t.eat()).get("value"),"text"!==e.get("type")||isNaN(o)||(i="special."===t.eat().get("type")&&"space"===t.eat().get("type")),i||d(a),i},U=function(){var e,o,i,a=s();return b(),(e=t.eat()).get("value"),"special*"!==(o=e.get("type"))&&"special-"!==o||(i="space"===t.eat().get("type")),i||d(a),i},Y=function(e){var o,i,l=t.peek().get("value"),n=t.peek().get("type");switch(l){case"*":if(i=s(),o=G())return o;if(d(i),!a.callStackContains("bold")||a.callStackContains("bold")&&(d(i),"space"===t.peekback().get("type")))return t.eat(),o=document.createTextNode("*");if(a.callStackContains("bold"))return!1;break;case"_":return i=s(),W()?(d(i),z()):(d(i),V());case"~":if(i=s(),o=K())return o;if(d(i),!a.callStackContains("strike")||a.callStackContains("strike")&&(d(i),"space"===t.peekback().get("type")))return t.eat(),o=document.createTextNode("~");if(a.callStackContains("strike"))return!1}return!!(xt()||e&&"space"===n)&&(o=Lt(),document.createTextNode(o))},V=function(){var e,o=s();return(e=j())?e:(d(o),!a.callStackContains("italics")||a.callStackContains("italics")&&(d(o),"space"===t.peekback().get("type"))?(t.eat(),e=document.createTextNode("_")):!a.callStackContains("italics")&&void 0)},z=function(){var e,o=s();return(e=X())?e:(d(o),!a.callStackContains("underline")||a.callStackContains("underline")&&(d(o),"space"===t.peekback().get("type"))?(t.eat(),e=document.createTextNode("_")):!a.callStackContains("underline")&&void 0)},W=function(){var e=t.eat(),o=t.eat();return"special_"===e.get("type")&&"special_"===o.get("type")},j=function(){var e,o,i;return t.eat(),e=s(),a.push("italics"),St()||!Q(o=document.createDocumentFragment())||St(t.peekback())||"special_"!==t.eat().get("type")?(d(e),p(ret=Pt("special_"))||"space"===t.peekback().get("type")||"special_"!==t.eat().get("type")?(a.pop(),!1):((o=document.createDocumentFragment()).appendChild(ret),a.pop(),bt(o))):((i=document.createDocumentFragment()).appendChild(o),a.pop(),bt(i))},X=function(){var e,o,i;return t.eat(),t.eat(),e=s(),a.push("underline"),St()||!Q(o=document.createDocumentFragment())||St(t.peekback())||"special_"!==t.eat().get("type")||"special_"!==t.eat().get("type")?(d(e),p(ret=Pt("underline"))||"space"===t.peekback().get("type")||"special_"!==t.eat().get("type")||"special_"!==t.eat().get("type")?(a.pop(),!1):((o=document.createDocumentFragment()).appendChild(ret),a.pop(),vt(o))):((i=document.createDocumentFragment()).appendChild(o),a.pop(),vt(i))},G=function(){var e,o,i;return t.eat(),e=s(),a.push("bold"),St()||!Q(o=document.createDocumentFragment())||St(t.peekback())||"special*"!==t.eat().get("type")?(d(e),p(ret=Pt("special*"))||"space"===t.peekback().get("type")||"special*"!==t.eat().get("type")?(a.pop(),!1):((o=document.createDocumentFragment()).appendChild(ret),a.pop(),ft(o))):((i=document.createDocumentFragment()).appendChild(o),a.pop(),ft(i))},K=function(){var e,o,i;return t.eat(),e=s(),a.push("strike"),St()||!Q(o=document.createDocumentFragment())||St(t.peekback())||"special~"!==t.eat().get("type")?(d(e),p(ret=Pt("special~"))||"space"===t.peekback().get("type")||"special~"!==t.eat().get("type")?(a.pop(),!1):((o=document.createDocumentFragment()).appendChild(ret),a.pop(),Dt(o))):((i=document.createDocumentFragment()).appendChild(o),a.pop(),Dt(i))},Q=function(e){var o,i,a=t.peek();a.get("type");return xt()||St()?(o=rt(e),lt(e),o):nt()?(a=t.eat(),i=s(),(o=et())?(m(e,o),lt(e),o):(d(i),J(e,a),lt(e),a.get("value"))):st()?!!(o=Y())&&(m(e,o),lt(e),o):it()?(a=t.eat(),i=s(),(o=ot())?(m(e,o),lt(e),o):(d(i),J(e,a),lt(e),a.get("value"))):tt()?(a=t.eat(),i=s(),(o=Z())?(m(e,o),lt(e),o):(d(i),J(e,a),lt(e),a.get("value"))):!mt()&&(gt(t)?gt(t)?e:void 0:(a=t.eat(),i=s(),J(e,a),lt(e),a.get("value")))},Z=function(){var e,o,i,l,n;return!a.callStackContains("link")&&(e=yt(),"special]"===t.eat().get("type")&&0!==e.trim().length&&("special("===t.eat().get("type")&&(0!==((i=dt())||"").trim().length&&(('special"'!==t.peek().get("type")||(t.eat(),n=pt(),'special"'===t.eat().get("type")))&&("special)"===t.eat().get("type")&&((l=document.createElement("a")).href=i.trim(),o=document.createTextNode(e),l.appendChild(o),n&&l.setAttribute("title",n),r(l,"hyperlink"),l))))))},J=function(t,e){var o=e.get("value"),i=document.createTextNode(o);t.appendChild(i)},tt=function(){return"special["===t.peek().get("type")},et=function(){var e,o,i="";return!at()&&("special["===t.eat().get("type")&&(i=ht(),"special]"===t.eat().get("type")&&("special("===t.eat().get("type")&&(e=ct(),"special)"===t.peek().get("type")&&(t.eat(),0!==(e||"").trim().length&&((o=document.createElement("img")).alt=i,o.src=e,r(o,"image"),o))))))},ot=function(){var e,o;return!(!a.isEmpty()||0===(o=ut()||"").trim().length||!it())&&(t.eat(),(e=document.createElement("code")).appendChild(document.createTextNode(o)),r(e,"code"),e)},it=function(){return"special`"===t.peek().get("type")},at=function(){return a.callStackContains("link")},lt=function(t){var e=s();Q(t)||d(e)},nt=function(){return"special!"===t.peek().get("type")},rt=function(t){var e=Lt();return t.appendChild(document.createTextNode(e)),e},st=function(){var e=t.peek().get("type");return"special*"===e||"special_"===e||"special~"===e},dt=function(){for(var e="";"special)"!==t.peek().get("type")&&'special"'!==t.peek().get("type")&&!mt();)e+=t.eat().get("value");return e},pt=function(){for(var e="";'special"'!==t.peek().get("type")&&!mt();)e+=t.eat().get("value");return e},ct=function(){for(var e="";"special)"!==t.peek().get("type")&&!mt();)e+=t.eat().get("value");return e},ht=function(){for(var e="";"special]"!==t.peek().get("type")&&!mt();)e+=t.eat().get("value");return e},ut=function(){for(var e="";"special`"!==t.peek().get("type")&&!mt();)e+=t.eat().get("value");return e},yt=function(){for(var e="";"special]"!==t.peek().get("type")&&!mt();)e+=t.eat().get("value");return e},mt=function(){var e=t.peek();return i?""===e.get("type")||"line_break"===e.get("type")||"special|"===e.get("type"):"line_break"===e.get("type")||""===e.get("type")},gt=function(t){return mt()},ft=function(t){var e=document.createElement("b");return e.appendChild(t),r(e,"bold"),e},vt=function(t){var e=document.createElement("u");return e.appendChild(t),r(e,"underline"),e},bt=function(t){var e=document.createElement("i");return e.appendChild(t),r(e,"italics"),e},Dt=function(t){var e=document.createElement("s");return e.appendChild(t),r(e,"strike"),e},Pt=function(t){for(var e,o=document.createDocumentFragment(),i=!1;(e=Y(i))&&!Ct(t)&&!mt();)o.appendChild(e),i=!0;return e&&o.appendChild(e),!!Ct(t)&&o},Ct=function(e){var o,i;return t.peek().get("type"),"underline"===e?(o=s(),i="space"!==t.peekback().get("type")&&"special_"===t.eat().get("type")&&"special_"===t.eat().get("type"),d(o)):i="space"!==t.peekback().get("type")&&t.peek().get("type")===e,i},Lt=function(){for(var e="";xt()||St();)e+=t.eat().get("value");return e},xt=function(e){return e=e||t.peek(),i?wt(e):_t(e)},wt=function(t){return Tt(t)||"special."===t.get("type")||'special"'===t.get("type")},_t=function(t){return Tt(t)||"special."===t.get("type")||"special|"===t.get("type")||'special"'===t.get("type")},St=function(e){return"space"===(e=e||t.peek()).get("type")},Tt=function(e){return"text"===(e=e||t.peek()).get("type")};return function(){for(var e,o=document.createElement("div");""!==t.peek().get("type");)e=g()||document.createDocumentFragment(),"line_break"===t.peek().get("type")&&t.eat(),m(o,e);return o}()}var d=function(t,e){return"dom"===(t=(t||"dom").toLowerCase())?e:"domstring"===t?function(t){var e=document.createElement("div");return e.appendChild(t),e.innerHTML}(e):e};$L.markdown=function(t,e){var o,i,a;return a=(e=e||{}).type,o=s(i=r(function(t){return"string"!=typeof t?$L._lyteHTMLToText(t):t}(t)),e),i.flush(),d(a,o)}}(),function(){var t={b:{start:"*",end:"*"},p:{start:"",end:"\n"},div:{start:"",end:"\n"},br:{start:"",end:"\n"},span:{start:"",end:""}};function e(i,a){var l="",n=i.childNodes;return $L(n).each(function(i,r){(a=a&&0===i)?1===r.nodeType?l+=e(r)+(o(n)?"\n":""):3===r.nodeType&&(l+=r.nodeValue+(o(n)?"\n":"")):1===r.nodeType?l+=function(e,o){var i=e.nodeName.toLowerCase(),a=t[i];return function(t){var e=t.parentNode,o="br"===t.nodeName.toLowerCase(),i="div"===e.nodeName.toLowerCase()||"p"===e.nodeName.toLowerCase(),a=1===e.childNodes.length;return!o||!i||!a}(e)?a.start+o+a.end:o}(r,e(r)):3===r.nodeType&&(l+=r.nodeValue)}),l}function o(t){return t.length>1}$L._lyteHTMLToText=function(t){return e(t,!0)}}();