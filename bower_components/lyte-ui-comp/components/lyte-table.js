if(Lyte.Component.register("lyte-table",{_template:'<template tag-name="lyte-table">\n\t<div class="lyteTableScroll">\n\t\t<template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true">\n\t\t<lyte-table-structure id="{{ltPropId}}" class="{{ltPropClass}}">\n\t\t   <template is="if" value="{{ltPropHeaderLabelKey}}"><template case="true">\n\t\t\t   <lyte-colgroup>\n\t\t\t\t   <template is="for" items="{{ltPropHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t\t<lyte-col></lyte-col>\n\t\t\t\t\t</template> \n\t\t\t\t</lyte-colgroup>\t\n\t\t\t\t<lyte-thead>\n\t\t\t\t\t<lyte-tr>\n\t\t\t\t\t   <template is="if" value="{{ltPropHeader.length}}"><template case="true"><template is="for" items="{{ltPropHeader}}" item="list" index="indexVal">\n\t\t\t\t\t\t<lyte-th id="{{list.id}}" class="{{list.class}}" index="{{indexVal}}" resize="{{list.resize}}" fixed="{{list.fixed}}" icon="{{list.icon}}">\n\t\t\t\t\t\t\t{{unescape(list[ltPropHeaderLabelKey])}}\n\t\t\t\t\t\t</lyte-th>\n\t\t\t\t\t\t\t</template></template></template>\t\n\t\t\t\t\t</lyte-tr>\n\t\t\t\t</lyte-thead>\n\t\t\t</template></template>\t\n\t\t\t<lyte-tbody>\n\t\t\t\t<template is="if" value="{{ltPropInfiniteScroll}}"><template case="true">\n\t\t\t\t\t<template is="for" items="{{ltPropData}}" item="list" index="indexVal">\t\n\t\t\t\t\t\t <lyte-tr id="{{list.body.id}}" class="{{list.body.class}}">\n\t\t\t\t\t\t\t<template is="for" items="{{ltPropHeader}}" item="header">\n\t\t\t\t\t\t\t\t<lyte-td>\n\t\t\t\t\t\t\t\t\t<div style="height: {{ltPropCellHeight}}">\n\t\t\t\t\t\t\t\t\t\t{{unescape(lyteUiGetValue(list.body,header[ltPropBodyLabelKey]))}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</lyte-td>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t \t</lyte-tr>\n\t\t\t\t\t</template>\n\t\t\t\t</template><template case="false">\n\t\t\t\t<template is="for" items="{{ltPropContent}}" item="list" index="indexVal">\t\n\t\t\t\t\t <lyte-tr id="{{list.id}}" class="{{list.class}}">\n\t\t\t\t\t\t<template is="for" items="{{ltPropHeader}}" item="header">\n\t\t\t\t\t\t\t<lyte-td>{{unescape(lyteUiGetValue(list,header[ltPropBodyLabelKey]))}}</lyte-td>\n\t\t\t\t\t\t</template>\n\t\t\t\t \t</lyte-tr>\n\t\t\t\t</template>\n\t\t\t\t</template></template>\n\t\t    </lyte-tbody> \n\t\t    <template is="if" value="{{expHandlers(ltPropResize.vertical,\'||\',ltPropResize.horizontal)}}"><template case="true">\n\t\t    \t<lyte-table-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-resize>\n\t\t    \t<template is="if" value="{{ltPropResize.vertical}}"><template case="true">\n\t\t    \t\t<lyte-table-vertical-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-vertical-resize>\n\t\t    \t</template></template><template is="if" value="{{ltPropResize.horizontal}}"><template case="true">\n\t\t    \t\t<lyte-table-horizontal-resize onmousedown="{{action(\'tableResize\', event, this)}}"></lyte-table-horizontal-resize>\n\t\t    \t</template></template></template></template>\t\n\t</lyte-table-structure>\n\t</template><template case="false"><template is="if" value="{{ltPropInfiniteScroll}}"><template case="true">\n\t\t<lyte-yield yield-name="yield" lt-prop-data="{{ltPropData}}"></lyte-yield>\n\t</template><template case="false">\n\t <lyte-yield yield-name="yield"></lyte-yield>\n\t </template></template></template></template>\n\n\t \n</div>\n</template>',_dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"if",position:[3,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"for",position:[0],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]}},default:{}},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'height: '","ltPropCellHeight"]}}}},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}]}},default:{}},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[4]},{type:"if",position:[4],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}]}},default:{}}],_observedAttributes:["ltPropContent","ltPropHeader","ltPropId","ltPropClass","ltPropBorder","ltPropHeaderLabelKey","ltPropBodyLabelKey","ltPropWidth","ltPropHeight","ltPropResize","ltPropFixedColumnClass","ltPropYield","ltPropScroll","ltPropColumnSortable","ltPropScrollbarOption","ltPropDualResize","ltPropData","ltPropInfiniteScroll","ltPropCellHeight","ltPropContentLength","ltPropPreventScrollbar","lyteUnbound","columns","nonFixedColumn","minWidth1","minWidth2","secondaryData","boundary","rowHeights"],init:function(){var t=navigator.userAgent;this._dir=_lyteUiUtils.getRTL(),this.isIE11Lyte=/rv:11/gi.test(t),this.isEdgeLyte=/Edge/gi.test(t),this._browser=this.isIE11Lyte||this.isEdgeLyte||t.match("Safari"),this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node),this.$node.scrollTable=function(t,e){this.scrollDiv||(this.scrollDiv=this.$node.querySelector("div.lyteTableScroll")),void 0!=t&&(this.scrollDiv.scrollTop=e),void 0!=e&&(this.scrollDiv.scrollLeft=t);var i=new Event("scroll",{bubbles:!0});i._byFunc=!0,this.scrollDiv.dispatchEvent(i)}.bind(this),document._tableResize||(document._tableResize=!0,window.addEventListener("resize",resizeTable,!0),window.addEventListener("orientationchange",resizeTable,!0)),this.$node.toggleRows=function(t){$L.fastdom.mutate(function(){for(var e=this.$node.querySelectorAll("lyte-tbody lyte-tr.lytePreventInfiniteScroll"),i=0;i<e.length;i++)t?e[i].classList.remove("lyteHidden"):e[i].classList.add("lyteHidden")}.bind(this))}.bind(this)},rtlfunc:function(t,e,i){if(this._dir&&"top"!=t&&"clientY"!=t){if(e)return"right"==t?i-e.left:"clientX"==t?i-e.clientX:i-e.right;if("left"==t)return"right";if("right"==t)return"left"}return e?e[t]:t},didDestroy:function(){0==document.body.querySelectorAll("lyte-table[lyte-rendered]").length&&document._tableResize&&(window.removeEventListener("resize",resizeTable,!0),window.removeEventListener("orientationchange",resizeTable,!0),delete document._tableResize),!this.data.ltPropPreventScrollbar&&this.scrollDiv&&$L(this.scrollDiv).removeScroll(),delete this.scrollDiv,delete this._dummy,delete this._dummy1,delete this.resizeComponent,delete this.targetElem,delete this.$node.setValue,delete this.$node.scrollTable},initProcess1:function(t){if(!this._prevent&&this.data.ltPropInfiniteScroll){var e=this.$node.querySelector("lyte-table-structure"),i=this.data.ltPropContent||[],l=Math.min(this.data.ltPropContentLength||i.length,i.length),o=[];if(0==i.length&&!t)return;e&&(e.style.height="auto");for(var s=0;s<l;s++)o[s]={body:i[s],checked:!1,index:s};this.setData("ltPropData",o),t&&this._dummy&&(this._dummy.style.height=0,this._dummy.style.transform="translateY(0px)"),t&&this._dummy1&&(this._dummy1.style.transform="translateY(0px)"),delete this._stopScroll,t&&this.scrollDiv&&(this.scrollDiv.scrollTop=0,this.scrollDiv.scrollLeft=0),this._top=0,this._bottom=Math.max(l-1,0),this._boundary={top:0,bottom:l-1}}}.observes("ltPropContent.[]").on("init"),didConnect:function(){var t=this.data.ltPropInfiniteScroll,e=(this.data.secondaryData,this.data.ltPropResize);this.data.ltPropYield&&(e.vertical||e.horizontal)&&this.resizeComponentAppend.call(this);try{var i=this.$node.querySelector("div.lyteTableScroll");if(this.scrollDiv=i,i.comp=this,i._infiniteScroll=t,this.data.ltPropPreventScrollbar)this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node);else{$L(i).scroll(this.data.ltPropScrollbarOption);var l,o=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerY"),s=this.$node.querySelector("lyte-th");$L.fastdom.measure(function(){var t=this._dir;s&&o&&0==o.offsetTop&&(l=s.getBoundingClientRect().height,$L.fastdom.mutate(function(){o.style.top=l+"px",t&&this.$node.classList.add("lyteRTL")}.bind(this))),$L.fastdom.mutate(function(){this.data.ltPropDualResize&&this.$node.classList.add("lyteDualResize"),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)}.bind(this))}.bind(this))}}catch(t){}t&&(this.$node.classList.add("infinitescroll"),this.$node.setValue=function(t){this._stopScroll&&this.appendAddData1.call(this,t)}.bind(this))},columnWidth:function(t,e,i){var l=0;for(i||(i=0);i<e;i++)l+=t[i].property.width;return l},heightCalc:function(t,e,i){for(var l=0,o=e;o>0&&!(i<(l+=t[o]));o--);return[l,o]},topElem:function(t){if(this.isIE11Lyte||this.isEdgeLyte){var e=t.querySelector("lyte-td");return e?e.getBoundingClientRect():{}}return t.getBoundingClientRect()},cellSet:function(t,e){if(this.isIE11Lyte||this.isEdgeLyte){var i=t.querySelectorAll("lyte-td");if(!e&&i.length)return i[0].style.transform;for(var l=0;l<i.length;l++)i[l].style.transform=e}else{if(!e)return t.style.transform;t.style.transform=e}},scrollTable:function(t,e){var i=t.yScroll,l=this.getData("ltPropData"),o=this.getData("ltPropContent"),s=this.scrollDiv,r=e.tbodyClient,n=e.$nodeClient,a=this.$node.querySelector("lyte-table-structure"),d=this.$node.querySelector("lyte-th"),h=e.neglected,c=e.compNeg;d=d?d.property?d.property.height:d.getBoundingClientRect().height:0;var m=e.topElem,p=e.topElemClient;if(-1==a.style.height.indexOf("px")&&(a.style.height=r.height+"px",this._rowHgt=parseInt(10*p.height)/10,this._step=parseInt(10*(r.height-this._rowHgt*h.length))/10),!this._dummy){var y=e.tbody,u=document.createElement("lyte-tr");if(u.classList.add("dummy"),y.appendChild(u),u.setAttribute("style","transform:translateY(0px);height:0px"),this._dummy=u,this._browser){var f=document.createElement("div");f.classList.add("dummy"),this.scrollDiv.appendChild(f),f.setAttribute("style","transform:translateY(0px);height:5px"),this._dummy1=f}}if(void 0==i&&!s.classList.contains("eventBinded")){var g=parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0]);i=s.scrollTop>g?1:-1}if(i>0){if(parseFloat(n.top+d)>=parseFloat(p.bottom))if(this._boundary.bottom<=o.length-2){var b=Math.max(parseInt((n.top+d-p.bottom)/this._rowHgt),1);this._boundary.bottom+b>o.length-1&&(b=o.length-1-this._boundary.bottom);for(var v=0;v<b;v++){if(this._boundary.bottom+=1,v>=b-l.length&&(Lyte.Component.set(l[this._top],{body:o[this._boundary.bottom],index:this._boundary.bottom}),m.dataOrder=this._boundary.bottom),this._boundary.top=this._boundary.bottom-l.length+1,this.cellSet(m)?this.regex(m):this.cellSet(m,"translateY("+this._step+"px)"),this._dummy.style.transform="translateY("+(parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0])+this._rowHgt)+"px)",this._dummy.style.height=Math.max(parseFloat(this._dummy.style.height)-this._rowHgt,0)+"px",this._browser&&(this._dummy1.style.transform="translateY("+(parseFloat(this._dummy1.style.transform.match(/[\d|.]+/gi)[0])+this._rowHgt)+"px)"),this._bottom=this._top,this._top=(this._top+1)%l.length,this._boundary.bottom>=o.length){this._boundary.bottom=o.length-1,this._top=(this._top+1)%l.length;break}m=this.nthoftype.call(this,e.tbody,this._top+c.length,!0)}}else this.scrollEndMethod1()}else if(i<0){var L=e.bottmElem,_=e.bottmElemClient;if(n.bottom<=_.top){var x=this.cellSet(L).match(/[\d|.]+/gi);if(!x||x&&"0"==x[0])return;b=parseInt(Math.max(parseFloat((_.top-n.bottom)/this._rowHgt),0));var E=Math.max(b-1-this._boundary.top,0);for(v=b-1;v>=0&&0!=b&&0!=this._boundary.top;v--){if(this._boundary.top-=1,v<=l.length-1+E&&(Lyte.Component.set(l[this._bottom],{body:o[this._boundary.top],index:this._boundary.top}),L.dataOrder=this._boundary.top),this._boundary.bottom=this._boundary.top+l.length-1,this.cellSet(L)&&this.regex(L,!0),this._dummy.style.height=parseFloat(this._dummy.style.height)+this._rowHgt+"px",this._dummy.style.transform="translateY("+(parseFloat(this._dummy.style.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)",this._browser&&(this._dummy1.style.transform="translateY("+(parseFloat(this._dummy1.style.transform.match(/[\d|.]+/gi)[0])-this._rowHgt)+"px)"),this._top=this._bottom,this._bottom=(l.length+this._bottom-1)%l.length,-1==this._boundary.top){this._boundary.top=0,this._boundary.bottom=this._boundary.top+l.length-1;break}L=this.nthoftype.call(this,e.tbody,this._bottom+c.length,!0)}}}},regex:function(t,e){if(this.isIE11Lyte||this.isEdgeLyte)for(var i=t.querySelectorAll("lyte-td"),l=0;l<i.length;l++)this.regex1(i[l],e);else this.regex1(t,e)},regex1:function(t,e){t.style.transform=e?t.style.transform.replace(/[\d|.]+/gi,function(){return Math.max(parseFloat(arguments[0])-this._step,0).toFixed(3)}.bind(this)):t.style.transform.replace(/[\d|.]+/gi,function(){return(parseFloat(arguments[0])+this._step).toFixed(3)}.bind(this))},scrollEndMethod1:function(){this._stopScroll||(this._stopScroll=!0,this.getMethods("scrollEnd")&&this.appendAddData1(this.executeMethod("scrollEnd")))},appendAddData1:function(t){t&&(t.then?Promise.resolve(t).then(function(t){t&&this.apd1.call(this,t)}.bind(this),function(){}.bind(this)):this.apd1.call(this,t))},apd1:function(t){var e=this.data.ltPropContent;this.data.ltPropData;this._prevent=!0,t.constructor==Array?Lyte.arrayUtils(e,"concat",t):t.constructor==Object&&Lyte.arrayUtils(e,"push",t),delete this._prevent,delete this._stopScroll},nthoftype:function(t,e,i){var l=[],o=t.getElementsByTagName("lyte-tr");if(i)return o[e];for(var s=0;s<o.length;s++)o[s].classList.contains("dummy")||l.push(o[s].querySelectorAll("lyte-td")[e]);return l},scroll:function(t){var e=this.comp,i=this._wheelObj||{bcr:{}};this._scrollLeft=void 0!=i.scrollLeft?i.scrollLeft:this.scrollLeft,this._scrollTop=void 0!=i.scrollTop?i.scrollTop:this.scrollTop;var l=this._direction;if(e.scrollCheck.call(this,t,i),0==this._scrollLeft&&"rtl"!=l&&e.getData("ltPropInfiniteScroll")){var o=e.getData("columns");Lyte.arrayUtils(o,"remove",0,o.length);var s=this.querySelectorAll(".lyteTableFixed");if(s.length)for(var r=0;r<s.length;r++)s[r].style.left="0px",s[r].classList.remove("lyteTableFixed")}e.data.ltPropInfiniteScroll&&e.scrollTable.call(e,t,i),delete this._scrollLeft,delete this._scrollTop},scrollCheck:function(t,e){var i=this.getElementsByTagName("lyte-table-structure")[0],l=this._scrollTop,o=this._scrollLeft,s=this.parentElement.component.getData("ltPropScroll"),r=this.parentElement.component,n=this._direction,a=i.getElementsByTagName("lyte-tbody")[0],d=this.getElementsByTagName("lyte-thead")[0],h=[],c=[],m=[];if(d&&(h=d.getElementsByTagName("lyte-th")),(l!=this.prevScollTop||t._byFunc)&&s.vertical){var p=h;if(p.length){for(var y=0;y<p.length;y++)p[y].classList.add("tableRowFixed"),r.transform(!0,p[y],l);if(!l)for(y=0;y<p.length;y++)p[y].classList.remove("tableRowFixed")}}if((o!=this.prevScollLeft||t._byFunc)&&s.horizontal){var u=r.data.columns,f=[];if(d){var g=Array.apply(Array,d.getElementsByTagName("lyte-tr")),b=Array.apply(Array,d.getElementsByClassName("lyteRowCopy"));f=g.concat(b)}var v=r.data.ltPropFixedColumnClass||"";if(f.length){c=f[0].getElementsByTagName("lyte-th");for(var L=0;L<c.length;L++)c[L].classList.contains("lyteFixedColumn")&&m.push(c[L])}for(y=u.length;y<m.length;y++)if(m[y].property.right+r.columnWidth.call(r,m,y)>e.scrollDivClient.right&&"rtl"==n||m[y].property.left<e.scrollDivClient.left+r.columnWidth.call(r,m,y)&&"rtl"!=n){m[y].property.width;var _=m[y].order;if(_+1<c.length){!m[y].classList.contains("lyteTableFixed")&&m[y].classList.add("lyteTableFixed"),u.push(m[y]);for(var x=1;x<f.length;x++){(R=f[x].getElementsByTagName("lyte-th")[_])&&!R.classList.contains("lyteTableFixed")&&R.classList.add("lyteTableFixed")}for(var E=r.nthoftype.call(r,a,_),w=0;w<E.length;w++)!E[w].classList.contains("lyteTableFixed")&&E[w].classList.add("lyteTableFixed"),v&&E[w].classList.add(v)}}for(L=u.length-1;L>=0&&(T=u.length-1,0==o&&(!window.chrome||"rtl"!=n)||(parseFloat((c[u[T].order+1].property.right+u[T].property.width+r.columnWidth.call(r,u,u.length-1)).toFixed(2))<=parseFloat(e.scrollDivClient.right.toFixed(2))||c[u[T].order+1].property.right+2<u[T].property.left)&&"rtl"==n||c[u[T].order+1].property.left>=e.scrollDivClient.left+u[T].property.width+r.columnWidth.call(r,u,u.length-1)&&u[T].property.left>=e.scrollDivClient.left+r.columnWidth.call(r,m,u.length-1)&&"rtl"!=n);L--){c[u[T].order].classList.contains("lyteTableFixed")&&c[u[T].order].classList.remove("lyteTableFixed"),v&&c[u[T].order].classList.remove(v),r.transform(!1,u[T],0);for(x=0;x<f.length;x++){(R=f[x].getElementsByTagName("lyte-th")[u[T].order])&&(R.classList.contains("lyteTableFixed")&&R.classList.remove("lyteTableFixed"),r.transform(!1,R,0))}for(var P=r.nthoftype.call(r,a,u[T].order),C=0;C<P.length;C++)r.transform(!1,P[C],0),P[C].classList.contains("lyteTableFixed")&&P[C].classList.remove("lyteTableFixed"),v&&P[C].classList.remove(v);Lyte.arrayUtils(u,"removeAt",T)}for(var T=0;T<u.length;T++){var S,z=r.nthoftype.call(r,a,u[T].order),F=navigator.userAgent.toLowerCase();S=0==T?"rtl"==n?-1!=F.indexOf("firefox")||-1!=F.indexOf("safari")&&-1==F.indexOf("chrome")&&-1==F.indexOf("chromium")?o+r.columnWidth.call(r,c,u[T].order,0):-1!=F.indexOf("edge")||-1!=F.indexOf("trident")||-1!=F.indexOf("msie")?-o+r.columnWidth.call(r,c,u[T].order,0):o-1-e.scrollWidth+e.scrollDivClient.width+r.columnWidth.call(r,c,u[T].order,0):o-r.columnWidth.call(r,c,u[T].order,0):"rtl"==n?(-1!=F.indexOf("firefox")||-1!=F.indexOf("safari")&&-1==F.indexOf("chrome")&&F.indexOf("chromium"),r.transform(!1,u[T-1])+r.columnWidth.call(r,c,u[T].order,u[T-1].order+1)):r.transform(!1,u[T-1])-r.columnWidth.call(r,c,u[T].order,u[T-1].order+1);for(var D=0;D<z.length;D++)!z[D].classList.contains("lyteTableFixed")&&z[D].classList.add("lyteTableFixed"),r.transform(!1,z[D],S);r.transform(!1,u[T],S);for(x=0;x<f.length;x++){var R;(R=f[x].getElementsByTagName("lyte-th")[u[T].order])&&(!R.classList.contains("lyteTableFixed")&&R.classList.add("lyteTableFixed"),r.transform(!1,R,S))}}}this.prevScollLeft=o,this.prevScollTop=l},transform:function(t,e,i){var l=e.style.transform||"translateX(0px) translateY(0px)",o=parseFloat(/translateX\((.+)/.exec(l)[1]),s=parseFloat(/translateY\((.+)/.exec(l)[1]);if(void 0==i)return parseFloat(t?s:o);e.style.transform=t?"translateY("+i+"px) translateX("+o+"px)":"translateY("+s+"px) translateX("+i+"px)"},borderChangeObs:function(){this.borderChange.call(this)}.observes("ltPropBorder").on("didConnect"),borderChange:function(){this.data.ltPropBorder?this.$node.classList.add("border"):this.$node.classList.remove("border")},widthObsObs:function(){this.widthObs.call(this)}.observes("ltPropWidth").on("didConnect"),widthObs:function(){this.$node.querySelector("lyte-table-structure").style.width=this.data.ltPropWidth},heightObsObs:function(){this.heightObs.call(this)}.observes("ltPropHeight").on("didConnect"),heightObs:function(){this.$node.querySelector("lyte-table-structure").style.height=this.data.ltPropHeight},sortableObs:function(){this.sortable.call(this)}.observes("ltPropColumnSortable").on("didConnect"),sortable:function(){var t=this.$node.querySelector("lyte-thead");t&&(this.data.ltPropColumnSortable?(this.colSort=this.sortableColumns.bind(this),t.addEventListener("mousedown",this.colSort),t.addEventListener("touchstart",this.colSort),t.parentElement.classList.add("sortableTable")):(t.removeEventListener("mousedown",this.colSort),t.removeEventListener("touchstart",this.colSort),t.parentElement.classList.remove("sortableTable")))},composePath:function(t){for(var e=[],i=t.target.correspondingElement||t.target;i&&"HTML"!=i.tagName;)e.push(i),i=i.parentNode;return e},sortableColumns:function(t){var e=this.closestFind.call(this,t.path?t.path:this.composePath.call(this,t),"lyte-th:not(.lyteTableFixed)");if(e&&this.$node.contains(e)){var i,l="touchstart"==t.type;if(this.getMethods("onBeforeSelect")&&(i=this.executeMethod("onBeforeSelect",e,t,this.$node)),0!=i){var o=l?t.touches[0]:t;this._ww=window.innerWidth,this.mousemove=this.sortableMouseMove.bind(this),this.offLeft=this.rtlfunc.call(this,"clientX",o,this._ww)-this.rtlfunc.call(this,"left",e.getBoundingClientRect(),this._ww),this.colHead=e,this._thisBccr=this.$node.getBoundingClientRect(),e.classList.add("sortSelect"),document.documentElement.addEventListener(l?"touchmove":"mousemove",this.mousemove),this.mouseup=this.sortableMouseup.bind(this),document.documentElement.addEventListener(l?"touchend":"mouseup",this.mouseup),this.flag=!0,t.preventDefault(),this.getMethods("onSelect")&&this.executeMethod("onSelect",e,t,this.$node)}}},horiScroll:function(t,e){var i,l,o,s=this.rtlfunc.call(this,"left"),r=this.isIE11Lyte||this.isEdgeLyte;if(/mousemove|touchmove/i.test(t.type)&&(i=!0),i){if(this._reqId)return;l=this.rtlfunc.call(this,"clientX",t,e)>Math.min(this.rtlfunc.call(this,"right",this._thisBccr,e),e-2),o=this.rtlfunc.call(this,"clientX",t,e)<=Math.max(0,this.rtlfunc("left",this._thisBccr,innerWidth))}else l=parseFloat(t.style[s])-this._xxoff+parseFloat(t.style.width)>=this.rtlfunc("right",this._thisBccr,e)-1,o=parseFloat(t.style[s])-this._xxoff+parseFloat(t.style.width)>=this.rtlfunc("right",this._thisBccr,e)-1;l?(this.scrollDiv.scrollLeft+=2*(this._dir?-1*(r?-1:1):1),i&&(this.resizeComponent.offLeft-=2),this._reqId=window.requestAnimationFrame(function(){delete this._reqId,this.horiScroll(t,e)}.bind(this))):o?(i&&(this.resizeComponent.offLeft+=2),this.scrollDiv.scrollLeft-=2*(this._dir?-1*(r?-1:1):1),this._reqId=window.requestAnimationFrame(function(){delete this._reqId,this.horiScroll(t,e)}.bind(this))):(window.cancelAnimationFrame(this._reqId),delete this._prevent)},sortableMouseMove:function(t){var e="touchmove"==t.type,i=t;if(!e||1==i.touches.length){if(e&&(i=i.touches[0]),this.flag&&void 0==this._timeout){var l,o=this.colHead.getBoundingClientRect(),s=document.createElement("div");s.classList.add("lyteTableSortHelper"),s.innerHTML=this.colHead.innerText,this._xxoff=l=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1);var r=window.pageYOffset||document.documentElement.scrollTop;s.style.height=o.height+"px",s.style.width=o.width+"px",s.style[this.rtlfunc.call(this,"left")]=l+this.rtlfunc.call(this,"left",o,this._ww)+"px",s.style.top=r+o.top+"px",this._timeout=setTimeout(function(){document.body.appendChild(s),this.flag=!1}.bind(this),100)}var n=document.querySelector("div.lyteTableSortHelper");if(n){var a=this._dir?"right":"left",d=window.innerWidth,h=Math.max(Math.min(this.rtlfunc.call(this,"clientX",i,this._ww)-this.offLeft,this.rtlfunc.call(this,"right",this._thisBccr,this._ww)-parseFloat(n.style.width)),this.rtlfunc.call(this,"left",this._thisBccr,this._ww));if(parseFloat(h)>this.rtlfunc("left",this._thisBccr,d)&&parseFloat(h)+parseFloat(n.style.width)<this.rtlfunc("right",this._thisBccr,d)&&(window.cancelAnimationFrame(this._reqId),delete this._prevent,delete this._scrollDir),this._prevent)return;n.style[a]=h+this._xxoff+"px",this._prevent=!0,this.horiScroll(n,d),this.getMethods("onDrag")&&this.executeMethod("onDrag",this.colHead,n,t,this.$node)}t.preventDefault(),t.stopPropagation()}},sortableMouseup:function(t){if(this.flag)clearTimeout(this._timeout);else{var e="touchend"==t.type,i=document.getElementsByClassName("lyteTableSortHelper")[0],l=i.getBoundingClientRect(),o=l.left+l.width/2+2,s=l.top+l.height/2,r=this.closestFind.call(this,document.elementsFromPoint?document.elementsFromPoint(o,s):this.elementsFromPointCal.call(this,o,s),"lyte-th:not(.lyteTableFixed)"),n=this.$node.getElementsByTagName("lyte-tbody")[0];if(r!=this.colHead&&r){var a,d=this.colHead.parentElement.getElementsByTagName("lyte-th"),h=Array.prototype.indexOf.call(d,this.colHead),c=Array.prototype.indexOf.call(d,r),m=this.data.ltPropHeader;if(this.getMethods("onBeforeDrop")&&(a=this.executeMethod("onBeforeDrop",this.colHead,r,h,c,m,t,this.$node)),0!=a){if(m.length){var p=Lyte.arrayUtils(m,"removeAt",h),y=Array.prototype.indexOf.call(r.parentElement.getElementsByTagName("lyte-th"),r);Lyte.arrayUtils(m,"insertAt",h<c?y+1:y,p);var u=r.parentElement.getElementsByTagName("lyte-th",r.parentElement)[h<c?y+1:y];r.classList.contains("tableRowFixed")&&(u.classList.add("tableRowFixed"),u.style.top=r.style.top)}else{_lyteUiUtils.insertBefore(c>h?r.nextElementSibling:r,this.colHead);for(var f=this.nthoftype.call(this,n,h),g=this.nthoftype.call(this,n,c),b=0;b<f.length;b++)_lyteUiUtils.insertBefore(c>h?g[b].nextElementSibling:g[b],f[b])}this.getMethods("onDrop")&&this.executeMethod("onDrop",this.colHead,r,h,c,m,t,this.$node)}}document.body.removeChild(i)}document.documentElement.removeEventListener(e?"touchend":"mouseup",this.mouseup),document.documentElement.removeEventListener(e?"touchmove":"mousemove",this.mousemove),this.colHead.classList.remove("sortSelect"),window.cancelAnimationFrame(this._reqId),delete this.mouseup,delete this._xxoff,delete this.mousemove,delete this.offLeft,delete this.colHead,delete this.flag,delete this._timeout,delete this._thisBccr,delete this._ww,delete this._reqId,delete this._prevent,delete this._scrollDir,t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},elementsFromPointCal:function(t,e){for(var i=[],l=document.elementFromPoint(t,e);l!=document&&l!=document.documentElement&&l!=document.body&&l!=this.$node;)l.style.pointerEvents="none",i.push(l),l=document.elementFromPoint(t,e);for(var o=0;o<i.length;o++)i[o].style.pointerEvents="initial";return i},resizeComponentAppendObs:function(){this.data.ltPropYield&&this.resizeComponentAppend.call(this)}.observes("ltPropResize","ltPropResize.{}"),resizeComponentAppend:function(){var t=this.data.ltPropResize,e=this.$node.getElementsByTagName("lyte-table-structure")[0],i=e.getElementsByTagName("lyte-table-resize")[0],l=e.getElementsByTagName("lyte-table-vertical-resize")[0],o=e.getElementsByTagName("lyte-table-horizontal-resize")[0];if(t.vertical||t.horizontal){if(!i){var s=document.createElement("lyte-table-resize");e.appendChild(s),s.addEventListener("mousedown",this.actions.tableResize.bind(this)),s.addEventListener("touchstart",this.actions.tableResize.bind(this))}}else i&&e.removeChild(i);if(t.vertical){if(!l){s=document.createElement("lyte-table-vertical-resize");e.appendChild(s),s.addEventListener("mousedown",this.actions.tableResize.bind(this)),s.addEventListener("touchstart",this.actions.tableResize.bind(this))}}else l&&e.removeChild(l);if(t.horizontal){if(!o){s=document.createElement("lyte-table-horizontal-resize");e.appendChild(s),s.addEventListener("mousedown",this.actions.tableResize.bind(this)),s.addEventListener("touchstart",this.actions.tableResize.bind(this))}}else o&&e.removeChild(o)},data:function(){return{ltPropContent:Lyte.attr("array",{default:[]}),ltPropHeader:Lyte.attr("array",{default:[]}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropBorder:Lyte.attr("boolean",{default:!1}),ltPropHeaderLabelKey:Lyte.attr("string",{default:""}),ltPropBodyLabelKey:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropHeight:Lyte.attr("string",{default:"100%"}),ltPropResize:Lyte.attr("object",{default:{}}),ltPropFixedColumnClass:Lyte.attr("string",{default:""}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropScroll:Lyte.attr("object",{default:{horizontal:!0,vertical:!0}}),ltPropColumnSortable:Lyte.attr("boolean",{default:!1}),ltPropScrollbarOption:Lyte.attr("object",{default:{}}),ltPropDualResize:Lyte.attr("boolean",{default:!1}),ltPropData:Lyte.attr("array",{default:[]}),ltPropInfiniteScroll:Lyte.attr("boolean",{default:!1}),ltPropCellHeight:Lyte.attr("string",{default:"20px"}),ltPropContentLength:Lyte.attr("number"),ltPropPreventScrollbar:Lyte.attr("boolean",{default:!1}),lyteUnbound:Lyte.attr("boolean",{default:!1}),columns:Lyte.attr("array",{default:[]}),nonFixedColumn:Lyte.attr("array",{default:[]}),minWidth1:Lyte.attr("string",{default:""}),minWidth2:Lyte.attr("string",{default:""}),secondaryData:Lyte.attr("array",{default:[]}),boundary:Lyte.attr("object",{default:{}}),rowHeights:Lyte.attr("array",{default:[]})}},actions:{tableResize:function(t){var e="touchstart"==t.type,i=t;if(!e||1==t.touches.length){e&&(i=t.touches[0]);var l=t.target.parentElement;l.previousElementSibling;if(document.Component=this,this.resizeComponent=l,this.targetElem=i.target,(l.parentElement.querySelector("lyte-th:last-of-type")!=l||this.data.ltPropDualResize)&&"LYTE-TH"==l.tagName||"LYTE-TH"!=l.tagName){this._thisBccr=this.$node.getBoundingClientRect();var o=window.innerWidth,s=l.getBoundingClientRect();if(this.data.ltPropDualResize&&(this.oriTab=this.$node.getElementsByTagName("lyte-table-structure")[0],r=this.oriTab.getBoundingClientRect().width),l.offLeft=s.width+this.rtlfunc.call(this,"left",s,o),l.offTop=i.clientY,document.addEventListener(e?"touchend":"mouseup",this.mouseup),document.addEventListener(e?"touchmove":"mousemove",this.resizeFunc),"LYTE-TH"==l.tagName){var r,n,a,d=this.$node.getElementsByTagName("lyte-th"),h=[],c=l.nextElementSibling;$L.fastdom.measure(function(){for(var t=0;t<d.length;t++)d[t].style.width&&l!=d[t]?h.push(null):h.push(d[t].offsetWidth);$L.fastdom.mutate(function(){l.classList.add("resizeSelect"),this.$node.classList.add("resizing");for(var t=0;t<d.length;t++)h[t]&&(d[t].style.width=h[t]+"px");c&&(n=c.style.width),a=l.style.width,$L.fastdom.measure(function(){c&&c.style.removeProperty("width"),this.minWidth.call(this,l,"minWidth1"),c&&(c.style.width=n),this.data.ltPropDualResize||(l.style.removeProperty("width"),this.minWidth.call(this,c,"minWidth2"),l.style.width=a),$L.fastdom.mutate(function(){this.data.ltPropDualResize&&(this.oriTab.style.width=r+"px")}.bind(this))}.bind(this))}.bind(this))}.bind(this))}else{var m=this.$node.getElementsByTagName("lyte-table-structure")[0];m.style.width=m.getBoundingClientRect().width+"px",this.$node.classList.add("tableResing")}}t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}}},minWidth:function(t,e){var i=window.getComputedStyle(t,null).getPropertyValue("min-width"),l=t.style.width;t.style.width="0px"==i?"50px":i,i=t.offsetWidth+"px",t.style.width=l,this.setData(e,i)},resetScrollbar:function(t){this.$node.classList.remove("tableResing"),$L.fastdom.measure(function(){var t=this.$node.getBoundingClientRect(),e=this.$node.getElementsByTagName("lyte-table-structure")[0].getBoundingClientRect(),i=(window.pageXOffset||document.documentElement.scrollLeft)*(this._dir?-1:1),l=window.innerWidth;this.scrollDiv.resetScrollbar&&this.scrollDiv.classList.contains("eventBinded")&&this.scrollDiv.resetScrollbar(!0),$L.fastdom.mutate(function(){var o=this.rtlfunc.call(this,"right",t,l),s=this.rtlfunc.call(this,"right",e,l),r=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerY:not(.left)"),n=this.$node.querySelector(".lyteScrollContainer.lyteScrollContainerX");r&&(o-s>0?r.style[this.rtlfunc.call(this,"right")]=o-s+i+"px":r.style.removeProperty("right")),n&&(o-s>0?n.style.width=e.width/t.width*100+"%":n.style.removeProperty("width"))}.bind(this))}.bind(this))},mouseup:function(t){var e="touchend"==t.type,i=document.Component,l=i.resizeComponent;i.resetScrollbar.call(i,t),delete document.Component,delete i.oriTab,document.removeEventListener(e?"touchend":"mouseup",i.mouseup),document.removeEventListener(e?"touchmove":"mousemove",i.resizeFunc),$L.fastdom.mutate(function(){l.classList.remove("resizeSelect"),i.$node.classList.remove("resizing"),document.removeEventListener(e?"touchend":"mouseup",i.mouseup),document.removeEventListener(e?"touchmove":"mousemove",i.resizeFunc),delete document.Component,delete i.oriTab,delete this._thisBccr,i.getMethods("onResizeEnd")&&$L.fastdom.mutate(function(){i.executeMethod("onResizeEnd",l,i.$node)})}),window.cancelAnimationFrame(i._reqId),delete i._reqId,t.stopPropagation()},resizeFunc:function(t){var e="touchmove"==t.type,i=t;if(!e||1==t.touches.length){e&&(i=i.touches[0]);var l=document.Component,o=window.innerWidth,s=l.resizeComponent,r=l.rtlfunc.call(l,"clientX",i,o),n=l.data.ltPropResize,a=r-s.offLeft,d=parseInt(s.style.width);if((n.horizontal||"LYTE-TH"==s.tagName)&&a){var h=a+d;l.getData("tableWidth");if("LYTE-TH"==s.tagName){if(h>Math.ceil(parseFloat(l.getData("minWidth1")))){var c=s.nextElementSibling,m=c?c.getBoundingClientRect().width-a:0;!l.data.ltPropDualResize&&m>Math.ceil(parseFloat(l.getData("minWidth2")))?(c.style.width=m+"px",s.style.width=h+"px"):l.data.ltPropDualResize&&(l.oriTab&&(l.oriTab.style.width=parseInt(l.oriTab.style.width)+a+"px"),s.style.width=h+"px",r>Math.max(l.rtlfunc("left",l._thisBccr,o),0)&&r<Math.min(l.rtlfunc("right",l._thisBccr,o),o)&&(window.cancelAnimationFrame(l._reqId),delete l._reqId))}}else if("LYTE-TH"!=s.tagName&&("LYTE-TABLE-HORIZONTAL-RESIZE"==l.targetElem.tagName||"LYTE-TABLE-RESIZE"==l.targetElem.tagName)){var p=s.parentElement;"LYTE-YIELD"==p.tagName&&(p=p.parentElement),s.style.width=h+"px"}s.offLeft=r,delete s.width}l.horiScroll(i,o),!n.vertical||"LYTE-TH"==s.tagName||"LYTE-TABLE-VERTICAL-RESIZE"!=l.targetElem.tagName&&"LYTE-TABLE-RESIZE"!=l.targetElem.tagName||(s.style.height=i.clientY+s.getBoundingClientRect().height-s.offTop+"px",s.offTop=i.clientY),t.preventDefault(),t.stopPropagation()}},arrayFrom:function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e.slice()},closestFind:function(t,e){for(var i=this.arrayFrom.call(this,document.querySelectorAll(e)),l=0;l<t.length;l++)if(-1!=Array.prototype.indexOf.call(i,t[l]))return t[l];return null}}),!_lyteUiUtils.registeredCustomElements["lyte-th"]){function resizeTable(t){if(!t||"resize"!=t.type||!_lyteUiUtils.isMobile)for(var e=document.body.querySelectorAll("lyte-table[lyte-rendered]"),i=0;i<e.length;i++){var l=e[i].component;t&&"orientationchange"==t.type?setTimeout(l.resetScrollbar.bind(l),500,t):l.resetScrollbar.call(l,t)}}_lyteUiUtils.registeredCustomElements["lyte-th"]=!0,Lyte.createCustomElement("lyte-th",{static:{observedAttributes:{get:function(){return["fixed","resize","icon"]}}},attributeChangedCallback:function(t,e,i){if("fixed"==t){for(var l=this;"DIV"!=l.tagName;)l=l.parentElement;"enable"==i?this.classList.add("lyteFixedColumn"):this.classList.remove("lyteFixedColumn")}else if("resize"==t){var o;if("enable"==i)(o=document.createElement("lyte-tablehead-resize")).addEventListener("mousedown",this.resize),o.addEventListener("touchstart",this.resize),this.appendChild(o);else(o=this.getElementsByTagName("lyte-tablehead-resize")[0])&&this.removeChild(o)}else"icon"==t&&("disable"==i?this.classList.add("lytePreventIcon"):this.classList.remove("lytePreventIcon"))},resize:function(t){if(!this.parentNode.classList.contains("lyteTableFixed")){var e=$L(t.target).closest("lyte-table")[0];e.component.actions.tableResize.call(e.component,t)}}})}