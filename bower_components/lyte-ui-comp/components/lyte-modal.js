if(!LytePopup){var LytePopup={components:[],bodywrapperCount:0,onEscape:function(t){("key"in(t=t||window.event)?"Escape"==t.key||"Esc"==t.key:27==t.keyCode)&&LytePopup.closePopup(void 0,!0)},bindDocumentKeydown:function(){document.addEventListener("keydown",LytePopup.onEscape,!0)},hideOrShowFreeze:function(t,e){var o,i="",a="",l="",n="";if("open"==t&&LytePopup.components.length>1){for(var s=LytePopup.components.length-2;s>=0;s--)if(i="LYTE-MODAL"==LytePopup.components[s].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[s].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",a="LYTE-MODAL"==e.$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==e.$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",l=LytePopup.components[s].childComp.querySelector(i),n=e.childComp.querySelector(a),o=e.getData("ltPropDimmer")&&e.getData("ltPropDimmer").opacity?e.getData("ltPropDimmer").opacity:"",l&&n){l.style.transition="none",n.style.transition="none",l.style.zIndex=15,l.style.opacity=0,n.style.visibility="visible",n.style.opacity=o,setTimeout(LytePopup.removeTransition,100,n,l),l.style.zIndex="",e.addedFreezeDetails=!0;break}}else if("close"==t&&LytePopup.components.length>1&&LytePopup.components[LytePopup.components.length-1]===e)for(s=LytePopup.components.length-2;s>=0;s--)if(i="LYTE-MODAL"==LytePopup.components[s].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[s].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",a="LYTE-MODAL"==e.$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==e.$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",l=LytePopup.components[s].childComp.querySelector(i),n=e.childComp.querySelector(a),o=LytePopup.components[s].getData("ltPropDimmer")&&LytePopup.components[s].getData("ltPropDimmer").opacity?LytePopup.components[s].getData("ltPropDimmer").opacity:"",l&&n){n.style.transition="none",l.style.transition="none",l.style.zIndex=15,n.style.opacity=0,l.style.visibility="visible",l.style.opacity=o,setTimeout(LytePopup.removeTransition,100,n,l),l.style.zIndex="",n.style.visibility="";break}},removeTransition:function(t,e){t.style.transition="",e.style.transition=""},addPopup:function(t){LytePopup.closePopup();var e=LytePopup.components.length;if(e>0){var o,i="",a="";i="LYTE-MODAL"==LytePopup.components[e-1].$node.tagName?".modalWrapper":"LYTE-POPOVER"==LytePopup.components[e-1].$node.tagName?".popoverWrapper":".alertWrapper",a="LYTE-MODAL"==t.$node.tagName?".modalWrapper":"LYTE-POPOVER"==t.$node.tagName?".popoverWrapper":".alertWrapper";var l=t.childComp.querySelector(a);(o=Number(document.defaultView.getComputedStyle(LytePopup.components[LytePopup.components.length-1].childComp.querySelector(i),null).getPropertyValue("z-index")))+2>Number(document.defaultView.getComputedStyle(l,null).getPropertyValue("z-index"))&&(l.style.zIndex=o+2)}LytePopup.components[e]=t,(t.getData("ltPropFreeze")||"LYTE-ALERT"==t.$node.tagName)&&LytePopup.hideOrShowFreeze("open",t)},closePopup:function(t,e){if(e){var o=LytePopup.components[LytePopup.components.length-1];o&&o.$node.ltProp("closeOnEscape")&&o.$node.ltProp("show",!1)}else if(t){var i=LytePopup.components.indexOf(t);i>-1&&LytePopup.components.splice(i,1)}else for(var a=LytePopup.components.length-1;a>=0;a--){if(LytePopup.components[a].$node&&!LytePopup.components[a].$node.ltProp("allowMultiple"))LytePopup.components[a].$node.ltProp("show",!1)}},getScrollParent:function(t){var e=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY,o="visible"!==e&&"hidden"!==e,i=t&&o?t.scrollHeight:0,a=t&&o?t.clientHeight:0;return t?o&&i>=a?t:LytePopup.getScrollParent(t.parentNode)||document.body:null}};LytePopup.bindDocumentKeydown()}function addModalEvent(t){window.addEventListener("resize",function(t){LytePopup._lyteModalRTId&&(clearTimeout(LytePopup._lyteModalRTId),LytePopup._lyteModalRTId=!1),LytePopup._lyteModalRTId=setTimeout(function(){for(var t=LytePopup.components.length-1;t>=0;t--)LytePopup.components[t].$node&&"LYTE-MODAL"==LytePopup.components[t].$node.nodeName&&"visible"==LytePopup.components[t].childComp.style.visibility&&LytePopup.components[t].childComp.querySelector(".lyteModal")&&(LytePopup.components[t].$node.component.setData("resizeCalled",!0),LytePopup.components[t].$node.component.updateScrollHandling());LytePopup._lyteModalRTId=!1},100)},!0),document.addEventListener("click",function(t){for(var e=t.target;!$L(e).hasClass("modalWrapper")&&"LYTE-MODAL-FREEZE"!=e.tagName&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName||"LYTE-MODAL-FREEZE"==e.tagName)for(var o=LytePopup.components.length-1;o>=0;o--)if("LYTE-MODAL"==LytePopup.components[o].$node.tagName&&"visible"==LytePopup.components[o].childComp.style.visibility){var i=LytePopup.components[o].$node;if(i&&i.component.getData("ltPropOverlayClose")){i.ltProp("show",!1);break}}},!0)}Lyte.Component.register("lyte-modal",{_template:'<template tag-name="lyte-modal">\n\t<template is="if" value="{{expHandlers(ltPropBindToBody,\'&amp;&amp;\',expHandlers(ltPropReRenderModal,\'!\'))}}"><template case="true">\n\t\t<lyte-wormhole case="true" style="{{if(ltPropShowCopy,\'visibility:visible\',\'visibility:hidden\')}}" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}">\n\t\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t\t<div class="modalWrapper {{ltPropWrapperClass}}">\n\t\t\t\t\t<div class="lyteModal">\n\t\t\t\t\t\t<template is="if" value="{{ltPropShowCloseButton}}">\n\t\t\t\t\t\t\t<template case="true"><span class="lyteModalClose" onclick="{{action(\'close\')}}"></span></template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<lyte-yield yield-name="modal"></lyte-yield>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{ltPropFreeze}}">\n\t\t\t\t\t\t<template case="true"><lyte-modal-freeze></lyte-modal-freeze></template>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</lyte-wormhole>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropShowCopy","'visibility:visible'","'visibility:hidden'"]}}}},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"insertYield",position:[1,1,3]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[0]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropFreeze","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropTransition","ltPropOffset","ltPropDimmer","ltPropDraggable","ltPropAllowMultiple","ltPropScrollable","ltPropMaxHeight","ltPropMaxWidth","ltPropWidth","ltPropHeight","ltPropWrapperClass","ltPropBindToBody","ltPropShowCopy","ltPropReRenderModal","ltPropOverlayClose","first","resizeCalled","initializedPosition","prevHeight","returnedFalse","prevModalHeight","prevModalWidth","calculateHW"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropTransition:Lyte.attr("object",{default:{animation:"slideFromTop",duration:"0.5"}}),ltPropOffset:Lyte.attr("object",{default:{top:"center",left:"center"}}),ltPropDimmer:Lyte.attr("object"),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropScrollable:Lyte.attr("boolean",{default:!1}),ltPropMaxHeight:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),ltPropShowCopy:Lyte.attr("boolean",{default:!1}),ltPropReRenderModal:Lyte.attr("boolean",{default:!1}),ltPropOverlayClose:Lyte.attr("boolean",{default:!1}),first:Lyte.attr("boolean",{default:!0}),resizeCalled:Lyte.attr("boolean",{default:!1}),initializedPosition:Lyte.attr("boolean",{default:!1}),prevHeight:Lyte.attr("number"),returnedFalse:Lyte.attr("boolean",{default:!1}),prevModalHeight:Lyte.attr("number"),prevModalWidth:Lyte.attr("number"),calculateHW:Lyte.attr("boolean",{default:!1})}},addDragHandler:function(){var t=this.actualModalDiv.querySelector("lyte-modal-header");t?(t.parentEle=this,this.$node.ltProp("draggable")?(t.addEventListener("mousedown",this.handleMove,!0),t.addEventListener("touchstart",this.handleMove,!0),t.classList.add("draggable")):(t.removeEventListener("mousedown",this.handleMove,!0),t.removeEventListener("touchstart",this.handleMove,!0),t.classList.remove("draggable"))):(console.warn("This modal is not draggable because it has no header"),this.$node.ltProp("draggable",!1))},handleMove:function(t){var e=t.currentTarget.parentEle.actualModalDiv;LytePopup.node=e,"mousedown"==t.type&&(mouseOffset={x:t.clientX,y:t.clientY}),"touchstart"==t.type&&(mouseOffset={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==t.currentTarget.parentEle.getData("ltPropTransition").animation?(LytePopup.xPos=mouseOffset.x-this.getBoundingClientRect().left,LytePopup.yPos=mouseOffset.y-this.getBoundingClientRect().top):(LytePopup.xPos=mouseOffset.x,LytePopup.yPos=mouseOffset.y);e.getBoundingClientRect();e.style.transitionDuration="0s",(t.type="mousedown")&&(document.body.addEventListener("mousemove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("mouseup",t.currentTarget.parentEle.stopDrag,!0)),(t.type="touchstart")&&(document.body.addEventListener("touchmove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("touchend",t.currentTarget.parentEle.stopDrag,!0))},handleDrag:function(t){var e=LytePopup.node;if(LytePopup.node){var o;if("mousemove"==t.type&&(o={x:t.clientX,y:t.clientY}),"touchmove"==t.type&&(o={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==LytePopup.node.closest("lyte-wormhole")._callee.component.getData("ltPropTransition").animation)e.style.left=o.x-LytePopup.xPos+"px",e.style.top=o.y-LytePopup.yPos+"px";else{var i=LytePopup.node.closest("lyte-wormhole")._callee.component.transform,a=i.x+(o.x-LytePopup.xPos),l=i.y+(o.y-LytePopup.yPos);e.style.transform="translate("+a+"px, "+l+"px)"}window.getSelection().removeAllRanges()}},stopDrag:function(t){for(var e=t.target;e&&e!==document;){if(e.parentEle){"mouseup"==t.type&&(this.removeEventListener("mousemove",e.parentEle.handleDrag,!0),this.removeEventListener("mouseup",e.parentEle.stopDrag,!0)),"touchend"==t.type&&(this.removeEventListener("touchmove",e.parentEle.handleDrag,!0),this.removeEventListener("touchend",e.parentEle.stopDrag,!0));break}e=e.parentElement?e.parentElement:document}if(LytePopup.node){var o=LytePopup.node.closest("lyte-wormhole")._callee.component;if(LytePopup.node.style.transitionDuration=o.getData("ltPropTransition").duration,"fadeIn"!=o.getData("ltPropTransition").animation){var i=new WebKitCSSMatrix(window.getComputedStyle(o.actualModalDiv).transform);o.transform={x:i.m41,y:i.m42}}LytePopup.node=null}},showToggled:function(){var t=t||window.event;if(this.getData("returnedFalse"))this.setData("returnedFalse",!1);else if(this.$node.ltProp("reRenderModal")&&(this.$node.ltProp("show")&&(this.$node.ltProp({showCopy:!1,show:!1}),LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1)),this.$node.ltProp("reRenderModal",!1)),this.timeOutId&&(delete this.timeOutId,this.closeModal(),LytePopup.closePopup(this)),this.$node.ltProp("show")&&!this.$node.ltProp("showCopy")){if(_lyteUiUtils.getRTL()){"slideFromLeft"==this.getData("ltPropTransition").animation?this.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==this.getData("ltPropTransition").animation&&(this.getData("ltPropTransition").animation="slideFromLeft");var e=this.getData("ltPropOffset"),o={};for(key in e)"left"==key&&"center"!=e[key]?o.right=e[key]:"right"==key?o.left=e[key]:o[key]=e[key];this.setData("ltPropOffset",o)}-1!=LytePopup.components.indexOf(this)&&(LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1)),this.$node.ltProp("bindToBody",!0);var i=this;this.beforeShowId=setTimeout(function(){delete i.beforeShowId,i.onBeforeShowHandling()},0)}else if(this.clearFastdomBatch(),this.$node.ltProp("showCopy")){i=this;this.beforeCloseId=setTimeout(function(){delete i.beforeCloseId,i.onBeforeCloseHandling(t)},0)}else-1!=LytePopup.components.indexOf(this)&&(LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1))}.observes("ltPropShow","ltPropReRenderModal").on("didConnect"),clearFastdomBatch:function(){this.fastdomfn1&&$L.fastdom.clear(this.fastdomfn1),this.fastdomfn2&&$L.fastdom.clear(this.fastdomfn2),this.fastdomfn3&&$L.fastdom.clear(this.fastdomfn3),this.fastdomfn4&&$L.fastdom.clear(this.fastdomfn4),this.fastdomfn5&&$L.fastdom.clear(this.fastdomfn5),this.fastdomfn6&&$L.fastdom.clear(this.fastdomfn6),this.fastdomfn7&&$L.fastdom.clear(this.fastdomfn7),this.fastdomfn8&&$L.fastdom.clear(this.fastdomfn8),this.beforeShowId&&clearTimeout(this.beforeShowId)},changeBindToBody:function(){this.getData("ltPropBindToBody")||(LytePopup.closePopup(this),this.actualModalDiv=null,this.childComp=null,this.getData("ltPropShow")?this.setData({ltPropShowCopy:!1,ltPropShow:!1}):this.getData("ltPropShowCopy")&&this.setData("ltPropShowCopy",!1),this.setData("first",!0),this.setData("initializedPosition",!1),this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0==LytePopup.bodywrapperCount&&document.body.classList.remove("bodyWrapper")))}.observes("ltPropBindToBody"),updateScrollHandling:function(){this.$node.ltProp("freeze")||this.setData("calculateHW",!0);var t,e,o,i=this.actualModalDiv,a=i.querySelector("lyte-modal-content");i.style.maxWidth="",i.style.maxHeight="",i.style.height=this.$node.ltProp("height")?this.$node.ltProp("height"):"auto",i.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",this.fastdomfn2=$L.fastdom.measure(function(){delete this.fastdomfn2;var l=i.getBoundingClientRect(),n=i.parentElement.getBoundingClientRect(),s=window.getComputedStyle(i),r=(s.borderTopWidth?parseFloat(s.borderTopWidth):0)+(s.borderBottomWidth?parseFloat(s.borderBottomWidth):0),p=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?parseInt(window.getComputedStyle(i.parentElement).top):0);this.fastdomfn3=$L.fastdom.mutate(function(){if(delete this.fastdomfn3,this.$node.ltProp("maxWidth")?(this.setData("calculateHW",!0),o=-1!=this.$node.ltProp("maxWidth").indexOf("%")?parseFloat(this.$node.ltProp("maxWidth"))/100*n.width:parseFloat(this.$node.ltProp("maxWidth")),i.style.maxWidth=o+"px",i.style.overflowX="auto"):o=l.width,this.$node.ltProp("maxHeight")){this.childComp.querySelector(".modalWrapper").classList.add("scrollable"),this.setData("calculateHW",!0),t=l.height-r;var s=-1!=this.$node.ltProp("maxHeight").indexOf("%")?parseFloat(this.$node.ltProp("maxHeight"))/100*n.height:parseFloat(this.$node.ltProp("maxHeight"));i.style.maxHeight=s+"px",e=s-r}else t=i.offsetHeight-r+1,e=t>p?p-40:t,this.$node.ltProp("scrollable")&&(this.$node.ltProp("height")&&"auto"!=this.$node.ltProp("height")||(e=p-40),this.setData("calculateHW",!0)),a&&a.offsetHeight>t-((this.actualModalDiv.querySelector("lyte-modal-header")?this.actualModalDiv.querySelector("lyte-modal-header").offsetHeight:0)+(this.actualModalDiv.querySelector("lyte-modal-footer")?this.actualModalDiv.querySelector("lyte-modal-footer").offsetHeight:0))&&this.setData("calculateHW",!0);if(this.getData("calculateHW")&&a){var d=this.actualModalDiv.querySelector("lyte-modal-header"),h=this.actualModalDiv.querySelector("lyte-modal-footer"),m=null,f=null;this.fastdomfn4=$L.fastdom.measure(function(){delete this.fastdomfn4,d&&(m=d.offsetHeight),h&&(f=h.offsetHeight);var t=i.getBoundingClientRect().height;this.setData("prevHeight",t),this.fastdomfn5=$L.fastdom.mutate(function(){delete this.fastdomfn5;var t=e-((m||0)+(f||0));a.style.maxHeight=(t>0?t:50)+0+"px",a.style.overflowY="auto",i=null,a=null,d=null,h=null,this.getData("initializedPosition")?this.getData("resizeCalled")&&(this.computeOffsetImplOnResize(),this.setData("resizeCalled",!1)):(this.computeOffsetImpl(),this.setData("initializedPosition",!0))},this)},this)}else this.childComp.querySelector(".modalWrapper").classList.remove("scrollable"),i=null,a=null,this.getData("initializedPosition")?this.getData("resizeCalled")&&(this.computeOffsetImplOnResize(),this.setData("resizeCalled",!1)):(this.computeOffsetImpl(),this.setData("initializedPosition",!0));this.$node.ltProp("freeze")||(this.childComp.querySelector(".modalWrapper").classList.add("noFreeze"),this.actualModalDiv.style.position="fixed")},this)},this)},scrollHandling:function(){this.getData("ltPropShow")&&this.updateScrollHandling()}.observes("ltPropWidth","ltPropMaxWidth","ltPropHeight","ltPropMaxHeight"),callOnShow:function(){this.getMethods("onShow")&&this.executeMethod("onShow",this)},callOnResize:function(){this.getMethods("onResize")&&this.executeMethod("onResize",this)},enableTransform:function(t,e,o){this.$node.ltProp("showCopy",!0);var i=this;setTimeout(function(){"x"==e&&(i.actualModalDiv.style.transform="translate("+t+"px,0px)",i.transform={x:t,y:0}),"y"==e&&(i.actualModalDiv.style.transform="translate(0px,"+t+"px)",i.transform={x:0,y:t})},void 0!=o?o:void 0)},computeOffsetImplOnResize:function(){$L.fastdom.measure(function(){var t=this.actualModalDiv,e=t.getBoundingClientRect(),o=parseInt(window.getComputedStyle(t.parentElement).top),i=t.offsetTop,a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),l=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?o:0),n=this.getData("prevWinH"),s=this.getData("prevWinW"),r=this.transform,p=null,d=null,h=this.getData("ltPropOffset"),m=this.getData("prevModalHeight")-e.height,f=this.getData("prevModalWidth")-e.width;"fadeIn"===this.getData("ltPropTransition").animation||"zoom"===this.getData("ltPropTransition").animation?(a<s&&(h.left&&"center"==h.left||h.right&&"center"==h.right?d=e.left-(s-a)/2:h.right?d=e.left-(s-a):h.left&&(d=e.left)),a>s&&(h.left&&"center"==h.left||h.right&&"center"==h.right?d=e.left+(a-s)/2:h.right?d=e.left+(a-s):h.left&&(d=e.left)),l<n&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?p=(l-e.height)/2:h.bottom?p=i-(n-l):h.top&&(p=i)),l>n&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?p=(l-e.height)/2:h.bottom&&"center"!=h.bottom?p=i+(l-n):h.top&&"center"!=h.top&&(p=i)),$L.fastdom.mutate(function(){p&&(t.style.top=p+"px"),d&&(t.style.left=d+"px"),this.callOnResize()},this)):(a<s&&(h.left&&"center"==h.left||h.right&&"center"==h.right?d=r.x-(s-a)/2+f/2:h.right?d=r.x-(s-a)+f:h.left&&(d=r.x),this.transform.x=d),a>s&&(h.left&&"center"==h.left||h.right&&"center"==h.right?d=r.x+(a-s)/2+f/2:h.right?d=r.x+(a-s)+f:h.left&&(d=r.x),this.transform.x=d),l<n&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?p=r.y-(n-l)/2+m/2:h.bottom?p=r.y-(n-l):h.top&&(p=r.y),this.transform.y=p),l>n&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?p=r.y+(l-n)/2+m/2:h.bottom&&"center"!=h.bottom?p=r.y+(l-n):h.top&&"center"!=h.top&&(p=r.y),this.transform.y=p),$L.fastdom.mutate(function(){t.style.transitionDuration="0s","slideFromTop"===this.getData("ltPropTransition").animation||"slideFromBottom"===this.getData("ltPropTransition").animation?(a<s&&(h.left&&"center"==h.left||h.right&&"center"==h.right?t.style.left=e.left-(s-a)/2+f/2+"px":h.right?t.style.left=e.left-(s-a)+f+"px":h.left&&(t.style.left=e.left+"px")),a>s&&(h.left&&"center"==h.left||h.right&&"center"==h.right?t.style.left=e.left+(a-s)/2+f/2+"px":h.right?t.style.left=e.left+(a-s)+f+"px":h.left&&(t.style.left=e.left+"px")),t.style.transform="translate(0px,"+this.transform.y+"px)"):"slideFromLeft"!==this.getData("ltPropTransition").animation&&"slideFromRight"!==this.getData("ltPropTransition").animation||(l<n&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?t.style.top=i-(n-l)/2+m/2+"px":h.bottom?t.style.top=i-(n-l)+"px":h.top&&(t.style.top=i+"px")),l>n&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?t.style.top=i+(l-n)/2+m/2+"px":h.bottom&&"center"!=h.bottom?t.style.top=i+(l-n)+"px":h.top&&"center"!=h.top&&(t.style.top=i+"px")),t.style.transform="translate("+this.transform.x+"px,0px)"),this.callOnResize()},this)),this.setData("prevModalHeight",e.height),this.setData("prevModalWidth",e.width),this.setData("prevWinH",l),this.setData("prevWinW",a)},this),modalEle=null},computeOffsetImpl:function(t){var e=this.nodeName&&"LYTE-MODAL"===this.nodeName?this.component:this;this.fastdomfn6=$L.fastdom.measure(function(){if(delete this.fastdomfn6,e.actualModalDiv){var o=e.actualModalDiv,i=Lyte.deepCopyObject(e.$node.ltProp("offset")),a=o.getBoundingClientRect(),l={top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:o.offsetWidth,height:o.offsetHeight},n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),s=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(e.getData("ltPropFreeze")?parseInt(window.getComputedStyle(o.parentElement).top):0);if(o.style.transitionDuration=(void 0!=t?t:e.$node.ltProp("transition").duration)+"s",e.setData("prevWinH",s),e.setData("prevWinW",n),e.setData("prevModalHeight",l.height),e.setData("prevModalWidth",l.width),i){if("center"===i.left||"center"===i.right){var r=(n-l.width)/2;r<0&&(r=20),i.left=r}if("center"===i.top||"center"===i.bottom){var p=(s-l.height)/2;p<0&&(p=20),i.top=p}if(i.right&&"center"!==i.right&&(i.right.indexOf("%")>-1?i.left=n-(l.width+n/parseFloat(i.right)):i.left=n-(l.width+parseFloat(i.right))),i.bottom&&"center"!==i.bottom&&(i.bottom.indexOf("%")>-1?i.top=s-(l.height+s/parseFloat(i.bottom)):i.top=s-(l.height+parseFloat(i.bottom))),""!==i.left&&i.left||(e.data.ltPropOffset.left="center",i.left=(n-l.width)/2),""!==i.top&&i.top||(e.data.ltPropOffset.top="center",i.top=(s-l.height)/2),e.getData("ltPropTransition").originElement)if(h=document.querySelector(e.getData("ltPropTransition").originElement)){var d=h.getBoundingClientRect();i.originElementPos={xDiff:d.left+d.width/2-(parseFloat(i.left)+l.width/2),yDiff:d.top+d.height/2-(parseFloat(i.top)+l.height/2)}}else Console.error("The originElement provided does not exist. Kindly Check!");this.fastdomfn7=$L.fastdom.mutate(function(){if(delete this.fastdomfn7,"slideFromTop"==e.getData("ltPropTransition").animation)o.style.left=parseFloat(i.left)+"px",o.style.top=-1*l.height+"px",e.enableTransform(parseInt(i.top)+l.height,"y",t);else if("slideFromBottom"==e.getData("ltPropTransition").animation)o.style.left=parseFloat(i.left)+"px",o.style.top=s+1+"px",e.enableTransform(-1*(s-parseInt(i.top)+1),"y",t);else if("slideFromLeft"==e.getData("ltPropTransition").animation)o.style.top=parseFloat(i.top)+"px",o.style.left=-1*l.width+"px",e.enableTransform(parseInt(i.left)+l.width,"x",t);else if("slideFromRight"==e.getData("ltPropTransition").animation)o.style.top=parseFloat(i.top)+"px",o.style.left=n+1+"px",e.enableTransform(-1*(n-parseInt(i.left)+1),"x",t);else if("fadeIn"==e.getData("ltPropTransition").animation)o.style.left=parseFloat(i.left)+"px",o.style.top=parseFloat(i.top)+"px",e.$node.ltProp("showCopy",!0),o.style.opacity=1;else if("zoom"==e.getData("ltPropTransition").animation){e.$node.ltProp("showCopy",!0);var a="scale(0)";i.originElementPos&&(a="translateX( "+i.originElementPos.xDiff+"px) translateY( "+i.originElementPos.yDiff+"px) scale(0)"),o.style.left=parseFloat(i.left)+"px",o.style.top=parseFloat(i.top)+"px",o.style.transition="none",o.style.transform=a,o.style.opacity=1,setTimeout(function(){o.style.transition="",o.style.transitionDuration=(void 0!=t?t:e.$node.ltProp("transition").duration)+"s",i.originElementPos?o.style.transform="translateX(0) translateY(0) scale(1)":o.style.transform="scale(1)"},50)}e.getData("first")&&(e.callOnShow(),e.setData("first",!1))},e)}else{var h;if(e.setData("ltPropOffset",{left:"center",top:"center"}),i.left=(n-l.width)/2,i.top=(s-l.height)/2,e.$node.ltProp("scrollable")||(i.left<0&&(i.left=20),i.top<0&&(i.top=20)),e.getData("ltPropTransition").originElement)if(h=document.querySelector(e.getData("ltPropTransition").originElement)){d=h.getBoundingClientRect();i.originElementPos={xDiff:d.left+d.width/2-(i.left+l.width/2),yDiff:d.top+d.height/2-(i.top+l.height/2)}}else Console.error("The originElement provided does not exist. Kindly Check!");this.fastdomfn8=$L.fastdom.mutate(function(){if(delete this.fastdomfn8,"slideFromTop"==e.getData("ltPropTransition").animation)o.style.left=i.left+"px",o.style.top=-1*l.height+"px",e.enableTransform(parseInt(i.top)+l.height,"y",t);else if("slideFromBottom"==e.getData("ltPropTransition").animation)o.style.left=i.left+"px",o.style.top=s+1+"px",e.enableTransform(-1*(parseInt(i.top)+l.height+1),"y",t);else if("slideFromLeft"==e.getData("ltPropTransition").animation)o.style.top=i.top+"px",o.style.left=-1*l.width+"px",e.enableTransform(parseInt(i.left)+l.width,"x",t);else if("slideFromRight"==e.getData("ltPropTransition").animation)o.style.top=i.top+"px",_modalEle.style.left=n+1+"px",this.enableTransform(-1*(parseInt(i.left)+l.width+1),"x",t);else if("fadeIn"==e.getData("ltPropTransition").animation)o.style.left=i.left+"px",o.style.top=i.top+"px",e.$node.ltProp("showCopy",!0),o.style.opacity=1;else if("zoom"==e.getData("ltPropTransition").animation){e.$node.ltProp("showCopy",!0);var a="scale(0)";i.originElementPos&&(a="translateX( "+i.originElementPos.xDiff+"px) translateY( "+i.originElementPos.yDiff+"px) scale(0)"),o.style.left=parseFloat(i.left)+"px",o.style.top=parseFloat(i.top)+"px",o.style.transition="none",o.style.transform=a,o.style.opacity=1,setTimeout(function(){o.style.transition="",i.originElementPos?o.style.transform="translateX(0) translateY(0) scale(1)":o.style.transform="scale(1)"},50)}e.getData("first")&&(e.callOnShow(),e.setData("first",!1))},e)}e.$node.ltProp("freeze")&&(document.body.classList.add("bodyWrapper"),LytePopup.bodywrapperCount+=1)}},e),modalEle=null},closeModal:function(){if(_lyteUiUtils.getRTL()){"slideFromLeft"==this.getData("ltPropTransition").animation?this.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==this.getData("ltPropTransition").animation&&(this.getData("ltPropTransition").animation="slideFromLeft");var t=this.getData("ltPropOffset"),e={};for(key in t)"left"==key&&"center"!=t[key]?e.right=t[key]:"right"==key?e.left=t[key]:e[key]=t[key];this.setData("ltPropOffset",e)}"zoom"==this.getData("ltPropTransition").animation&&(this.actualModalDiv.style.opacity="0",this.actualModalDiv.style.transform=""),this.$node.ltProp("freeze")||this.childComp.querySelector(".modalWrapper").classList.remove("noFreeze"),this.$node.ltProp({showCopy:!1,show:!1}),this.getMethods("onClose")&&this.executeMethod("onClose",this),this.$node.ltProp("freeze")?(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")):this.actualModalDiv.style.position="fixed"},onBeforeCloseHandling:function(t){var e=!0;Math.max(document.documentElement.clientWidth,window.innerWidth||0),Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(this.getMethods("onBeforeClose")&&(e=this.executeMethod("onBeforeClose",t,this)),void 0===e||e){if(this.actualModalDiv&&this.childComp){this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails);var o=1e3*parseFloat(this.$node.ltProp("transition").duration),i=this;this.timeOutId=setTimeout(function(){delete i.timeOutId,i.closeModal()},o);var a,l=this.actualModalDiv;l.style.transitionDuration=(0==o?0:o>300?o-200:100)/1e3+"s";var n="scale(0)";$L.fastdom.measure(function(){if(a=l.getBoundingClientRect(),"zoom"==this.getData("ltPropTransition").animation&&this.getData("ltPropTransition").originElement){var t=document.querySelector(this.getData("ltPropTransition").originElement);if(t){var e=t.getBoundingClientRect(),o={top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:l.offsetWidth,height:l.offsetHeight},i={xDiff:e.left+e.width/2-(o.left+o.width/2),yDiff:e.top+e.height/2-(o.top+o.height/2)};n="translateX( "+i.xDiff+"px) translateY( "+i.yDiff+"px) scale(0)"}else Console.error("The originElement provided does not exist. Kindly Check!")}},this),$L.fastdom.mutate(function(){"slideFromTop"==this.getData("ltPropTransition").animation?l.style.transform="translateY(-100%)":"slideFromBottom"==this.getData("ltPropTransition").animation?l.style.transform="translateY(100%)":"slideFromLeft"==this.getData("ltPropTransition").animation?l.style.transform="translateX(-100%)":"slideFromRight"==this.getData("ltPropTransition").animation?l.style.transform="translateX(100%)":"fadeIn"==this.getData("ltPropTransition").animation?l.style.opacity=0:"zoom"==this.getData("ltPropTransition").animation&&(l.style.transform=n),delete this.transform},this),$L.fastdom.mutate(function(){l=null}),l.classList.remove("lyteModalFromTop","lyteModalFromBottom","lyteModalFromLeft","lyteModalFromRight","lyteModalFadeIn","lyteZoom"),this.$node.ltProp("freeze")&&this.childComp.querySelector("lyte-modal-freeze")&&(this.childComp.querySelector("lyte-modal-freeze").style.opacity=0,this.childComp.querySelector("lyte-modal-freeze").style.visibility=""),LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1)}this.$node.alignModal=null}else this.setData("returnedFalse",!0),this.$node.ltProp("show",!0)},onBeforeShowHandling:function(){var t=!0;if(this.getMethods("onBeforeShow")&&(t=this.executeMethod("onBeforeShow",this)),void 0===t||t){this.addDragHandler(),this.updateScrollHandling();var e=this.actualModalDiv;e.style.transitionDuration=this.$node.ltProp("transition").duration+"s";var o="lyteModalFrom";this.actualModalDiv.style,this.actualModalDiv.getBoundingClientRect();switch(this.$node.ltProp("transition").animation){case"slideFromTop":o+="Top";break;case"slideFromBottom":o+="Bottom";break;case"slideFromLeft":o+="Left";break;case"slideFromRight":o+="Right";break;case"fadeIn":o="lyteModalFadeIn";break;case"zoom":o="lyteZoom"}if(this.fastdomfn1=$L.fastdom.mutate(function(){delete this.fastdomfn1,this.actualModalDiv.classList.add(o),this.actualModalDiv.style.opacity="",e=null},this),LytePopup.addPopup(this),this.$node.ltProp("freeze")){var i=this.childComp.querySelector("lyte-modal-freeze").style;this.getData("ltPropDimmer")&&this.getData("ltPropDimmer").color&&(i.background=this.getData("ltPropDimmer").color),this.addedFreezeDetails||(i.opacity=this.getData("ltPropDimmer")&&this.getData("ltPropDimmer").opacity?this.getData("ltPropDimmer").opacity:"")}this.$node.alignModal=this.computeOffsetImpl,this.$node.calculateOffset=this.updateScrollHandling.bind(this)}else this.setData("returnedFalse",!0),this.$node.ltProp({showCopy:!1,show:!1})},didDestroy:function(){this.timeOutId&&(clearTimeout(this.timeOutId),delete this.timeOutId),this.beforeCloseId&&(clearTimeout(this.beforeCloseId),delete this.beforeCloseId),this.childComp&&(this.clearFastdomBatch(),this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.childComp.remove(),delete this.actualModalDiv,delete this.childComp,this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")))},actions:{close:function(){this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp&&delete this.childComp,this.actualModalDiv&&delete this.actualModalDiv,this.childComp=t,this.actualModalDiv=this.childComp.querySelector(".lyteModal")}}}),"complete"===document.readyState||"interactive"===document.readyState?addModalEvent():document.addEventListener("DOMContentLoaded",function(t){addModalEvent(t)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o},writable:!0,configurable:!0});